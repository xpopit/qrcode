(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))t(l);new MutationObserver(l=>{for(const s of l)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&t(o)}).observe(document,{childList:!0,subtree:!0});function n(l){const s={};return l.integrity&&(s.integrity=l.integrity),l.referrerPolicy&&(s.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?s.credentials="include":l.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function t(l){if(l.ep)return;l.ep=!0;const s=n(l);fetch(l.href,s)}})();var xu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ad(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Tf={exports:{}},Ks={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function Ty(){if(im)return Ks;im=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.fragment");function n(t,l,s){var o=null;if(s!==void 0&&(o=""+s),l.key!==void 0&&(o=""+l.key),"key"in l){s={};for(var u in l)u!=="key"&&(s[u]=l[u])}else s=l;return l=s.ref,{$$typeof:a,type:t,key:o,ref:l!==void 0?l:null,props:s}}return Ks.Fragment=r,Ks.jsx=n,Ks.jsxs=n,Ks}var om;function Oy(){return om||(om=1,Tf.exports=Ty()),Tf.exports}var ra=Oy(),Of={exports:{}},Ut={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var sm;function My(){if(sm)return Ut;sm=1;var a=Symbol.for("react.transitional.element"),r=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),t=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),o=Symbol.for("react.context"),u=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function h(Y){return Y===null||typeof Y!="object"?null:(Y=y&&Y[y]||Y["@@iterator"],typeof Y=="function"?Y:null)}var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,v={};function _(Y,te,ue){this.props=Y,this.context=te,this.refs=v,this.updater=ue||p}_.prototype.isReactComponent={},_.prototype.setState=function(Y,te){if(typeof Y!="object"&&typeof Y!="function"&&Y!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,Y,te,"setState")},_.prototype.forceUpdate=function(Y){this.updater.enqueueForceUpdate(this,Y,"forceUpdate")};function x(){}x.prototype=_.prototype;function b(Y,te,ue){this.props=Y,this.context=te,this.refs=v,this.updater=ue||p}var E=b.prototype=new x;E.constructor=b,m(E,_.prototype),E.isPureReactComponent=!0;var S=Array.isArray,C={H:null,A:null,T:null,S:null},D=Object.prototype.hasOwnProperty;function M(Y,te,ue,O,U,q){return ue=q.ref,{$$typeof:a,type:Y,key:te,ref:ue!==void 0?ue:null,props:q}}function R(Y,te){return M(Y.type,te,void 0,void 0,void 0,Y.props)}function L(Y){return typeof Y=="object"&&Y!==null&&Y.$$typeof===a}function F(Y){var te={"=":"=0",":":"=2"};return"$"+Y.replace(/[=:]/g,function(ue){return te[ue]})}var I=/\/+/g;function G(Y,te){return typeof Y=="object"&&Y!==null&&Y.key!=null?F(""+Y.key):te.toString(36)}function P(){}function X(Y){switch(Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason;default:switch(typeof Y.status=="string"?Y.then(P,P):(Y.status="pending",Y.then(function(te){Y.status==="pending"&&(Y.status="fulfilled",Y.value=te)},function(te){Y.status==="pending"&&(Y.status="rejected",Y.reason=te)})),Y.status){case"fulfilled":return Y.value;case"rejected":throw Y.reason}}throw Y}function V(Y,te,ue,O,U){var q=typeof Y;(q==="undefined"||q==="boolean")&&(Y=null);var Q=!1;if(Y===null)Q=!0;else switch(q){case"bigint":case"string":case"number":Q=!0;break;case"object":switch(Y.$$typeof){case a:case r:Q=!0;break;case g:return Q=Y._init,V(Q(Y._payload),te,ue,O,U)}}if(Q)return U=U(Y),Q=O===""?"."+G(Y,0):O,S(U)?(ue="",Q!=null&&(ue=Q.replace(I,"$&/")+"/"),V(U,te,ue,"",function(he){return he})):U!=null&&(L(U)&&(U=R(U,ue+(U.key==null||Y&&Y.key===U.key?"":(""+U.key).replace(I,"$&/")+"/")+Q)),te.push(U)),1;Q=0;var ae=O===""?".":O+":";if(S(Y))for(var ie=0;ie<Y.length;ie++)O=Y[ie],q=ae+G(O,ie),Q+=V(O,te,ue,q,U);else if(ie=h(Y),typeof ie=="function")for(Y=ie.call(Y),ie=0;!(O=Y.next()).done;)O=O.value,q=ae+G(O,ie++),Q+=V(O,te,ue,q,U);else if(q==="object"){if(typeof Y.then=="function")return V(X(Y),te,ue,O,U);throw te=String(Y),Error("Objects are not valid as a React child (found: "+(te==="[object Object]"?"object with keys {"+Object.keys(Y).join(", ")+"}":te)+"). If you meant to render a collection of children, use an array instead.")}return Q}function H(Y,te,ue){if(Y==null)return Y;var O=[],U=0;return V(Y,O,"","",function(q){return te.call(ue,q,U++)}),O}function J(Y){if(Y._status===-1){var te=Y._result;te=te(),te.then(function(ue){(Y._status===0||Y._status===-1)&&(Y._status=1,Y._result=ue)},function(ue){(Y._status===0||Y._status===-1)&&(Y._status=2,Y._result=ue)}),Y._status===-1&&(Y._status=0,Y._result=te)}if(Y._status===1)return Y._result.default;throw Y._result}var Z=typeof reportError=="function"?reportError:function(Y){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var te=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof Y=="object"&&Y!==null&&typeof Y.message=="string"?String(Y.message):String(Y),error:Y});if(!window.dispatchEvent(te))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",Y);return}console.error(Y)};function K(){}return Ut.Children={map:H,forEach:function(Y,te,ue){H(Y,function(){te.apply(this,arguments)},ue)},count:function(Y){var te=0;return H(Y,function(){te++}),te},toArray:function(Y){return H(Y,function(te){return te})||[]},only:function(Y){if(!L(Y))throw Error("React.Children.only expected to receive a single React element child.");return Y}},Ut.Component=_,Ut.Fragment=n,Ut.Profiler=l,Ut.PureComponent=b,Ut.StrictMode=t,Ut.Suspense=c,Ut.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=C,Ut.act=function(){throw Error("act(...) is not supported in production builds of React.")},Ut.cache=function(Y){return function(){return Y.apply(null,arguments)}},Ut.cloneElement=function(Y,te,ue){if(Y==null)throw Error("The argument must be a React element, but you passed "+Y+".");var O=m({},Y.props),U=Y.key,q=void 0;if(te!=null)for(Q in te.ref!==void 0&&(q=void 0),te.key!==void 0&&(U=""+te.key),te)!D.call(te,Q)||Q==="key"||Q==="__self"||Q==="__source"||Q==="ref"&&te.ref===void 0||(O[Q]=te[Q]);var Q=arguments.length-2;if(Q===1)O.children=ue;else if(1<Q){for(var ae=Array(Q),ie=0;ie<Q;ie++)ae[ie]=arguments[ie+2];O.children=ae}return M(Y.type,U,void 0,void 0,q,O)},Ut.createContext=function(Y){return Y={$$typeof:o,_currentValue:Y,_currentValue2:Y,_threadCount:0,Provider:null,Consumer:null},Y.Provider=Y,Y.Consumer={$$typeof:s,_context:Y},Y},Ut.createElement=function(Y,te,ue){var O,U={},q=null;if(te!=null)for(O in te.key!==void 0&&(q=""+te.key),te)D.call(te,O)&&O!=="key"&&O!=="__self"&&O!=="__source"&&(U[O]=te[O]);var Q=arguments.length-2;if(Q===1)U.children=ue;else if(1<Q){for(var ae=Array(Q),ie=0;ie<Q;ie++)ae[ie]=arguments[ie+2];U.children=ae}if(Y&&Y.defaultProps)for(O in Q=Y.defaultProps,Q)U[O]===void 0&&(U[O]=Q[O]);return M(Y,q,void 0,void 0,null,U)},Ut.createRef=function(){return{current:null}},Ut.forwardRef=function(Y){return{$$typeof:u,render:Y}},Ut.isValidElement=L,Ut.lazy=function(Y){return{$$typeof:g,_payload:{_status:-1,_result:Y},_init:J}},Ut.memo=function(Y,te){return{$$typeof:d,type:Y,compare:te===void 0?null:te}},Ut.startTransition=function(Y){var te=C.T,ue={};C.T=ue;try{var O=Y(),U=C.S;U!==null&&U(ue,O),typeof O=="object"&&O!==null&&typeof O.then=="function"&&O.then(K,Z)}catch(q){Z(q)}finally{C.T=te}},Ut.unstable_useCacheRefresh=function(){return C.H.useCacheRefresh()},Ut.use=function(Y){return C.H.use(Y)},Ut.useActionState=function(Y,te,ue){return C.H.useActionState(Y,te,ue)},Ut.useCallback=function(Y,te){return C.H.useCallback(Y,te)},Ut.useContext=function(Y){return C.H.useContext(Y)},Ut.useDebugValue=function(){},Ut.useDeferredValue=function(Y,te){return C.H.useDeferredValue(Y,te)},Ut.useEffect=function(Y,te){return C.H.useEffect(Y,te)},Ut.useId=function(){return C.H.useId()},Ut.useImperativeHandle=function(Y,te,ue){return C.H.useImperativeHandle(Y,te,ue)},Ut.useInsertionEffect=function(Y,te){return C.H.useInsertionEffect(Y,te)},Ut.useLayoutEffect=function(Y,te){return C.H.useLayoutEffect(Y,te)},Ut.useMemo=function(Y,te){return C.H.useMemo(Y,te)},Ut.useOptimistic=function(Y,te){return C.H.useOptimistic(Y,te)},Ut.useReducer=function(Y,te,ue){return C.H.useReducer(Y,te,ue)},Ut.useRef=function(Y){return C.H.useRef(Y)},Ut.useState=function(Y){return C.H.useState(Y)},Ut.useSyncExternalStore=function(Y,te,ue){return C.H.useSyncExternalStore(Y,te,ue)},Ut.useTransition=function(){return C.H.useTransition()},Ut.version="19.0.0",Ut}var lm;function id(){return lm||(lm=1,Of.exports=My()),Of.exports}var Qo=id();const Dy=ad(Qo);var Mf={exports:{}},Qs={},Df={exports:{}},Rf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var um;function Ry(){return um||(um=1,function(a){function r(H,J){var Z=H.length;H.push(J);e:for(;0<Z;){var K=Z-1>>>1,Y=H[K];if(0<l(Y,J))H[K]=J,H[Z]=Y,Z=K;else break e}}function n(H){return H.length===0?null:H[0]}function t(H){if(H.length===0)return null;var J=H[0],Z=H.pop();if(Z!==J){H[0]=Z;e:for(var K=0,Y=H.length,te=Y>>>1;K<te;){var ue=2*(K+1)-1,O=H[ue],U=ue+1,q=H[U];if(0>l(O,Z))U<Y&&0>l(q,O)?(H[K]=q,H[U]=Z,K=U):(H[K]=O,H[ue]=Z,K=ue);else if(U<Y&&0>l(q,Z))H[K]=q,H[U]=Z,K=U;else break e}}return J}function l(H,J){var Z=H.sortIndex-J.sortIndex;return Z!==0?Z:H.id-J.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;a.unstable_now=function(){return s.now()}}else{var o=Date,u=o.now();a.unstable_now=function(){return o.now()-u}}var c=[],d=[],g=1,y=null,h=3,p=!1,m=!1,v=!1,_=typeof setTimeout=="function"?setTimeout:null,x=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;function E(H){for(var J=n(d);J!==null;){if(J.callback===null)t(d);else if(J.startTime<=H)t(d),J.sortIndex=J.expirationTime,r(c,J);else break;J=n(d)}}function S(H){if(v=!1,E(H),!m)if(n(c)!==null)m=!0,X();else{var J=n(d);J!==null&&V(S,J.startTime-H)}}var C=!1,D=-1,M=5,R=-1;function L(){return!(a.unstable_now()-R<M)}function F(){if(C){var H=a.unstable_now();R=H;var J=!0;try{e:{m=!1,v&&(v=!1,x(D),D=-1),p=!0;var Z=h;try{t:{for(E(H),y=n(c);y!==null&&!(y.expirationTime>H&&L());){var K=y.callback;if(typeof K=="function"){y.callback=null,h=y.priorityLevel;var Y=K(y.expirationTime<=H);if(H=a.unstable_now(),typeof Y=="function"){y.callback=Y,E(H),J=!0;break t}y===n(c)&&t(c),E(H)}else t(c);y=n(c)}if(y!==null)J=!0;else{var te=n(d);te!==null&&V(S,te.startTime-H),J=!1}}break e}finally{y=null,h=Z,p=!1}J=void 0}}finally{J?I():C=!1}}}var I;if(typeof b=="function")I=function(){b(F)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,P=G.port2;G.port1.onmessage=F,I=function(){P.postMessage(null)}}else I=function(){_(F,0)};function X(){C||(C=!0,I())}function V(H,J){D=_(function(){H(a.unstable_now())},J)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(H){H.callback=null},a.unstable_continueExecution=function(){m||p||(m=!0,X())},a.unstable_forceFrameRate=function(H){0>H||125<H?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<H?Math.floor(1e3/H):5},a.unstable_getCurrentPriorityLevel=function(){return h},a.unstable_getFirstCallbackNode=function(){return n(c)},a.unstable_next=function(H){switch(h){case 1:case 2:case 3:var J=3;break;default:J=h}var Z=h;h=J;try{return H()}finally{h=Z}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(H,J){switch(H){case 1:case 2:case 3:case 4:case 5:break;default:H=3}var Z=h;h=H;try{return J()}finally{h=Z}},a.unstable_scheduleCallback=function(H,J,Z){var K=a.unstable_now();switch(typeof Z=="object"&&Z!==null?(Z=Z.delay,Z=typeof Z=="number"&&0<Z?K+Z:K):Z=K,H){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=Z+Y,H={id:g++,callback:J,priorityLevel:H,startTime:Z,expirationTime:Y,sortIndex:-1},Z>K?(H.sortIndex=Z,r(d,H),n(c)===null&&H===n(d)&&(v?(x(D),D=-1):v=!0,V(S,Z-K))):(H.sortIndex=Y,r(c,H),m||p||(m=!0,X())),H},a.unstable_shouldYield=L,a.unstable_wrapCallback=function(H){var J=h;return function(){var Z=h;h=J;try{return H.apply(this,arguments)}finally{h=Z}}}}(Rf)),Rf}var cm;function Iy(){return cm||(cm=1,Df.exports=Ry()),Df.exports}var If={exports:{}},Rn={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fm;function Ny(){if(fm)return Rn;fm=1;var a=id();function r(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var g=2;g<arguments.length;g++)d+="&args[]="+encodeURIComponent(arguments[g])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function n(){}var t={d:{f:n,r:function(){throw Error(r(522))},D:n,C:n,L:n,m:n,X:n,S:n,M:n},p:0,findDOMNode:null},l=Symbol.for("react.portal");function s(c,d,g){var y=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:y==null?null:""+y,children:c,containerInfo:d,implementation:g}}var o=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function u(c,d){if(c==="font")return"";if(typeof d=="string")return d==="use-credentials"?d:""}return Rn.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=t,Rn.createPortal=function(c,d){var g=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!d||d.nodeType!==1&&d.nodeType!==9&&d.nodeType!==11)throw Error(r(299));return s(c,d,null,g)},Rn.flushSync=function(c){var d=o.T,g=t.p;try{if(o.T=null,t.p=2,c)return c()}finally{o.T=d,t.p=g,t.d.f()}},Rn.preconnect=function(c,d){typeof c=="string"&&(d?(d=d.crossOrigin,d=typeof d=="string"?d==="use-credentials"?d:"":void 0):d=null,t.d.C(c,d))},Rn.prefetchDNS=function(c){typeof c=="string"&&t.d.D(c)},Rn.preinit=function(c,d){if(typeof c=="string"&&d&&typeof d.as=="string"){var g=d.as,y=u(g,d.crossOrigin),h=typeof d.integrity=="string"?d.integrity:void 0,p=typeof d.fetchPriority=="string"?d.fetchPriority:void 0;g==="style"?t.d.S(c,typeof d.precedence=="string"?d.precedence:void 0,{crossOrigin:y,integrity:h,fetchPriority:p}):g==="script"&&t.d.X(c,{crossOrigin:y,integrity:h,fetchPriority:p,nonce:typeof d.nonce=="string"?d.nonce:void 0})}},Rn.preinitModule=function(c,d){if(typeof c=="string")if(typeof d=="object"&&d!==null){if(d.as==null||d.as==="script"){var g=u(d.as,d.crossOrigin);t.d.M(c,{crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0})}}else d==null&&t.d.M(c)},Rn.preload=function(c,d){if(typeof c=="string"&&typeof d=="object"&&d!==null&&typeof d.as=="string"){var g=d.as,y=u(g,d.crossOrigin);t.d.L(c,g,{crossOrigin:y,integrity:typeof d.integrity=="string"?d.integrity:void 0,nonce:typeof d.nonce=="string"?d.nonce:void 0,type:typeof d.type=="string"?d.type:void 0,fetchPriority:typeof d.fetchPriority=="string"?d.fetchPriority:void 0,referrerPolicy:typeof d.referrerPolicy=="string"?d.referrerPolicy:void 0,imageSrcSet:typeof d.imageSrcSet=="string"?d.imageSrcSet:void 0,imageSizes:typeof d.imageSizes=="string"?d.imageSizes:void 0,media:typeof d.media=="string"?d.media:void 0})}},Rn.preloadModule=function(c,d){if(typeof c=="string")if(d){var g=u(d.as,d.crossOrigin);t.d.m(c,{as:typeof d.as=="string"&&d.as!=="script"?d.as:void 0,crossOrigin:g,integrity:typeof d.integrity=="string"?d.integrity:void 0})}else t.d.m(c)},Rn.requestFormReset=function(c){t.d.r(c)},Rn.unstable_batchedUpdates=function(c,d){return c(d)},Rn.useFormState=function(c,d,g){return o.H.useFormState(c,d,g)},Rn.useFormStatus=function(){return o.H.useHostTransitionStatus()},Rn.version="19.0.0",Rn}var dm;function Ly(){if(dm)return If.exports;dm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),If.exports=Ny(),If.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function ky(){if(hm)return Qs;hm=1;var a=Iy(),r=id(),n=Ly();function t(i){var f="https://react.dev/errors/"+i;if(1<arguments.length){f+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)f+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+i+"; visit "+f+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}var s=Symbol.for("react.element"),o=Symbol.for("react.transitional.element"),u=Symbol.for("react.portal"),c=Symbol.for("react.fragment"),d=Symbol.for("react.strict_mode"),g=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),h=Symbol.for("react.consumer"),p=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),v=Symbol.for("react.suspense"),_=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),b=Symbol.for("react.lazy"),E=Symbol.for("react.offscreen"),S=Symbol.for("react.memo_cache_sentinel"),C=Symbol.iterator;function D(i){return i===null||typeof i!="object"?null:(i=C&&i[C]||i["@@iterator"],typeof i=="function"?i:null)}var M=Symbol.for("react.client.reference");function R(i){if(i==null)return null;if(typeof i=="function")return i.$$typeof===M?null:i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case c:return"Fragment";case u:return"Portal";case g:return"Profiler";case d:return"StrictMode";case v:return"Suspense";case _:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case p:return(i.displayName||"Context")+".Provider";case h:return(i._context.displayName||"Context")+".Consumer";case m:var f=i.render;return i=i.displayName,i||(i=f.displayName||f.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case x:return f=i.displayName||null,f!==null?f:R(i.type)||"Memo";case b:f=i._payload,i=i._init;try{return R(i(f))}catch{}}return null}var L=r.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,F=Object.assign,I,G;function P(i){if(I===void 0)try{throw Error()}catch(w){var f=w.stack.trim().match(/\n( *(at )?)/);I=f&&f[1]||"",G=-1<w.stack.indexOf(`
    at`)?" (<anonymous>)":-1<w.stack.indexOf("@")?"@unknown:0:0":""}return`
`+I+i+G}var X=!1;function V(i,f){if(!i||X)return"";X=!0;var w=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var j={DetermineComponentFrameRoot:function(){try{if(f){var ot=function(){throw Error()};if(Object.defineProperty(ot.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ot,[])}catch(Ke){var qe=Ke}Reflect.construct(i,[],ot)}else{try{ot.call()}catch(Ke){qe=Ke}i.call(ot.prototype)}}else{try{throw Error()}catch(Ke){qe=Ke}(ot=i())&&typeof ot.catch=="function"&&ot.catch(function(){})}}catch(Ke){if(Ke&&qe&&typeof Ke.stack=="string")return[Ke.stack,qe.stack]}return[null,null]}};j.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var k=Object.getOwnPropertyDescriptor(j.DetermineComponentFrameRoot,"name");k&&k.configurable&&Object.defineProperty(j.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var z=j.DetermineComponentFrameRoot(),ne=z[0],pe=z[1];if(ne&&pe){var Ee=ne.split(`
`),Le=pe.split(`
`);for(k=j=0;j<Ee.length&&!Ee[j].includes("DetermineComponentFrameRoot");)j++;for(;k<Le.length&&!Le[k].includes("DetermineComponentFrameRoot");)k++;if(j===Ee.length||k===Le.length)for(j=Ee.length-1,k=Le.length-1;1<=j&&0<=k&&Ee[j]!==Le[k];)k--;for(;1<=j&&0<=k;j--,k--)if(Ee[j]!==Le[k]){if(j!==1||k!==1)do if(j--,k--,0>k||Ee[j]!==Le[k]){var et=`
`+Ee[j].replace(" at new "," at ");return i.displayName&&et.includes("<anonymous>")&&(et=et.replace("<anonymous>",i.displayName)),et}while(1<=j&&0<=k);break}}}finally{X=!1,Error.prepareStackTrace=w}return(w=i?i.displayName||i.name:"")?P(w):""}function H(i){switch(i.tag){case 26:case 27:case 5:return P(i.type);case 16:return P("Lazy");case 13:return P("Suspense");case 19:return P("SuspenseList");case 0:case 15:return i=V(i.type,!1),i;case 11:return i=V(i.type.render,!1),i;case 1:return i=V(i.type,!0),i;default:return""}}function J(i){try{var f="";do f+=H(i),i=i.return;while(i);return f}catch(w){return`
Error generating stack: `+w.message+`
`+w.stack}}function Z(i){var f=i,w=i;if(i.alternate)for(;f.return;)f=f.return;else{i=f;do f=i,f.flags&4098&&(w=f.return),i=f.return;while(i)}return f.tag===3?w:null}function K(i){if(i.tag===13){var f=i.memoizedState;if(f===null&&(i=i.alternate,i!==null&&(f=i.memoizedState)),f!==null)return f.dehydrated}return null}function Y(i){if(Z(i)!==i)throw Error(t(188))}function te(i){var f=i.alternate;if(!f){if(f=Z(i),f===null)throw Error(t(188));return f!==i?null:i}for(var w=i,j=f;;){var k=w.return;if(k===null)break;var z=k.alternate;if(z===null){if(j=k.return,j!==null){w=j;continue}break}if(k.child===z.child){for(z=k.child;z;){if(z===w)return Y(k),i;if(z===j)return Y(k),f;z=z.sibling}throw Error(t(188))}if(w.return!==j.return)w=k,j=z;else{for(var ne=!1,pe=k.child;pe;){if(pe===w){ne=!0,w=k,j=z;break}if(pe===j){ne=!0,j=k,w=z;break}pe=pe.sibling}if(!ne){for(pe=z.child;pe;){if(pe===w){ne=!0,w=z,j=k;break}if(pe===j){ne=!0,j=z,w=k;break}pe=pe.sibling}if(!ne)throw Error(t(189))}}if(w.alternate!==j)throw Error(t(190))}if(w.tag!==3)throw Error(t(188));return w.stateNode.current===w?i:f}function ue(i){var f=i.tag;if(f===5||f===26||f===27||f===6)return i;for(i=i.child;i!==null;){if(f=ue(i),f!==null)return f;i=i.sibling}return null}var O=Array.isArray,U=n.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},Q=[],ae=-1;function ie(i){return{current:i}}function he(i){0>ae||(i.current=Q[ae],Q[ae]=null,ae--)}function ge(i,f){ae++,Q[ae]=i.current,i.current=f}var fe=ie(null),ve=ie(null),xe=ie(null),se=ie(null);function be(i,f){switch(ge(xe,f),ge(ve,i),ge(fe,null),i=f.nodeType,i){case 9:case 11:f=(f=f.documentElement)&&(f=f.namespaceURI)?Np(f):0;break;default:if(i=i===8?f.parentNode:f,f=i.tagName,i=i.namespaceURI)i=Np(i),f=Lp(i,f);else switch(f){case"svg":f=1;break;case"math":f=2;break;default:f=0}}he(fe),ge(fe,f)}function Ae(){he(fe),he(ve),he(xe)}function De(i){i.memoizedState!==null&&ge(se,i);var f=fe.current,w=Lp(f,i.type);f!==w&&(ge(ve,i),ge(fe,w))}function je(i){ve.current===i&&(he(fe),he(ve)),se.current===i&&(he(se),Xs._currentValue=q)}var Oe=Object.prototype.hasOwnProperty,ke=a.unstable_scheduleCallback,tt=a.unstable_cancelCallback,Fe=a.unstable_shouldYield,vt=a.unstable_requestPaint,st=a.unstable_now,ct=a.unstable_getCurrentPriorityLevel,yt=a.unstable_ImmediatePriority,dt=a.unstable_UserBlockingPriority,Me=a.unstable_NormalPriority,Je=a.unstable_LowPriority,Pe=a.unstable_IdlePriority,oe=a.log,ce=a.unstable_setDisableYieldValue,re=null,de=null;function Ce(i){if(de&&typeof de.onCommitFiberRoot=="function")try{de.onCommitFiberRoot(re,i,void 0,(i.current.flags&128)===128)}catch{}}function Re(i){if(typeof oe=="function"&&ce(i),de&&typeof de.setStrictMode=="function")try{de.setStrictMode(re,i)}catch{}}var Ve=Math.clz32?Math.clz32:ut,at=Math.log,lt=Math.LN2;function ut(i){return i>>>=0,i===0?32:31-(at(i)/lt|0)|0}var ht=128,It=4194304;function At(i){var f=i&42;if(f!==0)return f;switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return i&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return i}}function bt(i,f){var w=i.pendingLanes;if(w===0)return 0;var j=0,k=i.suspendedLanes,z=i.pingedLanes,ne=i.warmLanes;i=i.finishedLanes!==0;var pe=w&134217727;return pe!==0?(w=pe&~k,w!==0?j=At(w):(z&=pe,z!==0?j=At(z):i||(ne=pe&~ne,ne!==0&&(j=At(ne))))):(pe=w&~k,pe!==0?j=At(pe):z!==0?j=At(z):i||(ne=w&~ne,ne!==0&&(j=At(ne)))),j===0?0:f!==0&&f!==j&&!(f&k)&&(k=j&-j,ne=f&-f,k>=ne||k===32&&(ne&4194176)!==0)?f:j}function Mt(i,f){return(i.pendingLanes&~(i.suspendedLanes&~i.pingedLanes)&f)===0}function Tt(i,f){switch(i){case 1:case 2:case 4:case 8:return f+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return f+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fr(){var i=ht;return ht<<=1,!(ht&4194176)&&(ht=128),i}function Jr(){var i=It;return It<<=1,!(It&62914560)&&(It=4194304),i}function Dr(i){for(var f=[],w=0;31>w;w++)f.push(i);return f}function qt(i,f){i.pendingLanes|=f,f!==268435456&&(i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0)}function wr(i,f,w,j,k,z){var ne=i.pendingLanes;i.pendingLanes=w,i.suspendedLanes=0,i.pingedLanes=0,i.warmLanes=0,i.expiredLanes&=w,i.entangledLanes&=w,i.errorRecoveryDisabledLanes&=w,i.shellSuspendCounter=0;var pe=i.entanglements,Ee=i.expirationTimes,Le=i.hiddenUpdates;for(w=ne&~w;0<w;){var et=31-Ve(w),ot=1<<et;pe[et]=0,Ee[et]=-1;var qe=Le[et];if(qe!==null)for(Le[et]=null,et=0;et<qe.length;et++){var Ke=qe[et];Ke!==null&&(Ke.lane&=-536870913)}w&=~ot}j!==0&&Yt(i,j,0),z!==0&&k===0&&i.tag!==0&&(i.suspendedLanes|=z&~(ne&~f))}function Yt(i,f,w){i.pendingLanes|=f,i.suspendedLanes&=~f;var j=31-Ve(f);i.entangledLanes|=f,i.entanglements[j]=i.entanglements[j]|1073741824|w&4194218}function Wr(i,f){var w=i.entangledLanes|=f;for(i=i.entanglements;w;){var j=31-Ve(w),k=1<<j;k&f|i[j]&f&&(i[j]|=f),w&=~k}}function Vr(i){return i&=-i,2<i?8<i?i&134217727?32:268435456:8:2}function nr(){var i=U.p;return i!==0?i:(i=window.event,i===void 0?32:$p(i.type))}function $r(i,f){var w=U.p;try{return U.p=i,f()}finally{U.p=w}}var Gn=Math.random().toString(36).slice(2),Br="__reactFiber$"+Gn,qr="__reactProps$"+Gn,va="__reactContainer$"+Gn,Ba="__reactEvents$"+Gn,Pi="__reactListeners$"+Gn,Se="__reactHandles$"+Gn,it="__reactResources$"+Gn,pt="__reactMarker$"+Gn;function nt(i){delete i[Br],delete i[qr],delete i[Ba],delete i[Pi],delete i[Se]}function Pt(i){var f=i[Br];if(f)return f;for(var w=i.parentNode;w;){if(f=w[va]||w[Br]){if(w=f.alternate,f.child!==null||w!==null&&w.child!==null)for(i=Bp(i);i!==null;){if(w=i[Br])return w;i=Bp(i)}return f}i=w,w=i.parentNode}return null}function Qe(i){if(i=i[Br]||i[va]){var f=i.tag;if(f===5||f===6||f===13||f===26||f===27||f===3)return i}return null}function Gt(i){var f=i.tag;if(f===5||f===26||f===27||f===6)return i.stateNode;throw Error(t(33))}function ft(i){var f=i[it];return f||(f=i[it]={hoistableStyles:new Map,hoistableScripts:new Map}),f}function Dt(i){i[pt]=!0}var gt=new Set,Rr={};function Sr(i,f){dr(i,f),dr(i+"Capture",f)}function dr(i,f){for(Rr[i]=f,i=0;i<f.length;i++)gt.add(f[i])}var gr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),na=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Tn={},Zn={};function Yr(i){return Oe.call(Zn,i)?!0:Oe.call(Tn,i)?!1:na.test(i)?Zn[i]=!0:(Tn[i]=!0,!1)}function Bi(i,f,w){if(Yr(f))if(w===null)i.removeAttribute(f);else{switch(typeof w){case"undefined":case"function":case"symbol":i.removeAttribute(f);return;case"boolean":var j=f.toLowerCase().slice(0,5);if(j!=="data-"&&j!=="aria-"){i.removeAttribute(f);return}}i.setAttribute(f,""+w)}}function On(i,f,w){if(w===null)i.removeAttribute(f);else{switch(typeof w){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(f);return}i.setAttribute(f,""+w)}}function Mn(i,f,w,j){if(j===null)i.removeAttribute(w);else{switch(typeof j){case"undefined":case"function":case"symbol":case"boolean":i.removeAttribute(w);return}i.setAttributeNS(f,w,""+j)}}function xn(i){switch(typeof i){case"bigint":case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function rs(i){var f=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(f==="checkbox"||f==="radio")}function ol(i){var f=rs(i)?"checked":"value",w=Object.getOwnPropertyDescriptor(i.constructor.prototype,f),j=""+i[f];if(!i.hasOwnProperty(f)&&typeof w<"u"&&typeof w.get=="function"&&typeof w.set=="function"){var k=w.get,z=w.set;return Object.defineProperty(i,f,{configurable:!0,get:function(){return k.call(this)},set:function(ne){j=""+ne,z.call(this,ne)}}),Object.defineProperty(i,f,{enumerable:w.enumerable}),{getValue:function(){return j},setValue:function(ne){j=""+ne},stopTracking:function(){i._valueTracker=null,delete i[f]}}}}function Fi(i){i._valueTracker||(i._valueTracker=ol(i))}function go(i){if(!i)return!1;var f=i._valueTracker;if(!f)return!0;var w=f.getValue(),j="";return i&&(j=rs(i)?i.checked?"true":"false":i.value),i=j,i!==w?(f.setValue(i),!0):!1}function Ui(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}var sl=/[\n"\\]/g;function Ln(i){return i.replace(sl,function(f){return"\\"+f.charCodeAt(0).toString(16)+" "})}function ns(i,f,w,j,k,z,ne,pe){i.name="",ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"?i.type=ne:i.removeAttribute("type"),f!=null?ne==="number"?(f===0&&i.value===""||i.value!=f)&&(i.value=""+xn(f)):i.value!==""+xn(f)&&(i.value=""+xn(f)):ne!=="submit"&&ne!=="reset"||i.removeAttribute("value"),f!=null?bo(i,ne,xn(f)):w!=null?bo(i,ne,xn(w)):j!=null&&i.removeAttribute("value"),k==null&&z!=null&&(i.defaultChecked=!!z),k!=null&&(i.checked=k&&typeof k!="function"&&typeof k!="symbol"),pe!=null&&typeof pe!="function"&&typeof pe!="symbol"&&typeof pe!="boolean"?i.name=""+xn(pe):i.removeAttribute("name")}function vo(i,f,w,j,k,z,ne,pe){if(z!=null&&typeof z!="function"&&typeof z!="symbol"&&typeof z!="boolean"&&(i.type=z),f!=null||w!=null){if(!(z!=="submit"&&z!=="reset"||f!=null))return;w=w!=null?""+xn(w):"",f=f!=null?""+xn(f):w,pe||f===i.value||(i.value=f),i.defaultValue=f}j=j??k,j=typeof j!="function"&&typeof j!="symbol"&&!!j,i.checked=pe?i.checked:!!j,i.defaultChecked=!!j,ne!=null&&typeof ne!="function"&&typeof ne!="symbol"&&typeof ne!="boolean"&&(i.name=ne)}function bo(i,f,w){f==="number"&&Ui(i.ownerDocument)===i||i.defaultValue===""+w||(i.defaultValue=""+w)}function Fa(i,f,w,j){if(i=i.options,f){f={};for(var k=0;k<w.length;k++)f["$"+w[k]]=!0;for(w=0;w<i.length;w++)k=f.hasOwnProperty("$"+i[w].value),i[w].selected!==k&&(i[w].selected=k),k&&j&&(i[w].defaultSelected=!0)}else{for(w=""+xn(w),f=null,k=0;k<i.length;k++){if(i[k].value===w){i[k].selected=!0,j&&(i[k].defaultSelected=!0);return}f!==null||i[k].disabled||(f=i[k])}f!==null&&(f.selected=!0)}}function Gi(i,f,w){if(f!=null&&(f=""+xn(f),f!==i.value&&(i.value=f),w==null)){i.defaultValue!==f&&(i.defaultValue=f);return}i.defaultValue=w!=null?""+xn(w):""}function zi(i,f,w,j){if(f==null){if(j!=null){if(w!=null)throw Error(t(92));if(O(j)){if(1<j.length)throw Error(t(93));j=j[0]}w=j}w==null&&(w=""),f=w}w=xn(f),i.defaultValue=w,j=i.textContent,j===w&&j!==""&&j!==null&&(i.value=j)}function _n(i,f){if(f){var w=i.firstChild;if(w&&w===i.lastChild&&w.nodeType===3){w.nodeValue=f;return}}i.textContent=f}var ll=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function as(i,f,w){var j=f.indexOf("--")===0;w==null||typeof w=="boolean"||w===""?j?i.setProperty(f,""):f==="float"?i.cssFloat="":i[f]="":j?i.setProperty(f,w):typeof w!="number"||w===0||ll.has(f)?f==="float"?i.cssFloat=w:i[f]=(""+w).trim():i[f]=w+"px"}function Ua(i,f,w){if(f!=null&&typeof f!="object")throw Error(t(62));if(i=i.style,w!=null){for(var j in w)!w.hasOwnProperty(j)||f!=null&&f.hasOwnProperty(j)||(j.indexOf("--")===0?i.setProperty(j,""):j==="float"?i.cssFloat="":i[j]="");for(var k in f)j=f[k],f.hasOwnProperty(k)&&w[k]!==j&&as(i,k,j)}else for(var z in f)f.hasOwnProperty(z)&&as(i,z,f[z])}function xo(i){if(i.indexOf("-")===-1)return!1;switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Lu=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),is=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Vi(i){return is.test(""+i)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":i}var os=null;function _o(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Ga=null,ai=null;function ss(i){var f=Qe(i);if(f&&(i=f.stateNode)){var w=i[qr]||null;e:switch(i=f.stateNode,f.type){case"input":if(ns(i,w.value,w.defaultValue,w.defaultValue,w.checked,w.defaultChecked,w.type,w.name),f=w.name,w.type==="radio"&&f!=null){for(w=i;w.parentNode;)w=w.parentNode;for(w=w.querySelectorAll('input[name="'+Ln(""+f)+'"][type="radio"]'),f=0;f<w.length;f++){var j=w[f];if(j!==i&&j.form===i.form){var k=j[qr]||null;if(!k)throw Error(t(90));ns(j,k.value,k.defaultValue,k.defaultValue,k.checked,k.defaultChecked,k.type,k.name)}}for(f=0;f<w.length;f++)j=w[f],j.form===i.form&&go(j)}break e;case"textarea":Gi(i,w.value,w.defaultValue);break e;case"select":f=w.value,f!=null&&Fa(i,!!w.multiple,f,!1)}}}var ls=!1;function ul(i,f,w){if(ls)return i(f,w);ls=!0;try{var j=i(f);return j}finally{if(ls=!1,(Ga!==null||ai!==null)&&(eu(),Ga&&(f=Ga,i=ai,ai=Ga=null,ss(f),i)))for(f=0;f<i.length;f++)ss(i[f])}}function Hi(i,f){var w=i.stateNode;if(w===null)return null;var j=w[qr]||null;if(j===null)return null;w=j[f];e:switch(f){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(j=!j.disabled)||(i=i.type,j=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!j;break e;default:i=!1}if(i)return null;if(w&&typeof w!="function")throw Error(t(231,f,typeof w));return w}var us=!1;if(gr)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){us=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{us=!1}var en=null,Kn=null,Ca=null;function oi(){if(Ca)return Ca;var i,f=Kn,w=f.length,j,k="value"in en?en.value:en.textContent,z=k.length;for(i=0;i<w&&f[i]===k[i];i++);var ne=w-i;for(j=1;j<=ne&&f[w-j]===k[z-j];j++);return Ca=k.slice(i,1<j?1-j:void 0)}function zn(i){var f=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&f===13&&(i=13)):i=f,i===10&&(i=13),32<=i||i===13?i:0}function Ta(){return!0}function cl(){return!1}function Nr(i){function f(w,j,k,z,ne){this._reactName=w,this._targetInst=k,this.type=j,this.nativeEvent=z,this.target=ne,this.currentTarget=null;for(var pe in i)i.hasOwnProperty(pe)&&(w=i[pe],this[pe]=w?w(z):z[pe]);return this.isDefaultPrevented=(z.defaultPrevented!=null?z.defaultPrevented:z.returnValue===!1)?Ta:cl,this.isPropagationStopped=cl,this}return F(f.prototype,{preventDefault:function(){this.defaultPrevented=!0;var w=this.nativeEvent;w&&(w.preventDefault?w.preventDefault():typeof w.returnValue!="unknown"&&(w.returnValue=!1),this.isDefaultPrevented=Ta)},stopPropagation:function(){var w=this.nativeEvent;w&&(w.stopPropagation?w.stopPropagation():typeof w.cancelBubble!="unknown"&&(w.cancelBubble=!0),this.isPropagationStopped=Ta)},persist:function(){},isPersistent:Ta}),f}var aa={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Xi=Nr(aa),si=F({},aa,{view:0,detail:0}),fl=Nr(si),wo,So,li,ui=F({},si,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:xt,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==li&&(li&&i.type==="mousemove"?(wo=i.screenX-li.screenX,So=i.screenY-li.screenY):So=wo=0,li=i),wo)},movementY:function(i){return"movementY"in i?i.movementY:So}}),cs=Nr(ui),dl=F({},ui,{dataTransfer:0}),hl=Nr(dl),pl=F({},si,{relatedTarget:0}),Eo=Nr(pl),ml=F({},aa,{animationName:0,elapsedTime:0,pseudoElement:0}),yl=Nr(ml),gl=F({},aa,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),vl=Nr(gl),fs=F({},aa,{data:0}),Wi=Nr(fs),ds={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oa={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ma(i){var f=this.nativeEvent;return f.getModifierState?f.getModifierState(i):(i=Oa[i])?!!f[i]:!1}function xt(){return Ma}var ku=F({},si,{key:function(i){if(i.key){var f=ds[i.key]||i.key;if(f!=="Unidentified")return f}return i.type==="keypress"?(i=zn(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?bl[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:xt,charCode:function(i){return i.type==="keypress"?zn(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?zn(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),xl=Nr(ku),ci=F({},ui,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_l=Nr(ci),Pu=F({},si,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:xt}),hr=Nr(Pu),wl=F({},aa,{propertyName:0,elapsedTime:0,pseudoElement:0}),Bu=Nr(wl),Qn=F({},ui,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Fu=Nr(Qn),Uu=F({},aa,{newState:0,oldState:0}),Gu=Nr(Uu),zu=[9,13,27,32],hs=gr&&"CompositionEvent"in window,qi=null;gr&&"documentMode"in document&&(qi=document.documentMode);var Sl=gr&&"TextEvent"in window&&!qi,Lr=gr&&(!hs||qi&&8<qi&&11>=qi),Ao=" ",A=!1;function T(i,f){switch(i){case"keyup":return zu.indexOf(f.keyCode)!==-1;case"keydown":return f.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function N(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var B=!1;function W(i,f){switch(i){case"compositionend":return N(f);case"keypress":return f.which!==32?null:(A=!0,Ao);case"textInput":return i=f.data,i===Ao&&A?null:i;default:return null}}function $(i,f){if(B)return i==="compositionend"||!hs&&T(i,f)?(i=oi(),Ca=Kn=en=null,B=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(f.ctrlKey||f.altKey||f.metaKey)||f.ctrlKey&&f.altKey){if(f.char&&1<f.char.length)return f.char;if(f.which)return String.fromCharCode(f.which)}return null;case"compositionend":return Lr&&f.locale!=="ko"?null:f.data;default:return null}}var ee={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function le(i){var f=i&&i.nodeName&&i.nodeName.toLowerCase();return f==="input"?!!ee[i.type]:f==="textarea"}function ye(i,f,w,j){Ga?ai?ai.push(j):ai=[j]:Ga=j,f=iu(f,"onChange"),0<f.length&&(w=new Xi("onChange","change",null,w,j),i.push({event:w,listeners:f}))}var me=null,Te=null;function Be(i){Op(i,0)}function Ie(i){var f=Gt(i);if(go(f))return i}function we(i,f){if(i==="change")return f}var $e=!1;if(gr){var He;if(gr){var Ye="oninput"in document;if(!Ye){var Ue=document.createElement("div");Ue.setAttribute("oninput","return;"),Ye=typeof Ue.oninput=="function"}He=Ye}else He=!1;$e=He&&(!document.documentMode||9<document.documentMode)}function Ge(){me&&(me.detachEvent("onpropertychange",_t),Te=me=null)}function _t(i){if(i.propertyName==="value"&&Ie(Te)){var f=[];ye(f,Te,i,_o(i)),ul(Be,f)}}function kt(i,f,w){i==="focusin"?(Ge(),me=f,Te=w,me.attachEvent("onpropertychange",_t)):i==="focusout"&&Ge()}function St(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ie(Te)}function jt(i,f){if(i==="click")return Ie(f)}function Ft(i,f){if(i==="input"||i==="change")return Ie(f)}function vr(i,f){return i===f&&(i!==0||1/i===1/f)||i!==i&&f!==f}var Zt=typeof Object.is=="function"?Object.is:vr;function Ar(i,f){if(Zt(i,f))return!0;if(typeof i!="object"||i===null||typeof f!="object"||f===null)return!1;var w=Object.keys(i),j=Object.keys(f);if(w.length!==j.length)return!1;for(j=0;j<w.length;j++){var k=w[j];if(!Oe.call(f,k)||!Zt(i[k],f[k]))return!1}return!0}function tn(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function rn(i,f){var w=tn(i);i=0;for(var j;w;){if(w.nodeType===3){if(j=i+w.textContent.length,i<=f&&j>=f)return{node:w,offset:f-i};i=j}e:{for(;w;){if(w.nextSibling){w=w.nextSibling;break e}w=w.parentNode}w=void 0}w=tn(w)}}function Vn(i,f){return i&&f?i===f?!0:i&&i.nodeType===3?!1:f&&f.nodeType===3?Vn(i,f.parentNode):"contains"in i?i.contains(f):i.compareDocumentPosition?!!(i.compareDocumentPosition(f)&16):!1:!1}function lr(i){i=i!=null&&i.ownerDocument!=null&&i.ownerDocument.defaultView!=null?i.ownerDocument.defaultView:window;for(var f=Ui(i.document);f instanceof i.HTMLIFrameElement;){try{var w=typeof f.contentWindow.location.href=="string"}catch{w=!1}if(w)i=f.contentWindow;else break;f=Ui(i.document)}return f}function pr(i){var f=i&&i.nodeName&&i.nodeName.toLowerCase();return f&&(f==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||f==="textarea"||i.contentEditable==="true")}function ar(i,f){var w=lr(f);f=i.focusedElem;var j=i.selectionRange;if(w!==f&&f&&f.ownerDocument&&Vn(f.ownerDocument.documentElement,f)){if(j!==null&&pr(f)){if(i=j.start,w=j.end,w===void 0&&(w=i),"selectionStart"in f)f.selectionStart=i,f.selectionEnd=Math.min(w,f.value.length);else if(w=(i=f.ownerDocument||document)&&i.defaultView||window,w.getSelection){w=w.getSelection();var k=f.textContent.length,z=Math.min(j.start,k);j=j.end===void 0?z:Math.min(j.end,k),!w.extend&&z>j&&(k=j,j=z,z=k),k=rn(f,z);var ne=rn(f,j);k&&ne&&(w.rangeCount!==1||w.anchorNode!==k.node||w.anchorOffset!==k.offset||w.focusNode!==ne.node||w.focusOffset!==ne.offset)&&(i=i.createRange(),i.setStart(k.node,k.offset),w.removeAllRanges(),z>j?(w.addRange(i),w.extend(ne.node,ne.offset)):(i.setEnd(ne.node,ne.offset),w.addRange(i)))}}for(i=[],w=f;w=w.parentNode;)w.nodeType===1&&i.push({element:w,left:w.scrollLeft,top:w.scrollTop});for(typeof f.focus=="function"&&f.focus(),f=0;f<i.length;f++)w=i[f],w.element.scrollLeft=w.left,w.element.scrollTop=w.top}}var dn=gr&&"documentMode"in document&&11>=document.documentMode,ur=null,Hr=null,ir=null,Fr=!1;function fi(i,f,w){var j=w.window===w?w.document:w.nodeType===9?w:w.ownerDocument;Fr||ur==null||ur!==Ui(j)||(j=ur,"selectionStart"in j&&pr(j)?j={start:j.selectionStart,end:j.selectionEnd}:(j=(j.ownerDocument&&j.ownerDocument.defaultView||window).getSelection(),j={anchorNode:j.anchorNode,anchorOffset:j.anchorOffset,focusNode:j.focusNode,focusOffset:j.focusOffset}),ir&&Ar(ir,j)||(ir=j,j=iu(Hr,"onSelect"),0<j.length&&(f=new Xi("onSelect","select",null,f,w),i.push({event:f,listeners:j}),f.target=ur)))}function Hn(i,f){var w={};return w[i.toLowerCase()]=f.toLowerCase(),w["Webkit"+i]="webkit"+f,w["Moz"+i]="moz"+f,w}var za={animationend:Hn("Animation","AnimationEnd"),animationiteration:Hn("Animation","AnimationIteration"),animationstart:Hn("Animation","AnimationStart"),transitionrun:Hn("Transition","TransitionRun"),transitionstart:Hn("Transition","TransitionStart"),transitioncancel:Hn("Transition","TransitionCancel"),transitionend:Hn("Transition","TransitionEnd")},Vu={},pd={};gr&&(pd=document.createElement("div").style,"AnimationEvent"in window||(delete za.animationend.animation,delete za.animationiteration.animation,delete za.animationstart.animation),"TransitionEvent"in window||delete za.transitionend.transition);function Yi(i){if(Vu[i])return Vu[i];if(!za[i])return i;var f=za[i],w;for(w in f)if(f.hasOwnProperty(w)&&w in pd)return Vu[i]=f[w];return i}var md=Yi("animationend"),yd=Yi("animationiteration"),gd=Yi("animationstart"),f1=Yi("transitionrun"),d1=Yi("transitionstart"),h1=Yi("transitioncancel"),vd=Yi("transitionend"),bd=new Map,xd="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function ba(i,f){bd.set(i,f),Sr(f,[i])}var ia=[],jo=0,Hu=0;function El(){for(var i=jo,f=Hu=jo=0;f<i;){var w=ia[f];ia[f++]=null;var j=ia[f];ia[f++]=null;var k=ia[f];ia[f++]=null;var z=ia[f];if(ia[f++]=null,j!==null&&k!==null){var ne=j.pending;ne===null?k.next=k:(k.next=ne.next,ne.next=k),j.pending=k}z!==0&&_d(w,k,z)}}function Al(i,f,w,j){ia[jo++]=i,ia[jo++]=f,ia[jo++]=w,ia[jo++]=j,Hu|=j,i.lanes|=j,i=i.alternate,i!==null&&(i.lanes|=j)}function Xu(i,f,w,j){return Al(i,f,w,j),jl(i)}function di(i,f){return Al(i,null,null,f),jl(i)}function _d(i,f,w){i.lanes|=w;var j=i.alternate;j!==null&&(j.lanes|=w);for(var k=!1,z=i.return;z!==null;)z.childLanes|=w,j=z.alternate,j!==null&&(j.childLanes|=w),z.tag===22&&(i=z.stateNode,i===null||i._visibility&1||(k=!0)),i=z,z=z.return;k&&f!==null&&i.tag===3&&(z=i.stateNode,k=31-Ve(w),z=z.hiddenUpdates,i=z[k],i===null?z[k]=[f]:i.push(f),f.lane=w|536870912)}function jl(i){if(50<Bs)throw Bs=0,Qc=null,Error(t(185));for(var f=i.return;f!==null;)i=f,f=i.return;return i.tag===3?i.stateNode:null}var Co={},wd=new WeakMap;function oa(i,f){if(typeof i=="object"&&i!==null){var w=wd.get(i);return w!==void 0?w:(f={value:i,source:f,stack:J(f)},wd.set(i,f),f)}return{value:i,source:f,stack:J(f)}}var To=[],Oo=0,Cl=null,Tl=0,sa=[],la=0,Zi=null,Va=1,Ha="";function Ki(i,f){To[Oo++]=Tl,To[Oo++]=Cl,Cl=i,Tl=f}function Sd(i,f,w){sa[la++]=Va,sa[la++]=Ha,sa[la++]=Zi,Zi=i;var j=Va;i=Ha;var k=32-Ve(j)-1;j&=~(1<<k),w+=1;var z=32-Ve(f)+k;if(30<z){var ne=k-k%5;z=(j&(1<<ne)-1).toString(32),j>>=ne,k-=ne,Va=1<<32-Ve(f)+k|w<<k|j,Ha=z+i}else Va=1<<z|w<<k|j,Ha=i}function Wu(i){i.return!==null&&(Ki(i,1),Sd(i,1,0))}function qu(i){for(;i===Cl;)Cl=To[--Oo],To[Oo]=null,Tl=To[--Oo],To[Oo]=null;for(;i===Zi;)Zi=sa[--la],sa[la]=null,Ha=sa[--la],sa[la]=null,Va=sa[--la],sa[la]=null}var kn=null,wn=null,er=!1,xa=null,Da=!1,Yu=Error(t(519));function Qi(i){var f=Error(t(418,""));throw ys(oa(f,i)),Yu}function Ed(i){var f=i.stateNode,w=i.type,j=i.memoizedProps;switch(f[Br]=i,f[qr]=j,w){case"dialog":Kt("cancel",f),Kt("close",f);break;case"iframe":case"object":case"embed":Kt("load",f);break;case"video":case"audio":for(w=0;w<Us.length;w++)Kt(Us[w],f);break;case"source":Kt("error",f);break;case"img":case"image":case"link":Kt("error",f),Kt("load",f);break;case"details":Kt("toggle",f);break;case"input":Kt("invalid",f),vo(f,j.value,j.defaultValue,j.checked,j.defaultChecked,j.type,j.name,!0),Fi(f);break;case"select":Kt("invalid",f);break;case"textarea":Kt("invalid",f),zi(f,j.value,j.defaultValue,j.children),Fi(f)}w=j.children,typeof w!="string"&&typeof w!="number"&&typeof w!="bigint"||f.textContent===""+w||j.suppressHydrationWarning===!0||Ip(f.textContent,w)?(j.popover!=null&&(Kt("beforetoggle",f),Kt("toggle",f)),j.onScroll!=null&&Kt("scroll",f),j.onScrollEnd!=null&&Kt("scrollend",f),j.onClick!=null&&(f.onclick=ou),f=!0):f=!1,f||Qi(i)}function Ad(i){for(kn=i.return;kn;)switch(kn.tag){case 3:case 27:Da=!0;return;case 5:case 13:Da=!1;return;default:kn=kn.return}}function ps(i){if(i!==kn)return!1;if(!er)return Ad(i),er=!0,!1;var f=!1,w;if((w=i.tag!==3&&i.tag!==27)&&((w=i.tag===5)&&(w=i.type,w=!(w!=="form"&&w!=="button")||mf(i.type,i.memoizedProps)),w=!w),w&&(f=!0),f&&wn&&Qi(i),Ad(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,f=0;i;){if(i.nodeType===8)if(w=i.data,w==="/$"){if(f===0){wn=wa(i.nextSibling);break e}f--}else w!=="$"&&w!=="$!"&&w!=="$?"||f++;i=i.nextSibling}wn=null}}else wn=kn?wa(i.stateNode.nextSibling):null;return!0}function ms(){wn=kn=null,er=!1}function ys(i){xa===null?xa=[i]:xa.push(i)}var gs=Error(t(460)),jd=Error(t(474)),Zu={then:function(){}};function Cd(i){return i=i.status,i==="fulfilled"||i==="rejected"}function Ol(){}function Td(i,f,w){switch(w=i[w],w===void 0?i.push(f):w!==f&&(f.then(Ol,Ol),f=w),f.status){case"fulfilled":return f.value;case"rejected":throw i=f.reason,i===gs?Error(t(483)):i;default:if(typeof f.status=="string")f.then(Ol,Ol);else{if(i=jr,i!==null&&100<i.shellSuspendCounter)throw Error(t(482));i=f,i.status="pending",i.then(function(j){if(f.status==="pending"){var k=f;k.status="fulfilled",k.value=j}},function(j){if(f.status==="pending"){var k=f;k.status="rejected",k.reason=j}})}switch(f.status){case"fulfilled":return f.value;case"rejected":throw i=f.reason,i===gs?Error(t(483)):i}throw vs=f,gs}}var vs=null;function Od(){if(vs===null)throw Error(t(459));var i=vs;return vs=null,i}var Mo=null,bs=0;function Ml(i){var f=bs;return bs+=1,Mo===null&&(Mo=[]),Td(Mo,i,f)}function xs(i,f){f=f.props.ref,i.ref=f!==void 0?f:null}function Dl(i,f){throw f.$$typeof===s?Error(t(525)):(i=Object.prototype.toString.call(f),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(f).join(", ")+"}":i)))}function Md(i){var f=i._init;return f(i._payload)}function Dd(i){function f(ze,Ne){if(i){var We=ze.deletions;We===null?(ze.deletions=[Ne],ze.flags|=16):We.push(Ne)}}function w(ze,Ne){if(!i)return null;for(;Ne!==null;)f(ze,Ne),Ne=Ne.sibling;return null}function j(ze){for(var Ne=new Map;ze!==null;)ze.key!==null?Ne.set(ze.key,ze):Ne.set(ze.index,ze),ze=ze.sibling;return Ne}function k(ze,Ne){return ze=Ei(ze,Ne),ze.index=0,ze.sibling=null,ze}function z(ze,Ne,We){return ze.index=We,i?(We=ze.alternate,We!==null?(We=We.index,We<Ne?(ze.flags|=33554434,Ne):We):(ze.flags|=33554434,Ne)):(ze.flags|=1048576,Ne)}function ne(ze){return i&&ze.alternate===null&&(ze.flags|=33554434),ze}function pe(ze,Ne,We,rt){return Ne===null||Ne.tag!==6?(Ne=Vc(We,ze.mode,rt),Ne.return=ze,Ne):(Ne=k(Ne,We),Ne.return=ze,Ne)}function Ee(ze,Ne,We,rt){var wt=We.type;return wt===c?et(ze,Ne,We.props.children,rt,We.key):Ne!==null&&(Ne.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===b&&Md(wt)===Ne.type)?(Ne=k(Ne,We.props),xs(Ne,We),Ne.return=ze,Ne):(Ne=Zl(We.type,We.key,We.props,null,ze.mode,rt),xs(Ne,We),Ne.return=ze,Ne)}function Le(ze,Ne,We,rt){return Ne===null||Ne.tag!==4||Ne.stateNode.containerInfo!==We.containerInfo||Ne.stateNode.implementation!==We.implementation?(Ne=Hc(We,ze.mode,rt),Ne.return=ze,Ne):(Ne=k(Ne,We.children||[]),Ne.return=ze,Ne)}function et(ze,Ne,We,rt,wt){return Ne===null||Ne.tag!==7?(Ne=so(We,ze.mode,rt,wt),Ne.return=ze,Ne):(Ne=k(Ne,We),Ne.return=ze,Ne)}function ot(ze,Ne,We){if(typeof Ne=="string"&&Ne!==""||typeof Ne=="number"||typeof Ne=="bigint")return Ne=Vc(""+Ne,ze.mode,We),Ne.return=ze,Ne;if(typeof Ne=="object"&&Ne!==null){switch(Ne.$$typeof){case o:return We=Zl(Ne.type,Ne.key,Ne.props,null,ze.mode,We),xs(We,Ne),We.return=ze,We;case u:return Ne=Hc(Ne,ze.mode,We),Ne.return=ze,Ne;case b:var rt=Ne._init;return Ne=rt(Ne._payload),ot(ze,Ne,We)}if(O(Ne)||D(Ne))return Ne=so(Ne,ze.mode,We,null),Ne.return=ze,Ne;if(typeof Ne.then=="function")return ot(ze,Ml(Ne),We);if(Ne.$$typeof===p)return ot(ze,Wl(ze,Ne),We);Dl(ze,Ne)}return null}function qe(ze,Ne,We,rt){var wt=Ne!==null?Ne.key:null;if(typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint")return wt!==null?null:pe(ze,Ne,""+We,rt);if(typeof We=="object"&&We!==null){switch(We.$$typeof){case o:return We.key===wt?Ee(ze,Ne,We,rt):null;case u:return We.key===wt?Le(ze,Ne,We,rt):null;case b:return wt=We._init,We=wt(We._payload),qe(ze,Ne,We,rt)}if(O(We)||D(We))return wt!==null?null:et(ze,Ne,We,rt,null);if(typeof We.then=="function")return qe(ze,Ne,Ml(We),rt);if(We.$$typeof===p)return qe(ze,Ne,Wl(ze,We),rt);Dl(ze,We)}return null}function Ke(ze,Ne,We,rt,wt){if(typeof rt=="string"&&rt!==""||typeof rt=="number"||typeof rt=="bigint")return ze=ze.get(We)||null,pe(Ne,ze,""+rt,wt);if(typeof rt=="object"&&rt!==null){switch(rt.$$typeof){case o:return ze=ze.get(rt.key===null?We:rt.key)||null,Ee(Ne,ze,rt,wt);case u:return ze=ze.get(rt.key===null?We:rt.key)||null,Le(Ne,ze,rt,wt);case b:var Ht=rt._init;return rt=Ht(rt._payload),Ke(ze,Ne,We,rt,wt)}if(O(rt)||D(rt))return ze=ze.get(We)||null,et(Ne,ze,rt,wt,null);if(typeof rt.then=="function")return Ke(ze,Ne,We,Ml(rt),wt);if(rt.$$typeof===p)return Ke(ze,Ne,We,Wl(Ne,rt),wt);Dl(Ne,rt)}return null}function Ct(ze,Ne,We,rt){for(var wt=null,Ht=null,Ot=Ne,Lt=Ne=0,mn=null;Ot!==null&&Lt<We.length;Lt++){Ot.index>Lt?(mn=Ot,Ot=null):mn=Ot.sibling;var tr=qe(ze,Ot,We[Lt],rt);if(tr===null){Ot===null&&(Ot=mn);break}i&&Ot&&tr.alternate===null&&f(ze,Ot),Ne=z(tr,Ne,Lt),Ht===null?wt=tr:Ht.sibling=tr,Ht=tr,Ot=mn}if(Lt===We.length)return w(ze,Ot),er&&Ki(ze,Lt),wt;if(Ot===null){for(;Lt<We.length;Lt++)Ot=ot(ze,We[Lt],rt),Ot!==null&&(Ne=z(Ot,Ne,Lt),Ht===null?wt=Ot:Ht.sibling=Ot,Ht=Ot);return er&&Ki(ze,Lt),wt}for(Ot=j(Ot);Lt<We.length;Lt++)mn=Ke(Ot,ze,Lt,We[Lt],rt),mn!==null&&(i&&mn.alternate!==null&&Ot.delete(mn.key===null?Lt:mn.key),Ne=z(mn,Ne,Lt),Ht===null?wt=mn:Ht.sibling=mn,Ht=mn);return i&&Ot.forEach(function(Di){return f(ze,Di)}),er&&Ki(ze,Lt),wt}function Bt(ze,Ne,We,rt){if(We==null)throw Error(t(151));for(var wt=null,Ht=null,Ot=Ne,Lt=Ne=0,mn=null,tr=We.next();Ot!==null&&!tr.done;Lt++,tr=We.next()){Ot.index>Lt?(mn=Ot,Ot=null):mn=Ot.sibling;var Di=qe(ze,Ot,tr.value,rt);if(Di===null){Ot===null&&(Ot=mn);break}i&&Ot&&Di.alternate===null&&f(ze,Ot),Ne=z(Di,Ne,Lt),Ht===null?wt=Di:Ht.sibling=Di,Ht=Di,Ot=mn}if(tr.done)return w(ze,Ot),er&&Ki(ze,Lt),wt;if(Ot===null){for(;!tr.done;Lt++,tr=We.next())tr=ot(ze,tr.value,rt),tr!==null&&(Ne=z(tr,Ne,Lt),Ht===null?wt=tr:Ht.sibling=tr,Ht=tr);return er&&Ki(ze,Lt),wt}for(Ot=j(Ot);!tr.done;Lt++,tr=We.next())tr=Ke(Ot,ze,Lt,tr.value,rt),tr!==null&&(i&&tr.alternate!==null&&Ot.delete(tr.key===null?Lt:tr.key),Ne=z(tr,Ne,Lt),Ht===null?wt=tr:Ht.sibling=tr,Ht=tr);return i&&Ot.forEach(function(Cy){return f(ze,Cy)}),er&&Ki(ze,Lt),wt}function zr(ze,Ne,We,rt){if(typeof We=="object"&&We!==null&&We.type===c&&We.key===null&&(We=We.props.children),typeof We=="object"&&We!==null){switch(We.$$typeof){case o:e:{for(var wt=We.key;Ne!==null;){if(Ne.key===wt){if(wt=We.type,wt===c){if(Ne.tag===7){w(ze,Ne.sibling),rt=k(Ne,We.props.children),rt.return=ze,ze=rt;break e}}else if(Ne.elementType===wt||typeof wt=="object"&&wt!==null&&wt.$$typeof===b&&Md(wt)===Ne.type){w(ze,Ne.sibling),rt=k(Ne,We.props),xs(rt,We),rt.return=ze,ze=rt;break e}w(ze,Ne);break}else f(ze,Ne);Ne=Ne.sibling}We.type===c?(rt=so(We.props.children,ze.mode,rt,We.key),rt.return=ze,ze=rt):(rt=Zl(We.type,We.key,We.props,null,ze.mode,rt),xs(rt,We),rt.return=ze,ze=rt)}return ne(ze);case u:e:{for(wt=We.key;Ne!==null;){if(Ne.key===wt)if(Ne.tag===4&&Ne.stateNode.containerInfo===We.containerInfo&&Ne.stateNode.implementation===We.implementation){w(ze,Ne.sibling),rt=k(Ne,We.children||[]),rt.return=ze,ze=rt;break e}else{w(ze,Ne);break}else f(ze,Ne);Ne=Ne.sibling}rt=Hc(We,ze.mode,rt),rt.return=ze,ze=rt}return ne(ze);case b:return wt=We._init,We=wt(We._payload),zr(ze,Ne,We,rt)}if(O(We))return Ct(ze,Ne,We,rt);if(D(We)){if(wt=D(We),typeof wt!="function")throw Error(t(150));return We=wt.call(We),Bt(ze,Ne,We,rt)}if(typeof We.then=="function")return zr(ze,Ne,Ml(We),rt);if(We.$$typeof===p)return zr(ze,Ne,Wl(ze,We),rt);Dl(ze,We)}return typeof We=="string"&&We!==""||typeof We=="number"||typeof We=="bigint"?(We=""+We,Ne!==null&&Ne.tag===6?(w(ze,Ne.sibling),rt=k(Ne,We),rt.return=ze,ze=rt):(w(ze,Ne),rt=Vc(We,ze.mode,rt),rt.return=ze,ze=rt),ne(ze)):w(ze,Ne)}return function(ze,Ne,We,rt){try{bs=0;var wt=zr(ze,Ne,We,rt);return Mo=null,wt}catch(Ot){if(Ot===gs)throw Ot;var Ht=da(29,Ot,null,ze.mode);return Ht.lanes=rt,Ht.return=ze,Ht}finally{}}}var Ji=Dd(!0),Rd=Dd(!1),Do=ie(null),Rl=ie(0);function Id(i,f){i=ti,ge(Rl,i),ge(Do,f),ti=i|f.baseLanes}function Ku(){ge(Rl,ti),ge(Do,Do.current)}function Qu(){ti=Rl.current,he(Do),he(Rl)}var ua=ie(null),Ra=null;function hi(i){var f=i.alternate;ge(nn,nn.current&1),ge(ua,i),Ra===null&&(f===null||Do.current!==null||f.memoizedState!==null)&&(Ra=i)}function Nd(i){if(i.tag===22){if(ge(nn,nn.current),ge(ua,i),Ra===null){var f=i.alternate;f!==null&&f.memoizedState!==null&&(Ra=i)}}else pi()}function pi(){ge(nn,nn.current),ge(ua,ua.current)}function Xa(i){he(ua),Ra===i&&(Ra=null),he(nn)}var nn=ie(0);function Il(i){for(var f=i;f!==null;){if(f.tag===13){var w=f.memoizedState;if(w!==null&&(w=w.dehydrated,w===null||w.data==="$?"||w.data==="$!"))return f}else if(f.tag===19&&f.memoizedProps.revealOrder!==void 0){if(f.flags&128)return f}else if(f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return null;f=f.return}f.sibling.return=f.return,f=f.sibling}return null}var p1=typeof AbortController<"u"?AbortController:function(){var i=[],f=this.signal={aborted:!1,addEventListener:function(w,j){i.push(j)}};this.abort=function(){f.aborted=!0,i.forEach(function(w){return w()})}},m1=a.unstable_scheduleCallback,y1=a.unstable_NormalPriority,an={$$typeof:p,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Ju(){return{controller:new p1,data:new Map,refCount:0}}function _s(i){i.refCount--,i.refCount===0&&m1(y1,function(){i.controller.abort()})}var ws=null,$u=0,Ro=0,Io=null;function g1(i,f){if(ws===null){var w=ws=[];$u=0,Ro=of(),Io={status:"pending",value:void 0,then:function(j){w.push(j)}}}return $u++,f.then(Ld,Ld),f}function Ld(){if(--$u===0&&ws!==null){Io!==null&&(Io.status="fulfilled");var i=ws;ws=null,Ro=0,Io=null;for(var f=0;f<i.length;f++)(0,i[f])()}}function v1(i,f){var w=[],j={status:"pending",value:null,reason:null,then:function(k){w.push(k)}};return i.then(function(){j.status="fulfilled",j.value=f;for(var k=0;k<w.length;k++)(0,w[k])(f)},function(k){for(j.status="rejected",j.reason=k,k=0;k<w.length;k++)(0,w[k])(void 0)}),j}var kd=L.S;L.S=function(i,f){typeof f=="object"&&f!==null&&typeof f.then=="function"&&g1(i,f),kd!==null&&kd(i,f)};var $i=ie(null);function ec(){var i=$i.current;return i!==null?i:jr.pooledCache}function Nl(i,f){f===null?ge($i,$i.current):ge($i,f.pool)}function Pd(){var i=ec();return i===null?null:{parent:an._currentValue,pool:i}}var mi=0,zt=null,br=null,Zr=null,Ll=!1,No=!1,eo=!1,kl=0,Ss=0,Lo=null,b1=0;function Xr(){throw Error(t(321))}function tc(i,f){if(f===null)return!1;for(var w=0;w<f.length&&w<i.length;w++)if(!Zt(i[w],f[w]))return!1;return!0}function rc(i,f,w,j,k,z){return mi=z,zt=f,f.memoizedState=null,f.updateQueue=null,f.lanes=0,L.H=i===null||i.memoizedState===null?to:yi,eo=!1,z=w(j,k),eo=!1,No&&(z=Fd(f,w,j,k)),Bd(i),z}function Bd(i){L.H=Ia;var f=br!==null&&br.next!==null;if(mi=0,Zr=br=zt=null,Ll=!1,Ss=0,Lo=null,f)throw Error(t(300));i===null||hn||(i=i.dependencies,i!==null&&Xl(i)&&(hn=!0))}function Fd(i,f,w,j){zt=i;var k=0;do{if(No&&(Lo=null),Ss=0,No=!1,25<=k)throw Error(t(301));if(k+=1,Zr=br=null,i.updateQueue!=null){var z=i.updateQueue;z.lastEffect=null,z.events=null,z.stores=null,z.memoCache!=null&&(z.memoCache.index=0)}L.H=ro,z=f(w,j)}while(No);return z}function x1(){var i=L.H,f=i.useState()[0];return f=typeof f.then=="function"?Es(f):f,i=i.useState()[0],(br!==null?br.memoizedState:null)!==i&&(zt.flags|=1024),f}function nc(){var i=kl!==0;return kl=0,i}function ac(i,f,w){f.updateQueue=i.updateQueue,f.flags&=-2053,i.lanes&=~w}function ic(i){if(Ll){for(i=i.memoizedState;i!==null;){var f=i.queue;f!==null&&(f.pending=null),i=i.next}Ll=!1}mi=0,Zr=br=zt=null,No=!1,Ss=kl=0,Lo=null}function Xn(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Zr===null?zt.memoizedState=Zr=i:Zr=Zr.next=i,Zr}function Kr(){if(br===null){var i=zt.alternate;i=i!==null?i.memoizedState:null}else i=br.next;var f=Zr===null?zt.memoizedState:Zr.next;if(f!==null)Zr=f,br=i;else{if(i===null)throw zt.alternate===null?Error(t(467)):Error(t(310));br=i,i={memoizedState:br.memoizedState,baseState:br.baseState,baseQueue:br.baseQueue,queue:br.queue,next:null},Zr===null?zt.memoizedState=Zr=i:Zr=Zr.next=i}return Zr}var Pl;Pl=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Es(i){var f=Ss;return Ss+=1,Lo===null&&(Lo=[]),i=Td(Lo,i,f),f=zt,(Zr===null?f.memoizedState:Zr.next)===null&&(f=f.alternate,L.H=f===null||f.memoizedState===null?to:yi),i}function Bl(i){if(i!==null&&typeof i=="object"){if(typeof i.then=="function")return Es(i);if(i.$$typeof===p)return Dn(i)}throw Error(t(438,String(i)))}function oc(i){var f=null,w=zt.updateQueue;if(w!==null&&(f=w.memoCache),f==null){var j=zt.alternate;j!==null&&(j=j.updateQueue,j!==null&&(j=j.memoCache,j!=null&&(f={data:j.data.map(function(k){return k.slice()}),index:0})))}if(f==null&&(f={data:[],index:0}),w===null&&(w=Pl(),zt.updateQueue=w),w.memoCache=f,w=f.data[f.index],w===void 0)for(w=f.data[f.index]=Array(i),j=0;j<i;j++)w[j]=S;return f.index++,w}function Wa(i,f){return typeof f=="function"?f(i):f}function Fl(i){var f=Kr();return sc(f,br,i)}function sc(i,f,w){var j=i.queue;if(j===null)throw Error(t(311));j.lastRenderedReducer=w;var k=i.baseQueue,z=j.pending;if(z!==null){if(k!==null){var ne=k.next;k.next=z.next,z.next=ne}f.baseQueue=k=z,j.pending=null}if(z=i.baseState,k===null)i.memoizedState=z;else{f=k.next;var pe=ne=null,Ee=null,Le=f,et=!1;do{var ot=Le.lane&-536870913;if(ot!==Le.lane?(Qt&ot)===ot:(mi&ot)===ot){var qe=Le.revertLane;if(qe===0)Ee!==null&&(Ee=Ee.next={lane:0,revertLane:0,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null}),ot===Ro&&(et=!0);else if((mi&qe)===qe){Le=Le.next,qe===Ro&&(et=!0);continue}else ot={lane:0,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},Ee===null?(pe=Ee=ot,ne=z):Ee=Ee.next=ot,zt.lanes|=qe,Ai|=qe;ot=Le.action,eo&&w(z,ot),z=Le.hasEagerState?Le.eagerState:w(z,ot)}else qe={lane:ot,revertLane:Le.revertLane,action:Le.action,hasEagerState:Le.hasEagerState,eagerState:Le.eagerState,next:null},Ee===null?(pe=Ee=qe,ne=z):Ee=Ee.next=qe,zt.lanes|=ot,Ai|=ot;Le=Le.next}while(Le!==null&&Le!==f);if(Ee===null?ne=z:Ee.next=pe,!Zt(z,i.memoizedState)&&(hn=!0,et&&(w=Io,w!==null)))throw w;i.memoizedState=z,i.baseState=ne,i.baseQueue=Ee,j.lastRenderedState=z}return k===null&&(j.lanes=0),[i.memoizedState,j.dispatch]}function lc(i){var f=Kr(),w=f.queue;if(w===null)throw Error(t(311));w.lastRenderedReducer=i;var j=w.dispatch,k=w.pending,z=f.memoizedState;if(k!==null){w.pending=null;var ne=k=k.next;do z=i(z,ne.action),ne=ne.next;while(ne!==k);Zt(z,f.memoizedState)||(hn=!0),f.memoizedState=z,f.baseQueue===null&&(f.baseState=z),w.lastRenderedState=z}return[z,j]}function Ud(i,f,w){var j=zt,k=Kr(),z=er;if(z){if(w===void 0)throw Error(t(407));w=w()}else w=f();var ne=!Zt((br||k).memoizedState,w);if(ne&&(k.memoizedState=w,hn=!0),k=k.queue,fc(Vd.bind(null,j,k,i),[i]),k.getSnapshot!==f||ne||Zr!==null&&Zr.memoizedState.tag&1){if(j.flags|=2048,ko(9,zd.bind(null,j,k,w,f),{destroy:void 0},null),jr===null)throw Error(t(349));z||mi&60||Gd(j,f,w)}return w}function Gd(i,f,w){i.flags|=16384,i={getSnapshot:f,value:w},f=zt.updateQueue,f===null?(f=Pl(),zt.updateQueue=f,f.stores=[i]):(w=f.stores,w===null?f.stores=[i]:w.push(i))}function zd(i,f,w,j){f.value=w,f.getSnapshot=j,Hd(f)&&Xd(i)}function Vd(i,f,w){return w(function(){Hd(f)&&Xd(i)})}function Hd(i){var f=i.getSnapshot;i=i.value;try{var w=f();return!Zt(i,w)}catch{return!0}}function Xd(i){var f=di(i,2);f!==null&&Pn(f,i,2)}function uc(i){var f=Xn();if(typeof i=="function"){var w=i;if(i=w(),eo){Re(!0);try{w()}finally{Re(!1)}}}return f.memoizedState=f.baseState=i,f.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:i},f}function Wd(i,f,w,j){return i.baseState=w,sc(i,br,typeof j=="function"?j:Wa)}function _1(i,f,w,j,k){if(zl(i))throw Error(t(485));if(i=f.action,i!==null){var z={payload:k,action:i,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(ne){z.listeners.push(ne)}};L.T!==null?w(!0):z.isTransition=!1,j(z),w=f.pending,w===null?(z.next=f.pending=z,qd(f,z)):(z.next=w.next,f.pending=w.next=z)}}function qd(i,f){var w=f.action,j=f.payload,k=i.state;if(f.isTransition){var z=L.T,ne={};L.T=ne;try{var pe=w(k,j),Ee=L.S;Ee!==null&&Ee(ne,pe),Yd(i,f,pe)}catch(Le){cc(i,f,Le)}finally{L.T=z}}else try{z=w(k,j),Yd(i,f,z)}catch(Le){cc(i,f,Le)}}function Yd(i,f,w){w!==null&&typeof w=="object"&&typeof w.then=="function"?w.then(function(j){Zd(i,f,j)},function(j){return cc(i,f,j)}):Zd(i,f,w)}function Zd(i,f,w){f.status="fulfilled",f.value=w,Kd(f),i.state=w,f=i.pending,f!==null&&(w=f.next,w===f?i.pending=null:(w=w.next,f.next=w,qd(i,w)))}function cc(i,f,w){var j=i.pending;if(i.pending=null,j!==null){j=j.next;do f.status="rejected",f.reason=w,Kd(f),f=f.next;while(f!==j)}i.action=null}function Kd(i){i=i.listeners;for(var f=0;f<i.length;f++)(0,i[f])()}function Qd(i,f){return f}function Jd(i,f){if(er){var w=jr.formState;if(w!==null){e:{var j=zt;if(er){if(wn){t:{for(var k=wn,z=Da;k.nodeType!==8;){if(!z){k=null;break t}if(k=wa(k.nextSibling),k===null){k=null;break t}}z=k.data,k=z==="F!"||z==="F"?k:null}if(k){wn=wa(k.nextSibling),j=k.data==="F!";break e}}Qi(j)}j=!1}j&&(f=w[0])}}return w=Xn(),w.memoizedState=w.baseState=f,j={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Qd,lastRenderedState:f},w.queue=j,w=yh.bind(null,zt,j),j.dispatch=w,j=uc(!1),z=yc.bind(null,zt,!1,j.queue),j=Xn(),k={state:f,dispatch:null,action:i,pending:null},j.queue=k,w=_1.bind(null,zt,k,z,w),k.dispatch=w,j.memoizedState=i,[f,w,!1]}function $d(i){var f=Kr();return eh(f,br,i)}function eh(i,f,w){f=sc(i,f,Qd)[0],i=Fl(Wa)[0],f=typeof f=="object"&&f!==null&&typeof f.then=="function"?Es(f):f;var j=Kr(),k=j.queue,z=k.dispatch;return w!==j.memoizedState&&(zt.flags|=2048,ko(9,w1.bind(null,k,w),{destroy:void 0},null)),[f,z,i]}function w1(i,f){i.action=f}function th(i){var f=Kr(),w=br;if(w!==null)return eh(f,w,i);Kr(),f=f.memoizedState,w=Kr();var j=w.queue.dispatch;return w.memoizedState=i,[f,j,!1]}function ko(i,f,w,j){return i={tag:i,create:f,inst:w,deps:j,next:null},f=zt.updateQueue,f===null&&(f=Pl(),zt.updateQueue=f),w=f.lastEffect,w===null?f.lastEffect=i.next=i:(j=w.next,w.next=i,i.next=j,f.lastEffect=i),i}function rh(){return Kr().memoizedState}function Ul(i,f,w,j){var k=Xn();zt.flags|=i,k.memoizedState=ko(1|f,w,{destroy:void 0},j===void 0?null:j)}function Gl(i,f,w,j){var k=Kr();j=j===void 0?null:j;var z=k.memoizedState.inst;br!==null&&j!==null&&tc(j,br.memoizedState.deps)?k.memoizedState=ko(f,w,z,j):(zt.flags|=i,k.memoizedState=ko(1|f,w,z,j))}function nh(i,f){Ul(8390656,8,i,f)}function fc(i,f){Gl(2048,8,i,f)}function ah(i,f){return Gl(4,2,i,f)}function ih(i,f){return Gl(4,4,i,f)}function oh(i,f){if(typeof f=="function"){i=i();var w=f(i);return function(){typeof w=="function"?w():f(null)}}if(f!=null)return i=i(),f.current=i,function(){f.current=null}}function sh(i,f,w){w=w!=null?w.concat([i]):null,Gl(4,4,oh.bind(null,f,i),w)}function dc(){}function lh(i,f){var w=Kr();f=f===void 0?null:f;var j=w.memoizedState;return f!==null&&tc(f,j[1])?j[0]:(w.memoizedState=[i,f],i)}function uh(i,f){var w=Kr();f=f===void 0?null:f;var j=w.memoizedState;if(f!==null&&tc(f,j[1]))return j[0];if(j=i(),eo){Re(!0);try{i()}finally{Re(!1)}}return w.memoizedState=[j,f],j}function hc(i,f,w){return w===void 0||mi&1073741824?i.memoizedState=f:(i.memoizedState=w,i=fp(),zt.lanes|=i,Ai|=i,w)}function ch(i,f,w,j){return Zt(w,f)?w:Do.current!==null?(i=hc(i,w,j),Zt(i,f)||(hn=!0),i):mi&42?(i=fp(),zt.lanes|=i,Ai|=i,f):(hn=!0,i.memoizedState=w)}function fh(i,f,w,j,k){var z=U.p;U.p=z!==0&&8>z?z:8;var ne=L.T,pe={};L.T=pe,yc(i,!1,f,w);try{var Ee=k(),Le=L.S;if(Le!==null&&Le(pe,Ee),Ee!==null&&typeof Ee=="object"&&typeof Ee.then=="function"){var et=v1(Ee,j);As(i,f,et,ta(i))}else As(i,f,j,ta(i))}catch(ot){As(i,f,{then:function(){},status:"rejected",reason:ot},ta())}finally{U.p=z,L.T=ne}}function S1(){}function pc(i,f,w,j){if(i.tag!==5)throw Error(t(476));var k=dh(i).queue;fh(i,k,f,q,w===null?S1:function(){return hh(i),w(j)})}function dh(i){var f=i.memoizedState;if(f!==null)return f;f={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:q},next:null};var w={};return f.next={memoizedState:w,baseState:w,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wa,lastRenderedState:w},next:null},i.memoizedState=f,i=i.alternate,i!==null&&(i.memoizedState=f),f}function hh(i){var f=dh(i).next.queue;As(i,f,{},ta())}function mc(){return Dn(Xs)}function ph(){return Kr().memoizedState}function mh(){return Kr().memoizedState}function E1(i){for(var f=i.return;f!==null;){switch(f.tag){case 24:case 3:var w=ta();i=bi(w);var j=xi(f,i,w);j!==null&&(Pn(j,f,w),Ts(j,f,w)),f={cache:Ju()},i.payload=f;return}f=f.return}}function A1(i,f,w){var j=ta();w={lane:j,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null},zl(i)?gh(f,w):(w=Xu(i,f,w,j),w!==null&&(Pn(w,i,j),vh(w,f,j)))}function yh(i,f,w){var j=ta();As(i,f,w,j)}function As(i,f,w,j){var k={lane:j,revertLane:0,action:w,hasEagerState:!1,eagerState:null,next:null};if(zl(i))gh(f,k);else{var z=i.alternate;if(i.lanes===0&&(z===null||z.lanes===0)&&(z=f.lastRenderedReducer,z!==null))try{var ne=f.lastRenderedState,pe=z(ne,w);if(k.hasEagerState=!0,k.eagerState=pe,Zt(pe,ne))return Al(i,f,k,0),jr===null&&El(),!1}catch{}finally{}if(w=Xu(i,f,k,j),w!==null)return Pn(w,i,j),vh(w,f,j),!0}return!1}function yc(i,f,w,j){if(j={lane:2,revertLane:of(),action:j,hasEagerState:!1,eagerState:null,next:null},zl(i)){if(f)throw Error(t(479))}else f=Xu(i,w,j,2),f!==null&&Pn(f,i,2)}function zl(i){var f=i.alternate;return i===zt||f!==null&&f===zt}function gh(i,f){No=Ll=!0;var w=i.pending;w===null?f.next=f:(f.next=w.next,w.next=f),i.pending=f}function vh(i,f,w){if(w&4194176){var j=f.lanes;j&=i.pendingLanes,w|=j,f.lanes=w,Wr(i,w)}}var Ia={readContext:Dn,use:Bl,useCallback:Xr,useContext:Xr,useEffect:Xr,useImperativeHandle:Xr,useLayoutEffect:Xr,useInsertionEffect:Xr,useMemo:Xr,useReducer:Xr,useRef:Xr,useState:Xr,useDebugValue:Xr,useDeferredValue:Xr,useTransition:Xr,useSyncExternalStore:Xr,useId:Xr};Ia.useCacheRefresh=Xr,Ia.useMemoCache=Xr,Ia.useHostTransitionStatus=Xr,Ia.useFormState=Xr,Ia.useActionState=Xr,Ia.useOptimistic=Xr;var to={readContext:Dn,use:Bl,useCallback:function(i,f){return Xn().memoizedState=[i,f===void 0?null:f],i},useContext:Dn,useEffect:nh,useImperativeHandle:function(i,f,w){w=w!=null?w.concat([i]):null,Ul(4194308,4,oh.bind(null,f,i),w)},useLayoutEffect:function(i,f){return Ul(4194308,4,i,f)},useInsertionEffect:function(i,f){Ul(4,2,i,f)},useMemo:function(i,f){var w=Xn();f=f===void 0?null:f;var j=i();if(eo){Re(!0);try{i()}finally{Re(!1)}}return w.memoizedState=[j,f],j},useReducer:function(i,f,w){var j=Xn();if(w!==void 0){var k=w(f);if(eo){Re(!0);try{w(f)}finally{Re(!1)}}}else k=f;return j.memoizedState=j.baseState=k,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:k},j.queue=i,i=i.dispatch=A1.bind(null,zt,i),[j.memoizedState,i]},useRef:function(i){var f=Xn();return i={current:i},f.memoizedState=i},useState:function(i){i=uc(i);var f=i.queue,w=yh.bind(null,zt,f);return f.dispatch=w,[i.memoizedState,w]},useDebugValue:dc,useDeferredValue:function(i,f){var w=Xn();return hc(w,i,f)},useTransition:function(){var i=uc(!1);return i=fh.bind(null,zt,i.queue,!0,!1),Xn().memoizedState=i,[!1,i]},useSyncExternalStore:function(i,f,w){var j=zt,k=Xn();if(er){if(w===void 0)throw Error(t(407));w=w()}else{if(w=f(),jr===null)throw Error(t(349));Qt&60||Gd(j,f,w)}k.memoizedState=w;var z={value:w,getSnapshot:f};return k.queue=z,nh(Vd.bind(null,j,z,i),[i]),j.flags|=2048,ko(9,zd.bind(null,j,z,w,f),{destroy:void 0},null),w},useId:function(){var i=Xn(),f=jr.identifierPrefix;if(er){var w=Ha,j=Va;w=(j&~(1<<32-Ve(j)-1)).toString(32)+w,f=":"+f+"R"+w,w=kl++,0<w&&(f+="H"+w.toString(32)),f+=":"}else w=b1++,f=":"+f+"r"+w.toString(32)+":";return i.memoizedState=f},useCacheRefresh:function(){return Xn().memoizedState=E1.bind(null,zt)}};to.useMemoCache=oc,to.useHostTransitionStatus=mc,to.useFormState=Jd,to.useActionState=Jd,to.useOptimistic=function(i){var f=Xn();f.memoizedState=f.baseState=i;var w={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return f.queue=w,f=yc.bind(null,zt,!0,w),w.dispatch=f,[i,f]};var yi={readContext:Dn,use:Bl,useCallback:lh,useContext:Dn,useEffect:fc,useImperativeHandle:sh,useInsertionEffect:ah,useLayoutEffect:ih,useMemo:uh,useReducer:Fl,useRef:rh,useState:function(){return Fl(Wa)},useDebugValue:dc,useDeferredValue:function(i,f){var w=Kr();return ch(w,br.memoizedState,i,f)},useTransition:function(){var i=Fl(Wa)[0],f=Kr().memoizedState;return[typeof i=="boolean"?i:Es(i),f]},useSyncExternalStore:Ud,useId:ph};yi.useCacheRefresh=mh,yi.useMemoCache=oc,yi.useHostTransitionStatus=mc,yi.useFormState=$d,yi.useActionState=$d,yi.useOptimistic=function(i,f){var w=Kr();return Wd(w,br,i,f)};var ro={readContext:Dn,use:Bl,useCallback:lh,useContext:Dn,useEffect:fc,useImperativeHandle:sh,useInsertionEffect:ah,useLayoutEffect:ih,useMemo:uh,useReducer:lc,useRef:rh,useState:function(){return lc(Wa)},useDebugValue:dc,useDeferredValue:function(i,f){var w=Kr();return br===null?hc(w,i,f):ch(w,br.memoizedState,i,f)},useTransition:function(){var i=lc(Wa)[0],f=Kr().memoizedState;return[typeof i=="boolean"?i:Es(i),f]},useSyncExternalStore:Ud,useId:ph};ro.useCacheRefresh=mh,ro.useMemoCache=oc,ro.useHostTransitionStatus=mc,ro.useFormState=th,ro.useActionState=th,ro.useOptimistic=function(i,f){var w=Kr();return br!==null?Wd(w,br,i,f):(w.baseState=i,[i,w.queue.dispatch])};function gc(i,f,w,j){f=i.memoizedState,w=w(j,f),w=w==null?f:F({},f,w),i.memoizedState=w,i.lanes===0&&(i.updateQueue.baseState=w)}var vc={isMounted:function(i){return(i=i._reactInternals)?Z(i)===i:!1},enqueueSetState:function(i,f,w){i=i._reactInternals;var j=ta(),k=bi(j);k.payload=f,w!=null&&(k.callback=w),f=xi(i,k,j),f!==null&&(Pn(f,i,j),Ts(f,i,j))},enqueueReplaceState:function(i,f,w){i=i._reactInternals;var j=ta(),k=bi(j);k.tag=1,k.payload=f,w!=null&&(k.callback=w),f=xi(i,k,j),f!==null&&(Pn(f,i,j),Ts(f,i,j))},enqueueForceUpdate:function(i,f){i=i._reactInternals;var w=ta(),j=bi(w);j.tag=2,f!=null&&(j.callback=f),f=xi(i,j,w),f!==null&&(Pn(f,i,w),Ts(f,i,w))}};function bh(i,f,w,j,k,z,ne){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(j,z,ne):f.prototype&&f.prototype.isPureReactComponent?!Ar(w,j)||!Ar(k,z):!0}function xh(i,f,w,j){i=f.state,typeof f.componentWillReceiveProps=="function"&&f.componentWillReceiveProps(w,j),typeof f.UNSAFE_componentWillReceiveProps=="function"&&f.UNSAFE_componentWillReceiveProps(w,j),f.state!==i&&vc.enqueueReplaceState(f,f.state,null)}function no(i,f){var w=f;if("ref"in f){w={};for(var j in f)j!=="ref"&&(w[j]=f[j])}if(i=i.defaultProps){w===f&&(w=F({},w));for(var k in i)w[k]===void 0&&(w[k]=i[k])}return w}var Vl=typeof reportError=="function"?reportError:function(i){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var f=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof i=="object"&&i!==null&&typeof i.message=="string"?String(i.message):String(i),error:i});if(!window.dispatchEvent(f))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",i);return}console.error(i)};function _h(i){Vl(i)}function wh(i){console.error(i)}function Sh(i){Vl(i)}function Hl(i,f){try{var w=i.onUncaughtError;w(f.value,{componentStack:f.stack})}catch(j){setTimeout(function(){throw j})}}function Eh(i,f,w){try{var j=i.onCaughtError;j(w.value,{componentStack:w.stack,errorBoundary:f.tag===1?f.stateNode:null})}catch(k){setTimeout(function(){throw k})}}function bc(i,f,w){return w=bi(w),w.tag=3,w.payload={element:null},w.callback=function(){Hl(i,f)},w}function Ah(i){return i=bi(i),i.tag=3,i}function jh(i,f,w,j){var k=w.type.getDerivedStateFromError;if(typeof k=="function"){var z=j.value;i.payload=function(){return k(z)},i.callback=function(){Eh(f,w,j)}}var ne=w.stateNode;ne!==null&&typeof ne.componentDidCatch=="function"&&(i.callback=function(){Eh(f,w,j),typeof k!="function"&&(ji===null?ji=new Set([this]):ji.add(this));var pe=j.stack;this.componentDidCatch(j.value,{componentStack:pe!==null?pe:""})})}function j1(i,f,w,j,k){if(w.flags|=32768,j!==null&&typeof j=="object"&&typeof j.then=="function"){if(f=w.alternate,f!==null&&Cs(f,w,k,!0),w=ua.current,w!==null){switch(w.tag){case 13:return Ra===null?ef():w.alternate===null&&Gr===0&&(Gr=3),w.flags&=-257,w.flags|=65536,w.lanes=k,j===Zu?w.flags|=16384:(f=w.updateQueue,f===null?w.updateQueue=new Set([j]):f.add(j),rf(i,j,k)),!1;case 22:return w.flags|=65536,j===Zu?w.flags|=16384:(f=w.updateQueue,f===null?(f={transitions:null,markerInstances:null,retryQueue:new Set([j])},w.updateQueue=f):(w=f.retryQueue,w===null?f.retryQueue=new Set([j]):w.add(j)),rf(i,j,k)),!1}throw Error(t(435,w.tag))}return rf(i,j,k),ef(),!1}if(er)return f=ua.current,f!==null?(!(f.flags&65536)&&(f.flags|=256),f.flags|=65536,f.lanes=k,j!==Yu&&(i=Error(t(422),{cause:j}),ys(oa(i,w)))):(j!==Yu&&(f=Error(t(423),{cause:j}),ys(oa(f,w))),i=i.current.alternate,i.flags|=65536,k&=-k,i.lanes|=k,j=oa(j,w),k=bc(i.stateNode,j,k),Nc(i,k),Gr!==4&&(Gr=2)),!1;var z=Error(t(520),{cause:j});if(z=oa(z,w),ks===null?ks=[z]:ks.push(z),Gr!==4&&(Gr=2),f===null)return!0;j=oa(j,w),w=f;do{switch(w.tag){case 3:return w.flags|=65536,i=k&-k,w.lanes|=i,i=bc(w.stateNode,j,i),Nc(w,i),!1;case 1:if(f=w.type,z=w.stateNode,(w.flags&128)===0&&(typeof f.getDerivedStateFromError=="function"||z!==null&&typeof z.componentDidCatch=="function"&&(ji===null||!ji.has(z))))return w.flags|=65536,k&=-k,w.lanes|=k,k=Ah(k),jh(k,i,w,j),Nc(w,k),!1}w=w.return}while(w!==null);return!1}var Ch=Error(t(461)),hn=!1;function Sn(i,f,w,j){f.child=i===null?Rd(f,null,w,j):Ji(f,i.child,w,j)}function Th(i,f,w,j,k){w=w.render;var z=f.ref;if("ref"in j){var ne={};for(var pe in j)pe!=="ref"&&(ne[pe]=j[pe])}else ne=j;return io(f),j=rc(i,f,w,ne,z,k),pe=nc(),i!==null&&!hn?(ac(i,f,k),qa(i,f,k)):(er&&pe&&Wu(f),f.flags|=1,Sn(i,f,j,k),f.child)}function Oh(i,f,w,j,k){if(i===null){var z=w.type;return typeof z=="function"&&!zc(z)&&z.defaultProps===void 0&&w.compare===null?(f.tag=15,f.type=z,Mh(i,f,z,j,k)):(i=Zl(w.type,null,j,f,f.mode,k),i.ref=f.ref,i.return=f,f.child=i)}if(z=i.child,!Tc(i,k)){var ne=z.memoizedProps;if(w=w.compare,w=w!==null?w:Ar,w(ne,j)&&i.ref===f.ref)return qa(i,f,k)}return f.flags|=1,i=Ei(z,j),i.ref=f.ref,i.return=f,f.child=i}function Mh(i,f,w,j,k){if(i!==null){var z=i.memoizedProps;if(Ar(z,j)&&i.ref===f.ref)if(hn=!1,f.pendingProps=j=z,Tc(i,k))i.flags&131072&&(hn=!0);else return f.lanes=i.lanes,qa(i,f,k)}return xc(i,f,w,j,k)}function Dh(i,f,w){var j=f.pendingProps,k=j.children,z=(f.stateNode._pendingVisibility&2)!==0,ne=i!==null?i.memoizedState:null;if(js(i,f),j.mode==="hidden"||z){if(f.flags&128){if(j=ne!==null?ne.baseLanes|w:w,i!==null){for(k=f.child=i.child,z=0;k!==null;)z=z|k.lanes|k.childLanes,k=k.sibling;f.childLanes=z&~j}else f.childLanes=0,f.child=null;return Rh(i,f,j,w)}if(w&536870912)f.memoizedState={baseLanes:0,cachePool:null},i!==null&&Nl(f,ne!==null?ne.cachePool:null),ne!==null?Id(f,ne):Ku(),Nd(f);else return f.lanes=f.childLanes=536870912,Rh(i,f,ne!==null?ne.baseLanes|w:w,w)}else ne!==null?(Nl(f,ne.cachePool),Id(f,ne),pi(),f.memoizedState=null):(i!==null&&Nl(f,null),Ku(),pi());return Sn(i,f,k,w),f.child}function Rh(i,f,w,j){var k=ec();return k=k===null?null:{parent:an._currentValue,pool:k},f.memoizedState={baseLanes:w,cachePool:k},i!==null&&Nl(f,null),Ku(),Nd(f),i!==null&&Cs(i,f,j,!0),null}function js(i,f){var w=f.ref;if(w===null)i!==null&&i.ref!==null&&(f.flags|=2097664);else{if(typeof w!="function"&&typeof w!="object")throw Error(t(284));(i===null||i.ref!==w)&&(f.flags|=2097664)}}function xc(i,f,w,j,k){return io(f),w=rc(i,f,w,j,void 0,k),j=nc(),i!==null&&!hn?(ac(i,f,k),qa(i,f,k)):(er&&j&&Wu(f),f.flags|=1,Sn(i,f,w,k),f.child)}function Ih(i,f,w,j,k,z){return io(f),f.updateQueue=null,w=Fd(f,j,w,k),Bd(i),j=nc(),i!==null&&!hn?(ac(i,f,z),qa(i,f,z)):(er&&j&&Wu(f),f.flags|=1,Sn(i,f,w,z),f.child)}function Nh(i,f,w,j,k){if(io(f),f.stateNode===null){var z=Co,ne=w.contextType;typeof ne=="object"&&ne!==null&&(z=Dn(ne)),z=new w(j,z),f.memoizedState=z.state!==null&&z.state!==void 0?z.state:null,z.updater=vc,f.stateNode=z,z._reactInternals=f,z=f.stateNode,z.props=j,z.state=f.memoizedState,z.refs={},Rc(f),ne=w.contextType,z.context=typeof ne=="object"&&ne!==null?Dn(ne):Co,z.state=f.memoizedState,ne=w.getDerivedStateFromProps,typeof ne=="function"&&(gc(f,w,ne,j),z.state=f.memoizedState),typeof w.getDerivedStateFromProps=="function"||typeof z.getSnapshotBeforeUpdate=="function"||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(ne=z.state,typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount(),ne!==z.state&&vc.enqueueReplaceState(z,z.state,null),Ms(f,j,z,k),Os(),z.state=f.memoizedState),typeof z.componentDidMount=="function"&&(f.flags|=4194308),j=!0}else if(i===null){z=f.stateNode;var pe=f.memoizedProps,Ee=no(w,pe);z.props=Ee;var Le=z.context,et=w.contextType;ne=Co,typeof et=="object"&&et!==null&&(ne=Dn(et));var ot=w.getDerivedStateFromProps;et=typeof ot=="function"||typeof z.getSnapshotBeforeUpdate=="function",pe=f.pendingProps!==pe,et||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(pe||Le!==ne)&&xh(f,z,j,ne),vi=!1;var qe=f.memoizedState;z.state=qe,Ms(f,j,z,k),Os(),Le=f.memoizedState,pe||qe!==Le||vi?(typeof ot=="function"&&(gc(f,w,ot,j),Le=f.memoizedState),(Ee=vi||bh(f,w,Ee,j,qe,Le,ne))?(et||typeof z.UNSAFE_componentWillMount!="function"&&typeof z.componentWillMount!="function"||(typeof z.componentWillMount=="function"&&z.componentWillMount(),typeof z.UNSAFE_componentWillMount=="function"&&z.UNSAFE_componentWillMount()),typeof z.componentDidMount=="function"&&(f.flags|=4194308)):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),f.memoizedProps=j,f.memoizedState=Le),z.props=j,z.state=Le,z.context=ne,j=Ee):(typeof z.componentDidMount=="function"&&(f.flags|=4194308),j=!1)}else{z=f.stateNode,Ic(i,f),ne=f.memoizedProps,et=no(w,ne),z.props=et,ot=f.pendingProps,qe=z.context,Le=w.contextType,Ee=Co,typeof Le=="object"&&Le!==null&&(Ee=Dn(Le)),pe=w.getDerivedStateFromProps,(Le=typeof pe=="function"||typeof z.getSnapshotBeforeUpdate=="function")||typeof z.UNSAFE_componentWillReceiveProps!="function"&&typeof z.componentWillReceiveProps!="function"||(ne!==ot||qe!==Ee)&&xh(f,z,j,Ee),vi=!1,qe=f.memoizedState,z.state=qe,Ms(f,j,z,k),Os();var Ke=f.memoizedState;ne!==ot||qe!==Ke||vi||i!==null&&i.dependencies!==null&&Xl(i.dependencies)?(typeof pe=="function"&&(gc(f,w,pe,j),Ke=f.memoizedState),(et=vi||bh(f,w,et,j,qe,Ke,Ee)||i!==null&&i.dependencies!==null&&Xl(i.dependencies))?(Le||typeof z.UNSAFE_componentWillUpdate!="function"&&typeof z.componentWillUpdate!="function"||(typeof z.componentWillUpdate=="function"&&z.componentWillUpdate(j,Ke,Ee),typeof z.UNSAFE_componentWillUpdate=="function"&&z.UNSAFE_componentWillUpdate(j,Ke,Ee)),typeof z.componentDidUpdate=="function"&&(f.flags|=4),typeof z.getSnapshotBeforeUpdate=="function"&&(f.flags|=1024)):(typeof z.componentDidUpdate!="function"||ne===i.memoizedProps&&qe===i.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ne===i.memoizedProps&&qe===i.memoizedState||(f.flags|=1024),f.memoizedProps=j,f.memoizedState=Ke),z.props=j,z.state=Ke,z.context=Ee,j=et):(typeof z.componentDidUpdate!="function"||ne===i.memoizedProps&&qe===i.memoizedState||(f.flags|=4),typeof z.getSnapshotBeforeUpdate!="function"||ne===i.memoizedProps&&qe===i.memoizedState||(f.flags|=1024),j=!1)}return z=j,js(i,f),j=(f.flags&128)!==0,z||j?(z=f.stateNode,w=j&&typeof w.getDerivedStateFromError!="function"?null:z.render(),f.flags|=1,i!==null&&j?(f.child=Ji(f,i.child,null,k),f.child=Ji(f,null,w,k)):Sn(i,f,w,k),f.memoizedState=z.state,i=f.child):i=qa(i,f,k),i}function Lh(i,f,w,j){return ms(),f.flags|=256,Sn(i,f,w,j),f.child}var _c={dehydrated:null,treeContext:null,retryLane:0};function wc(i){return{baseLanes:i,cachePool:Pd()}}function Sc(i,f,w){return i=i!==null?i.childLanes&~w:0,f&&(i|=ha),i}function kh(i,f,w){var j=f.pendingProps,k=!1,z=(f.flags&128)!==0,ne;if((ne=z)||(ne=i!==null&&i.memoizedState===null?!1:(nn.current&2)!==0),ne&&(k=!0,f.flags&=-129),ne=(f.flags&32)!==0,f.flags&=-33,i===null){if(er){if(k?hi(f):pi(),er){var pe=wn,Ee;if(Ee=pe){e:{for(Ee=pe,pe=Da;Ee.nodeType!==8;){if(!pe){pe=null;break e}if(Ee=wa(Ee.nextSibling),Ee===null){pe=null;break e}}pe=Ee}pe!==null?(f.memoizedState={dehydrated:pe,treeContext:Zi!==null?{id:Va,overflow:Ha}:null,retryLane:536870912},Ee=da(18,null,null,0),Ee.stateNode=pe,Ee.return=f,f.child=Ee,kn=f,wn=null,Ee=!0):Ee=!1}Ee||Qi(f)}if(pe=f.memoizedState,pe!==null&&(pe=pe.dehydrated,pe!==null))return pe.data==="$!"?f.lanes=16:f.lanes=536870912,null;Xa(f)}return pe=j.children,j=j.fallback,k?(pi(),k=f.mode,pe=Ac({mode:"hidden",children:pe},k),j=so(j,k,w,null),pe.return=f,j.return=f,pe.sibling=j,f.child=pe,k=f.child,k.memoizedState=wc(w),k.childLanes=Sc(i,ne,w),f.memoizedState=_c,j):(hi(f),Ec(f,pe))}if(Ee=i.memoizedState,Ee!==null&&(pe=Ee.dehydrated,pe!==null)){if(z)f.flags&256?(hi(f),f.flags&=-257,f=jc(i,f,w)):f.memoizedState!==null?(pi(),f.child=i.child,f.flags|=128,f=null):(pi(),k=j.fallback,pe=f.mode,j=Ac({mode:"visible",children:j.children},pe),k=so(k,pe,w,null),k.flags|=2,j.return=f,k.return=f,j.sibling=k,f.child=j,Ji(f,i.child,null,w),j=f.child,j.memoizedState=wc(w),j.childLanes=Sc(i,ne,w),f.memoizedState=_c,f=k);else if(hi(f),pe.data==="$!"){if(ne=pe.nextSibling&&pe.nextSibling.dataset,ne)var Le=ne.dgst;ne=Le,j=Error(t(419)),j.stack="",j.digest=ne,ys({value:j,source:null,stack:null}),f=jc(i,f,w)}else if(hn||Cs(i,f,w,!1),ne=(w&i.childLanes)!==0,hn||ne){if(ne=jr,ne!==null){if(j=w&-w,j&42)j=1;else switch(j){case 2:j=1;break;case 8:j=4;break;case 32:j=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:j=64;break;case 268435456:j=134217728;break;default:j=0}if(j=j&(ne.suspendedLanes|w)?0:j,j!==0&&j!==Ee.retryLane)throw Ee.retryLane=j,di(i,j),Pn(ne,i,j),Ch}pe.data==="$?"||ef(),f=jc(i,f,w)}else pe.data==="$?"?(f.flags|=128,f.child=i.child,f=G1.bind(null,i),pe._reactRetry=f,f=null):(i=Ee.treeContext,wn=wa(pe.nextSibling),kn=f,er=!0,xa=null,Da=!1,i!==null&&(sa[la++]=Va,sa[la++]=Ha,sa[la++]=Zi,Va=i.id,Ha=i.overflow,Zi=f),f=Ec(f,j.children),f.flags|=4096);return f}return k?(pi(),k=j.fallback,pe=f.mode,Ee=i.child,Le=Ee.sibling,j=Ei(Ee,{mode:"hidden",children:j.children}),j.subtreeFlags=Ee.subtreeFlags&31457280,Le!==null?k=Ei(Le,k):(k=so(k,pe,w,null),k.flags|=2),k.return=f,j.return=f,j.sibling=k,f.child=j,j=k,k=f.child,pe=i.child.memoizedState,pe===null?pe=wc(w):(Ee=pe.cachePool,Ee!==null?(Le=an._currentValue,Ee=Ee.parent!==Le?{parent:Le,pool:Le}:Ee):Ee=Pd(),pe={baseLanes:pe.baseLanes|w,cachePool:Ee}),k.memoizedState=pe,k.childLanes=Sc(i,ne,w),f.memoizedState=_c,j):(hi(f),w=i.child,i=w.sibling,w=Ei(w,{mode:"visible",children:j.children}),w.return=f,w.sibling=null,i!==null&&(ne=f.deletions,ne===null?(f.deletions=[i],f.flags|=16):ne.push(i)),f.child=w,f.memoizedState=null,w)}function Ec(i,f){return f=Ac({mode:"visible",children:f},i.mode),f.return=i,i.child=f}function Ac(i,f){return lp(i,f,0,null)}function jc(i,f,w){return Ji(f,i.child,null,w),i=Ec(f,f.pendingProps.children),i.flags|=2,f.memoizedState=null,i}function Ph(i,f,w){i.lanes|=f;var j=i.alternate;j!==null&&(j.lanes|=f),Mc(i.return,f,w)}function Cc(i,f,w,j,k){var z=i.memoizedState;z===null?i.memoizedState={isBackwards:f,rendering:null,renderingStartTime:0,last:j,tail:w,tailMode:k}:(z.isBackwards=f,z.rendering=null,z.renderingStartTime=0,z.last=j,z.tail=w,z.tailMode=k)}function Bh(i,f,w){var j=f.pendingProps,k=j.revealOrder,z=j.tail;if(Sn(i,f,j.children,w),j=nn.current,j&2)j=j&1|2,f.flags|=128;else{if(i!==null&&i.flags&128)e:for(i=f.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Ph(i,w,f);else if(i.tag===19)Ph(i,w,f);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===f)break e;for(;i.sibling===null;){if(i.return===null||i.return===f)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}j&=1}switch(ge(nn,j),k){case"forwards":for(w=f.child,k=null;w!==null;)i=w.alternate,i!==null&&Il(i)===null&&(k=w),w=w.sibling;w=k,w===null?(k=f.child,f.child=null):(k=w.sibling,w.sibling=null),Cc(f,!1,k,w,z);break;case"backwards":for(w=null,k=f.child,f.child=null;k!==null;){if(i=k.alternate,i!==null&&Il(i)===null){f.child=k;break}i=k.sibling,k.sibling=w,w=k,k=i}Cc(f,!0,w,null,z);break;case"together":Cc(f,!1,null,null,void 0);break;default:f.memoizedState=null}return f.child}function qa(i,f,w){if(i!==null&&(f.dependencies=i.dependencies),Ai|=f.lanes,!(w&f.childLanes))if(i!==null){if(Cs(i,f,w,!1),(w&f.childLanes)===0)return null}else return null;if(i!==null&&f.child!==i.child)throw Error(t(153));if(f.child!==null){for(i=f.child,w=Ei(i,i.pendingProps),f.child=w,w.return=f;i.sibling!==null;)i=i.sibling,w=w.sibling=Ei(i,i.pendingProps),w.return=f;w.sibling=null}return f.child}function Tc(i,f){return i.lanes&f?!0:(i=i.dependencies,!!(i!==null&&Xl(i)))}function C1(i,f,w){switch(f.tag){case 3:be(f,f.stateNode.containerInfo),gi(f,an,i.memoizedState.cache),ms();break;case 27:case 5:De(f);break;case 4:be(f,f.stateNode.containerInfo);break;case 10:gi(f,f.type,f.memoizedProps.value);break;case 13:var j=f.memoizedState;if(j!==null)return j.dehydrated!==null?(hi(f),f.flags|=128,null):w&f.child.childLanes?kh(i,f,w):(hi(f),i=qa(i,f,w),i!==null?i.sibling:null);hi(f);break;case 19:var k=(i.flags&128)!==0;if(j=(w&f.childLanes)!==0,j||(Cs(i,f,w,!1),j=(w&f.childLanes)!==0),k){if(j)return Bh(i,f,w);f.flags|=128}if(k=f.memoizedState,k!==null&&(k.rendering=null,k.tail=null,k.lastEffect=null),ge(nn,nn.current),j)break;return null;case 22:case 23:return f.lanes=0,Dh(i,f,w);case 24:gi(f,an,i.memoizedState.cache)}return qa(i,f,w)}function Fh(i,f,w){if(i!==null)if(i.memoizedProps!==f.pendingProps)hn=!0;else{if(!Tc(i,w)&&!(f.flags&128))return hn=!1,C1(i,f,w);hn=!!(i.flags&131072)}else hn=!1,er&&f.flags&1048576&&Sd(f,Tl,f.index);switch(f.lanes=0,f.tag){case 16:e:{i=f.pendingProps;var j=f.elementType,k=j._init;if(j=k(j._payload),f.type=j,typeof j=="function")zc(j)?(i=no(j,i),f.tag=1,f=Nh(null,f,j,i,w)):(f.tag=0,f=xc(null,f,j,i,w));else{if(j!=null){if(k=j.$$typeof,k===m){f.tag=11,f=Th(null,f,j,i,w);break e}else if(k===x){f.tag=14,f=Oh(null,f,j,i,w);break e}}throw f=R(j)||j,Error(t(306,f,""))}}return f;case 0:return xc(i,f,f.type,f.pendingProps,w);case 1:return j=f.type,k=no(j,f.pendingProps),Nh(i,f,j,k,w);case 3:e:{if(be(f,f.stateNode.containerInfo),i===null)throw Error(t(387));var z=f.pendingProps;k=f.memoizedState,j=k.element,Ic(i,f),Ms(f,z,null,w);var ne=f.memoizedState;if(z=ne.cache,gi(f,an,z),z!==k.cache&&Dc(f,[an],w,!0),Os(),z=ne.element,k.isDehydrated)if(k={element:z,isDehydrated:!1,cache:ne.cache},f.updateQueue.baseState=k,f.memoizedState=k,f.flags&256){f=Lh(i,f,z,w);break e}else if(z!==j){j=oa(Error(t(424)),f),ys(j),f=Lh(i,f,z,w);break e}else for(wn=wa(f.stateNode.containerInfo.firstChild),kn=f,er=!0,xa=null,Da=!0,w=Rd(f,null,z,w),f.child=w;w;)w.flags=w.flags&-3|4096,w=w.sibling;else{if(ms(),z===j){f=qa(i,f,w);break e}Sn(i,f,z,w)}f=f.child}return f;case 26:return js(i,f),i===null?(w=zp(f.type,null,f.pendingProps,null))?f.memoizedState=w:er||(w=f.type,i=f.pendingProps,j=su(xe.current).createElement(w),j[Br]=f,j[qr]=i,En(j,w,i),Dt(j),f.stateNode=j):f.memoizedState=zp(f.type,i.memoizedProps,f.pendingProps,i.memoizedState),null;case 27:return De(f),i===null&&er&&(j=f.stateNode=Fp(f.type,f.pendingProps,xe.current),kn=f,Da=!0,wn=wa(j.firstChild)),j=f.pendingProps.children,i!==null||er?Sn(i,f,j,w):f.child=Ji(f,null,j,w),js(i,f),f.child;case 5:return i===null&&er&&((k=j=wn)&&(j=ny(j,f.type,f.pendingProps,Da),j!==null?(f.stateNode=j,kn=f,wn=wa(j.firstChild),Da=!1,k=!0):k=!1),k||Qi(f)),De(f),k=f.type,z=f.pendingProps,ne=i!==null?i.memoizedProps:null,j=z.children,mf(k,z)?j=null:ne!==null&&mf(k,ne)&&(f.flags|=32),f.memoizedState!==null&&(k=rc(i,f,x1,null,null,w),Xs._currentValue=k),js(i,f),Sn(i,f,j,w),f.child;case 6:return i===null&&er&&((i=w=wn)&&(w=ay(w,f.pendingProps,Da),w!==null?(f.stateNode=w,kn=f,wn=null,i=!0):i=!1),i||Qi(f)),null;case 13:return kh(i,f,w);case 4:return be(f,f.stateNode.containerInfo),j=f.pendingProps,i===null?f.child=Ji(f,null,j,w):Sn(i,f,j,w),f.child;case 11:return Th(i,f,f.type,f.pendingProps,w);case 7:return Sn(i,f,f.pendingProps,w),f.child;case 8:return Sn(i,f,f.pendingProps.children,w),f.child;case 12:return Sn(i,f,f.pendingProps.children,w),f.child;case 10:return j=f.pendingProps,gi(f,f.type,j.value),Sn(i,f,j.children,w),f.child;case 9:return k=f.type._context,j=f.pendingProps.children,io(f),k=Dn(k),j=j(k),f.flags|=1,Sn(i,f,j,w),f.child;case 14:return Oh(i,f,f.type,f.pendingProps,w);case 15:return Mh(i,f,f.type,f.pendingProps,w);case 19:return Bh(i,f,w);case 22:return Dh(i,f,w);case 24:return io(f),j=Dn(an),i===null?(k=ec(),k===null&&(k=jr,z=Ju(),k.pooledCache=z,z.refCount++,z!==null&&(k.pooledCacheLanes|=w),k=z),f.memoizedState={parent:j,cache:k},Rc(f),gi(f,an,k)):(i.lanes&w&&(Ic(i,f),Ms(f,null,null,w),Os()),k=i.memoizedState,z=f.memoizedState,k.parent!==j?(k={parent:j,cache:j},f.memoizedState=k,f.lanes===0&&(f.memoizedState=f.updateQueue.baseState=k),gi(f,an,j)):(j=z.cache,gi(f,an,j),j!==k.cache&&Dc(f,[an],w,!0))),Sn(i,f,f.pendingProps.children,w),f.child;case 29:throw f.pendingProps}throw Error(t(156,f.tag))}var Oc=ie(null),ao=null,Ya=null;function gi(i,f,w){ge(Oc,f._currentValue),f._currentValue=w}function Za(i){i._currentValue=Oc.current,he(Oc)}function Mc(i,f,w){for(;i!==null;){var j=i.alternate;if((i.childLanes&f)!==f?(i.childLanes|=f,j!==null&&(j.childLanes|=f)):j!==null&&(j.childLanes&f)!==f&&(j.childLanes|=f),i===w)break;i=i.return}}function Dc(i,f,w,j){var k=i.child;for(k!==null&&(k.return=i);k!==null;){var z=k.dependencies;if(z!==null){var ne=k.child;z=z.firstContext;e:for(;z!==null;){var pe=z;z=k;for(var Ee=0;Ee<f.length;Ee++)if(pe.context===f[Ee]){z.lanes|=w,pe=z.alternate,pe!==null&&(pe.lanes|=w),Mc(z.return,w,i),j||(ne=null);break e}z=pe.next}}else if(k.tag===18){if(ne=k.return,ne===null)throw Error(t(341));ne.lanes|=w,z=ne.alternate,z!==null&&(z.lanes|=w),Mc(ne,w,i),ne=null}else ne=k.child;if(ne!==null)ne.return=k;else for(ne=k;ne!==null;){if(ne===i){ne=null;break}if(k=ne.sibling,k!==null){k.return=ne.return,ne=k;break}ne=ne.return}k=ne}}function Cs(i,f,w,j){i=null;for(var k=f,z=!1;k!==null;){if(!z){if(k.flags&524288)z=!0;else if(k.flags&262144)break}if(k.tag===10){var ne=k.alternate;if(ne===null)throw Error(t(387));if(ne=ne.memoizedProps,ne!==null){var pe=k.type;Zt(k.pendingProps.value,ne.value)||(i!==null?i.push(pe):i=[pe])}}else if(k===se.current){if(ne=k.alternate,ne===null)throw Error(t(387));ne.memoizedState.memoizedState!==k.memoizedState.memoizedState&&(i!==null?i.push(Xs):i=[Xs])}k=k.return}i!==null&&Dc(f,i,w,j),f.flags|=262144}function Xl(i){for(i=i.firstContext;i!==null;){if(!Zt(i.context._currentValue,i.memoizedValue))return!0;i=i.next}return!1}function io(i){ao=i,Ya=null,i=i.dependencies,i!==null&&(i.firstContext=null)}function Dn(i){return Uh(ao,i)}function Wl(i,f){return ao===null&&io(i),Uh(i,f)}function Uh(i,f){var w=f._currentValue;if(f={context:f,memoizedValue:w,next:null},Ya===null){if(i===null)throw Error(t(308));Ya=f,i.dependencies={lanes:0,firstContext:f},i.flags|=524288}else Ya=Ya.next=f;return w}var vi=!1;function Rc(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Ic(i,f){i=i.updateQueue,f.updateQueue===i&&(f.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,callbacks:null})}function bi(i){return{lane:i,tag:0,payload:null,callback:null,next:null}}function xi(i,f,w){var j=i.updateQueue;if(j===null)return null;if(j=j.shared,Pr&2){var k=j.pending;return k===null?f.next=f:(f.next=k.next,k.next=f),j.pending=f,f=jl(i),_d(i,null,w),f}return Al(i,j,f,w),jl(i)}function Ts(i,f,w){if(f=f.updateQueue,f!==null&&(f=f.shared,(w&4194176)!==0)){var j=f.lanes;j&=i.pendingLanes,w|=j,f.lanes=w,Wr(i,w)}}function Nc(i,f){var w=i.updateQueue,j=i.alternate;if(j!==null&&(j=j.updateQueue,w===j)){var k=null,z=null;if(w=w.firstBaseUpdate,w!==null){do{var ne={lane:w.lane,tag:w.tag,payload:w.payload,callback:null,next:null};z===null?k=z=ne:z=z.next=ne,w=w.next}while(w!==null);z===null?k=z=f:z=z.next=f}else k=z=f;w={baseState:j.baseState,firstBaseUpdate:k,lastBaseUpdate:z,shared:j.shared,callbacks:j.callbacks},i.updateQueue=w;return}i=w.lastBaseUpdate,i===null?w.firstBaseUpdate=f:i.next=f,w.lastBaseUpdate=f}var Lc=!1;function Os(){if(Lc){var i=Io;if(i!==null)throw i}}function Ms(i,f,w,j){Lc=!1;var k=i.updateQueue;vi=!1;var z=k.firstBaseUpdate,ne=k.lastBaseUpdate,pe=k.shared.pending;if(pe!==null){k.shared.pending=null;var Ee=pe,Le=Ee.next;Ee.next=null,ne===null?z=Le:ne.next=Le,ne=Ee;var et=i.alternate;et!==null&&(et=et.updateQueue,pe=et.lastBaseUpdate,pe!==ne&&(pe===null?et.firstBaseUpdate=Le:pe.next=Le,et.lastBaseUpdate=Ee))}if(z!==null){var ot=k.baseState;ne=0,et=Le=Ee=null,pe=z;do{var qe=pe.lane&-536870913,Ke=qe!==pe.lane;if(Ke?(Qt&qe)===qe:(j&qe)===qe){qe!==0&&qe===Ro&&(Lc=!0),et!==null&&(et=et.next={lane:0,tag:pe.tag,payload:pe.payload,callback:null,next:null});e:{var Ct=i,Bt=pe;qe=f;var zr=w;switch(Bt.tag){case 1:if(Ct=Bt.payload,typeof Ct=="function"){ot=Ct.call(zr,ot,qe);break e}ot=Ct;break e;case 3:Ct.flags=Ct.flags&-65537|128;case 0:if(Ct=Bt.payload,qe=typeof Ct=="function"?Ct.call(zr,ot,qe):Ct,qe==null)break e;ot=F({},ot,qe);break e;case 2:vi=!0}}qe=pe.callback,qe!==null&&(i.flags|=64,Ke&&(i.flags|=8192),Ke=k.callbacks,Ke===null?k.callbacks=[qe]:Ke.push(qe))}else Ke={lane:qe,tag:pe.tag,payload:pe.payload,callback:pe.callback,next:null},et===null?(Le=et=Ke,Ee=ot):et=et.next=Ke,ne|=qe;if(pe=pe.next,pe===null){if(pe=k.shared.pending,pe===null)break;Ke=pe,pe=Ke.next,Ke.next=null,k.lastBaseUpdate=Ke,k.shared.pending=null}}while(!0);et===null&&(Ee=ot),k.baseState=Ee,k.firstBaseUpdate=Le,k.lastBaseUpdate=et,z===null&&(k.shared.lanes=0),Ai|=ne,i.lanes=ne,i.memoizedState=ot}}function Gh(i,f){if(typeof i!="function")throw Error(t(191,i));i.call(f)}function zh(i,f){var w=i.callbacks;if(w!==null)for(i.callbacks=null,i=0;i<w.length;i++)Gh(w[i],f)}function Ds(i,f){try{var w=f.updateQueue,j=w!==null?w.lastEffect:null;if(j!==null){var k=j.next;w=k;do{if((w.tag&i)===i){j=void 0;var z=w.create,ne=w.inst;j=z(),ne.destroy=j}w=w.next}while(w!==k)}}catch(pe){Er(f,f.return,pe)}}function _i(i,f,w){try{var j=f.updateQueue,k=j!==null?j.lastEffect:null;if(k!==null){var z=k.next;j=z;do{if((j.tag&i)===i){var ne=j.inst,pe=ne.destroy;if(pe!==void 0){ne.destroy=void 0,k=f;var Ee=w;try{pe()}catch(Le){Er(k,Ee,Le)}}}j=j.next}while(j!==z)}}catch(Le){Er(f,f.return,Le)}}function Vh(i){var f=i.updateQueue;if(f!==null){var w=i.stateNode;try{zh(f,w)}catch(j){Er(i,i.return,j)}}}function Hh(i,f,w){w.props=no(i.type,i.memoizedProps),w.state=i.memoizedState;try{w.componentWillUnmount()}catch(j){Er(i,f,j)}}function oo(i,f){try{var w=i.ref;if(w!==null){var j=i.stateNode;switch(i.tag){case 26:case 27:case 5:var k=j;break;default:k=j}typeof w=="function"?i.refCleanup=w(k):w.current=k}}catch(z){Er(i,f,z)}}function Jn(i,f){var w=i.ref,j=i.refCleanup;if(w!==null)if(typeof j=="function")try{j()}catch(k){Er(i,f,k)}finally{i.refCleanup=null,i=i.alternate,i!=null&&(i.refCleanup=null)}else if(typeof w=="function")try{w(null)}catch(k){Er(i,f,k)}else w.current=null}function Xh(i){var f=i.type,w=i.memoizedProps,j=i.stateNode;try{e:switch(f){case"button":case"input":case"select":case"textarea":w.autoFocus&&j.focus();break e;case"img":w.src?j.src=w.src:w.srcSet&&(j.srcset=w.srcSet)}}catch(k){Er(i,i.return,k)}}function Wh(i,f,w){try{var j=i.stateNode;J1(j,i.type,w,f),j[qr]=f}catch(k){Er(i,i.return,k)}}function qh(i){return i.tag===5||i.tag===3||i.tag===26||i.tag===27||i.tag===4}function kc(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||qh(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==27&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pc(i,f,w){var j=i.tag;if(j===5||j===6)i=i.stateNode,f?w.nodeType===8?w.parentNode.insertBefore(i,f):w.insertBefore(i,f):(w.nodeType===8?(f=w.parentNode,f.insertBefore(i,w)):(f=w,f.appendChild(i)),w=w._reactRootContainer,w!=null||f.onclick!==null||(f.onclick=ou));else if(j!==4&&j!==27&&(i=i.child,i!==null))for(Pc(i,f,w),i=i.sibling;i!==null;)Pc(i,f,w),i=i.sibling}function ql(i,f,w){var j=i.tag;if(j===5||j===6)i=i.stateNode,f?w.insertBefore(i,f):w.appendChild(i);else if(j!==4&&j!==27&&(i=i.child,i!==null))for(ql(i,f,w),i=i.sibling;i!==null;)ql(i,f,w),i=i.sibling}var Ka=!1,Ur=!1,Bc=!1,Yh=typeof WeakSet=="function"?WeakSet:Set,pn=null,Zh=!1;function T1(i,f){if(i=i.containerInfo,hf=hu,i=lr(i),pr(i)){if("selectionStart"in i)var w={start:i.selectionStart,end:i.selectionEnd};else e:{w=(w=i.ownerDocument)&&w.defaultView||window;var j=w.getSelection&&w.getSelection();if(j&&j.rangeCount!==0){w=j.anchorNode;var k=j.anchorOffset,z=j.focusNode;j=j.focusOffset;try{w.nodeType,z.nodeType}catch{w=null;break e}var ne=0,pe=-1,Ee=-1,Le=0,et=0,ot=i,qe=null;t:for(;;){for(var Ke;ot!==w||k!==0&&ot.nodeType!==3||(pe=ne+k),ot!==z||j!==0&&ot.nodeType!==3||(Ee=ne+j),ot.nodeType===3&&(ne+=ot.nodeValue.length),(Ke=ot.firstChild)!==null;)qe=ot,ot=Ke;for(;;){if(ot===i)break t;if(qe===w&&++Le===k&&(pe=ne),qe===z&&++et===j&&(Ee=ne),(Ke=ot.nextSibling)!==null)break;ot=qe,qe=ot.parentNode}ot=Ke}w=pe===-1||Ee===-1?null:{start:pe,end:Ee}}else w=null}w=w||{start:0,end:0}}else w=null;for(pf={focusedElem:i,selectionRange:w},hu=!1,pn=f;pn!==null;)if(f=pn,i=f.child,(f.subtreeFlags&1028)!==0&&i!==null)i.return=f,pn=i;else for(;pn!==null;){switch(f=pn,z=f.alternate,i=f.flags,f.tag){case 0:break;case 11:case 15:break;case 1:if(i&1024&&z!==null){i=void 0,w=f,k=z.memoizedProps,z=z.memoizedState,j=w.stateNode;try{var Ct=no(w.type,k,w.elementType===w.type);i=j.getSnapshotBeforeUpdate(Ct,z),j.__reactInternalSnapshotBeforeUpdate=i}catch(Bt){Er(w,w.return,Bt)}}break;case 3:if(i&1024){if(i=f.stateNode.containerInfo,w=i.nodeType,w===9)vf(i);else if(w===1)switch(i.nodeName){case"HEAD":case"HTML":case"BODY":vf(i);break;default:i.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(i&1024)throw Error(t(163))}if(i=f.sibling,i!==null){i.return=f.return,pn=i;break}pn=f.return}return Ct=Zh,Zh=!1,Ct}function Kh(i,f,w){var j=w.flags;switch(w.tag){case 0:case 11:case 15:Ja(i,w),j&4&&Ds(5,w);break;case 1:if(Ja(i,w),j&4)if(i=w.stateNode,f===null)try{i.componentDidMount()}catch(pe){Er(w,w.return,pe)}else{var k=no(w.type,f.memoizedProps);f=f.memoizedState;try{i.componentDidUpdate(k,f,i.__reactInternalSnapshotBeforeUpdate)}catch(pe){Er(w,w.return,pe)}}j&64&&Vh(w),j&512&&oo(w,w.return);break;case 3:if(Ja(i,w),j&64&&(j=w.updateQueue,j!==null)){if(i=null,w.child!==null)switch(w.child.tag){case 27:case 5:i=w.child.stateNode;break;case 1:i=w.child.stateNode}try{zh(j,i)}catch(pe){Er(w,w.return,pe)}}break;case 26:Ja(i,w),j&512&&oo(w,w.return);break;case 27:case 5:Ja(i,w),f===null&&j&4&&Xh(w),j&512&&oo(w,w.return);break;case 12:Ja(i,w);break;case 13:Ja(i,w),j&4&&$h(i,w);break;case 22:if(k=w.memoizedState!==null||Ka,!k){f=f!==null&&f.memoizedState!==null||Ur;var z=Ka,ne=Ur;Ka=k,(Ur=f)&&!ne?wi(i,w,(w.subtreeFlags&8772)!==0):Ja(i,w),Ka=z,Ur=ne}j&512&&(w.memoizedProps.mode==="manual"?oo(w,w.return):Jn(w,w.return));break;default:Ja(i,w)}}function Qh(i){var f=i.alternate;f!==null&&(i.alternate=null,Qh(f)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(f=i.stateNode,f!==null&&nt(f)),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}var Qr=null,$n=!1;function Qa(i,f,w){for(w=w.child;w!==null;)Jh(i,f,w),w=w.sibling}function Jh(i,f,w){if(de&&typeof de.onCommitFiberUnmount=="function")try{de.onCommitFiberUnmount(re,w)}catch{}switch(w.tag){case 26:Ur||Jn(w,f),Qa(i,f,w),w.memoizedState?w.memoizedState.count--:w.stateNode&&(w=w.stateNode,w.parentNode.removeChild(w));break;case 27:Ur||Jn(w,f);var j=Qr,k=$n;for(Qr=w.stateNode,Qa(i,f,w),w=w.stateNode,f=w.attributes;f.length;)w.removeAttributeNode(f[0]);nt(w),Qr=j,$n=k;break;case 5:Ur||Jn(w,f);case 6:k=Qr;var z=$n;if(Qr=null,Qa(i,f,w),Qr=k,$n=z,Qr!==null)if($n)try{i=Qr,j=w.stateNode,i.nodeType===8?i.parentNode.removeChild(j):i.removeChild(j)}catch(ne){Er(w,f,ne)}else try{Qr.removeChild(w.stateNode)}catch(ne){Er(w,f,ne)}break;case 18:Qr!==null&&($n?(f=Qr,w=w.stateNode,f.nodeType===8?gf(f.parentNode,w):f.nodeType===1&&gf(f,w),Zs(f)):gf(Qr,w.stateNode));break;case 4:j=Qr,k=$n,Qr=w.stateNode.containerInfo,$n=!0,Qa(i,f,w),Qr=j,$n=k;break;case 0:case 11:case 14:case 15:Ur||_i(2,w,f),Ur||_i(4,w,f),Qa(i,f,w);break;case 1:Ur||(Jn(w,f),j=w.stateNode,typeof j.componentWillUnmount=="function"&&Hh(w,f,j)),Qa(i,f,w);break;case 21:Qa(i,f,w);break;case 22:Ur||Jn(w,f),Ur=(j=Ur)||w.memoizedState!==null,Qa(i,f,w),Ur=j;break;default:Qa(i,f,w)}}function $h(i,f){if(f.memoizedState===null&&(i=f.alternate,i!==null&&(i=i.memoizedState,i!==null&&(i=i.dehydrated,i!==null))))try{Zs(i)}catch(w){Er(f,f.return,w)}}function O1(i){switch(i.tag){case 13:case 19:var f=i.stateNode;return f===null&&(f=i.stateNode=new Yh),f;case 22:return i=i.stateNode,f=i._retryCache,f===null&&(f=i._retryCache=new Yh),f;default:throw Error(t(435,i.tag))}}function Fc(i,f){var w=O1(i);f.forEach(function(j){var k=z1.bind(null,i,j);w.has(j)||(w.add(j),j.then(k,k))})}function ca(i,f){var w=f.deletions;if(w!==null)for(var j=0;j<w.length;j++){var k=w[j],z=i,ne=f,pe=ne;e:for(;pe!==null;){switch(pe.tag){case 27:case 5:Qr=pe.stateNode,$n=!1;break e;case 3:Qr=pe.stateNode.containerInfo,$n=!0;break e;case 4:Qr=pe.stateNode.containerInfo,$n=!0;break e}pe=pe.return}if(Qr===null)throw Error(t(160));Jh(z,ne,k),Qr=null,$n=!1,z=k.alternate,z!==null&&(z.return=null),k.return=null}if(f.subtreeFlags&13878)for(f=f.child;f!==null;)ep(f,i),f=f.sibling}var _a=null;function ep(i,f){var w=i.alternate,j=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:ca(f,i),fa(i),j&4&&(_i(3,i,i.return),Ds(3,i),_i(5,i,i.return));break;case 1:ca(f,i),fa(i),j&512&&(Ur||w===null||Jn(w,w.return)),j&64&&Ka&&(i=i.updateQueue,i!==null&&(j=i.callbacks,j!==null&&(w=i.shared.hiddenCallbacks,i.shared.hiddenCallbacks=w===null?j:w.concat(j))));break;case 26:var k=_a;if(ca(f,i),fa(i),j&512&&(Ur||w===null||Jn(w,w.return)),j&4){var z=w!==null?w.memoizedState:null;if(j=i.memoizedState,w===null)if(j===null)if(i.stateNode===null){e:{j=i.type,w=i.memoizedProps,k=k.ownerDocument||k;t:switch(j){case"title":z=k.getElementsByTagName("title")[0],(!z||z[pt]||z[Br]||z.namespaceURI==="http://www.w3.org/2000/svg"||z.hasAttribute("itemprop"))&&(z=k.createElement(j),k.head.insertBefore(z,k.querySelector("head > title"))),En(z,j,w),z[Br]=i,Dt(z),j=z;break e;case"link":var ne=Xp("link","href",k).get(j+(w.href||""));if(ne){for(var pe=0;pe<ne.length;pe++)if(z=ne[pe],z.getAttribute("href")===(w.href==null?null:w.href)&&z.getAttribute("rel")===(w.rel==null?null:w.rel)&&z.getAttribute("title")===(w.title==null?null:w.title)&&z.getAttribute("crossorigin")===(w.crossOrigin==null?null:w.crossOrigin)){ne.splice(pe,1);break t}}z=k.createElement(j),En(z,j,w),k.head.appendChild(z);break;case"meta":if(ne=Xp("meta","content",k).get(j+(w.content||""))){for(pe=0;pe<ne.length;pe++)if(z=ne[pe],z.getAttribute("content")===(w.content==null?null:""+w.content)&&z.getAttribute("name")===(w.name==null?null:w.name)&&z.getAttribute("property")===(w.property==null?null:w.property)&&z.getAttribute("http-equiv")===(w.httpEquiv==null?null:w.httpEquiv)&&z.getAttribute("charset")===(w.charSet==null?null:w.charSet)){ne.splice(pe,1);break t}}z=k.createElement(j),En(z,j,w),k.head.appendChild(z);break;default:throw Error(t(468,j))}z[Br]=i,Dt(z),j=z}i.stateNode=j}else Wp(k,i.type,i.stateNode);else i.stateNode=Hp(k,j,i.memoizedProps);else z!==j?(z===null?w.stateNode!==null&&(w=w.stateNode,w.parentNode.removeChild(w)):z.count--,j===null?Wp(k,i.type,i.stateNode):Hp(k,j,i.memoizedProps)):j===null&&i.stateNode!==null&&Wh(i,i.memoizedProps,w.memoizedProps)}break;case 27:if(j&4&&i.alternate===null){k=i.stateNode,z=i.memoizedProps;try{for(var Ee=k.firstChild;Ee;){var Le=Ee.nextSibling,et=Ee.nodeName;Ee[pt]||et==="HEAD"||et==="BODY"||et==="SCRIPT"||et==="STYLE"||et==="LINK"&&Ee.rel.toLowerCase()==="stylesheet"||k.removeChild(Ee),Ee=Le}for(var ot=i.type,qe=k.attributes;qe.length;)k.removeAttributeNode(qe[0]);En(k,ot,z),k[Br]=i,k[qr]=z}catch(Ct){Er(i,i.return,Ct)}}case 5:if(ca(f,i),fa(i),j&512&&(Ur||w===null||Jn(w,w.return)),i.flags&32){k=i.stateNode;try{_n(k,"")}catch(Ct){Er(i,i.return,Ct)}}j&4&&i.stateNode!=null&&(k=i.memoizedProps,Wh(i,k,w!==null?w.memoizedProps:k)),j&1024&&(Bc=!0);break;case 6:if(ca(f,i),fa(i),j&4){if(i.stateNode===null)throw Error(t(162));j=i.memoizedProps,w=i.stateNode;try{w.nodeValue=j}catch(Ct){Er(i,i.return,Ct)}}break;case 3:if(cu=null,k=_a,_a=lu(f.containerInfo),ca(f,i),_a=k,fa(i),j&4&&w!==null&&w.memoizedState.isDehydrated)try{Zs(f.containerInfo)}catch(Ct){Er(i,i.return,Ct)}Bc&&(Bc=!1,tp(i));break;case 4:j=_a,_a=lu(i.stateNode.containerInfo),ca(f,i),fa(i),_a=j;break;case 12:ca(f,i),fa(i);break;case 13:ca(f,i),fa(i),i.child.flags&8192&&i.memoizedState!==null!=(w!==null&&w.memoizedState!==null)&&(Yc=st()),j&4&&(j=i.updateQueue,j!==null&&(i.updateQueue=null,Fc(i,j)));break;case 22:if(j&512&&(Ur||w===null||Jn(w,w.return)),Ee=i.memoizedState!==null,Le=w!==null&&w.memoizedState!==null,et=Ka,ot=Ur,Ka=et||Ee,Ur=ot||Le,ca(f,i),Ur=ot,Ka=et,fa(i),f=i.stateNode,f._current=i,f._visibility&=-3,f._visibility|=f._pendingVisibility&2,j&8192&&(f._visibility=Ee?f._visibility&-2:f._visibility|1,Ee&&(f=Ka||Ur,w===null||Le||f||Po(i)),i.memoizedProps===null||i.memoizedProps.mode!=="manual"))e:for(w=null,f=i;;){if(f.tag===5||f.tag===26||f.tag===27){if(w===null){Le=w=f;try{if(k=Le.stateNode,Ee)z=k.style,typeof z.setProperty=="function"?z.setProperty("display","none","important"):z.display="none";else{ne=Le.stateNode,pe=Le.memoizedProps.style;var Ke=pe!=null&&pe.hasOwnProperty("display")?pe.display:null;ne.style.display=Ke==null||typeof Ke=="boolean"?"":(""+Ke).trim()}}catch(Ct){Er(Le,Le.return,Ct)}}}else if(f.tag===6){if(w===null){Le=f;try{Le.stateNode.nodeValue=Ee?"":Le.memoizedProps}catch(Ct){Er(Le,Le.return,Ct)}}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===i)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===i)break e;for(;f.sibling===null;){if(f.return===null||f.return===i)break e;w===f&&(w=null),f=f.return}w===f&&(w=null),f.sibling.return=f.return,f=f.sibling}j&4&&(j=i.updateQueue,j!==null&&(w=j.retryQueue,w!==null&&(j.retryQueue=null,Fc(i,w))));break;case 19:ca(f,i),fa(i),j&4&&(j=i.updateQueue,j!==null&&(i.updateQueue=null,Fc(i,j)));break;case 21:break;default:ca(f,i),fa(i)}}function fa(i){var f=i.flags;if(f&2){try{if(i.tag!==27){e:{for(var w=i.return;w!==null;){if(qh(w)){var j=w;break e}w=w.return}throw Error(t(160))}switch(j.tag){case 27:var k=j.stateNode,z=kc(i);ql(i,z,k);break;case 5:var ne=j.stateNode;j.flags&32&&(_n(ne,""),j.flags&=-33);var pe=kc(i);ql(i,pe,ne);break;case 3:case 4:var Ee=j.stateNode.containerInfo,Le=kc(i);Pc(i,Le,Ee);break;default:throw Error(t(161))}}}catch(et){Er(i,i.return,et)}i.flags&=-3}f&4096&&(i.flags&=-4097)}function tp(i){if(i.subtreeFlags&1024)for(i=i.child;i!==null;){var f=i;tp(f),f.tag===5&&f.flags&1024&&f.stateNode.reset(),i=i.sibling}}function Ja(i,f){if(f.subtreeFlags&8772)for(f=f.child;f!==null;)Kh(i,f.alternate,f),f=f.sibling}function Po(i){for(i=i.child;i!==null;){var f=i;switch(f.tag){case 0:case 11:case 14:case 15:_i(4,f,f.return),Po(f);break;case 1:Jn(f,f.return);var w=f.stateNode;typeof w.componentWillUnmount=="function"&&Hh(f,f.return,w),Po(f);break;case 26:case 27:case 5:Jn(f,f.return),Po(f);break;case 22:Jn(f,f.return),f.memoizedState===null&&Po(f);break;default:Po(f)}i=i.sibling}}function wi(i,f,w){for(w=w&&(f.subtreeFlags&8772)!==0,f=f.child;f!==null;){var j=f.alternate,k=i,z=f,ne=z.flags;switch(z.tag){case 0:case 11:case 15:wi(k,z,w),Ds(4,z);break;case 1:if(wi(k,z,w),j=z,k=j.stateNode,typeof k.componentDidMount=="function")try{k.componentDidMount()}catch(Le){Er(j,j.return,Le)}if(j=z,k=j.updateQueue,k!==null){var pe=j.stateNode;try{var Ee=k.shared.hiddenCallbacks;if(Ee!==null)for(k.shared.hiddenCallbacks=null,k=0;k<Ee.length;k++)Gh(Ee[k],pe)}catch(Le){Er(j,j.return,Le)}}w&&ne&64&&Vh(z),oo(z,z.return);break;case 26:case 27:case 5:wi(k,z,w),w&&j===null&&ne&4&&Xh(z),oo(z,z.return);break;case 12:wi(k,z,w);break;case 13:wi(k,z,w),w&&ne&4&&$h(k,z);break;case 22:z.memoizedState===null&&wi(k,z,w),oo(z,z.return);break;default:wi(k,z,w)}f=f.sibling}}function Uc(i,f){var w=null;i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(w=i.memoizedState.cachePool.pool),i=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(i=f.memoizedState.cachePool.pool),i!==w&&(i!=null&&i.refCount++,w!=null&&_s(w))}function Gc(i,f){i=null,f.alternate!==null&&(i=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==i&&(f.refCount++,i!=null&&_s(i))}function Si(i,f,w,j){if(f.subtreeFlags&10256)for(f=f.child;f!==null;)rp(i,f,w,j),f=f.sibling}function rp(i,f,w,j){var k=f.flags;switch(f.tag){case 0:case 11:case 15:Si(i,f,w,j),k&2048&&Ds(9,f);break;case 3:Si(i,f,w,j),k&2048&&(i=null,f.alternate!==null&&(i=f.alternate.memoizedState.cache),f=f.memoizedState.cache,f!==i&&(f.refCount++,i!=null&&_s(i)));break;case 12:if(k&2048){Si(i,f,w,j),i=f.stateNode;try{var z=f.memoizedProps,ne=z.id,pe=z.onPostCommit;typeof pe=="function"&&pe(ne,f.alternate===null?"mount":"update",i.passiveEffectDuration,-0)}catch(Ee){Er(f,f.return,Ee)}}else Si(i,f,w,j);break;case 23:break;case 22:z=f.stateNode,f.memoizedState!==null?z._visibility&4?Si(i,f,w,j):Rs(i,f):z._visibility&4?Si(i,f,w,j):(z._visibility|=4,Bo(i,f,w,j,(f.subtreeFlags&10256)!==0)),k&2048&&Uc(f.alternate,f);break;case 24:Si(i,f,w,j),k&2048&&Gc(f.alternate,f);break;default:Si(i,f,w,j)}}function Bo(i,f,w,j,k){for(k=k&&(f.subtreeFlags&10256)!==0,f=f.child;f!==null;){var z=i,ne=f,pe=w,Ee=j,Le=ne.flags;switch(ne.tag){case 0:case 11:case 15:Bo(z,ne,pe,Ee,k),Ds(8,ne);break;case 23:break;case 22:var et=ne.stateNode;ne.memoizedState!==null?et._visibility&4?Bo(z,ne,pe,Ee,k):Rs(z,ne):(et._visibility|=4,Bo(z,ne,pe,Ee,k)),k&&Le&2048&&Uc(ne.alternate,ne);break;case 24:Bo(z,ne,pe,Ee,k),k&&Le&2048&&Gc(ne.alternate,ne);break;default:Bo(z,ne,pe,Ee,k)}f=f.sibling}}function Rs(i,f){if(f.subtreeFlags&10256)for(f=f.child;f!==null;){var w=i,j=f,k=j.flags;switch(j.tag){case 22:Rs(w,j),k&2048&&Uc(j.alternate,j);break;case 24:Rs(w,j),k&2048&&Gc(j.alternate,j);break;default:Rs(w,j)}f=f.sibling}}var Is=8192;function Fo(i){if(i.subtreeFlags&Is)for(i=i.child;i!==null;)np(i),i=i.sibling}function np(i){switch(i.tag){case 26:Fo(i),i.flags&Is&&i.memoizedState!==null&&gy(_a,i.memoizedState,i.memoizedProps);break;case 5:Fo(i);break;case 3:case 4:var f=_a;_a=lu(i.stateNode.containerInfo),Fo(i),_a=f;break;case 22:i.memoizedState===null&&(f=i.alternate,f!==null&&f.memoizedState!==null?(f=Is,Is=16777216,Fo(i),Is=f):Fo(i));break;default:Fo(i)}}function ap(i){var f=i.alternate;if(f!==null&&(i=f.child,i!==null)){f.child=null;do f=i.sibling,i.sibling=null,i=f;while(i!==null)}}function Ns(i){var f=i.deletions;if(i.flags&16){if(f!==null)for(var w=0;w<f.length;w++){var j=f[w];pn=j,op(j,i)}ap(i)}if(i.subtreeFlags&10256)for(i=i.child;i!==null;)ip(i),i=i.sibling}function ip(i){switch(i.tag){case 0:case 11:case 15:Ns(i),i.flags&2048&&_i(9,i,i.return);break;case 3:Ns(i);break;case 12:Ns(i);break;case 22:var f=i.stateNode;i.memoizedState!==null&&f._visibility&4&&(i.return===null||i.return.tag!==13)?(f._visibility&=-5,Yl(i)):Ns(i);break;default:Ns(i)}}function Yl(i){var f=i.deletions;if(i.flags&16){if(f!==null)for(var w=0;w<f.length;w++){var j=f[w];pn=j,op(j,i)}ap(i)}for(i=i.child;i!==null;){switch(f=i,f.tag){case 0:case 11:case 15:_i(8,f,f.return),Yl(f);break;case 22:w=f.stateNode,w._visibility&4&&(w._visibility&=-5,Yl(f));break;default:Yl(f)}i=i.sibling}}function op(i,f){for(;pn!==null;){var w=pn;switch(w.tag){case 0:case 11:case 15:_i(8,w,f);break;case 23:case 22:if(w.memoizedState!==null&&w.memoizedState.cachePool!==null){var j=w.memoizedState.cachePool.pool;j!=null&&j.refCount++}break;case 24:_s(w.memoizedState.cache)}if(j=w.child,j!==null)j.return=w,pn=j;else e:for(w=i;pn!==null;){j=pn;var k=j.sibling,z=j.return;if(Qh(j),j===w){pn=null;break e}if(k!==null){k.return=z,pn=k;break e}pn=z}}}function M1(i,f,w,j){this.tag=i,this.key=w,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=f,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=j,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function da(i,f,w,j){return new M1(i,f,w,j)}function zc(i){return i=i.prototype,!(!i||!i.isReactComponent)}function Ei(i,f){var w=i.alternate;return w===null?(w=da(i.tag,f,i.key,i.mode),w.elementType=i.elementType,w.type=i.type,w.stateNode=i.stateNode,w.alternate=i,i.alternate=w):(w.pendingProps=f,w.type=i.type,w.flags=0,w.subtreeFlags=0,w.deletions=null),w.flags=i.flags&31457280,w.childLanes=i.childLanes,w.lanes=i.lanes,w.child=i.child,w.memoizedProps=i.memoizedProps,w.memoizedState=i.memoizedState,w.updateQueue=i.updateQueue,f=i.dependencies,w.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext},w.sibling=i.sibling,w.index=i.index,w.ref=i.ref,w.refCleanup=i.refCleanup,w}function sp(i,f){i.flags&=31457282;var w=i.alternate;return w===null?(i.childLanes=0,i.lanes=f,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=w.childLanes,i.lanes=w.lanes,i.child=w.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=w.memoizedProps,i.memoizedState=w.memoizedState,i.updateQueue=w.updateQueue,i.type=w.type,f=w.dependencies,i.dependencies=f===null?null:{lanes:f.lanes,firstContext:f.firstContext}),i}function Zl(i,f,w,j,k,z){var ne=0;if(j=i,typeof i=="function")zc(i)&&(ne=1);else if(typeof i=="string")ne=my(i,w,fe.current)?26:i==="html"||i==="head"||i==="body"?27:5;else e:switch(i){case c:return so(w.children,k,z,f);case d:ne=8,k|=24;break;case g:return i=da(12,w,f,k|2),i.elementType=g,i.lanes=z,i;case v:return i=da(13,w,f,k),i.elementType=v,i.lanes=z,i;case _:return i=da(19,w,f,k),i.elementType=_,i.lanes=z,i;case E:return lp(w,k,z,f);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case y:case p:ne=10;break e;case h:ne=9;break e;case m:ne=11;break e;case x:ne=14;break e;case b:ne=16,j=null;break e}ne=29,w=Error(t(130,i===null?"null":typeof i,"")),j=null}return f=da(ne,w,f,k),f.elementType=i,f.type=j,f.lanes=z,f}function so(i,f,w,j){return i=da(7,i,j,f),i.lanes=w,i}function lp(i,f,w,j){i=da(22,i,j,f),i.elementType=E,i.lanes=w;var k={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var z=k._current;if(z===null)throw Error(t(456));if(!(k._pendingVisibility&2)){var ne=di(z,2);ne!==null&&(k._pendingVisibility|=2,Pn(ne,z,2))}},attach:function(){var z=k._current;if(z===null)throw Error(t(456));if(k._pendingVisibility&2){var ne=di(z,2);ne!==null&&(k._pendingVisibility&=-3,Pn(ne,z,2))}}};return i.stateNode=k,i}function Vc(i,f,w){return i=da(6,i,null,f),i.lanes=w,i}function Hc(i,f,w){return f=da(4,i.children!==null?i.children:[],i.key,f),f.lanes=w,f.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},f}function $a(i){i.flags|=4}function up(i,f){if(f.type!=="stylesheet"||f.state.loading&4)i.flags&=-16777217;else if(i.flags|=16777216,!qp(f)){if(f=ua.current,f!==null&&((Qt&4194176)===Qt?Ra!==null:(Qt&62914560)!==Qt&&!(Qt&536870912)||f!==Ra))throw vs=Zu,jd;i.flags|=8192}}function Kl(i,f){f!==null&&(i.flags|=4),i.flags&16384&&(f=i.tag!==22?Jr():536870912,i.lanes|=f,Go|=f)}function Ls(i,f){if(!er)switch(i.tailMode){case"hidden":f=i.tail;for(var w=null;f!==null;)f.alternate!==null&&(w=f),f=f.sibling;w===null?i.tail=null:w.sibling=null;break;case"collapsed":w=i.tail;for(var j=null;w!==null;)w.alternate!==null&&(j=w),w=w.sibling;j===null?f||i.tail===null?i.tail=null:i.tail.sibling=null:j.sibling=null}}function kr(i){var f=i.alternate!==null&&i.alternate.child===i.child,w=0,j=0;if(f)for(var k=i.child;k!==null;)w|=k.lanes|k.childLanes,j|=k.subtreeFlags&31457280,j|=k.flags&31457280,k.return=i,k=k.sibling;else for(k=i.child;k!==null;)w|=k.lanes|k.childLanes,j|=k.subtreeFlags,j|=k.flags,k.return=i,k=k.sibling;return i.subtreeFlags|=j,i.childLanes=w,f}function D1(i,f,w){var j=f.pendingProps;switch(qu(f),f.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(f),null;case 1:return kr(f),null;case 3:return w=f.stateNode,j=null,i!==null&&(j=i.memoizedState.cache),f.memoizedState.cache!==j&&(f.flags|=2048),Za(an),Ae(),w.pendingContext&&(w.context=w.pendingContext,w.pendingContext=null),(i===null||i.child===null)&&(ps(f)?$a(f):i===null||i.memoizedState.isDehydrated&&!(f.flags&256)||(f.flags|=1024,xa!==null&&(Jc(xa),xa=null))),kr(f),null;case 26:return w=f.memoizedState,i===null?($a(f),w!==null?(kr(f),up(f,w)):(kr(f),f.flags&=-16777217)):w?w!==i.memoizedState?($a(f),kr(f),up(f,w)):(kr(f),f.flags&=-16777217):(i.memoizedProps!==j&&$a(f),kr(f),f.flags&=-16777217),null;case 27:je(f),w=xe.current;var k=f.type;if(i!==null&&f.stateNode!=null)i.memoizedProps!==j&&$a(f);else{if(!j){if(f.stateNode===null)throw Error(t(166));return kr(f),null}i=fe.current,ps(f)?Ed(f):(i=Fp(k,j,w),f.stateNode=i,$a(f))}return kr(f),null;case 5:if(je(f),w=f.type,i!==null&&f.stateNode!=null)i.memoizedProps!==j&&$a(f);else{if(!j){if(f.stateNode===null)throw Error(t(166));return kr(f),null}if(i=fe.current,ps(f))Ed(f);else{switch(k=su(xe.current),i){case 1:i=k.createElementNS("http://www.w3.org/2000/svg",w);break;case 2:i=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;default:switch(w){case"svg":i=k.createElementNS("http://www.w3.org/2000/svg",w);break;case"math":i=k.createElementNS("http://www.w3.org/1998/Math/MathML",w);break;case"script":i=k.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild);break;case"select":i=typeof j.is=="string"?k.createElement("select",{is:j.is}):k.createElement("select"),j.multiple?i.multiple=!0:j.size&&(i.size=j.size);break;default:i=typeof j.is=="string"?k.createElement(w,{is:j.is}):k.createElement(w)}}i[Br]=f,i[qr]=j;e:for(k=f.child;k!==null;){if(k.tag===5||k.tag===6)i.appendChild(k.stateNode);else if(k.tag!==4&&k.tag!==27&&k.child!==null){k.child.return=k,k=k.child;continue}if(k===f)break e;for(;k.sibling===null;){if(k.return===null||k.return===f)break e;k=k.return}k.sibling.return=k.return,k=k.sibling}f.stateNode=i;e:switch(En(i,w,j),w){case"button":case"input":case"select":case"textarea":i=!!j.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&$a(f)}}return kr(f),f.flags&=-16777217,null;case 6:if(i&&f.stateNode!=null)i.memoizedProps!==j&&$a(f);else{if(typeof j!="string"&&f.stateNode===null)throw Error(t(166));if(i=xe.current,ps(f)){if(i=f.stateNode,w=f.memoizedProps,j=null,k=kn,k!==null)switch(k.tag){case 27:case 5:j=k.memoizedProps}i[Br]=f,i=!!(i.nodeValue===w||j!==null&&j.suppressHydrationWarning===!0||Ip(i.nodeValue,w)),i||Qi(f)}else i=su(i).createTextNode(j),i[Br]=f,f.stateNode=i}return kr(f),null;case 13:if(j=f.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(k=ps(f),j!==null&&j.dehydrated!==null){if(i===null){if(!k)throw Error(t(318));if(k=f.memoizedState,k=k!==null?k.dehydrated:null,!k)throw Error(t(317));k[Br]=f}else ms(),!(f.flags&128)&&(f.memoizedState=null),f.flags|=4;kr(f),k=!1}else xa!==null&&(Jc(xa),xa=null),k=!0;if(!k)return f.flags&256?(Xa(f),f):(Xa(f),null)}if(Xa(f),f.flags&128)return f.lanes=w,f;if(w=j!==null,i=i!==null&&i.memoizedState!==null,w){j=f.child,k=null,j.alternate!==null&&j.alternate.memoizedState!==null&&j.alternate.memoizedState.cachePool!==null&&(k=j.alternate.memoizedState.cachePool.pool);var z=null;j.memoizedState!==null&&j.memoizedState.cachePool!==null&&(z=j.memoizedState.cachePool.pool),z!==k&&(j.flags|=2048)}return w!==i&&w&&(f.child.flags|=8192),Kl(f,f.updateQueue),kr(f),null;case 4:return Ae(),i===null&&cf(f.stateNode.containerInfo),kr(f),null;case 10:return Za(f.type),kr(f),null;case 19:if(he(nn),k=f.memoizedState,k===null)return kr(f),null;if(j=(f.flags&128)!==0,z=k.rendering,z===null)if(j)Ls(k,!1);else{if(Gr!==0||i!==null&&i.flags&128)for(i=f.child;i!==null;){if(z=Il(i),z!==null){for(f.flags|=128,Ls(k,!1),i=z.updateQueue,f.updateQueue=i,Kl(f,i),f.subtreeFlags=0,i=w,w=f.child;w!==null;)sp(w,i),w=w.sibling;return ge(nn,nn.current&1|2),f.child}i=i.sibling}k.tail!==null&&st()>Ql&&(f.flags|=128,j=!0,Ls(k,!1),f.lanes=4194304)}else{if(!j)if(i=Il(z),i!==null){if(f.flags|=128,j=!0,i=i.updateQueue,f.updateQueue=i,Kl(f,i),Ls(k,!0),k.tail===null&&k.tailMode==="hidden"&&!z.alternate&&!er)return kr(f),null}else 2*st()-k.renderingStartTime>Ql&&w!==536870912&&(f.flags|=128,j=!0,Ls(k,!1),f.lanes=4194304);k.isBackwards?(z.sibling=f.child,f.child=z):(i=k.last,i!==null?i.sibling=z:f.child=z,k.last=z)}return k.tail!==null?(f=k.tail,k.rendering=f,k.tail=f.sibling,k.renderingStartTime=st(),f.sibling=null,i=nn.current,ge(nn,j?i&1|2:i&1),f):(kr(f),null);case 22:case 23:return Xa(f),Qu(),j=f.memoizedState!==null,i!==null?i.memoizedState!==null!==j&&(f.flags|=8192):j&&(f.flags|=8192),j?w&536870912&&!(f.flags&128)&&(kr(f),f.subtreeFlags&6&&(f.flags|=8192)):kr(f),w=f.updateQueue,w!==null&&Kl(f,w.retryQueue),w=null,i!==null&&i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(w=i.memoizedState.cachePool.pool),j=null,f.memoizedState!==null&&f.memoizedState.cachePool!==null&&(j=f.memoizedState.cachePool.pool),j!==w&&(f.flags|=2048),i!==null&&he($i),null;case 24:return w=null,i!==null&&(w=i.memoizedState.cache),f.memoizedState.cache!==w&&(f.flags|=2048),Za(an),kr(f),null;case 25:return null}throw Error(t(156,f.tag))}function R1(i,f){switch(qu(f),f.tag){case 1:return i=f.flags,i&65536?(f.flags=i&-65537|128,f):null;case 3:return Za(an),Ae(),i=f.flags,i&65536&&!(i&128)?(f.flags=i&-65537|128,f):null;case 26:case 27:case 5:return je(f),null;case 13:if(Xa(f),i=f.memoizedState,i!==null&&i.dehydrated!==null){if(f.alternate===null)throw Error(t(340));ms()}return i=f.flags,i&65536?(f.flags=i&-65537|128,f):null;case 19:return he(nn),null;case 4:return Ae(),null;case 10:return Za(f.type),null;case 22:case 23:return Xa(f),Qu(),i!==null&&he($i),i=f.flags,i&65536?(f.flags=i&-65537|128,f):null;case 24:return Za(an),null;case 25:return null;default:return null}}function cp(i,f){switch(qu(f),f.tag){case 3:Za(an),Ae();break;case 26:case 27:case 5:je(f);break;case 4:Ae();break;case 13:Xa(f);break;case 19:he(nn);break;case 10:Za(f.type);break;case 22:case 23:Xa(f),Qu(),i!==null&&he($i);break;case 24:Za(an)}}var I1={getCacheForType:function(i){var f=Dn(an),w=f.data.get(i);return w===void 0&&(w=i(),f.data.set(i,w)),w}},N1=typeof WeakMap=="function"?WeakMap:Map,Pr=0,jr=null,Wt=null,Qt=0,Cr=0,ea=null,ei=!1,Uo=!1,Xc=!1,ti=0,Gr=0,Ai=0,lo=0,Wc=0,ha=0,Go=0,ks=null,Na=null,qc=!1,Yc=0,Ql=1/0,Jl=null,ji=null,$l=!1,uo=null,Ps=0,Zc=0,Kc=null,Bs=0,Qc=null;function ta(){if(Pr&2&&Qt!==0)return Qt&-Qt;if(L.T!==null){var i=Ro;return i!==0?i:of()}return nr()}function fp(){ha===0&&(ha=!(Qt&536870912)||er?fr():536870912);var i=ua.current;return i!==null&&(i.flags|=32),ha}function Pn(i,f,w){(i===jr&&Cr===2||i.cancelPendingCommit!==null)&&(zo(i,0),ri(i,Qt,ha,!1)),qt(i,w),(!(Pr&2)||i!==jr)&&(i===jr&&(!(Pr&2)&&(lo|=w),Gr===4&&ri(i,Qt,ha,!1)),La(i))}function dp(i,f,w){if(Pr&6)throw Error(t(327));var j=!w&&(f&60)===0&&(f&i.expiredLanes)===0||Mt(i,f),k=j?P1(i,f):tf(i,f,!0),z=j;do{if(k===0){Uo&&!j&&ri(i,f,0,!1);break}else if(k===6)ri(i,f,0,!ei);else{if(w=i.current.alternate,z&&!L1(w)){k=tf(i,f,!1),z=!1;continue}if(k===2){if(z=f,i.errorRecoveryDisabledLanes&z)var ne=0;else ne=i.pendingLanes&-536870913,ne=ne!==0?ne:ne&536870912?536870912:0;if(ne!==0){f=ne;e:{var pe=i;k=ks;var Ee=pe.current.memoizedState.isDehydrated;if(Ee&&(zo(pe,ne).flags|=256),ne=tf(pe,ne,!1),ne!==2){if(Xc&&!Ee){pe.errorRecoveryDisabledLanes|=z,lo|=z,k=4;break e}z=Na,Na=k,z!==null&&Jc(z)}k=ne}if(z=!1,k!==2)continue}}if(k===1){zo(i,0),ri(i,f,0,!0);break}e:{switch(j=i,k){case 0:case 1:throw Error(t(345));case 4:if((f&4194176)===f){ri(j,f,ha,!ei);break e}break;case 2:Na=null;break;case 3:case 5:break;default:throw Error(t(329))}if(j.finishedWork=w,j.finishedLanes=f,(f&62914560)===f&&(z=Yc+300-st(),10<z)){if(ri(j,f,ha,!ei),bt(j,0)!==0)break e;j.timeoutHandle=kp(hp.bind(null,j,w,Na,Jl,qc,f,ha,lo,Go,ei,2,-0,0),z);break e}hp(j,w,Na,Jl,qc,f,ha,lo,Go,ei,0,-0,0)}}break}while(!0);La(i)}function Jc(i){Na===null?Na=i:Na.push.apply(Na,i)}function hp(i,f,w,j,k,z,ne,pe,Ee,Le,et,ot,qe){var Ke=f.subtreeFlags;if((Ke&8192||(Ke&16785408)===16785408)&&(Hs={stylesheets:null,count:0,unsuspend:yy},np(f),f=vy(),f!==null)){i.cancelPendingCommit=f(xp.bind(null,i,w,j,k,ne,pe,Ee,1,ot,qe)),ri(i,z,ne,!Le);return}xp(i,w,j,k,ne,pe,Ee,et,ot,qe)}function L1(i){for(var f=i;;){var w=f.tag;if((w===0||w===11||w===15)&&f.flags&16384&&(w=f.updateQueue,w!==null&&(w=w.stores,w!==null)))for(var j=0;j<w.length;j++){var k=w[j],z=k.getSnapshot;k=k.value;try{if(!Zt(z(),k))return!1}catch{return!1}}if(w=f.child,f.subtreeFlags&16384&&w!==null)w.return=f,f=w;else{if(f===i)break;for(;f.sibling===null;){if(f.return===null||f.return===i)return!0;f=f.return}f.sibling.return=f.return,f=f.sibling}}return!0}function ri(i,f,w,j){f&=~Wc,f&=~lo,i.suspendedLanes|=f,i.pingedLanes&=~f,j&&(i.warmLanes|=f),j=i.expirationTimes;for(var k=f;0<k;){var z=31-Ve(k),ne=1<<z;j[z]=-1,k&=~ne}w!==0&&Yt(i,w,f)}function eu(){return Pr&6?!0:(Fs(0),!1)}function $c(){if(Wt!==null){if(Cr===0)var i=Wt.return;else i=Wt,Ya=ao=null,ic(i),Mo=null,bs=0,i=Wt;for(;i!==null;)cp(i.alternate,i),i=i.return;Wt=null}}function zo(i,f){i.finishedWork=null,i.finishedLanes=0;var w=i.timeoutHandle;w!==-1&&(i.timeoutHandle=-1,ey(w)),w=i.cancelPendingCommit,w!==null&&(i.cancelPendingCommit=null,w()),$c(),jr=i,Wt=w=Ei(i.current,null),Qt=f,Cr=0,ea=null,ei=!1,Uo=Mt(i,f),Xc=!1,Go=ha=Wc=lo=Ai=Gr=0,Na=ks=null,qc=!1,f&8&&(f|=f&32);var j=i.entangledLanes;if(j!==0)for(i=i.entanglements,j&=f;0<j;){var k=31-Ve(j),z=1<<k;f|=i[k],j&=~z}return ti=f,El(),w}function pp(i,f){zt=null,L.H=Ia,f===gs?(f=Od(),Cr=3):f===jd?(f=Od(),Cr=4):Cr=f===Ch?8:f!==null&&typeof f=="object"&&typeof f.then=="function"?6:1,ea=f,Wt===null&&(Gr=1,Hl(i,oa(f,i.current)))}function mp(){var i=L.H;return L.H=Ia,i===null?Ia:i}function yp(){var i=L.A;return L.A=I1,i}function ef(){Gr=4,ei||(Qt&4194176)!==Qt&&ua.current!==null||(Uo=!0),!(Ai&134217727)&&!(lo&134217727)||jr===null||ri(jr,Qt,ha,!1)}function tf(i,f,w){var j=Pr;Pr|=2;var k=mp(),z=yp();(jr!==i||Qt!==f)&&(Jl=null,zo(i,f)),f=!1;var ne=Gr;e:do try{if(Cr!==0&&Wt!==null){var pe=Wt,Ee=ea;switch(Cr){case 8:$c(),ne=6;break e;case 3:case 2:case 6:ua.current===null&&(f=!0);var Le=Cr;if(Cr=0,ea=null,Vo(i,pe,Ee,Le),w&&Uo){ne=0;break e}break;default:Le=Cr,Cr=0,ea=null,Vo(i,pe,Ee,Le)}}k1(),ne=Gr;break}catch(et){pp(i,et)}while(!0);return f&&i.shellSuspendCounter++,Ya=ao=null,Pr=j,L.H=k,L.A=z,Wt===null&&(jr=null,Qt=0,El()),ne}function k1(){for(;Wt!==null;)gp(Wt)}function P1(i,f){var w=Pr;Pr|=2;var j=mp(),k=yp();jr!==i||Qt!==f?(Jl=null,Ql=st()+500,zo(i,f)):Uo=Mt(i,f);e:do try{if(Cr!==0&&Wt!==null){f=Wt;var z=ea;t:switch(Cr){case 1:Cr=0,ea=null,Vo(i,f,z,1);break;case 2:if(Cd(z)){Cr=0,ea=null,vp(f);break}f=function(){Cr===2&&jr===i&&(Cr=7),La(i)},z.then(f,f);break e;case 3:Cr=7;break e;case 4:Cr=5;break e;case 7:Cd(z)?(Cr=0,ea=null,vp(f)):(Cr=0,ea=null,Vo(i,f,z,7));break;case 5:var ne=null;switch(Wt.tag){case 26:ne=Wt.memoizedState;case 5:case 27:var pe=Wt;if(!ne||qp(ne)){Cr=0,ea=null;var Ee=pe.sibling;if(Ee!==null)Wt=Ee;else{var Le=pe.return;Le!==null?(Wt=Le,tu(Le)):Wt=null}break t}}Cr=0,ea=null,Vo(i,f,z,5);break;case 6:Cr=0,ea=null,Vo(i,f,z,6);break;case 8:$c(),Gr=6;break e;default:throw Error(t(462))}}B1();break}catch(et){pp(i,et)}while(!0);return Ya=ao=null,L.H=j,L.A=k,Pr=w,Wt!==null?0:(jr=null,Qt=0,El(),Gr)}function B1(){for(;Wt!==null&&!Fe();)gp(Wt)}function gp(i){var f=Fh(i.alternate,i,ti);i.memoizedProps=i.pendingProps,f===null?tu(i):Wt=f}function vp(i){var f=i,w=f.alternate;switch(f.tag){case 15:case 0:f=Ih(w,f,f.pendingProps,f.type,void 0,Qt);break;case 11:f=Ih(w,f,f.pendingProps,f.type.render,f.ref,Qt);break;case 5:ic(f);default:cp(w,f),f=Wt=sp(f,ti),f=Fh(w,f,ti)}i.memoizedProps=i.pendingProps,f===null?tu(i):Wt=f}function Vo(i,f,w,j){Ya=ao=null,ic(f),Mo=null,bs=0;var k=f.return;try{if(j1(i,k,f,w,Qt)){Gr=1,Hl(i,oa(w,i.current)),Wt=null;return}}catch(z){if(k!==null)throw Wt=k,z;Gr=1,Hl(i,oa(w,i.current)),Wt=null;return}f.flags&32768?(er||j===1?i=!0:Uo||Qt&536870912?i=!1:(ei=i=!0,(j===2||j===3||j===6)&&(j=ua.current,j!==null&&j.tag===13&&(j.flags|=16384))),bp(f,i)):tu(f)}function tu(i){var f=i;do{if(f.flags&32768){bp(f,ei);return}i=f.return;var w=D1(f.alternate,f,ti);if(w!==null){Wt=w;return}if(f=f.sibling,f!==null){Wt=f;return}Wt=f=i}while(f!==null);Gr===0&&(Gr=5)}function bp(i,f){do{var w=R1(i.alternate,i);if(w!==null){w.flags&=32767,Wt=w;return}if(w=i.return,w!==null&&(w.flags|=32768,w.subtreeFlags=0,w.deletions=null),!f&&(i=i.sibling,i!==null)){Wt=i;return}Wt=i=w}while(i!==null);Gr=6,Wt=null}function xp(i,f,w,j,k,z,ne,pe,Ee,Le){var et=L.T,ot=U.p;try{U.p=2,L.T=null,F1(i,f,w,j,ot,k,z,ne,pe,Ee,Le)}finally{L.T=et,U.p=ot}}function F1(i,f,w,j,k,z,ne,pe){do Ho();while(uo!==null);if(Pr&6)throw Error(t(327));var Ee=i.finishedWork;if(j=i.finishedLanes,Ee===null)return null;if(i.finishedWork=null,i.finishedLanes=0,Ee===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0,i.cancelPendingCommit=null;var Le=Ee.lanes|Ee.childLanes;if(Le|=Hu,wr(i,j,Le,z,ne,pe),i===jr&&(Wt=jr=null,Qt=0),!(Ee.subtreeFlags&10256)&&!(Ee.flags&10256)||$l||($l=!0,Zc=Le,Kc=w,V1(Me,function(){return Ho(),null})),w=(Ee.flags&15990)!==0,Ee.subtreeFlags&15990||w?(w=L.T,L.T=null,z=U.p,U.p=2,ne=Pr,Pr|=4,T1(i,Ee),ep(Ee,i),ar(pf,i.containerInfo),hu=!!hf,pf=hf=null,i.current=Ee,Kh(i,Ee.alternate,Ee),vt(),Pr=ne,U.p=z,L.T=w):i.current=Ee,$l?($l=!1,uo=i,Ps=j):_p(i,Le),Le=i.pendingLanes,Le===0&&(ji=null),Ce(Ee.stateNode),La(i),f!==null)for(k=i.onRecoverableError,Ee=0;Ee<f.length;Ee++)Le=f[Ee],k(Le.value,{componentStack:Le.stack});return Ps&3&&Ho(),Le=i.pendingLanes,j&4194218&&Le&42?i===Qc?Bs++:(Bs=0,Qc=i):Bs=0,Fs(0),null}function _p(i,f){(i.pooledCacheLanes&=f)===0&&(f=i.pooledCache,f!=null&&(i.pooledCache=null,_s(f)))}function Ho(){if(uo!==null){var i=uo,f=Zc;Zc=0;var w=Vr(Ps),j=L.T,k=U.p;try{if(U.p=32>w?32:w,L.T=null,uo===null)var z=!1;else{w=Kc,Kc=null;var ne=uo,pe=Ps;if(uo=null,Ps=0,Pr&6)throw Error(t(331));var Ee=Pr;if(Pr|=4,ip(ne.current),rp(ne,ne.current,pe,w),Pr=Ee,Fs(0,!1),de&&typeof de.onPostCommitFiberRoot=="function")try{de.onPostCommitFiberRoot(re,ne)}catch{}z=!0}return z}finally{U.p=k,L.T=j,_p(i,f)}}return!1}function wp(i,f,w){f=oa(w,f),f=bc(i.stateNode,f,2),i=xi(i,f,2),i!==null&&(qt(i,2),La(i))}function Er(i,f,w){if(i.tag===3)wp(i,i,w);else for(;f!==null;){if(f.tag===3){wp(f,i,w);break}else if(f.tag===1){var j=f.stateNode;if(typeof f.type.getDerivedStateFromError=="function"||typeof j.componentDidCatch=="function"&&(ji===null||!ji.has(j))){i=oa(w,i),w=Ah(2),j=xi(f,w,2),j!==null&&(jh(w,j,f,i),qt(j,2),La(j));break}}f=f.return}}function rf(i,f,w){var j=i.pingCache;if(j===null){j=i.pingCache=new N1;var k=new Set;j.set(f,k)}else k=j.get(f),k===void 0&&(k=new Set,j.set(f,k));k.has(w)||(Xc=!0,k.add(w),i=U1.bind(null,i,f,w),f.then(i,i))}function U1(i,f,w){var j=i.pingCache;j!==null&&j.delete(f),i.pingedLanes|=i.suspendedLanes&w,i.warmLanes&=~w,jr===i&&(Qt&w)===w&&(Gr===4||Gr===3&&(Qt&62914560)===Qt&&300>st()-Yc?!(Pr&2)&&zo(i,0):Wc|=w,Go===Qt&&(Go=0)),La(i)}function Sp(i,f){f===0&&(f=Jr()),i=di(i,f),i!==null&&(qt(i,f),La(i))}function G1(i){var f=i.memoizedState,w=0;f!==null&&(w=f.retryLane),Sp(i,w)}function z1(i,f){var w=0;switch(i.tag){case 13:var j=i.stateNode,k=i.memoizedState;k!==null&&(w=k.retryLane);break;case 19:j=i.stateNode;break;case 22:j=i.stateNode._retryCache;break;default:throw Error(t(314))}j!==null&&j.delete(f),Sp(i,w)}function V1(i,f){return ke(i,f)}var ru=null,Xo=null,nf=!1,nu=!1,af=!1,co=0;function La(i){i!==Xo&&i.next===null&&(Xo===null?ru=Xo=i:Xo=Xo.next=i),nu=!0,nf||(nf=!0,X1(H1))}function Fs(i,f){if(!af&&nu){af=!0;do for(var w=!1,j=ru;j!==null;){if(i!==0){var k=j.pendingLanes;if(k===0)var z=0;else{var ne=j.suspendedLanes,pe=j.pingedLanes;z=(1<<31-Ve(42|i)+1)-1,z&=k&~(ne&~pe),z=z&201326677?z&201326677|1:z?z|2:0}z!==0&&(w=!0,jp(j,z))}else z=Qt,z=bt(j,j===jr?z:0),!(z&3)||Mt(j,z)||(w=!0,jp(j,z));j=j.next}while(w);af=!1}}function H1(){nu=nf=!1;var i=0;co!==0&&($1()&&(i=co),co=0);for(var f=st(),w=null,j=ru;j!==null;){var k=j.next,z=Ep(j,f);z===0?(j.next=null,w===null?ru=k:w.next=k,k===null&&(Xo=w)):(w=j,(i!==0||z&3)&&(nu=!0)),j=k}Fs(i)}function Ep(i,f){for(var w=i.suspendedLanes,j=i.pingedLanes,k=i.expirationTimes,z=i.pendingLanes&-62914561;0<z;){var ne=31-Ve(z),pe=1<<ne,Ee=k[ne];Ee===-1?(!(pe&w)||pe&j)&&(k[ne]=Tt(pe,f)):Ee<=f&&(i.expiredLanes|=pe),z&=~pe}if(f=jr,w=Qt,w=bt(i,i===f?w:0),j=i.callbackNode,w===0||i===f&&Cr===2||i.cancelPendingCommit!==null)return j!==null&&j!==null&&tt(j),i.callbackNode=null,i.callbackPriority=0;if(!(w&3)||Mt(i,w)){if(f=w&-w,f===i.callbackPriority)return f;switch(j!==null&&tt(j),Vr(w)){case 2:case 8:w=dt;break;case 32:w=Me;break;case 268435456:w=Pe;break;default:w=Me}return j=Ap.bind(null,i),w=ke(w,j),i.callbackPriority=f,i.callbackNode=w,f}return j!==null&&j!==null&&tt(j),i.callbackPriority=2,i.callbackNode=null,2}function Ap(i,f){var w=i.callbackNode;if(Ho()&&i.callbackNode!==w)return null;var j=Qt;return j=bt(i,i===jr?j:0),j===0?null:(dp(i,j,f),Ep(i,st()),i.callbackNode!=null&&i.callbackNode===w?Ap.bind(null,i):null)}function jp(i,f){if(Ho())return null;dp(i,f,!0)}function X1(i){ty(function(){Pr&6?ke(yt,i):i()})}function of(){return co===0&&(co=fr()),co}function Cp(i){return i==null||typeof i=="symbol"||typeof i=="boolean"?null:typeof i=="function"?i:Vi(""+i)}function Tp(i,f){var w=f.ownerDocument.createElement("input");return w.name=f.name,w.value=f.value,i.id&&w.setAttribute("form",i.id),f.parentNode.insertBefore(w,f),i=new FormData(i),w.parentNode.removeChild(w),i}function W1(i,f,w,j,k){if(f==="submit"&&w&&w.stateNode===k){var z=Cp((k[qr]||null).action),ne=j.submitter;ne&&(f=(f=ne[qr]||null)?Cp(f.formAction):ne.getAttribute("formAction"),f!==null&&(z=f,ne=null));var pe=new Xi("action","action",null,j,k);i.push({event:pe,listeners:[{instance:null,listener:function(){if(j.defaultPrevented){if(co!==0){var Ee=ne?Tp(k,ne):new FormData(k);pc(w,{pending:!0,data:Ee,method:k.method,action:z},null,Ee)}}else typeof z=="function"&&(pe.preventDefault(),Ee=ne?Tp(k,ne):new FormData(k),pc(w,{pending:!0,data:Ee,method:k.method,action:z},z,Ee))},currentTarget:k}]})}}for(var sf=0;sf<xd.length;sf++){var lf=xd[sf],q1=lf.toLowerCase(),Y1=lf[0].toUpperCase()+lf.slice(1);ba(q1,"on"+Y1)}ba(md,"onAnimationEnd"),ba(yd,"onAnimationIteration"),ba(gd,"onAnimationStart"),ba("dblclick","onDoubleClick"),ba("focusin","onFocus"),ba("focusout","onBlur"),ba(f1,"onTransitionRun"),ba(d1,"onTransitionStart"),ba(h1,"onTransitionCancel"),ba(vd,"onTransitionEnd"),dr("onMouseEnter",["mouseout","mouseover"]),dr("onMouseLeave",["mouseout","mouseover"]),dr("onPointerEnter",["pointerout","pointerover"]),dr("onPointerLeave",["pointerout","pointerover"]),Sr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Sr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Sr("onBeforeInput",["compositionend","keypress","textInput","paste"]),Sr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Sr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Us="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Z1=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Us));function Op(i,f){f=(f&4)!==0;for(var w=0;w<i.length;w++){var j=i[w],k=j.event;j=j.listeners;e:{var z=void 0;if(f)for(var ne=j.length-1;0<=ne;ne--){var pe=j[ne],Ee=pe.instance,Le=pe.currentTarget;if(pe=pe.listener,Ee!==z&&k.isPropagationStopped())break e;z=pe,k.currentTarget=Le;try{z(k)}catch(et){Vl(et)}k.currentTarget=null,z=Ee}else for(ne=0;ne<j.length;ne++){if(pe=j[ne],Ee=pe.instance,Le=pe.currentTarget,pe=pe.listener,Ee!==z&&k.isPropagationStopped())break e;z=pe,k.currentTarget=Le;try{z(k)}catch(et){Vl(et)}k.currentTarget=null,z=Ee}}}}function Kt(i,f){var w=f[Ba];w===void 0&&(w=f[Ba]=new Set);var j=i+"__bubble";w.has(j)||(Mp(f,i,2,!1),w.add(j))}function uf(i,f,w){var j=0;f&&(j|=4),Mp(w,i,j,f)}var au="_reactListening"+Math.random().toString(36).slice(2);function cf(i){if(!i[au]){i[au]=!0,gt.forEach(function(w){w!=="selectionchange"&&(Z1.has(w)||uf(w,!1,i),uf(w,!0,i))});var f=i.nodeType===9?i:i.ownerDocument;f===null||f[au]||(f[au]=!0,uf("selectionchange",!1,f))}}function Mp(i,f,w,j){switch($p(f)){case 2:var k=_y;break;case 8:k=wy;break;default:k=Sf}w=k.bind(null,f,w,i),k=void 0,!us||f!=="touchstart"&&f!=="touchmove"&&f!=="wheel"||(k=!0),j?k!==void 0?i.addEventListener(f,w,{capture:!0,passive:k}):i.addEventListener(f,w,!0):k!==void 0?i.addEventListener(f,w,{passive:k}):i.addEventListener(f,w,!1)}function ff(i,f,w,j,k){var z=j;if(!(f&1)&&!(f&2)&&j!==null)e:for(;;){if(j===null)return;var ne=j.tag;if(ne===3||ne===4){var pe=j.stateNode.containerInfo;if(pe===k||pe.nodeType===8&&pe.parentNode===k)break;if(ne===4)for(ne=j.return;ne!==null;){var Ee=ne.tag;if((Ee===3||Ee===4)&&(Ee=ne.stateNode.containerInfo,Ee===k||Ee.nodeType===8&&Ee.parentNode===k))return;ne=ne.return}for(;pe!==null;){if(ne=Pt(pe),ne===null)return;if(Ee=ne.tag,Ee===5||Ee===6||Ee===26||Ee===27){j=z=ne;continue e}pe=pe.parentNode}}j=j.return}ul(function(){var Le=z,et=_o(w),ot=[];e:{var qe=bd.get(i);if(qe!==void 0){var Ke=Xi,Ct=i;switch(i){case"keypress":if(zn(w)===0)break e;case"keydown":case"keyup":Ke=xl;break;case"focusin":Ct="focus",Ke=Eo;break;case"focusout":Ct="blur",Ke=Eo;break;case"beforeblur":case"afterblur":Ke=Eo;break;case"click":if(w.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Ke=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Ke=hl;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Ke=hr;break;case md:case yd:case gd:Ke=yl;break;case vd:Ke=Bu;break;case"scroll":case"scrollend":Ke=fl;break;case"wheel":Ke=Fu;break;case"copy":case"cut":case"paste":Ke=vl;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Ke=_l;break;case"toggle":case"beforetoggle":Ke=Gu}var Bt=(f&4)!==0,zr=!Bt&&(i==="scroll"||i==="scrollend"),ze=Bt?qe!==null?qe+"Capture":null:qe;Bt=[];for(var Ne=Le,We;Ne!==null;){var rt=Ne;if(We=rt.stateNode,rt=rt.tag,rt!==5&&rt!==26&&rt!==27||We===null||ze===null||(rt=Hi(Ne,ze),rt!=null&&Bt.push(Gs(Ne,rt,We))),zr)break;Ne=Ne.return}0<Bt.length&&(qe=new Ke(qe,Ct,null,w,et),ot.push({event:qe,listeners:Bt}))}}if(!(f&7)){e:{if(qe=i==="mouseover"||i==="pointerover",Ke=i==="mouseout"||i==="pointerout",qe&&w!==os&&(Ct=w.relatedTarget||w.fromElement)&&(Pt(Ct)||Ct[va]))break e;if((Ke||qe)&&(qe=et.window===et?et:(qe=et.ownerDocument)?qe.defaultView||qe.parentWindow:window,Ke?(Ct=w.relatedTarget||w.toElement,Ke=Le,Ct=Ct?Pt(Ct):null,Ct!==null&&(zr=Z(Ct),Bt=Ct.tag,Ct!==zr||Bt!==5&&Bt!==27&&Bt!==6)&&(Ct=null)):(Ke=null,Ct=Le),Ke!==Ct)){if(Bt=cs,rt="onMouseLeave",ze="onMouseEnter",Ne="mouse",(i==="pointerout"||i==="pointerover")&&(Bt=_l,rt="onPointerLeave",ze="onPointerEnter",Ne="pointer"),zr=Ke==null?qe:Gt(Ke),We=Ct==null?qe:Gt(Ct),qe=new Bt(rt,Ne+"leave",Ke,w,et),qe.target=zr,qe.relatedTarget=We,rt=null,Pt(et)===Le&&(Bt=new Bt(ze,Ne+"enter",Ct,w,et),Bt.target=We,Bt.relatedTarget=zr,rt=Bt),zr=rt,Ke&&Ct)t:{for(Bt=Ke,ze=Ct,Ne=0,We=Bt;We;We=Wo(We))Ne++;for(We=0,rt=ze;rt;rt=Wo(rt))We++;for(;0<Ne-We;)Bt=Wo(Bt),Ne--;for(;0<We-Ne;)ze=Wo(ze),We--;for(;Ne--;){if(Bt===ze||ze!==null&&Bt===ze.alternate)break t;Bt=Wo(Bt),ze=Wo(ze)}Bt=null}else Bt=null;Ke!==null&&Dp(ot,qe,Ke,Bt,!1),Ct!==null&&zr!==null&&Dp(ot,zr,Ct,Bt,!0)}}e:{if(qe=Le?Gt(Le):window,Ke=qe.nodeName&&qe.nodeName.toLowerCase(),Ke==="select"||Ke==="input"&&qe.type==="file")var wt=we;else if(le(qe))if($e)wt=Ft;else{wt=St;var Ht=kt}else Ke=qe.nodeName,!Ke||Ke.toLowerCase()!=="input"||qe.type!=="checkbox"&&qe.type!=="radio"?Le&&xo(Le.elementType)&&(wt=we):wt=jt;if(wt&&(wt=wt(i,Le))){ye(ot,wt,w,et);break e}Ht&&Ht(i,qe,Le),i==="focusout"&&Le&&qe.type==="number"&&Le.memoizedProps.value!=null&&bo(qe,"number",qe.value)}switch(Ht=Le?Gt(Le):window,i){case"focusin":(le(Ht)||Ht.contentEditable==="true")&&(ur=Ht,Hr=Le,ir=null);break;case"focusout":ir=Hr=ur=null;break;case"mousedown":Fr=!0;break;case"contextmenu":case"mouseup":case"dragend":Fr=!1,fi(ot,w,et);break;case"selectionchange":if(dn)break;case"keydown":case"keyup":fi(ot,w,et)}var Ot;if(hs)e:{switch(i){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else B?T(i,w)&&(Lt="onCompositionEnd"):i==="keydown"&&w.keyCode===229&&(Lt="onCompositionStart");Lt&&(Lr&&w.locale!=="ko"&&(B||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&B&&(Ot=oi()):(en=et,Kn="value"in en?en.value:en.textContent,B=!0)),Ht=iu(Le,Lt),0<Ht.length&&(Lt=new Wi(Lt,i,null,w,et),ot.push({event:Lt,listeners:Ht}),Ot?Lt.data=Ot:(Ot=N(w),Ot!==null&&(Lt.data=Ot)))),(Ot=Sl?W(i,w):$(i,w))&&(Lt=iu(Le,"onBeforeInput"),0<Lt.length&&(Ht=new Wi("onBeforeInput","beforeinput",null,w,et),ot.push({event:Ht,listeners:Lt}),Ht.data=Ot)),W1(ot,i,Le,w,et)}Op(ot,f)})}function Gs(i,f,w){return{instance:i,listener:f,currentTarget:w}}function iu(i,f){for(var w=f+"Capture",j=[];i!==null;){var k=i,z=k.stateNode;k=k.tag,k!==5&&k!==26&&k!==27||z===null||(k=Hi(i,w),k!=null&&j.unshift(Gs(i,k,z)),k=Hi(i,f),k!=null&&j.push(Gs(i,k,z))),i=i.return}return j}function Wo(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5&&i.tag!==27);return i||null}function Dp(i,f,w,j,k){for(var z=f._reactName,ne=[];w!==null&&w!==j;){var pe=w,Ee=pe.alternate,Le=pe.stateNode;if(pe=pe.tag,Ee!==null&&Ee===j)break;pe!==5&&pe!==26&&pe!==27||Le===null||(Ee=Le,k?(Le=Hi(w,z),Le!=null&&ne.unshift(Gs(w,Le,Ee))):k||(Le=Hi(w,z),Le!=null&&ne.push(Gs(w,Le,Ee)))),w=w.return}ne.length!==0&&i.push({event:f,listeners:ne})}var K1=/\r\n?/g,Q1=/\u0000|\uFFFD/g;function Rp(i){return(typeof i=="string"?i:""+i).replace(K1,`
`).replace(Q1,"")}function Ip(i,f){return f=Rp(f),Rp(i)===f}function ou(){}function xr(i,f,w,j,k,z){switch(w){case"children":typeof j=="string"?f==="body"||f==="textarea"&&j===""||_n(i,j):(typeof j=="number"||typeof j=="bigint")&&f!=="body"&&_n(i,""+j);break;case"className":On(i,"class",j);break;case"tabIndex":On(i,"tabindex",j);break;case"dir":case"role":case"viewBox":case"width":case"height":On(i,w,j);break;case"style":Ua(i,j,z);break;case"data":if(f!=="object"){On(i,"data",j);break}case"src":case"href":if(j===""&&(f!=="a"||w!=="href")){i.removeAttribute(w);break}if(j==null||typeof j=="function"||typeof j=="symbol"||typeof j=="boolean"){i.removeAttribute(w);break}j=Vi(""+j),i.setAttribute(w,j);break;case"action":case"formAction":if(typeof j=="function"){i.setAttribute(w,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof z=="function"&&(w==="formAction"?(f!=="input"&&xr(i,f,"name",k.name,k,null),xr(i,f,"formEncType",k.formEncType,k,null),xr(i,f,"formMethod",k.formMethod,k,null),xr(i,f,"formTarget",k.formTarget,k,null)):(xr(i,f,"encType",k.encType,k,null),xr(i,f,"method",k.method,k,null),xr(i,f,"target",k.target,k,null)));if(j==null||typeof j=="symbol"||typeof j=="boolean"){i.removeAttribute(w);break}j=Vi(""+j),i.setAttribute(w,j);break;case"onClick":j!=null&&(i.onclick=ou);break;case"onScroll":j!=null&&Kt("scroll",i);break;case"onScrollEnd":j!=null&&Kt("scrollend",i);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(t(61));if(w=j.__html,w!=null){if(k.children!=null)throw Error(t(60));i.innerHTML=w}}break;case"multiple":i.multiple=j&&typeof j!="function"&&typeof j!="symbol";break;case"muted":i.muted=j&&typeof j!="function"&&typeof j!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(j==null||typeof j=="function"||typeof j=="boolean"||typeof j=="symbol"){i.removeAttribute("xlink:href");break}w=Vi(""+j),i.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",w);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":j!=null&&typeof j!="function"&&typeof j!="symbol"?i.setAttribute(w,""+j):i.removeAttribute(w);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":j&&typeof j!="function"&&typeof j!="symbol"?i.setAttribute(w,""):i.removeAttribute(w);break;case"capture":case"download":j===!0?i.setAttribute(w,""):j!==!1&&j!=null&&typeof j!="function"&&typeof j!="symbol"?i.setAttribute(w,j):i.removeAttribute(w);break;case"cols":case"rows":case"size":case"span":j!=null&&typeof j!="function"&&typeof j!="symbol"&&!isNaN(j)&&1<=j?i.setAttribute(w,j):i.removeAttribute(w);break;case"rowSpan":case"start":j==null||typeof j=="function"||typeof j=="symbol"||isNaN(j)?i.removeAttribute(w):i.setAttribute(w,j);break;case"popover":Kt("beforetoggle",i),Kt("toggle",i),Bi(i,"popover",j);break;case"xlinkActuate":Mn(i,"http://www.w3.org/1999/xlink","xlink:actuate",j);break;case"xlinkArcrole":Mn(i,"http://www.w3.org/1999/xlink","xlink:arcrole",j);break;case"xlinkRole":Mn(i,"http://www.w3.org/1999/xlink","xlink:role",j);break;case"xlinkShow":Mn(i,"http://www.w3.org/1999/xlink","xlink:show",j);break;case"xlinkTitle":Mn(i,"http://www.w3.org/1999/xlink","xlink:title",j);break;case"xlinkType":Mn(i,"http://www.w3.org/1999/xlink","xlink:type",j);break;case"xmlBase":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:base",j);break;case"xmlLang":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:lang",j);break;case"xmlSpace":Mn(i,"http://www.w3.org/XML/1998/namespace","xml:space",j);break;case"is":Bi(i,"is",j);break;case"innerText":case"textContent":break;default:(!(2<w.length)||w[0]!=="o"&&w[0]!=="O"||w[1]!=="n"&&w[1]!=="N")&&(w=Lu.get(w)||w,Bi(i,w,j))}}function df(i,f,w,j,k,z){switch(w){case"style":Ua(i,j,z);break;case"dangerouslySetInnerHTML":if(j!=null){if(typeof j!="object"||!("__html"in j))throw Error(t(61));if(w=j.__html,w!=null){if(k.children!=null)throw Error(t(60));i.innerHTML=w}}break;case"children":typeof j=="string"?_n(i,j):(typeof j=="number"||typeof j=="bigint")&&_n(i,""+j);break;case"onScroll":j!=null&&Kt("scroll",i);break;case"onScrollEnd":j!=null&&Kt("scrollend",i);break;case"onClick":j!=null&&(i.onclick=ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Rr.hasOwnProperty(w))e:{if(w[0]==="o"&&w[1]==="n"&&(k=w.endsWith("Capture"),f=w.slice(2,k?w.length-7:void 0),z=i[qr]||null,z=z!=null?z[w]:null,typeof z=="function"&&i.removeEventListener(f,z,k),typeof j=="function")){typeof z!="function"&&z!==null&&(w in i?i[w]=null:i.hasAttribute(w)&&i.removeAttribute(w)),i.addEventListener(f,j,k);break e}w in i?i[w]=j:j===!0?i.setAttribute(w,""):Bi(i,w,j)}}}function En(i,f,w){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Kt("error",i),Kt("load",i);var j=!1,k=!1,z;for(z in w)if(w.hasOwnProperty(z)){var ne=w[z];if(ne!=null)switch(z){case"src":j=!0;break;case"srcSet":k=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(t(137,f));default:xr(i,f,z,ne,w,null)}}k&&xr(i,f,"srcSet",w.srcSet,w,null),j&&xr(i,f,"src",w.src,w,null);return;case"input":Kt("invalid",i);var pe=z=ne=k=null,Ee=null,Le=null;for(j in w)if(w.hasOwnProperty(j)){var et=w[j];if(et!=null)switch(j){case"name":k=et;break;case"type":ne=et;break;case"checked":Ee=et;break;case"defaultChecked":Le=et;break;case"value":z=et;break;case"defaultValue":pe=et;break;case"children":case"dangerouslySetInnerHTML":if(et!=null)throw Error(t(137,f));break;default:xr(i,f,j,et,w,null)}}vo(i,z,pe,Ee,Le,ne,k,!1),Fi(i);return;case"select":Kt("invalid",i),j=ne=z=null;for(k in w)if(w.hasOwnProperty(k)&&(pe=w[k],pe!=null))switch(k){case"value":z=pe;break;case"defaultValue":ne=pe;break;case"multiple":j=pe;default:xr(i,f,k,pe,w,null)}f=z,w=ne,i.multiple=!!j,f!=null?Fa(i,!!j,f,!1):w!=null&&Fa(i,!!j,w,!0);return;case"textarea":Kt("invalid",i),z=k=j=null;for(ne in w)if(w.hasOwnProperty(ne)&&(pe=w[ne],pe!=null))switch(ne){case"value":j=pe;break;case"defaultValue":k=pe;break;case"children":z=pe;break;case"dangerouslySetInnerHTML":if(pe!=null)throw Error(t(91));break;default:xr(i,f,ne,pe,w,null)}zi(i,j,k,z),Fi(i);return;case"option":for(Ee in w)if(w.hasOwnProperty(Ee)&&(j=w[Ee],j!=null))switch(Ee){case"selected":i.selected=j&&typeof j!="function"&&typeof j!="symbol";break;default:xr(i,f,Ee,j,w,null)}return;case"dialog":Kt("cancel",i),Kt("close",i);break;case"iframe":case"object":Kt("load",i);break;case"video":case"audio":for(j=0;j<Us.length;j++)Kt(Us[j],i);break;case"image":Kt("error",i),Kt("load",i);break;case"details":Kt("toggle",i);break;case"embed":case"source":case"link":Kt("error",i),Kt("load",i);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Le in w)if(w.hasOwnProperty(Le)&&(j=w[Le],j!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":throw Error(t(137,f));default:xr(i,f,Le,j,w,null)}return;default:if(xo(f)){for(et in w)w.hasOwnProperty(et)&&(j=w[et],j!==void 0&&df(i,f,et,j,w,void 0));return}}for(pe in w)w.hasOwnProperty(pe)&&(j=w[pe],j!=null&&xr(i,f,pe,j,w,null))}function J1(i,f,w,j){switch(f){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var k=null,z=null,ne=null,pe=null,Ee=null,Le=null,et=null;for(Ke in w){var ot=w[Ke];if(w.hasOwnProperty(Ke)&&ot!=null)switch(Ke){case"checked":break;case"value":break;case"defaultValue":Ee=ot;default:j.hasOwnProperty(Ke)||xr(i,f,Ke,null,j,ot)}}for(var qe in j){var Ke=j[qe];if(ot=w[qe],j.hasOwnProperty(qe)&&(Ke!=null||ot!=null))switch(qe){case"type":z=Ke;break;case"name":k=Ke;break;case"checked":Le=Ke;break;case"defaultChecked":et=Ke;break;case"value":ne=Ke;break;case"defaultValue":pe=Ke;break;case"children":case"dangerouslySetInnerHTML":if(Ke!=null)throw Error(t(137,f));break;default:Ke!==ot&&xr(i,f,qe,Ke,j,ot)}}ns(i,ne,pe,Ee,Le,et,z,k);return;case"select":Ke=ne=pe=qe=null;for(z in w)if(Ee=w[z],w.hasOwnProperty(z)&&Ee!=null)switch(z){case"value":break;case"multiple":Ke=Ee;default:j.hasOwnProperty(z)||xr(i,f,z,null,j,Ee)}for(k in j)if(z=j[k],Ee=w[k],j.hasOwnProperty(k)&&(z!=null||Ee!=null))switch(k){case"value":qe=z;break;case"defaultValue":pe=z;break;case"multiple":ne=z;default:z!==Ee&&xr(i,f,k,z,j,Ee)}f=pe,w=ne,j=Ke,qe!=null?Fa(i,!!w,qe,!1):!!j!=!!w&&(f!=null?Fa(i,!!w,f,!0):Fa(i,!!w,w?[]:"",!1));return;case"textarea":Ke=qe=null;for(pe in w)if(k=w[pe],w.hasOwnProperty(pe)&&k!=null&&!j.hasOwnProperty(pe))switch(pe){case"value":break;case"children":break;default:xr(i,f,pe,null,j,k)}for(ne in j)if(k=j[ne],z=w[ne],j.hasOwnProperty(ne)&&(k!=null||z!=null))switch(ne){case"value":qe=k;break;case"defaultValue":Ke=k;break;case"children":break;case"dangerouslySetInnerHTML":if(k!=null)throw Error(t(91));break;default:k!==z&&xr(i,f,ne,k,j,z)}Gi(i,qe,Ke);return;case"option":for(var Ct in w)if(qe=w[Ct],w.hasOwnProperty(Ct)&&qe!=null&&!j.hasOwnProperty(Ct))switch(Ct){case"selected":i.selected=!1;break;default:xr(i,f,Ct,null,j,qe)}for(Ee in j)if(qe=j[Ee],Ke=w[Ee],j.hasOwnProperty(Ee)&&qe!==Ke&&(qe!=null||Ke!=null))switch(Ee){case"selected":i.selected=qe&&typeof qe!="function"&&typeof qe!="symbol";break;default:xr(i,f,Ee,qe,j,Ke)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Bt in w)qe=w[Bt],w.hasOwnProperty(Bt)&&qe!=null&&!j.hasOwnProperty(Bt)&&xr(i,f,Bt,null,j,qe);for(Le in j)if(qe=j[Le],Ke=w[Le],j.hasOwnProperty(Le)&&qe!==Ke&&(qe!=null||Ke!=null))switch(Le){case"children":case"dangerouslySetInnerHTML":if(qe!=null)throw Error(t(137,f));break;default:xr(i,f,Le,qe,j,Ke)}return;default:if(xo(f)){for(var zr in w)qe=w[zr],w.hasOwnProperty(zr)&&qe!==void 0&&!j.hasOwnProperty(zr)&&df(i,f,zr,void 0,j,qe);for(et in j)qe=j[et],Ke=w[et],!j.hasOwnProperty(et)||qe===Ke||qe===void 0&&Ke===void 0||df(i,f,et,qe,j,Ke);return}}for(var ze in w)qe=w[ze],w.hasOwnProperty(ze)&&qe!=null&&!j.hasOwnProperty(ze)&&xr(i,f,ze,null,j,qe);for(ot in j)qe=j[ot],Ke=w[ot],!j.hasOwnProperty(ot)||qe===Ke||qe==null&&Ke==null||xr(i,f,ot,qe,j,Ke)}var hf=null,pf=null;function su(i){return i.nodeType===9?i:i.ownerDocument}function Np(i){switch(i){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Lp(i,f){if(i===0)switch(f){case"svg":return 1;case"math":return 2;default:return 0}return i===1&&f==="foreignObject"?0:i}function mf(i,f){return i==="textarea"||i==="noscript"||typeof f.children=="string"||typeof f.children=="number"||typeof f.children=="bigint"||typeof f.dangerouslySetInnerHTML=="object"&&f.dangerouslySetInnerHTML!==null&&f.dangerouslySetInnerHTML.__html!=null}var yf=null;function $1(){var i=window.event;return i&&i.type==="popstate"?i===yf?!1:(yf=i,!0):(yf=null,!1)}var kp=typeof setTimeout=="function"?setTimeout:void 0,ey=typeof clearTimeout=="function"?clearTimeout:void 0,Pp=typeof Promise=="function"?Promise:void 0,ty=typeof queueMicrotask=="function"?queueMicrotask:typeof Pp<"u"?function(i){return Pp.resolve(null).then(i).catch(ry)}:kp;function ry(i){setTimeout(function(){throw i})}function gf(i,f){var w=f,j=0;do{var k=w.nextSibling;if(i.removeChild(w),k&&k.nodeType===8)if(w=k.data,w==="/$"){if(j===0){i.removeChild(k),Zs(f);return}j--}else w!=="$"&&w!=="$?"&&w!=="$!"||j++;w=k}while(w);Zs(f)}function vf(i){var f=i.firstChild;for(f&&f.nodeType===10&&(f=f.nextSibling);f;){var w=f;switch(f=f.nextSibling,w.nodeName){case"HTML":case"HEAD":case"BODY":vf(w),nt(w);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(w.rel.toLowerCase()==="stylesheet")continue}i.removeChild(w)}}function ny(i,f,w,j){for(;i.nodeType===1;){var k=w;if(i.nodeName.toLowerCase()!==f.toLowerCase()){if(!j&&(i.nodeName!=="INPUT"||i.type!=="hidden"))break}else if(j){if(!i[pt])switch(f){case"meta":if(!i.hasAttribute("itemprop"))break;return i;case"link":if(z=i.getAttribute("rel"),z==="stylesheet"&&i.hasAttribute("data-precedence"))break;if(z!==k.rel||i.getAttribute("href")!==(k.href==null?null:k.href)||i.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin)||i.getAttribute("title")!==(k.title==null?null:k.title))break;return i;case"style":if(i.hasAttribute("data-precedence"))break;return i;case"script":if(z=i.getAttribute("src"),(z!==(k.src==null?null:k.src)||i.getAttribute("type")!==(k.type==null?null:k.type)||i.getAttribute("crossorigin")!==(k.crossOrigin==null?null:k.crossOrigin))&&z&&i.hasAttribute("async")&&!i.hasAttribute("itemprop"))break;return i;default:return i}}else if(f==="input"&&i.type==="hidden"){var z=k.name==null?null:""+k.name;if(k.type==="hidden"&&i.getAttribute("name")===z)return i}else return i;if(i=wa(i.nextSibling),i===null)break}return null}function ay(i,f,w){if(f==="")return null;for(;i.nodeType!==3;)if((i.nodeType!==1||i.nodeName!=="INPUT"||i.type!=="hidden")&&!w||(i=wa(i.nextSibling),i===null))return null;return i}function wa(i){for(;i!=null;i=i.nextSibling){var f=i.nodeType;if(f===1||f===3)break;if(f===8){if(f=i.data,f==="$"||f==="$!"||f==="$?"||f==="F!"||f==="F")break;if(f==="/$")return null}}return i}function Bp(i){i=i.previousSibling;for(var f=0;i;){if(i.nodeType===8){var w=i.data;if(w==="$"||w==="$!"||w==="$?"){if(f===0)return i;f--}else w==="/$"&&f++}i=i.previousSibling}return null}function Fp(i,f,w){switch(f=su(w),i){case"html":if(i=f.documentElement,!i)throw Error(t(452));return i;case"head":if(i=f.head,!i)throw Error(t(453));return i;case"body":if(i=f.body,!i)throw Error(t(454));return i;default:throw Error(t(451))}}var pa=new Map,Up=new Set;function lu(i){return typeof i.getRootNode=="function"?i.getRootNode():i.ownerDocument}var ni=U.d;U.d={f:iy,r:oy,D:sy,C:ly,L:uy,m:cy,X:dy,S:fy,M:hy};function iy(){var i=ni.f(),f=eu();return i||f}function oy(i){var f=Qe(i);f!==null&&f.tag===5&&f.type==="form"?hh(f):ni.r(i)}var qo=typeof document>"u"?null:document;function Gp(i,f,w){var j=qo;if(j&&typeof f=="string"&&f){var k=Ln(f);k='link[rel="'+i+'"][href="'+k+'"]',typeof w=="string"&&(k+='[crossorigin="'+w+'"]'),Up.has(k)||(Up.add(k),i={rel:i,crossOrigin:w,href:f},j.querySelector(k)===null&&(f=j.createElement("link"),En(f,"link",i),Dt(f),j.head.appendChild(f)))}}function sy(i){ni.D(i),Gp("dns-prefetch",i,null)}function ly(i,f){ni.C(i,f),Gp("preconnect",i,f)}function uy(i,f,w){ni.L(i,f,w);var j=qo;if(j&&i&&f){var k='link[rel="preload"][as="'+Ln(f)+'"]';f==="image"&&w&&w.imageSrcSet?(k+='[imagesrcset="'+Ln(w.imageSrcSet)+'"]',typeof w.imageSizes=="string"&&(k+='[imagesizes="'+Ln(w.imageSizes)+'"]')):k+='[href="'+Ln(i)+'"]';var z=k;switch(f){case"style":z=Yo(i);break;case"script":z=Zo(i)}pa.has(z)||(i=F({rel:"preload",href:f==="image"&&w&&w.imageSrcSet?void 0:i,as:f},w),pa.set(z,i),j.querySelector(k)!==null||f==="style"&&j.querySelector(zs(z))||f==="script"&&j.querySelector(Vs(z))||(f=j.createElement("link"),En(f,"link",i),Dt(f),j.head.appendChild(f)))}}function cy(i,f){ni.m(i,f);var w=qo;if(w&&i){var j=f&&typeof f.as=="string"?f.as:"script",k='link[rel="modulepreload"][as="'+Ln(j)+'"][href="'+Ln(i)+'"]',z=k;switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":z=Zo(i)}if(!pa.has(z)&&(i=F({rel:"modulepreload",href:i},f),pa.set(z,i),w.querySelector(k)===null)){switch(j){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(w.querySelector(Vs(z)))return}j=w.createElement("link"),En(j,"link",i),Dt(j),w.head.appendChild(j)}}}function fy(i,f,w){ni.S(i,f,w);var j=qo;if(j&&i){var k=ft(j).hoistableStyles,z=Yo(i);f=f||"default";var ne=k.get(z);if(!ne){var pe={loading:0,preload:null};if(ne=j.querySelector(zs(z)))pe.loading=5;else{i=F({rel:"stylesheet",href:i,"data-precedence":f},w),(w=pa.get(z))&&bf(i,w);var Ee=ne=j.createElement("link");Dt(Ee),En(Ee,"link",i),Ee._p=new Promise(function(Le,et){Ee.onload=Le,Ee.onerror=et}),Ee.addEventListener("load",function(){pe.loading|=1}),Ee.addEventListener("error",function(){pe.loading|=2}),pe.loading|=4,uu(ne,f,j)}ne={type:"stylesheet",instance:ne,count:1,state:pe},k.set(z,ne)}}}function dy(i,f){ni.X(i,f);var w=qo;if(w&&i){var j=ft(w).hoistableScripts,k=Zo(i),z=j.get(k);z||(z=w.querySelector(Vs(k)),z||(i=F({src:i,async:!0},f),(f=pa.get(k))&&xf(i,f),z=w.createElement("script"),Dt(z),En(z,"link",i),w.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},j.set(k,z))}}function hy(i,f){ni.M(i,f);var w=qo;if(w&&i){var j=ft(w).hoistableScripts,k=Zo(i),z=j.get(k);z||(z=w.querySelector(Vs(k)),z||(i=F({src:i,async:!0,type:"module"},f),(f=pa.get(k))&&xf(i,f),z=w.createElement("script"),Dt(z),En(z,"link",i),w.head.appendChild(z)),z={type:"script",instance:z,count:1,state:null},j.set(k,z))}}function zp(i,f,w,j){var k=(k=xe.current)?lu(k):null;if(!k)throw Error(t(446));switch(i){case"meta":case"title":return null;case"style":return typeof w.precedence=="string"&&typeof w.href=="string"?(f=Yo(w.href),w=ft(k).hoistableStyles,j=w.get(f),j||(j={type:"style",instance:null,count:0,state:null},w.set(f,j)),j):{type:"void",instance:null,count:0,state:null};case"link":if(w.rel==="stylesheet"&&typeof w.href=="string"&&typeof w.precedence=="string"){i=Yo(w.href);var z=ft(k).hoistableStyles,ne=z.get(i);if(ne||(k=k.ownerDocument||k,ne={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},z.set(i,ne),(z=k.querySelector(zs(i)))&&!z._p&&(ne.instance=z,ne.state.loading=5),pa.has(i)||(w={rel:"preload",as:"style",href:w.href,crossOrigin:w.crossOrigin,integrity:w.integrity,media:w.media,hrefLang:w.hrefLang,referrerPolicy:w.referrerPolicy},pa.set(i,w),z||py(k,i,w,ne.state))),f&&j===null)throw Error(t(528,""));return ne}if(f&&j!==null)throw Error(t(529,""));return null;case"script":return f=w.async,w=w.src,typeof w=="string"&&f&&typeof f!="function"&&typeof f!="symbol"?(f=Zo(w),w=ft(k).hoistableScripts,j=w.get(f),j||(j={type:"script",instance:null,count:0,state:null},w.set(f,j)),j):{type:"void",instance:null,count:0,state:null};default:throw Error(t(444,i))}}function Yo(i){return'href="'+Ln(i)+'"'}function zs(i){return'link[rel="stylesheet"]['+i+"]"}function Vp(i){return F({},i,{"data-precedence":i.precedence,precedence:null})}function py(i,f,w,j){i.querySelector('link[rel="preload"][as="style"]['+f+"]")?j.loading=1:(f=i.createElement("link"),j.preload=f,f.addEventListener("load",function(){return j.loading|=1}),f.addEventListener("error",function(){return j.loading|=2}),En(f,"link",w),Dt(f),i.head.appendChild(f))}function Zo(i){return'[src="'+Ln(i)+'"]'}function Vs(i){return"script[async]"+i}function Hp(i,f,w){if(f.count++,f.instance===null)switch(f.type){case"style":var j=i.querySelector('style[data-href~="'+Ln(w.href)+'"]');if(j)return f.instance=j,Dt(j),j;var k=F({},w,{"data-href":w.href,"data-precedence":w.precedence,href:null,precedence:null});return j=(i.ownerDocument||i).createElement("style"),Dt(j),En(j,"style",k),uu(j,w.precedence,i),f.instance=j;case"stylesheet":k=Yo(w.href);var z=i.querySelector(zs(k));if(z)return f.state.loading|=4,f.instance=z,Dt(z),z;j=Vp(w),(k=pa.get(k))&&bf(j,k),z=(i.ownerDocument||i).createElement("link"),Dt(z);var ne=z;return ne._p=new Promise(function(pe,Ee){ne.onload=pe,ne.onerror=Ee}),En(z,"link",j),f.state.loading|=4,uu(z,w.precedence,i),f.instance=z;case"script":return z=Zo(w.src),(k=i.querySelector(Vs(z)))?(f.instance=k,Dt(k),k):(j=w,(k=pa.get(z))&&(j=F({},w),xf(j,k)),i=i.ownerDocument||i,k=i.createElement("script"),Dt(k),En(k,"link",j),i.head.appendChild(k),f.instance=k);case"void":return null;default:throw Error(t(443,f.type))}else f.type==="stylesheet"&&!(f.state.loading&4)&&(j=f.instance,f.state.loading|=4,uu(j,w.precedence,i));return f.instance}function uu(i,f,w){for(var j=w.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),k=j.length?j[j.length-1]:null,z=k,ne=0;ne<j.length;ne++){var pe=j[ne];if(pe.dataset.precedence===f)z=pe;else if(z!==k)break}z?z.parentNode.insertBefore(i,z.nextSibling):(f=w.nodeType===9?w.head:w,f.insertBefore(i,f.firstChild))}function bf(i,f){i.crossOrigin==null&&(i.crossOrigin=f.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=f.referrerPolicy),i.title==null&&(i.title=f.title)}function xf(i,f){i.crossOrigin==null&&(i.crossOrigin=f.crossOrigin),i.referrerPolicy==null&&(i.referrerPolicy=f.referrerPolicy),i.integrity==null&&(i.integrity=f.integrity)}var cu=null;function Xp(i,f,w){if(cu===null){var j=new Map,k=cu=new Map;k.set(w,j)}else k=cu,j=k.get(w),j||(j=new Map,k.set(w,j));if(j.has(i))return j;for(j.set(i,null),w=w.getElementsByTagName(i),k=0;k<w.length;k++){var z=w[k];if(!(z[pt]||z[Br]||i==="link"&&z.getAttribute("rel")==="stylesheet")&&z.namespaceURI!=="http://www.w3.org/2000/svg"){var ne=z.getAttribute(f)||"";ne=i+ne;var pe=j.get(ne);pe?pe.push(z):j.set(ne,[z])}}return j}function Wp(i,f,w){i=i.ownerDocument||i,i.head.insertBefore(w,f==="title"?i.querySelector("head > title"):null)}function my(i,f,w){if(w===1||f.itemProp!=null)return!1;switch(i){case"meta":case"title":return!0;case"style":if(typeof f.precedence!="string"||typeof f.href!="string"||f.href==="")break;return!0;case"link":if(typeof f.rel!="string"||typeof f.href!="string"||f.href===""||f.onLoad||f.onError)break;switch(f.rel){case"stylesheet":return i=f.disabled,typeof f.precedence=="string"&&i==null;default:return!0}case"script":if(f.async&&typeof f.async!="function"&&typeof f.async!="symbol"&&!f.onLoad&&!f.onError&&f.src&&typeof f.src=="string")return!0}return!1}function qp(i){return!(i.type==="stylesheet"&&!(i.state.loading&3))}var Hs=null;function yy(){}function gy(i,f,w){if(Hs===null)throw Error(t(475));var j=Hs;if(f.type==="stylesheet"&&(typeof w.media!="string"||matchMedia(w.media).matches!==!1)&&!(f.state.loading&4)){if(f.instance===null){var k=Yo(w.href),z=i.querySelector(zs(k));if(z){i=z._p,i!==null&&typeof i=="object"&&typeof i.then=="function"&&(j.count++,j=fu.bind(j),i.then(j,j)),f.state.loading|=4,f.instance=z,Dt(z);return}z=i.ownerDocument||i,w=Vp(w),(k=pa.get(k))&&bf(w,k),z=z.createElement("link"),Dt(z);var ne=z;ne._p=new Promise(function(pe,Ee){ne.onload=pe,ne.onerror=Ee}),En(z,"link",w),f.instance=z}j.stylesheets===null&&(j.stylesheets=new Map),j.stylesheets.set(f,i),(i=f.state.preload)&&!(f.state.loading&3)&&(j.count++,f=fu.bind(j),i.addEventListener("load",f),i.addEventListener("error",f))}}function vy(){if(Hs===null)throw Error(t(475));var i=Hs;return i.stylesheets&&i.count===0&&_f(i,i.stylesheets),0<i.count?function(f){var w=setTimeout(function(){if(i.stylesheets&&_f(i,i.stylesheets),i.unsuspend){var j=i.unsuspend;i.unsuspend=null,j()}},6e4);return i.unsuspend=f,function(){i.unsuspend=null,clearTimeout(w)}}:null}function fu(){if(this.count--,this.count===0){if(this.stylesheets)_f(this,this.stylesheets);else if(this.unsuspend){var i=this.unsuspend;this.unsuspend=null,i()}}}var du=null;function _f(i,f){i.stylesheets=null,i.unsuspend!==null&&(i.count++,du=new Map,f.forEach(by,i),du=null,fu.call(i))}function by(i,f){if(!(f.state.loading&4)){var w=du.get(i);if(w)var j=w.get(null);else{w=new Map,du.set(i,w);for(var k=i.querySelectorAll("link[data-precedence],style[data-precedence]"),z=0;z<k.length;z++){var ne=k[z];(ne.nodeName==="LINK"||ne.getAttribute("media")!=="not all")&&(w.set(ne.dataset.precedence,ne),j=ne)}j&&w.set(null,j)}k=f.instance,ne=k.getAttribute("data-precedence"),z=w.get(ne)||j,z===j&&w.set(null,k),w.set(ne,k),this.count++,j=fu.bind(this),k.addEventListener("load",j),k.addEventListener("error",j),z?z.parentNode.insertBefore(k,z.nextSibling):(i=i.nodeType===9?i.head:i,i.insertBefore(k,i.firstChild)),f.state.loading|=4}}var Xs={$$typeof:p,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function xy(i,f,w,j,k,z,ne,pe){this.tag=1,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Dr(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dr(0),this.hiddenUpdates=Dr(null),this.identifierPrefix=j,this.onUncaughtError=k,this.onCaughtError=z,this.onRecoverableError=ne,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=pe,this.incompleteTransitions=new Map}function Yp(i,f,w,j,k,z,ne,pe,Ee,Le,et,ot){return i=new xy(i,f,w,ne,pe,Ee,Le,ot),f=1,z===!0&&(f|=24),z=da(3,null,null,f),i.current=z,z.stateNode=i,f=Ju(),f.refCount++,i.pooledCache=f,f.refCount++,z.memoizedState={element:j,isDehydrated:w,cache:f},Rc(z),i}function Zp(i){return i?(i=Co,i):Co}function Kp(i,f,w,j,k,z){k=Zp(k),j.context===null?j.context=k:j.pendingContext=k,j=bi(f),j.payload={element:w},z=z===void 0?null:z,z!==null&&(j.callback=z),w=xi(i,j,f),w!==null&&(Pn(w,i,f),Ts(w,i,f))}function Qp(i,f){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var w=i.retryLane;i.retryLane=w!==0&&w<f?w:f}}function wf(i,f){Qp(i,f),(i=i.alternate)&&Qp(i,f)}function Jp(i){if(i.tag===13){var f=di(i,67108864);f!==null&&Pn(f,i,67108864),wf(i,67108864)}}var hu=!0;function _y(i,f,w,j){var k=L.T;L.T=null;var z=U.p;try{U.p=2,Sf(i,f,w,j)}finally{U.p=z,L.T=k}}function wy(i,f,w,j){var k=L.T;L.T=null;var z=U.p;try{U.p=8,Sf(i,f,w,j)}finally{U.p=z,L.T=k}}function Sf(i,f,w,j){if(hu){var k=Ef(j);if(k===null)ff(i,f,j,pu,w),em(i,j);else if(Ey(k,i,f,w,j))j.stopPropagation();else if(em(i,j),f&4&&-1<Sy.indexOf(i)){for(;k!==null;){var z=Qe(k);if(z!==null)switch(z.tag){case 3:if(z=z.stateNode,z.current.memoizedState.isDehydrated){var ne=At(z.pendingLanes);if(ne!==0){var pe=z;for(pe.pendingLanes|=2,pe.entangledLanes|=2;ne;){var Ee=1<<31-Ve(ne);pe.entanglements[1]|=Ee,ne&=~Ee}La(z),!(Pr&6)&&(Ql=st()+500,Fs(0))}}break;case 13:pe=di(z,2),pe!==null&&Pn(pe,z,2),eu(),wf(z,2)}if(z=Ef(j),z===null&&ff(i,f,j,pu,w),z===k)break;k=z}k!==null&&j.stopPropagation()}else ff(i,f,j,null,w)}}function Ef(i){return i=_o(i),Af(i)}var pu=null;function Af(i){if(pu=null,i=Pt(i),i!==null){var f=Z(i);if(f===null)i=null;else{var w=f.tag;if(w===13){if(i=K(f),i!==null)return i;i=null}else if(w===3){if(f.stateNode.current.memoizedState.isDehydrated)return f.tag===3?f.stateNode.containerInfo:null;i=null}else f!==i&&(i=null)}}return pu=i,null}function $p(i){switch(i){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(ct()){case yt:return 2;case dt:return 8;case Me:case Je:return 32;case Pe:return 268435456;default:return 32}default:return 32}}var jf=!1,Ci=null,Ti=null,Oi=null,Ws=new Map,qs=new Map,Mi=[],Sy="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function em(i,f){switch(i){case"focusin":case"focusout":Ci=null;break;case"dragenter":case"dragleave":Ti=null;break;case"mouseover":case"mouseout":Oi=null;break;case"pointerover":case"pointerout":Ws.delete(f.pointerId);break;case"gotpointercapture":case"lostpointercapture":qs.delete(f.pointerId)}}function Ys(i,f,w,j,k,z){return i===null||i.nativeEvent!==z?(i={blockedOn:f,domEventName:w,eventSystemFlags:j,nativeEvent:z,targetContainers:[k]},f!==null&&(f=Qe(f),f!==null&&Jp(f)),i):(i.eventSystemFlags|=j,f=i.targetContainers,k!==null&&f.indexOf(k)===-1&&f.push(k),i)}function Ey(i,f,w,j,k){switch(f){case"focusin":return Ci=Ys(Ci,i,f,w,j,k),!0;case"dragenter":return Ti=Ys(Ti,i,f,w,j,k),!0;case"mouseover":return Oi=Ys(Oi,i,f,w,j,k),!0;case"pointerover":var z=k.pointerId;return Ws.set(z,Ys(Ws.get(z)||null,i,f,w,j,k)),!0;case"gotpointercapture":return z=k.pointerId,qs.set(z,Ys(qs.get(z)||null,i,f,w,j,k)),!0}return!1}function tm(i){var f=Pt(i.target);if(f!==null){var w=Z(f);if(w!==null){if(f=w.tag,f===13){if(f=K(w),f!==null){i.blockedOn=f,$r(i.priority,function(){if(w.tag===13){var j=ta(),k=di(w,j);k!==null&&Pn(k,w,j),wf(w,j)}});return}}else if(f===3&&w.stateNode.current.memoizedState.isDehydrated){i.blockedOn=w.tag===3?w.stateNode.containerInfo:null;return}}}i.blockedOn=null}function mu(i){if(i.blockedOn!==null)return!1;for(var f=i.targetContainers;0<f.length;){var w=Ef(i.nativeEvent);if(w===null){w=i.nativeEvent;var j=new w.constructor(w.type,w);os=j,w.target.dispatchEvent(j),os=null}else return f=Qe(w),f!==null&&Jp(f),i.blockedOn=w,!1;f.shift()}return!0}function rm(i,f,w){mu(i)&&w.delete(f)}function Ay(){jf=!1,Ci!==null&&mu(Ci)&&(Ci=null),Ti!==null&&mu(Ti)&&(Ti=null),Oi!==null&&mu(Oi)&&(Oi=null),Ws.forEach(rm),qs.forEach(rm)}function yu(i,f){i.blockedOn===f&&(i.blockedOn=null,jf||(jf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ay)))}var gu=null;function nm(i){gu!==i&&(gu=i,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){gu===i&&(gu=null);for(var f=0;f<i.length;f+=3){var w=i[f],j=i[f+1],k=i[f+2];if(typeof j!="function"){if(Af(j||w)===null)continue;break}var z=Qe(w);z!==null&&(i.splice(f,3),f-=3,pc(z,{pending:!0,data:k,method:w.method,action:j},j,k))}}))}function Zs(i){function f(Ee){return yu(Ee,i)}Ci!==null&&yu(Ci,i),Ti!==null&&yu(Ti,i),Oi!==null&&yu(Oi,i),Ws.forEach(f),qs.forEach(f);for(var w=0;w<Mi.length;w++){var j=Mi[w];j.blockedOn===i&&(j.blockedOn=null)}for(;0<Mi.length&&(w=Mi[0],w.blockedOn===null);)tm(w),w.blockedOn===null&&Mi.shift();if(w=(i.ownerDocument||i).$$reactFormReplay,w!=null)for(j=0;j<w.length;j+=3){var k=w[j],z=w[j+1],ne=k[qr]||null;if(typeof z=="function")ne||nm(w);else if(ne){var pe=null;if(z&&z.hasAttribute("formAction")){if(k=z,ne=z[qr]||null)pe=ne.formAction;else if(Af(k)!==null)continue}else pe=ne.action;typeof pe=="function"?w[j+1]=pe:(w.splice(j,3),j-=3),nm(w)}}}function Cf(i){this._internalRoot=i}vu.prototype.render=Cf.prototype.render=function(i){var f=this._internalRoot;if(f===null)throw Error(t(409));var w=f.current,j=ta();Kp(w,j,i,f,null,null)},vu.prototype.unmount=Cf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var f=i.containerInfo;i.tag===0&&Ho(),Kp(i.current,2,null,i,null,null),eu(),f[va]=null}};function vu(i){this._internalRoot=i}vu.prototype.unstable_scheduleHydration=function(i){if(i){var f=nr();i={blockedOn:null,target:i,priority:f};for(var w=0;w<Mi.length&&f!==0&&f<Mi[w].priority;w++);Mi.splice(w,0,i),w===0&&tm(i)}};var am=r.version;if(am!=="19.0.0")throw Error(t(527,am,"19.0.0"));U.findDOMNode=function(i){var f=i._reactInternals;if(f===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=te(f),i=i!==null?ue(i):null,i=i===null?null:i.stateNode,i};var jy={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:Pt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bu.isDisabled&&bu.supportsFiber)try{re=bu.inject(jy),de=bu}catch{}}return Qs.createRoot=function(i,f){if(!l(i))throw Error(t(299));var w=!1,j="",k=_h,z=wh,ne=Sh,pe=null;return f!=null&&(f.unstable_strictMode===!0&&(w=!0),f.identifierPrefix!==void 0&&(j=f.identifierPrefix),f.onUncaughtError!==void 0&&(k=f.onUncaughtError),f.onCaughtError!==void 0&&(z=f.onCaughtError),f.onRecoverableError!==void 0&&(ne=f.onRecoverableError),f.unstable_transitionCallbacks!==void 0&&(pe=f.unstable_transitionCallbacks)),f=Yp(i,1,!1,null,null,w,j,k,z,ne,pe,null),i[va]=f.current,cf(i.nodeType===8?i.parentNode:i),new Cf(f)},Qs.hydrateRoot=function(i,f,w){if(!l(i))throw Error(t(299));var j=!1,k="",z=_h,ne=wh,pe=Sh,Ee=null,Le=null;return w!=null&&(w.unstable_strictMode===!0&&(j=!0),w.identifierPrefix!==void 0&&(k=w.identifierPrefix),w.onUncaughtError!==void 0&&(z=w.onUncaughtError),w.onCaughtError!==void 0&&(ne=w.onCaughtError),w.onRecoverableError!==void 0&&(pe=w.onRecoverableError),w.unstable_transitionCallbacks!==void 0&&(Ee=w.unstable_transitionCallbacks),w.formState!==void 0&&(Le=w.formState)),f=Yp(i,1,!0,f,w??null,j,k,z,ne,pe,Ee,Le),f.context=Zp(null),w=f.current,j=ta(),k=bi(j),k.callback=null,xi(w,k,j),f.current.lanes=j,qt(f,j),La(f),i[va]=f.current,cf(i),new vu(f)},Qs.version="19.0.0",Qs}var pm;function Py(){if(pm)return Mf.exports;pm=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(r){console.error(r)}}return a(),Mf.exports=ky(),Mf.exports}var By=Py();const Fy=ad(By);function _u(a){throw new Error('Could not dynamically require "'+a+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var Nf={exports:{}};/*! p5.js v1.11.3 January 22, 2025 */var mm;function Uy(){return mm||(mm=1,function(a,r){(function(n){a.exports=n()})(function(){var n;return function t(l,s,o){function u(g,y){if(!s[g]){if(!l[g]){var h=typeof _u=="function"&&_u;if(!y&&h)return h(g,!0);if(c)return c(g,!0);throw(y=new Error("Cannot find module '"+g+"'")).code="MODULE_NOT_FOUND",y}h=s[g]={exports:{}},l[g][0].call(h.exports,function(p){return u(l[g][1][p]||p)},h,h.exports,t,l,s,o)}return s[g].exports}for(var c=typeof _u=="function"&&_u,d=0;d<o.length;d++)u(o[d]);return u}({1:[function(t,l,s){s.byteLength=function(v){var v=h(v),m=v[0],v=v[1];return 3*(m+v)/4-v},s.toByteArray=function(p){var m,v,x=h(p),_=x[0],x=x[1],b=new c(function(C,D){return 3*(C+D)/4-D}(_,x)),E=0,S=0<x?_-4:_;for(v=0;v<S;v+=4)m=u[p.charCodeAt(v)]<<18|u[p.charCodeAt(v+1)]<<12|u[p.charCodeAt(v+2)]<<6|u[p.charCodeAt(v+3)],b[E++]=m>>16&255,b[E++]=m>>8&255,b[E++]=255&m;return x===2&&(m=u[p.charCodeAt(v)]<<2|u[p.charCodeAt(v+1)]>>4,b[E++]=255&m),x===1&&(m=u[p.charCodeAt(v)]<<10|u[p.charCodeAt(v+1)]<<4|u[p.charCodeAt(v+2)]>>2,b[E++]=m>>8&255,b[E++]=255&m),b},s.fromByteArray=function(p){for(var m,v=p.length,_=v%3,x=[],b=0,E=v-_;b<E;b+=16383)x.push(function(S,C,D){for(var M,R=[],L=C;L<D;L+=3)M=(S[L]<<16&16711680)+(S[L+1]<<8&65280)+(255&S[L+2]),R.push(function(F){return o[F>>18&63]+o[F>>12&63]+o[F>>6&63]+o[63&F]}(M));return R.join("")}(p,b,E<b+16383?E:b+16383));return _==1?(m=p[v-1],x.push(o[m>>2]+o[m<<4&63]+"==")):_==2&&(m=(p[v-2]<<8)+p[v-1],x.push(o[m>>10]+o[m>>4&63]+o[m<<2&63]+"=")),x.join("")};for(var o=[],u=[],c=typeof Uint8Array<"u"?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",g=0,y=d.length;g<y;++g)o[g]=d[g],u[d.charCodeAt(g)]=g;function h(p){var m=p.length;if(0<m%4)throw new Error("Invalid string. Length must be a multiple of 4");return p=p.indexOf("="),m=(p=p===-1?m:p)===m?0:4-p%4,[p,m]}u[45]=62,u[95]=63},{}],2:[function(t,l,s){},{}],3:[function(t,l,s){},{}],4:[function(t,l,s){(function(h){var u=t("base64-js"),c=t("ieee754"),d=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null,g=(s.Buffer=h,s.SlowBuffer=function(O){return+O!=O&&(O=0),h.alloc(+O)},s.INSPECT_MAX_BYTES=50,2147483647);function y(O){if(g<O)throw new RangeError('The value "'+O+'" is invalid for option "size"');return O=new Uint8Array(O),Object.setPrototypeOf(O,h.prototype),O}function h(O,U,q){if(typeof O!="number")return p(O,U,q);if(typeof U=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return v(O)}function p(O,U,q){if(typeof O=="string"){var Q=O,ae=U;if(h.isEncoding(ae=typeof ae=="string"&&ae!==""?ae:"utf8"))return ie=0|b(Q,ae),he=y(ie),he=(Q=he.write(Q,ae))!==ie?he.slice(0,Q):he;throw new TypeError("Unknown encoding: "+ae)}if(ArrayBuffer.isView(O))return _(O);if(O!=null){if(Y(O,ArrayBuffer)||O&&Y(O.buffer,ArrayBuffer)){var ie=O,Q=U,he=q;if(Q<0||ie.byteLength<Q)throw new RangeError('"offset" is outside of buffer bounds');if(ie.byteLength<Q+(he||0))throw new RangeError('"length" is outside of buffer bounds');return ie=Q===void 0&&he===void 0?new Uint8Array(ie):he===void 0?new Uint8Array(ie,Q):new Uint8Array(ie,Q,he),Object.setPrototypeOf(ie,h.prototype),ie}if(typeof O=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');if(ae=O.valueOf&&O.valueOf(),ae!=null&&ae!==O)return h.from(ae,U,q);var ge=function(fe){{var ve,xe;if(h.isBuffer(fe))return ve=0|x(fe.length),(xe=y(ve)).length!==0&&fe.copy(xe,0,0,ve),xe}if(fe.length!==void 0)return typeof fe.length!="number"||te(fe.length)?y(0):_(fe);if(fe.type==="Buffer"&&Array.isArray(fe.data))return _(fe.data)}(O);if(ge)return ge;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof O[Symbol.toPrimitive]=="function")return h.from(O[Symbol.toPrimitive]("string"),U,q)}throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof O)}function m(O){if(typeof O!="number")throw new TypeError('"size" argument must be of type number');if(O<0)throw new RangeError('The value "'+O+'" is invalid for option "size"')}function v(O){return m(O),y(O<0?0:0|x(O))}function _(O){for(var U=O.length<0?0:0|x(O.length),q=y(U),Q=0;Q<U;Q+=1)q[Q]=255&O[Q];return q}function x(O){if(g<=O)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+g.toString(16)+" bytes");return 0|O}function b(O,U){if(h.isBuffer(O))return O.length;if(ArrayBuffer.isView(O)||Y(O,ArrayBuffer))return O.byteLength;if(typeof O!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof O);var q=O.length,Q=2<arguments.length&&arguments[2]===!0;if(!Q&&q===0)return 0;for(var ae=!1;;)switch(U){case"ascii":case"latin1":case"binary":return q;case"utf8":case"utf-8":return J(O).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*q;case"hex":return q>>>1;case"base64":return Z(O).length;default:if(ae)return Q?-1:J(O).length;U=(""+U).toLowerCase(),ae=!0}}function E(O,U,q){var Q,ae=!1;if((U=U===void 0||U<0?0:U)>this.length||(q=q===void 0||q>this.length?this.length:q)<=0||(q>>>=0)<=(U>>>=0))return"";for(O=O||"utf8";;)switch(O){case"hex":var ie=this,je=U,he=q,xe=ie.length;(!he||he<0||xe<he)&&(he=xe);for(var ge="",fe=je=!je||je<0?0:je;fe<he;++fe)ge+=ue[ie[fe]];return ge;case"utf8":case"utf-8":return L(this,U,q);case"ascii":var ve=this,xe=U,se=q,be="";se=Math.min(ve.length,se);for(var Ae=xe;Ae<se;++Ae)be+=String.fromCharCode(127&ve[Ae]);return be;case"latin1":case"binary":var De=this,je=U,Oe=q,ke="";Oe=Math.min(De.length,Oe);for(var tt=je;tt<Oe;++tt)ke+=String.fromCharCode(De[tt]);return ke;case"base64":return Fe=this,Q=q,(vt=U)===0&&Q===Fe.length?u.fromByteArray(Fe):u.fromByteArray(Fe.slice(vt,Q));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":for(var Fe=U,vt=q,st=this.slice(Fe,vt),ct="",yt=0;yt<st.length;yt+=2)ct+=String.fromCharCode(st[yt]+256*st[yt+1]);return ct;default:if(ae)throw new TypeError("Unknown encoding: "+O);O=(O+"").toLowerCase(),ae=!0}}function S(O,U,q){var Q=O[U];O[U]=O[q],O[q]=Q}function C(O,U,q,Q,ae){if(O.length===0)return-1;if(typeof q=="string"?(Q=q,q=0):2147483647<q?q=2147483647:q<-2147483648&&(q=-2147483648),(q=(q=te(q=+q)?ae?0:O.length-1:q)<0?O.length+q:q)>=O.length){if(ae)return-1;q=O.length-1}else if(q<0){if(!ae)return-1;q=0}if(typeof U=="string"&&(U=h.from(U,Q)),h.isBuffer(U))return U.length===0?-1:D(O,U,q,Q,ae);if(typeof U=="number")return U&=255,typeof Uint8Array.prototype.indexOf=="function"?(ae?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(O,U,q):D(O,[U],q,Q,ae);throw new TypeError("val must be string, number or Buffer")}function D(O,U,q,Q,ae){var ie=1,he=O.length,ge=U.length;if(Q!==void 0&&((Q=String(Q).toLowerCase())==="ucs2"||Q==="ucs-2"||Q==="utf16le"||Q==="utf-16le")){if(O.length<2||U.length<2)return-1;he/=ie=2,ge/=2,q/=2}function fe(Ae,De){return ie===1?Ae[De]:Ae.readUInt16BE(De*ie)}if(ae)for(var ve=-1,xe=q;xe<he;xe++)if(fe(O,xe)===fe(U,ve===-1?0:xe-ve)){if(xe-(ve=ve===-1?xe:ve)+1===ge)return ve*ie}else ve!==-1&&(xe-=xe-ve),ve=-1;else for(xe=q=he<q+ge?he-ge:q;0<=xe;xe--){for(var se=!0,be=0;be<ge;be++)if(fe(O,xe+be)!==fe(U,be)){se=!1;break}if(se)return xe}return-1}function M(O,U,q,Q){return K(function(ae){for(var ie=[],he=0;he<ae.length;++he)ie.push(255&ae.charCodeAt(he));return ie}(U),O,q,Q)}function R(O,U,q,Q){return K(function(ae,ie){for(var he,ge,fe=[],ve=0;ve<ae.length&&!((ie-=2)<0);++ve)ge=ae.charCodeAt(ve),he=ge>>8,ge=ge%256,fe.push(ge),fe.push(he);return fe}(U,O.length-q),O,q,Q)}function L(O,U,q){q=Math.min(O.length,q);for(var Q=[],ae=U;ae<q;){var ie,he,ge,fe,ve=O[ae],xe=null,se=239<ve?4:223<ve?3:191<ve?2:1;if(ae+se<=q)switch(se){case 1:ve<128&&(xe=ve);break;case 2:(192&(ie=O[ae+1]))==128&&127<(fe=(31&ve)<<6|63&ie)&&(xe=fe);break;case 3:ie=O[ae+1],he=O[ae+2],(192&ie)==128&&(192&he)==128&&2047<(fe=(15&ve)<<12|(63&ie)<<6|63&he)&&(fe<55296||57343<fe)&&(xe=fe);break;case 4:ie=O[ae+1],he=O[ae+2],ge=O[ae+3],(192&ie)==128&&(192&he)==128&&(192&ge)==128&&65535<(fe=(15&ve)<<18|(63&ie)<<12|(63&he)<<6|63&ge)&&fe<1114112&&(xe=fe)}xe===null?(xe=65533,se=1):65535<xe&&(xe-=65536,Q.push(xe>>>10&1023|55296),xe=56320|1023&xe),Q.push(xe),ae+=se}var be=Q,Ae=be.length;if(Ae<=F)return String.fromCharCode.apply(String,be);for(var De="",je=0;je<Ae;)De+=String.fromCharCode.apply(String,be.slice(je,je+=F));return De}s.kMaxLength=g,(h.TYPED_ARRAY_SUPPORT=function(){try{var O=new Uint8Array(1),U={foo:function(){return 42}};return Object.setPrototypeOf(U,Uint8Array.prototype),Object.setPrototypeOf(O,U),O.foo()===42}catch{return!1}}())||typeof console>"u"||typeof console.error!="function"||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(h.prototype,"parent",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.buffer}}),Object.defineProperty(h.prototype,"offset",{enumerable:!0,get:function(){if(h.isBuffer(this))return this.byteOffset}}),typeof Symbol<"u"&&Symbol.species!=null&&h[Symbol.species]===h&&Object.defineProperty(h,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),h.poolSize=8192,h.from=p,Object.setPrototypeOf(h.prototype,Uint8Array.prototype),Object.setPrototypeOf(h,Uint8Array),h.alloc=function(O,U,q){return U=U,q=q,m(O=O),!(O<=0)&&U!==void 0?typeof q=="string"?y(O).fill(U,q):y(O).fill(U):y(O)},h.allocUnsafe=v,h.allocUnsafeSlow=v,h.isBuffer=function(O){return O!=null&&O._isBuffer===!0&&O!==h.prototype},h.compare=function(O,U){if(Y(O,Uint8Array)&&(O=h.from(O,O.offset,O.byteLength)),Y(U,Uint8Array)&&(U=h.from(U,U.offset,U.byteLength)),!h.isBuffer(O)||!h.isBuffer(U))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(O===U)return 0;for(var q=O.length,Q=U.length,ae=0,ie=Math.min(q,Q);ae<ie;++ae)if(O[ae]!==U[ae]){q=O[ae],Q=U[ae];break}return q<Q?-1:Q<q?1:0},h.isEncoding=function(O){switch(String(O).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},h.concat=function(O,U){if(!Array.isArray(O))throw new TypeError('"list" argument must be an Array of Buffers');if(O.length===0)return h.alloc(0);if(U===void 0)for(ae=U=0;ae<O.length;++ae)U+=O[ae].length;for(var q=h.allocUnsafe(U),Q=0,ae=0;ae<O.length;++ae){var ie=O[ae];if(Y(ie,Uint8Array)&&(ie=h.from(ie)),!h.isBuffer(ie))throw new TypeError('"list" argument must be an Array of Buffers');ie.copy(q,Q),Q+=ie.length}return q},h.byteLength=b,h.prototype._isBuffer=!0,h.prototype.swap16=function(){var O=this.length;if(O%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var U=0;U<O;U+=2)S(this,U,U+1);return this},h.prototype.swap32=function(){var O=this.length;if(O%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var U=0;U<O;U+=4)S(this,U,U+3),S(this,U+1,U+2);return this},h.prototype.swap64=function(){var O=this.length;if(O%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var U=0;U<O;U+=8)S(this,U,U+7),S(this,U+1,U+6),S(this,U+2,U+5),S(this,U+3,U+4);return this},h.prototype.toLocaleString=h.prototype.toString=function(){var O=this.length;return O===0?"":arguments.length===0?L(this,0,O):E.apply(this,arguments)},h.prototype.equals=function(O){if(h.isBuffer(O))return this===O||h.compare(this,O)===0;throw new TypeError("Argument must be a Buffer")},h.prototype.inspect=function(){var U="",O=s.INSPECT_MAX_BYTES,U=this.toString("hex",0,O).replace(/(.{2})/g,"$1 ").trim();return this.length>O&&(U+=" ... "),"<Buffer "+U+">"},d&&(h.prototype[d]=h.prototype.inspect),h.prototype.compare=function(O,U,q,Q,ae){if(Y(O,Uint8Array)&&(O=h.from(O,O.offset,O.byteLength)),!h.isBuffer(O))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof O);if(q===void 0&&(q=O?O.length:0),Q===void 0&&(Q=0),ae===void 0&&(ae=this.length),(U=U===void 0?0:U)<0||q>O.length||Q<0||ae>this.length)throw new RangeError("out of range index");if(ae<=Q&&q<=U)return 0;if(ae<=Q)return-1;if(q<=U)return 1;if(this===O)return 0;for(var ie=(ae>>>=0)-(Q>>>=0),he=(q>>>=0)-(U>>>=0),ge=Math.min(ie,he),fe=this.slice(Q,ae),ve=O.slice(U,q),xe=0;xe<ge;++xe)if(fe[xe]!==ve[xe]){ie=fe[xe],he=ve[xe];break}return ie<he?-1:he<ie?1:0},h.prototype.includes=function(O,U,q){return this.indexOf(O,U,q)!==-1},h.prototype.indexOf=function(O,U,q){return C(this,O,U,q,!0)},h.prototype.lastIndexOf=function(O,U,q){return C(this,O,U,q,!1)},h.prototype.write=function(O,U,q,Q){if(U===void 0)Q="utf8",q=this.length,U=0;else if(q===void 0&&typeof U=="string")Q=U,q=this.length,U=0;else{if(!isFinite(U))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");U>>>=0,isFinite(q)?(q>>>=0,Q===void 0&&(Q="utf8")):(Q=q,q=void 0)}var ae=this.length-U;if((q===void 0||ae<q)&&(q=ae),0<O.length&&(q<0||U<0)||U>this.length)throw new RangeError("Attempt to write outside buffer bounds");Q=Q||"utf8";for(var ie,he,ge,fe=!1;;)switch(Q){case"hex":var ve=this,xe=O,se=U,be=q,Ae=(se=Number(se)||0,ve.length-se);(!be||Ae<(be=Number(be)))&&(be=Ae),(Ae=xe.length)/2<be&&(be=Ae/2);for(var De=0;De<be;++De){var je=parseInt(xe.substr(2*De,2),16);if(te(je))return De;ve[se+De]=je}return De;case"utf8":case"utf-8":return Ae=U,ge=q,K(J(O,(he=this).length-Ae),he,Ae,ge);case"ascii":return M(this,O,U,q);case"latin1":case"binary":return M(this,O,U,q);case"base64":return he=this,ge=U,ie=q,K(Z(O),he,ge,ie);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,O,U,q);default:if(fe)throw new TypeError("Unknown encoding: "+Q);Q=(""+Q).toLowerCase(),fe=!0}},h.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var F=4096;function I(O,U,q){if(O%1!=0||O<0)throw new RangeError("offset is not uint");if(q<O+U)throw new RangeError("Trying to access beyond buffer length")}function G(O,U,q,Q,ae,ie){if(!h.isBuffer(O))throw new TypeError('"buffer" argument must be a Buffer instance');if(ae<U||U<ie)throw new RangeError('"value" argument is out of bounds');if(q+Q>O.length)throw new RangeError("Index out of range")}function P(O,U,q,Q){if(q+Q>O.length)throw new RangeError("Index out of range");if(q<0)throw new RangeError("Index out of range")}function X(O,U,q,Q,ae){return U=+U,q>>>=0,ae||P(O,0,q,4),c.write(O,U,q,Q,23,4),q+4}function V(O,U,q,Q,ae){return U=+U,q>>>=0,ae||P(O,0,q,8),c.write(O,U,q,Q,52,8),q+8}h.prototype.slice=function(O,U){var q=this.length,q=((O=~~O)<0?(O+=q)<0&&(O=0):q<O&&(O=q),(U=U===void 0?q:~~U)<0?(U+=q)<0&&(U=0):q<U&&(U=q),U<O&&(U=O),this.subarray(O,U));return Object.setPrototypeOf(q,h.prototype),q},h.prototype.readUIntLE=function(O,U,q){O>>>=0,U>>>=0,q||I(O,U,this.length);for(var Q=this[O],ae=1,ie=0;++ie<U&&(ae*=256);)Q+=this[O+ie]*ae;return Q},h.prototype.readUIntBE=function(O,U,q){O>>>=0,U>>>=0,q||I(O,U,this.length);for(var Q=this[O+--U],ae=1;0<U&&(ae*=256);)Q+=this[O+--U]*ae;return Q},h.prototype.readUInt8=function(O,U){return O>>>=0,U||I(O,1,this.length),this[O]},h.prototype.readUInt16LE=function(O,U){return O>>>=0,U||I(O,2,this.length),this[O]|this[O+1]<<8},h.prototype.readUInt16BE=function(O,U){return O>>>=0,U||I(O,2,this.length),this[O]<<8|this[O+1]},h.prototype.readUInt32LE=function(O,U){return O>>>=0,U||I(O,4,this.length),(this[O]|this[O+1]<<8|this[O+2]<<16)+16777216*this[O+3]},h.prototype.readUInt32BE=function(O,U){return O>>>=0,U||I(O,4,this.length),16777216*this[O]+(this[O+1]<<16|this[O+2]<<8|this[O+3])},h.prototype.readIntLE=function(O,U,q){O>>>=0,U>>>=0,q||I(O,U,this.length);for(var Q=this[O],ae=1,ie=0;++ie<U&&(ae*=256);)Q+=this[O+ie]*ae;return(ae*=128)<=Q&&(Q-=Math.pow(2,8*U)),Q},h.prototype.readIntBE=function(O,U,q){O>>>=0,U>>>=0,q||I(O,U,this.length);for(var Q=U,ae=1,ie=this[O+--Q];0<Q&&(ae*=256);)ie+=this[O+--Q]*ae;return(ae*=128)<=ie&&(ie-=Math.pow(2,8*U)),ie},h.prototype.readInt8=function(O,U){return O>>>=0,U||I(O,1,this.length),128&this[O]?-1*(255-this[O]+1):this[O]},h.prototype.readInt16LE=function(O,U){return O>>>=0,U||I(O,2,this.length),U=this[O]|this[O+1]<<8,32768&U?4294901760|U:U},h.prototype.readInt16BE=function(O,U){return O>>>=0,U||I(O,2,this.length),U=this[O+1]|this[O]<<8,32768&U?4294901760|U:U},h.prototype.readInt32LE=function(O,U){return O>>>=0,U||I(O,4,this.length),this[O]|this[O+1]<<8|this[O+2]<<16|this[O+3]<<24},h.prototype.readInt32BE=function(O,U){return O>>>=0,U||I(O,4,this.length),this[O]<<24|this[O+1]<<16|this[O+2]<<8|this[O+3]},h.prototype.readFloatLE=function(O,U){return O>>>=0,U||I(O,4,this.length),c.read(this,O,!0,23,4)},h.prototype.readFloatBE=function(O,U){return O>>>=0,U||I(O,4,this.length),c.read(this,O,!1,23,4)},h.prototype.readDoubleLE=function(O,U){return O>>>=0,U||I(O,8,this.length),c.read(this,O,!0,52,8)},h.prototype.readDoubleBE=function(O,U){return O>>>=0,U||I(O,8,this.length),c.read(this,O,!1,52,8)},h.prototype.writeUIntLE=function(O,U,q,Q){O=+O,U>>>=0,q>>>=0,Q||G(this,O,U,q,Math.pow(2,8*q)-1,0);var ae=1,ie=0;for(this[U]=255&O;++ie<q&&(ae*=256);)this[U+ie]=O/ae&255;return U+q},h.prototype.writeUIntBE=function(O,U,q,Q){O=+O,U>>>=0,q>>>=0,Q||G(this,O,U,q,Math.pow(2,8*q)-1,0);var ae=q-1,ie=1;for(this[U+ae]=255&O;0<=--ae&&(ie*=256);)this[U+ae]=O/ie&255;return U+q},h.prototype.writeUInt8=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,1,255,0),this[U]=255&O,U+1},h.prototype.writeUInt16LE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,2,65535,0),this[U]=255&O,this[U+1]=O>>>8,U+2},h.prototype.writeUInt16BE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,2,65535,0),this[U]=O>>>8,this[U+1]=255&O,U+2},h.prototype.writeUInt32LE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,4,4294967295,0),this[U+3]=O>>>24,this[U+2]=O>>>16,this[U+1]=O>>>8,this[U]=255&O,U+4},h.prototype.writeUInt32BE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,4,4294967295,0),this[U]=O>>>24,this[U+1]=O>>>16,this[U+2]=O>>>8,this[U+3]=255&O,U+4},h.prototype.writeIntLE=function(O,U,q,Q){O=+O,U>>>=0,Q||G(this,O,U,q,(Q=Math.pow(2,8*q-1))-1,-Q);var ae=0,ie=1,he=0;for(this[U]=255&O;++ae<q&&(ie*=256);)O<0&&he===0&&this[U+ae-1]!==0&&(he=1),this[U+ae]=(O/ie>>0)-he&255;return U+q},h.prototype.writeIntBE=function(O,U,q,Q){O=+O,U>>>=0,Q||G(this,O,U,q,(Q=Math.pow(2,8*q-1))-1,-Q);var ae=q-1,ie=1,he=0;for(this[U+ae]=255&O;0<=--ae&&(ie*=256);)O<0&&he===0&&this[U+ae+1]!==0&&(he=1),this[U+ae]=(O/ie>>0)-he&255;return U+q},h.prototype.writeInt8=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,1,127,-128),this[U]=255&(O=O<0?255+O+1:O),U+1},h.prototype.writeInt16LE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,2,32767,-32768),this[U]=255&O,this[U+1]=O>>>8,U+2},h.prototype.writeInt16BE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,2,32767,-32768),this[U]=O>>>8,this[U+1]=255&O,U+2},h.prototype.writeInt32LE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,4,2147483647,-2147483648),this[U]=255&O,this[U+1]=O>>>8,this[U+2]=O>>>16,this[U+3]=O>>>24,U+4},h.prototype.writeInt32BE=function(O,U,q){return O=+O,U>>>=0,q||G(this,O,U,4,2147483647,-2147483648),this[U]=(O=O<0?4294967295+O+1:O)>>>24,this[U+1]=O>>>16,this[U+2]=O>>>8,this[U+3]=255&O,U+4},h.prototype.writeFloatLE=function(O,U,q){return X(this,O,U,!0,q)},h.prototype.writeFloatBE=function(O,U,q){return X(this,O,U,!1,q)},h.prototype.writeDoubleLE=function(O,U,q){return V(this,O,U,!0,q)},h.prototype.writeDoubleBE=function(O,U,q){return V(this,O,U,!1,q)},h.prototype.copy=function(O,U,q,Q){if(!h.isBuffer(O))throw new TypeError("argument should be a Buffer");if(q=q||0,Q||Q===0||(Q=this.length),U>=O.length&&(U=O.length),(Q=0<Q&&Q<q?q:Q)===q||O.length===0||this.length===0)return 0;if((U=U||0)<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("Index out of range");if(Q<0)throw new RangeError("sourceEnd out of bounds");Q>this.length&&(Q=this.length);var ae=(Q=O.length-U<Q-q?O.length-U+q:Q)-q;if(this===O&&typeof Uint8Array.prototype.copyWithin=="function")this.copyWithin(U,q,Q);else if(this===O&&q<U&&U<Q)for(var ie=ae-1;0<=ie;--ie)O[ie+U]=this[ie+q];else Uint8Array.prototype.set.call(O,this.subarray(q,Q),U);return ae},h.prototype.fill=function(O,U,q,Q){if(typeof O=="string"){if(typeof U=="string"?(Q=U,U=0,q=this.length):typeof q=="string"&&(Q=q,q=this.length),Q!==void 0&&typeof Q!="string")throw new TypeError("encoding must be a string");if(typeof Q=="string"&&!h.isEncoding(Q))throw new TypeError("Unknown encoding: "+Q);var ae;O.length===1&&(ae=O.charCodeAt(0),(Q==="utf8"&&ae<128||Q==="latin1")&&(O=ae))}else typeof O=="number"?O&=255:typeof O=="boolean"&&(O=Number(O));if(U<0||this.length<U||this.length<q)throw new RangeError("Out of range index");var ie;if(!(q<=U))if(U>>>=0,q=q===void 0?this.length:q>>>0,typeof(O=O||0)=="number")for(ie=U;ie<q;++ie)this[ie]=O;else{var he=h.isBuffer(O)?O:h.from(O,Q),ge=he.length;if(ge===0)throw new TypeError('The value "'+O+'" is invalid for argument "value"');for(ie=0;ie<q-U;++ie)this[ie+U]=he[ie%ge]}return this};var H=/[^+/0-9A-Za-z-_]/g;function J(O,U){U=U||1/0;for(var q,Q=O.length,ae=null,ie=[],he=0;he<Q;++he){if(55295<(q=O.charCodeAt(he))&&q<57344){if(!ae){if(56319<q){-1<(U-=3)&&ie.push(239,191,189);continue}if(he+1===Q){-1<(U-=3)&&ie.push(239,191,189);continue}ae=q;continue}if(q<56320){-1<(U-=3)&&ie.push(239,191,189),ae=q;continue}q=65536+(ae-55296<<10|q-56320)}else ae&&-1<(U-=3)&&ie.push(239,191,189);if(ae=null,q<128){if(--U<0)break;ie.push(q)}else if(q<2048){if((U-=2)<0)break;ie.push(q>>6|192,63&q|128)}else if(q<65536){if((U-=3)<0)break;ie.push(q>>12|224,q>>6&63|128,63&q|128)}else{if(!(q<1114112))throw new Error("Invalid code point");if((U-=4)<0)break;ie.push(q>>18|240,q>>12&63|128,q>>6&63|128,63&q|128)}}return ie}function Z(O){return u.toByteArray(function(U){if((U=(U=U.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;U.length%4!=0;)U+="=";return U}(O))}function K(O,U,q,Q){for(var ae=0;ae<Q&&!(ae+q>=U.length||ae>=O.length);++ae)U[ae+q]=O[ae];return ae}function Y(O,U){return O instanceof U||O!=null&&O.constructor!=null&&O.constructor.name!=null&&O.constructor.name===U.name}function te(O){return O!=O}var ue=function(){for(var O="0123456789abcdef",U=new Array(256),q=0;q<16;++q)for(var Q=16*q,ae=0;ae<16;++ae)U[Q+ae]=O[q]+O[ae];return U}()}).call(this,t("buffer").Buffer)},{"base64-js":1,buffer:4,ieee754:254}],5:[function(t,l,s){l.exports=function(o){if(typeof o!="function")throw TypeError(String(o)+" is not a function");return o}},{}],6:[function(t,l,s){var o=t("../internals/is-object");l.exports=function(u){if(o(u)||u===null)return u;throw TypeError("Can't set "+String(u)+" as a prototype")}},{"../internals/is-object":75}],7:[function(c,l,s){var o=c("../internals/well-known-symbol"),u=c("../internals/object-create"),c=c("../internals/object-define-property"),d=o("unscopables"),g=Array.prototype;g[d]==null&&c.f(g,d,{configurable:!0,value:u(null)}),l.exports=function(y){g[d][y]=!0}},{"../internals/object-create":91,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],8:[function(t,l,s){var o=t("../internals/string-multibyte").charAt;l.exports=function(u,c,d){return c+(d?o(u,c).length:1)}},{"../internals/string-multibyte":125}],9:[function(t,l,s){l.exports=function(o,u,c){if(o instanceof u)return o;throw TypeError("Incorrect "+(c?c+" ":"")+"invocation")}},{}],10:[function(t,l,s){var o=t("../internals/is-object");l.exports=function(u){if(o(u))return u;throw TypeError(String(u)+" is not an object")}},{"../internals/is-object":75}],11:[function(t,l,s){l.exports=typeof ArrayBuffer<"u"&&typeof DataView<"u"},{}],12:[function(P,l,s){function o(V){return y(V)&&h(X,p(V))}var u,c=P("../internals/array-buffer-native"),d=P("../internals/descriptors"),g=P("../internals/global"),y=P("../internals/is-object"),h=P("../internals/has"),p=P("../internals/classof"),m=P("../internals/create-non-enumerable-property"),v=P("../internals/redefine"),_=P("../internals/object-define-property").f,x=P("../internals/object-get-prototype-of"),b=P("../internals/object-set-prototype-of"),F=P("../internals/well-known-symbol"),P=P("../internals/uid"),E=g.Int8Array,S=E&&E.prototype,C=g.Uint8ClampedArray,C=C&&C.prototype,D=E&&x(E),M=S&&x(S),R=Object.prototype,L=R.isPrototypeOf,F=F("toStringTag"),I=P("TYPED_ARRAY_TAG"),G=c&&!!b&&p(g.opera)!=="Opera",P=!1,X={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8};for(u in X)g[u]||(G=!1);if((!G||typeof D!="function"||D===Function.prototype)&&(D=function(){throw TypeError("Incorrect invocation")},G))for(u in X)g[u]&&b(g[u],D);if((!G||!M||M===R)&&(M=D.prototype,G))for(u in X)g[u]&&b(g[u].prototype,M);if(G&&x(C)!==M&&b(C,M),d&&!h(M,F))for(u in P=!0,_(M,F,{get:function(){return y(this)?this[I]:void 0}}),X)g[u]&&m(g[u],I,u);l.exports={NATIVE_ARRAY_BUFFER_VIEWS:G,TYPED_ARRAY_TAG:P&&I,aTypedArray:function(V){if(o(V))return V;throw TypeError("Target is not a typed array")},aTypedArrayConstructor:function(V){if(b){if(L.call(D,V))return V}else for(var H in X)if(h(X,u)&&(H=g[H],H&&(V===H||L.call(H,V))))return V;throw TypeError("Target is not a typed array constructor")},exportTypedArrayMethod:function(V,H,J){if(d){if(J)for(var Z in X)Z=g[Z],Z&&h(Z.prototype,V)&&delete Z.prototype[V];M[V]&&!J||v(M,V,!J&&G&&S[V]||H)}},exportTypedArrayStaticMethod:function(V,H,J){var Z,K;if(d){if(b){if(J)for(Z in X)(K=g[Z])&&h(K,V)&&delete K[V];if(D[V]&&!J)return;try{return v(D,V,!J&&G&&E[V]||H)}catch{}}for(Z in X)!(K=g[Z])||K[V]&&!J||v(K,V,H)}},isView:function(V){return V=p(V),V==="DataView"||h(X,V)},isTypedArray:o,TypedArray:D,TypedArrayPrototype:M}},{"../internals/array-buffer-native":11,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/uid":147,"../internals/well-known-symbol":150}],13:[function(q,l,s){function o(se){return[255&se]}function u(se){return[255&se,se>>8&255]}function c(se){return[255&se,se>>8&255,se>>16&255,se>>24&255]}function d(se){return se[3]<<24|se[2]<<16|se[1]<<8|se[0]}function g(se){return ie(se,23,4)}function y(se){return ie(se,52,8)}function h(se,be){P(se[Y],be,{get:function(){return H(this)[be]}})}function p(ke,be,Oe,De){if(Oe=R(Oe),ke=H(ke),Oe+be>ke.byteLength)throw ae(te);var je=H(ke.buffer).bytes,Oe=Oe+ke.byteOffset,ke=je.slice(Oe,Oe+be);return De?ke:ke.reverse()}function m(se,be,Ae,De,je,Oe){if(Ae=R(Ae),se=H(se),Ae+be>se.byteLength)throw ae(te);for(var ke=H(se.buffer).bytes,tt=Ae+se.byteOffset,Fe=De(+je),vt=0;vt<be;vt++)ke[tt+vt]=Fe[Oe?vt:be-vt-1]}var v=q("../internals/global"),_=q("../internals/descriptors"),x=q("../internals/array-buffer-native"),b=q("../internals/create-non-enumerable-property"),E=q("../internals/redefine-all"),S=q("../internals/fails"),C=q("../internals/an-instance"),D=q("../internals/to-integer"),M=q("../internals/to-length"),R=q("../internals/to-index"),L=q("../internals/ieee754"),F=q("../internals/object-get-prototype-of"),I=q("../internals/object-set-prototype-of"),G=q("../internals/object-get-own-property-names").f,P=q("../internals/object-define-property").f,X=q("../internals/array-fill"),V=q("../internals/set-to-string-tag"),q=q("../internals/internal-state"),H=q.get,J=q.set,Z="ArrayBuffer",K="DataView",Y="prototype",te="Wrong index",ue=v[Z],O=ue,U=v[K],q=U&&U[Y],Q=Object.prototype,ae=v.RangeError,ie=L.pack,he=L.unpack;if(x){if(!S(function(){ue(1)})||!S(function(){new ue(-1)})||S(function(){return new ue,new ue(1.5),new ue(NaN),ue.name!=Z})){for(var ge,v=(O=function(Ae){return C(this,O),new ue(R(Ae))})[Y]=ue[Y],fe=G(ue),ve=0;fe.length>ve;)(ge=fe[ve++])in O||b(O,ge,ue[ge]);v.constructor=O}I&&F(q)!==Q&&I(q,Q);var L=new U(new O(2)),xe=q.setInt8;L.setInt8(0,2147483648),L.setInt8(1,2147483649),!L.getInt8(0)&&L.getInt8(1)||E(q,{setInt8:function(be,Ae){xe.call(this,be,Ae<<24>>24)},setUint8:function(be,Ae){xe.call(this,be,Ae<<24>>24)}},{unsafe:!0})}else O=function(se){C(this,O,Z),se=R(se),J(this,{bytes:X.call(new Array(se),0),byteLength:se}),_||(this.byteLength=se)},U=function(se,je,Ae){C(this,U,K),C(se,O,K);var De=H(se).byteLength,je=D(je);if(je<0||De<je)throw ae("Wrong offset");if(De<je+(Ae=Ae===void 0?De-je:M(Ae)))throw ae("Wrong length");J(this,{buffer:se,byteLength:Ae,byteOffset:je}),_||(this.buffer=se,this.byteLength=Ae,this.byteOffset=je)},_&&(h(O,"byteLength"),h(U,"buffer"),h(U,"byteLength"),h(U,"byteOffset")),E(U[Y],{getInt8:function(se){return p(this,1,se)[0]<<24>>24},getUint8:function(se){return p(this,1,se)[0]},getInt16:function(se){return se=p(this,2,se,1<arguments.length?arguments[1]:void 0),(se[1]<<8|se[0])<<16>>16},getUint16:function(se){return se=p(this,2,se,1<arguments.length?arguments[1]:void 0),se[1]<<8|se[0]},getInt32:function(se){return d(p(this,4,se,1<arguments.length?arguments[1]:void 0))},getUint32:function(se){return d(p(this,4,se,1<arguments.length?arguments[1]:void 0))>>>0},getFloat32:function(se){return he(p(this,4,se,1<arguments.length?arguments[1]:void 0),23)},getFloat64:function(se){return he(p(this,8,se,1<arguments.length?arguments[1]:void 0),52)},setInt8:function(se,be){m(this,1,se,o,be)},setUint8:function(se,be){m(this,1,se,o,be)},setInt16:function(se,be){m(this,2,se,u,be,2<arguments.length?arguments[2]:void 0)},setUint16:function(se,be){m(this,2,se,u,be,2<arguments.length?arguments[2]:void 0)},setInt32:function(se,be){m(this,4,se,c,be,2<arguments.length?arguments[2]:void 0)},setUint32:function(se,be){m(this,4,se,c,be,2<arguments.length?arguments[2]:void 0)},setFloat32:function(se,be){m(this,4,se,g,be,2<arguments.length?arguments[2]:void 0)},setFloat64:function(se,be){m(this,8,se,y,be,2<arguments.length?arguments[2]:void 0)}});V(O,Z),V(U,K),l.exports={ArrayBuffer:O,DataView:U}},{"../internals/an-instance":9,"../internals/array-buffer-native":11,"../internals/array-fill":15,"../internals/create-non-enumerable-property":38,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/ieee754":66,"../internals/internal-state":71,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/to-index":135,"../internals/to-integer":137,"../internals/to-length":138}],14:[function(t,l,s){var o=t("../internals/to-object"),u=t("../internals/to-absolute-index"),c=t("../internals/to-length"),d=Math.min;l.exports=[].copyWithin||function(_,y){var h=o(this),p=c(h.length),m=u(_,p),v=u(y,p),_=2<arguments.length?arguments[2]:void 0,x=d((_===void 0?p:u(_,p))-v,p-m),b=1;for(v<m&&m<v+x&&(b=-1,v+=x-1,m+=x-1);0<x--;)v in h?h[m]=h[v]:delete h[m],m+=b,v+=b;return h}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],15:[function(t,l,s){var o=t("../internals/to-object"),u=t("../internals/to-absolute-index"),c=t("../internals/to-length");l.exports=function(d){for(var g=o(this),y=c(g.length),p=arguments.length,h=u(1<p?arguments[1]:void 0,y),p=2<p?arguments[2]:void 0,m=p===void 0?y:u(p,y);h<m;)g[h++]=d;return g}},{"../internals/to-absolute-index":134,"../internals/to-length":138,"../internals/to-object":139}],16:[function(c,l,s){var o=c("../internals/array-iteration").forEach,u=c("../internals/array-method-is-strict"),c=c("../internals/array-method-uses-to-length"),u=u("forEach"),c=c("forEach");l.exports=u&&c?[].forEach:function(d){return o(this,d,1<arguments.length?arguments[1]:void 0)}},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23}],17:[function(t,l,s){var o=t("../internals/function-bind-context"),u=t("../internals/to-object"),c=t("../internals/call-with-safe-iteration-closing"),d=t("../internals/is-array-iterator-method"),g=t("../internals/to-length"),y=t("../internals/create-property"),h=t("../internals/get-iterator-method");l.exports=function(C){var m,v,_,x,b,E,S=u(C),C=typeof this=="function"?this:Array,D=arguments.length,M=1<D?arguments[1]:void 0,R=M!==void 0,L=h(S),F=0;if(R&&(M=o(M,2<D?arguments[2]:void 0,2)),L==null||C==Array&&d(L))for(v=new C(m=g(S.length));F<m;F++)E=R?M(S[F],F):S[F],y(v,F,E);else for(b=(x=L.call(S)).next,v=new C;!(_=b.call(x)).done;F++)E=R?c(x,M,[_.value,F],!0):_.value,y(v,F,E);return v.length=F,v}},{"../internals/call-with-safe-iteration-closing":26,"../internals/create-property":40,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],18:[function(t,l,s){function o(g){return function(y,h,p){var m,v=u(y),_=c(v.length),x=d(p,_);if(g&&h!=h){for(;x<_;)if((m=v[x++])!=m)return!0}else for(;x<_;x++)if((g||x in v)&&v[x]===h)return g||x||0;return!g&&-1}}var u=t("../internals/to-indexed-object"),c=t("../internals/to-length"),d=t("../internals/to-absolute-index");l.exports={includes:o(!0),indexOf:o(!1)}},{"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138}],19:[function(t,l,s){function o(p){var m=p==1,v=p==2,_=p==3,x=p==4,b=p==6,E=p==5||b;return function(S,C,D,M){for(var R,L,F=d(S),I=c(F),G=u(C,D,3),P=g(I.length),X=0,C=M||y,V=m?C(S,P):v?C(S,0):void 0;X<P;X++)if((E||X in I)&&(L=G(R=I[X],X,F),p)){if(m)V[X]=L;else if(L)switch(p){case 3:return!0;case 5:return R;case 6:return X;case 2:h.call(V,R)}else if(x)return!1}return b?-1:_||x?x:V}}var u=t("../internals/function-bind-context"),c=t("../internals/indexed-object"),d=t("../internals/to-object"),g=t("../internals/to-length"),y=t("../internals/array-species-create"),h=[].push;l.exports={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6)}},{"../internals/array-species-create":25,"../internals/function-bind-context":55,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],20:[function(p,l,s){var o=p("../internals/to-indexed-object"),u=p("../internals/to-integer"),c=p("../internals/to-length"),h=p("../internals/array-method-is-strict"),p=p("../internals/array-method-uses-to-length"),d=Math.min,g=[].lastIndexOf,y=!!g&&1/[1].lastIndexOf(1,-0)<0,h=h("lastIndexOf"),p=p("indexOf",{ACCESSORS:!0,1:0});l.exports=y||!h||!p?function(m){if(y)return g.apply(this,arguments)||0;var v=o(this),_=c(v.length),x=_-1;for((x=1<arguments.length?d(x,u(arguments[1])):x)<0&&(x=_+x);0<=x;x--)if(x in v&&v[x]===m)return x||0;return-1}:g},{"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/to-indexed-object":136,"../internals/to-integer":137,"../internals/to-length":138}],21:[function(t,l,s){var o=t("../internals/fails"),u=t("../internals/well-known-symbol"),c=t("../internals/engine-v8-version"),d=u("species");l.exports=function(g){return 51<=c||!o(function(){var y=[];return(y.constructor={})[d]=function(){return{foo:1}},y[g](Boolean).foo!==1})}},{"../internals/engine-v8-version":48,"../internals/fails":51,"../internals/well-known-symbol":150}],22:[function(t,l,s){var o=t("../internals/fails");l.exports=function(u,c){var d=[][u];return!!d&&o(function(){d.call(null,c||function(){throw 1},1)})}},{"../internals/fails":51}],23:[function(t,l,s){function o(h){throw h}var u=t("../internals/descriptors"),c=t("../internals/fails"),d=t("../internals/has"),g=Object.defineProperty,y={};l.exports=function(h,p){var m,v,_,x;return d(y,h)?y[h]:(m=[][h],v=!!d(p=p||{},"ACCESSORS")&&p.ACCESSORS,_=d(p,0)?p[0]:o,x=d(p,1)?p[1]:void 0,y[h]=!!m&&!c(function(){if(v&&!u)return!0;var b={length:-1};v?g(b,1,{enumerable:!0,get:o}):b[1]=1,m.call(b,_,x)}))}},{"../internals/descriptors":43,"../internals/fails":51,"../internals/has":61}],24:[function(t,l,s){function o(y){return function(h,p,m,v){u(p);var _=c(h),x=d(_),b=g(_.length),E=y?b-1:0,S=y?-1:1;if(m<2)for(;;){if(E in x){v=x[E],E+=S;break}if(E+=S,y?E<0:b<=E)throw TypeError("Reduce of empty array with no initial value")}for(;y?0<=E:E<b;E+=S)E in x&&(v=p(v,x[E],E,_));return v}}var u=t("../internals/a-function"),c=t("../internals/to-object"),d=t("../internals/indexed-object"),g=t("../internals/to-length");l.exports={left:o(!1),right:o(!0)}},{"../internals/a-function":5,"../internals/indexed-object":67,"../internals/to-length":138,"../internals/to-object":139}],25:[function(t,l,s){var o=t("../internals/is-object"),u=t("../internals/is-array"),c=t("../internals/well-known-symbol")("species");l.exports=function(d,g){var y;return new((y=u(d)&&(typeof(y=d.constructor)=="function"&&(y===Array||u(y.prototype))||o(y)&&(y=y[c])===null)?void 0:y)===void 0?Array:y)(g===0?0:g)}},{"../internals/is-array":73,"../internals/is-object":75,"../internals/well-known-symbol":150}],26:[function(t,l,s){var o=t("../internals/an-object");l.exports=function(u,c,d,g){try{return g?c(o(d)[0],d[1]):c(d)}catch(y){throw g=u.return,g!==void 0&&o(g.call(u)),y}}},{"../internals/an-object":10}],27:[function(t,l,s){var o=t("../internals/well-known-symbol")("iterator"),u=!1;try{var c=0,d={next:function(){return{done:!!c++}},return:function(){u=!0}};d[o]=function(){return this},Array.from(d,function(){throw 2})}catch{}l.exports=function(g,y){if(!y&&!u)return!1;var h=!1;try{var p={};p[o]=function(){return{next:function(){return{done:h=!0}}}},g(p)}catch{}return h}},{"../internals/well-known-symbol":150}],28:[function(t,l,s){var o={}.toString;l.exports=function(u){return o.call(u).slice(8,-1)}},{}],29:[function(t,l,s){var o=t("../internals/to-string-tag-support"),u=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("toStringTag"),d=u(function(){return arguments}())=="Arguments";l.exports=o?u:function(g){var y;return g===void 0?"Undefined":g===null?"Null":typeof(y=function(h,p){try{return h[p]}catch{}}(g=Object(g),c))=="string"?y:d?u(g):(y=u(g))=="Object"&&typeof g.callee=="function"?"Arguments":y}},{"../internals/classof-raw":28,"../internals/to-string-tag-support":143,"../internals/well-known-symbol":150}],30:[function(_,l,s){var o=_("../internals/object-define-property").f,u=_("../internals/object-create"),c=_("../internals/redefine-all"),d=_("../internals/function-bind-context"),g=_("../internals/an-instance"),y=_("../internals/iterate"),h=_("../internals/define-iterator"),p=_("../internals/set-species"),m=_("../internals/descriptors"),v=_("../internals/internal-metadata").fastKey,_=_("../internals/internal-state"),x=_.set,b=_.getterFor;l.exports={getConstructor:function(E,S,C,D){function M(I,G,P){var X,V=F(I),H=R(I,G);return H?H.value=P:(V.last=H={index:X=v(G,!0),key:G,value:P,previous:G=V.last,next:void 0,removed:!1},V.first||(V.first=H),G&&(G.next=H),m?V.size++:I.size++,X!=="F"&&(V.index[X]=H)),I}function R(X,G){var P,X=F(X),V=v(G);if(V!=="F")return X.index[V];for(P=X.first;P;P=P.next)if(P.key==G)return P}var L=E(function(I,G){g(I,L,S),x(I,{type:S,index:u(null),first:void 0,last:void 0,size:0}),m||(I.size=0),G!=null&&y(G,I[D],I,C)}),F=b(S);return c(L.prototype,{clear:function(){for(var I=F(this),G=I.index,P=I.first;P;)P.removed=!0,P.previous&&(P.previous=P.previous.next=void 0),delete G[P.index],P=P.next;I.first=I.last=void 0,m?I.size=0:this.size=0},delete:function(V){var G,P,X=F(this),V=R(this,V);return V&&(G=V.next,P=V.previous,delete X.index[V.index],V.removed=!0,P&&(P.next=G),G&&(G.previous=P),X.first==V&&(X.first=G),X.last==V&&(X.last=P),m?X.size--:this.size--),!!V},forEach:function(I){for(var G,P=F(this),X=d(I,1<arguments.length?arguments[1]:void 0,3);G=G?G.next:P.first;)for(X(G.value,G.key,this);G&&G.removed;)G=G.previous},has:function(I){return!!R(this,I)}}),c(L.prototype,C?{get:function(I){return I=R(this,I),I&&I.value},set:function(I,G){return M(this,I===0?0:I,G)}}:{add:function(I){return M(this,I=I===0?0:I,I)}}),m&&o(L.prototype,"size",{get:function(){return F(this).size}}),L},setStrong:function(E,S,C){var D=S+" Iterator",M=b(S),R=b(D);h(E,S,function(L,F){x(this,{type:D,target:L,state:M(L),kind:F,last:void 0})},function(){for(var L=R(this),F=L.kind,I=L.last;I&&I.removed;)I=I.previous;return L.target&&(L.last=I=I?I.next:L.state.first)?F=="keys"?{value:I.key,done:!1}:F=="values"?{value:I.value,done:!1}:{value:[I.key,I.value],done:!1}:{value:L.target=void 0,done:!0}},C?"entries":"values",!C,!0),p(S)}}},{"../internals/an-instance":9,"../internals/define-iterator":41,"../internals/descriptors":43,"../internals/function-bind-context":55,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/iterate":78,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/redefine-all":109,"../internals/set-species":118}],31:[function(x,l,s){function o(M){return M.frozen||(M.frozen=new u)}function u(){this.entries=[]}function c(M,R){return S(M.entries,function(L){return L[0]===R})}var d=x("../internals/redefine-all"),g=x("../internals/internal-metadata").getWeakData,y=x("../internals/an-object"),h=x("../internals/is-object"),p=x("../internals/an-instance"),m=x("../internals/iterate"),v=x("../internals/array-iteration"),_=x("../internals/has"),x=x("../internals/internal-state"),b=x.set,E=x.getterFor,S=v.find,C=v.findIndex,D=0;u.prototype={get:function(M){if(M=c(this,M),M)return M[1]},has:function(M){return!!c(this,M)},set:function(M,R){var L=c(this,M);L?L[1]=R:this.entries.push([M,R])},delete:function(M){var R=C(this.entries,function(L){return L[0]===M});return~R&&this.entries.splice(R,1),!!~R}},l.exports={getConstructor:function(M,R,L,F){function I(X,V,H){var J=P(X),Z=g(y(V),!0);return Z===!0?o(J).set(V,H):Z[J.id]=H,X}var G=M(function(X,V){p(X,G,R),b(X,{type:R,id:D++,frozen:void 0}),V!=null&&m(V,X[F],X,L)}),P=E(R);return d(G.prototype,{delete:function(X){var V,H=P(this);return!!h(X)&&((V=g(X))===!0?o(H).delete(X):V&&_(V,H.id)&&delete V[H.id])},has:function(X){var V,H=P(this);return!!h(X)&&((V=g(X))===!0?o(H).has(X):V&&_(V,H.id))}}),d(G.prototype,L?{get:function(X){var V,H=P(this);if(h(X))return(V=g(X))===!0?o(H).get(X):V?V[H.id]:void 0},set:function(X,V){return I(this,X,V)}}:{add:function(X){return I(this,X,!0)}}),G}}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/array-iteration":19,"../internals/has":61,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine-all":109}],32:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/global"),c=t("../internals/is-forced"),d=t("../internals/redefine"),g=t("../internals/internal-metadata"),y=t("../internals/iterate"),h=t("../internals/an-instance"),p=t("../internals/is-object"),m=t("../internals/fails"),v=t("../internals/check-correctness-of-iteration"),_=t("../internals/set-to-string-tag"),x=t("../internals/inherit-if-required");l.exports=function(b,E,S){function C(Z){var K=V[Z];d(V,Z,Z=="add"?function(Y){return K.call(this,Y===0?0:Y),this}:Z=="delete"?function(Y){return!(G&&!p(Y))&&K.call(this,Y===0?0:Y)}:Z=="get"?function(Y){return G&&!p(Y)?void 0:K.call(this,Y===0?0:Y)}:Z=="has"?function(Y){return!(G&&!p(Y))&&K.call(this,Y===0?0:Y)}:function(Y,te){return K.call(this,Y===0?0:Y,te),this})}var D,M,R,L,F,I=b.indexOf("Map")!==-1,G=b.indexOf("Weak")!==-1,P=I?"set":"add",X=u[b],V=X&&X.prototype,H=X,J={};return c(b,typeof X!="function"||!(G||V.forEach&&!m(function(){new X().entries().next()})))?(H=S.getConstructor(E,b,I,P),g.REQUIRED=!0):c(b,!0)&&(M=(D=new H)[P](G?{}:-0,1)!=D,R=m(function(){D.has(1)}),L=v(function(Z){new X(Z)}),F=!G&&m(function(){for(var Z=new X,K=5;K--;)Z[P](K,K);return!Z.has(-0)}),L||(((H=E(function(Z,K){return h(Z,H,b),Z=x(new X,Z,H),K!=null&&y(K,Z[P],Z,I),Z})).prototype=V).constructor=H),(R||F)&&(C("delete"),C("has"),I&&C("get")),(F||M)&&C(P),G&&V.clear&&delete V.clear),J[b]=H,o({global:!0,forced:H!=X},J),_(H,b),G||S.setStrong(H,b,I),H}},{"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/export":50,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-metadata":70,"../internals/is-forced":74,"../internals/is-object":75,"../internals/iterate":78,"../internals/redefine":110,"../internals/set-to-string-tag":119}],33:[function(t,l,s){var o=t("../internals/has"),u=t("../internals/own-keys"),c=t("../internals/object-get-own-property-descriptor"),d=t("../internals/object-define-property");l.exports=function(g,y){for(var h=u(y),p=d.f,m=c.f,v=0;v<h.length;v++){var _=h[v];o(g,_)||p(g,_,m(y,_))}}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/own-keys":105}],34:[function(t,l,s){var o=t("../internals/well-known-symbol")("match");l.exports=function(u){var c=/./;try{"/./"[u](c)}catch{try{return c[o]=!1,"/./"[u](c)}catch{}}return!1}},{"../internals/well-known-symbol":150}],35:[function(t,l,s){t=t("../internals/fails"),l.exports=!t(function(){function o(){}return o.prototype.constructor=null,Object.getPrototypeOf(new o)!==o.prototype})},{"../internals/fails":51}],36:[function(t,l,s){var o=t("../internals/require-object-coercible"),u=/"/g;l.exports=function(h,d,g,y){var h=String(o(h)),p="<"+d;return g!==""&&(p+=" "+g+'="'+String(y).replace(u,"&quot;")+'"'),p+">"+h+"</"+d+">"}},{"../internals/require-object-coercible":115}],37:[function(t,l,s){function o(){return this}var u=t("../internals/iterators-core").IteratorPrototype,c=t("../internals/object-create"),d=t("../internals/create-property-descriptor"),g=t("../internals/set-to-string-tag"),y=t("../internals/iterators");l.exports=function(h,p,m){return p+=" Iterator",h.prototype=c(u,{next:d(1,m)}),g(h,p,!1,!0),y[p]=o,h}},{"../internals/create-property-descriptor":39,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-create":91,"../internals/set-to-string-tag":119}],38:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");l.exports=o?function(d,g,y){return u.f(d,g,c(1,y))}:function(d,g,y){return d[g]=y,d}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/object-define-property":93}],39:[function(t,l,s){l.exports=function(o,u){return{enumerable:!(1&o),configurable:!(2&o),writable:!(4&o),value:u}}},{}],40:[function(t,l,s){var o=t("../internals/to-primitive"),u=t("../internals/object-define-property"),c=t("../internals/create-property-descriptor");l.exports=function(d,g,y){g=o(g),g in d?u.f(d,g,c(0,y)):d[g]=y}},{"../internals/create-property-descriptor":39,"../internals/object-define-property":93,"../internals/to-primitive":142}],41:[function(x,l,s){function o(){return this}var u=x("../internals/export"),c=x("../internals/create-iterator-constructor"),d=x("../internals/object-get-prototype-of"),g=x("../internals/object-set-prototype-of"),y=x("../internals/set-to-string-tag"),h=x("../internals/create-non-enumerable-property"),p=x("../internals/redefine"),m=x("../internals/well-known-symbol"),v=x("../internals/is-pure"),_=x("../internals/iterators"),x=x("../internals/iterators-core"),b=x.IteratorPrototype,E=x.BUGGY_SAFARI_ITERATORS,S=m("iterator"),C="values",D="entries";l.exports=function(M,R,L,J,I,G,P){c(L,R,J);function X(O){if(O===I&&te)return te;if(!E&&O in K)return K[O];switch(O){case"keys":case C:case D:return function(){return new L(this,O)}}return function(){return new L(this)}}var V,H,J=R+" Iterator",Z=!1,K=M.prototype,Y=K[S]||K["@@iterator"]||I&&K[I],te=!E&&Y||X(I),ue=R=="Array"&&K.entries||Y;if(ue&&(ue=d(ue.call(new M)),b!==Object.prototype&&ue.next&&(v||d(ue)===b||(g?g(ue,b):typeof ue[S]!="function"&&h(ue,S,o)),y(ue,J,!0,!0),v&&(_[J]=o))),I==C&&Y&&Y.name!==C&&(Z=!0,te=function(){return Y.call(this)}),v&&!P||K[S]===te||h(K,S,te),_[R]=te,I)if(V={values:X(C),keys:G?te:X("keys"),entries:X(D)},P)for(H in V)!E&&!Z&&H in K||p(K,H,V[H]);else u({target:R,proto:!0,forced:E||Z},V);return V}},{"../internals/create-iterator-constructor":37,"../internals/create-non-enumerable-property":38,"../internals/export":50,"../internals/is-pure":76,"../internals/iterators":80,"../internals/iterators-core":79,"../internals/object-get-prototype-of":98,"../internals/object-set-prototype-of":102,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150}],42:[function(t,l,s){var o=t("../internals/path"),u=t("../internals/has"),c=t("../internals/well-known-symbol-wrapped"),d=t("../internals/object-define-property").f;l.exports=function(g){var y=o.Symbol||(o.Symbol={});u(y,g)||d(y,g,{value:c.f(g)})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/path":106,"../internals/well-known-symbol-wrapped":149}],43:[function(t,l,s){t=t("../internals/fails"),l.exports=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7})},{"../internals/fails":51}],44:[function(u,l,s){var o=u("../internals/global"),u=u("../internals/is-object"),c=o.document,d=u(c)&&u(c.createElement);l.exports=function(g){return d?c.createElement(g):{}}},{"../internals/global":60,"../internals/is-object":75}],45:[function(t,l,s){l.exports={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}},{}],46:[function(t,l,s){t=t("../internals/engine-user-agent"),l.exports=/(iphone|ipod|ipad).*applewebkit/i.test(t)},{"../internals/engine-user-agent":47}],47:[function(t,l,s){t=t("../internals/get-built-in"),l.exports=t("navigator","userAgent")||""},{"../internals/get-built-in":57}],48:[function(c,l,s){var o,u,d=c("../internals/global"),c=c("../internals/engine-user-agent"),d=d.process,d=d&&d.versions,d=d&&d.v8;d?u=(o=d.split("."))[0]+o[1]:c&&(!(o=c.match(/Edge\/(\d+)/))||74<=o[1])&&(o=c.match(/Chrome\/(\d+)/))&&(u=o[1]),l.exports=u&&+u},{"../internals/engine-user-agent":47,"../internals/global":60}],49:[function(t,l,s){l.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},{}],50:[function(t,l,s){var o=t("../internals/global"),u=t("../internals/object-get-own-property-descriptor").f,c=t("../internals/create-non-enumerable-property"),d=t("../internals/redefine"),g=t("../internals/set-global"),y=t("../internals/copy-constructor-properties"),h=t("../internals/is-forced");l.exports=function(p,m){var v,_,x,b=p.target,E=p.global,S=p.stat,C=E?o:S?o[b]||g(b,{}):(o[b]||{}).prototype;if(C)for(v in m){if(_=m[v],x=p.noTargetGet?(x=u(C,v))&&x.value:C[v],!h(E?v:b+(S?".":"#")+v,p.forced)&&x!==void 0){if(typeof _==typeof x)continue;y(_,x)}(p.sham||x&&x.sham)&&c(_,"sham",!0),d(C,v,_,p)}}},{"../internals/copy-constructor-properties":33,"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/is-forced":74,"../internals/object-get-own-property-descriptor":94,"../internals/redefine":110,"../internals/set-global":117}],51:[function(t,l,s){l.exports=function(o){try{return!!o()}catch{return!0}}},{}],52:[function(m,l,s){m("../modules/es.regexp.exec");var o=m("../internals/redefine"),u=m("../internals/fails"),c=m("../internals/well-known-symbol"),d=m("../internals/regexp-exec"),g=m("../internals/create-non-enumerable-property"),y=c("species"),h=!u(function(){var x=/./;return x.exec=function(){var b=[];return b.groups={a:"7"},b},"".replace(x,"$<a>")!=="7"}),p="a".replace(/./,"$0")==="$0",m=c("replace"),v=!!/./[m]&&/./[m]("a","$0")==="",_=!u(function(){var b=/(?:)/,x=b.exec,b=(b.exec=function(){return x.apply(this,arguments)},"ab".split(b));return b.length!==2||b[0]!=="a"||b[1]!=="b"});l.exports=function(x,b,E,S){var C,D,M=c(x),R=!u(function(){var F={};return F[M]=function(){return 7},""[x](F)!=7}),L=R&&!u(function(){var F=!1,I=/a/;return x==="split"&&((I={constructor:{}}).constructor[y]=function(){return I},I.flags="",I[M]=/./[M]),I.exec=function(){return F=!0,null},I[M](""),!F});R&&L&&(x!=="replace"||h&&p&&!v)&&(x!=="split"||_)||(C=/./[M],E=(L=E(M,""[x],function(F,I,G,P,X){return I.exec===d?R&&!X?{done:!0,value:C.call(I,G,P)}:{done:!0,value:F.call(G,I,P)}:{done:!1}},{REPLACE_KEEPS_$0:p,REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE:v}))[0],D=L[1],o(String.prototype,x,E),o(RegExp.prototype,M,b==2?function(F,I){return D.call(F,this,I)}:function(F){return D.call(F,this)})),S&&g(RegExp.prototype[M],"sham",!0)}},{"../internals/create-non-enumerable-property":38,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-exec":112,"../internals/well-known-symbol":150,"../modules/es.regexp.exec":195}],53:[function(t,l,s){function o(g,y,h,p,m,v,_,x){for(var b,E=m,S=0,C=!!_&&d(_,x,3);S<p;){if(S in h){if(b=C?C(h[S],S,y):h[S],0<v&&u(b))E=o(g,y,b,c(b.length),E,v-1)-1;else{if(9007199254740991<=E)throw TypeError("Exceed the acceptable array length");g[E]=b}E++}S++}return E}var u=t("../internals/is-array"),c=t("../internals/to-length"),d=t("../internals/function-bind-context");l.exports=o},{"../internals/function-bind-context":55,"../internals/is-array":73,"../internals/to-length":138}],54:[function(t,l,s){t=t("../internals/fails"),l.exports=!t(function(){return Object.isExtensible(Object.preventExtensions({}))})},{"../internals/fails":51}],55:[function(t,l,s){var o=t("../internals/a-function");l.exports=function(u,c,d){if(o(u),c===void 0)return u;switch(d){case 0:return function(){return u.call(c)};case 1:return function(g){return u.call(c,g)};case 2:return function(g,y){return u.call(c,g,y)};case 3:return function(g,y,h){return u.call(c,g,y,h)}}return function(){return u.apply(c,arguments)}}},{"../internals/a-function":5}],56:[function(t,l,s){var o=t("../internals/a-function"),u=t("../internals/is-object"),c=[].slice,d={};l.exports=Function.bind||function(g){var y=o(this),h=c.call(arguments,1),p=function(){var m=h.concat(c.call(arguments));if(this instanceof p){var v=y,_=m.length,x=m;if(!(_ in d)){for(var b=[],E=0;E<_;E++)b[E]="a["+E+"]";d[_]=Function("C,a","return new C("+b.join(",")+")")}return d[_](v,x)}return y.apply(g,m)};return u(y.prototype)&&(p.prototype=y.prototype),p}},{"../internals/a-function":5,"../internals/is-object":75}],57:[function(t,l,s){function o(d){return typeof d=="function"?d:void 0}var u=t("../internals/path"),c=t("../internals/global");l.exports=function(d,g){return arguments.length<2?o(u[d])||o(c[d]):u[d]&&u[d][g]||c[d]&&c[d][g]}},{"../internals/global":60,"../internals/path":106}],58:[function(t,l,s){var o=t("../internals/classof"),u=t("../internals/iterators"),c=t("../internals/well-known-symbol")("iterator");l.exports=function(d){if(d!=null)return d[c]||d["@@iterator"]||u[o(d)]}},{"../internals/classof":29,"../internals/iterators":80,"../internals/well-known-symbol":150}],59:[function(t,l,s){var o=t("../internals/an-object"),u=t("../internals/get-iterator-method");l.exports=function(c){var d=u(c);if(typeof d!="function")throw TypeError(String(c)+" is not iterable");return o(d.call(c))}},{"../internals/an-object":10,"../internals/get-iterator-method":58}],60:[function(t,l,s){(function(o){function u(c){return c&&c.Math==Math&&c}l.exports=u(typeof globalThis=="object"&&globalThis)||u(typeof window=="object"&&window)||u(typeof self=="object"&&self)||u(typeof o=="object"&&o)||Function("return this")()}).call(this,typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{})},{}],61:[function(t,l,s){var o={}.hasOwnProperty;l.exports=function(u,c){return o.call(u,c)}},{}],62:[function(t,l,s){l.exports={}},{}],63:[function(t,l,s){var o=t("../internals/global");l.exports=function(u,c){var d=o.console;d&&d.error&&(arguments.length===1?d.error(u):d.error(u,c))}},{"../internals/global":60}],64:[function(t,l,s){t=t("../internals/get-built-in"),l.exports=t("document","documentElement")},{"../internals/get-built-in":57}],65:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/fails"),c=t("../internals/document-create-element");l.exports=!o&&!u(function(){return Object.defineProperty(c("div"),"a",{get:function(){return 7}}).a!=7})},{"../internals/descriptors":43,"../internals/document-create-element":44,"../internals/fails":51}],66:[function(t,l,s){var o=Math.abs,u=Math.pow,c=Math.floor,d=Math.log,g=Math.LN2;l.exports={pack:function(y,h,E){var m,v,_,x=new Array(E),b=8*E-h-1,E=(1<<b)-1,S=E>>1,C=h===23?u(2,-24)-u(2,-77):0,D=y<0||y===0&&1/y<0?1:0,M=0;for((y=o(y))!=y||y===1/0?(v=y!=y?1:0,m=E):(m=c(d(y)/g),y*(_=u(2,-m))<1&&(m--,_*=2),2<=(y+=1<=m+S?C/_:C*u(2,1-S))*_&&(m++,_/=2),E<=m+S?(v=0,m=E):1<=m+S?(v=(y*_-1)*u(2,h),m+=S):(v=y*u(2,S-1)*u(2,h),m=0));8<=h;x[M++]=255&v,v/=256,h-=8);for(m=m<<h|v,b+=h;0<b;x[M++]=255&m,m/=256,b-=8);return x[--M]|=128*D,x},unpack:function(y,h){var p,m=y.length,E=8*m-h-1,v=(1<<E)-1,_=v>>1,x=E-7,b=m-1,E=y[b--],S=127&E;for(E>>=7;0<x;S=256*S+y[b],b--,x-=8);for(p=S&(1<<-x)-1,S>>=-x,x+=h;0<x;p=256*p+y[b],b--,x-=8);if(S===0)S=1-_;else{if(S===v)return p?NaN:E?-1/0:1/0;p+=u(2,h),S-=_}return(E?-1:1)*p*u(2,S-h)}}},{}],67:[function(t,l,s){var o=t("../internals/fails"),u=t("../internals/classof-raw"),c="".split;l.exports=o(function(){return!Object("z").propertyIsEnumerable(0)})?function(d){return u(d)=="String"?c.call(d,""):Object(d)}:Object},{"../internals/classof-raw":28,"../internals/fails":51}],68:[function(t,l,s){var o=t("../internals/is-object"),u=t("../internals/object-set-prototype-of");l.exports=function(c,d,g){return u&&typeof(d=d.constructor)=="function"&&d!==g&&o(d=d.prototype)&&d!==g.prototype&&u(c,d),c}},{"../internals/is-object":75,"../internals/object-set-prototype-of":102}],69:[function(o,l,s){var o=o("../internals/shared-store"),u=Function.toString;typeof o.inspectSource!="function"&&(o.inspectSource=function(c){return u.call(c)}),l.exports=o.inspectSource},{"../internals/shared-store":121}],70:[function(t,l,s){function o(x){g(x,p,{value:{objectID:"O"+ ++m,weakData:{}}})}var u=t("../internals/hidden-keys"),c=t("../internals/is-object"),d=t("../internals/has"),g=t("../internals/object-define-property").f,y=t("../internals/uid"),h=t("../internals/freezing"),p=y("meta"),m=0,v=Object.isExtensible||function(){return!0},_=l.exports={REQUIRED:!1,fastKey:function(x,b){if(!c(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!d(x,p)){if(!v(x))return"F";if(!b)return"E";o(x)}return x[p].objectID},getWeakData:function(x,b){if(!d(x,p)){if(!v(x))return!0;if(!b)return!1;o(x)}return x[p].weakData},onFreeze:function(x){return h&&_.REQUIRED&&v(x)&&!d(x,p)&&o(x),x}};u[p]=!0},{"../internals/freezing":54,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/object-define-property":93,"../internals/uid":147}],71:[function(E,l,s){var o,u,c,d,g,y,h,p,m=E("../internals/native-weak-map"),S=E("../internals/global"),v=E("../internals/is-object"),_=E("../internals/create-non-enumerable-property"),x=E("../internals/has"),b=E("../internals/shared-key"),E=E("../internals/hidden-keys"),S=S.WeakMap;h=m?(o=new S,u=o.get,c=o.has,d=o.set,g=function(C,D){return d.call(o,C,D),D},y=function(C){return u.call(o,C)||{}},function(C){return c.call(o,C)}):(E[p=b("state")]=!0,g=function(C,D){return _(C,p,D),D},y=function(C){return x(C,p)?C[p]:{}},function(C){return x(C,p)}),l.exports={set:g,get:y,has:h,enforce:function(C){return h(C)?y(C):g(C,{})},getterFor:function(C){return function(D){if(v(D)&&(D=y(D)).type===C)return D;throw TypeError("Incompatible receiver, "+C+" required")}}}},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/shared-key":120}],72:[function(t,l,s){var o=t("../internals/well-known-symbol"),u=t("../internals/iterators"),c=o("iterator"),d=Array.prototype;l.exports=function(g){return g!==void 0&&(u.Array===g||d[c]===g)}},{"../internals/iterators":80,"../internals/well-known-symbol":150}],73:[function(t,l,s){var o=t("../internals/classof-raw");l.exports=Array.isArray||function(u){return o(u)=="Array"}},{"../internals/classof-raw":28}],74:[function(t,l,s){function o(p,m){return(p=g[d(p)])==h||p!=y&&(typeof m=="function"?u(m):!!m)}var u=t("../internals/fails"),c=/#|\.prototype\./,d=o.normalize=function(p){return String(p).replace(c,".").toLowerCase()},g=o.data={},y=o.NATIVE="N",h=o.POLYFILL="P";l.exports=o},{"../internals/fails":51}],75:[function(t,l,s){l.exports=function(o){return typeof o=="object"?o!==null:typeof o=="function"}},{}],76:[function(t,l,s){l.exports=!1},{}],77:[function(t,l,s){var o=t("../internals/is-object"),u=t("../internals/classof-raw"),c=t("../internals/well-known-symbol")("match");l.exports=function(d){var g;return o(d)&&((g=d[c])!==void 0?!!g:u(d)=="RegExp")}},{"../internals/classof-raw":28,"../internals/is-object":75,"../internals/well-known-symbol":150}],78:[function(t,l,s){function o(p,m){this.stopped=p,this.result=m}var u=t("../internals/an-object"),c=t("../internals/is-array-iterator-method"),d=t("../internals/to-length"),g=t("../internals/function-bind-context"),y=t("../internals/get-iterator-method"),h=t("../internals/call-with-safe-iteration-closing");(l.exports=function(p,m,v,_,x){var b,E,S,C,D,M,R=g(m,v,_?2:1);if(x)b=p;else{if(typeof(m=y(p))!="function")throw TypeError("Target is not iterable");if(c(m)){for(E=0,S=d(p.length);E<S;E++)if((C=_?R(u(M=p[E])[0],M[1]):R(p[E]))&&C instanceof o)return C;return new o(!1)}b=m.call(p)}for(D=b.next;!(M=D.call(b)).done;)if(typeof(C=h(b,R,M.value,_))=="object"&&C&&C instanceof o)return C;return new o(!1)}).stop=function(p){return new o(!0,p)}},{"../internals/an-object":10,"../internals/call-with-safe-iteration-closing":26,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138}],79:[function(y,l,s){var o,u,c=y("../internals/object-get-prototype-of"),d=y("../internals/create-non-enumerable-property"),g=y("../internals/has"),h=y("../internals/well-known-symbol"),y=y("../internals/is-pure"),h=h("iterator"),p=!1;[].keys&&("next"in(u=[].keys())?(c=c(c(u)))!==Object.prototype&&(o=c):p=!0),o==null&&(o={}),y||g(o,h)||d(o,h,function(){return this}),l.exports={IteratorPrototype:o,BUGGY_SAFARI_ITERATORS:p}},{"../internals/create-non-enumerable-property":38,"../internals/has":61,"../internals/is-pure":76,"../internals/object-get-prototype-of":98,"../internals/well-known-symbol":150}],80:[function(t,l,s){l.exports={}},{}],81:[function(t,l,s){l.exports=Math.sign||function(o){return(o=+o)==0||o!=o?o:o<0?-1:1}},{}],82:[function(_,l,s){var o,u,c,d,g,y,h,p,m=_("../internals/global"),D=_("../internals/object-get-own-property-descriptor").f,C=_("../internals/classof-raw"),v=_("../internals/task").set,_=_("../internals/engine-is-ios"),x=m.MutationObserver||m.WebKitMutationObserver,b=m.process,E=m.Promise,S=C(b)=="process",C=D(m,"queueMicrotask"),D=C&&C.value;D||(o=function(){var M,R;for(S&&(M=b.domain)&&M.exit();u;){R=u.fn,u=u.next;try{R()}catch(L){throw u?d():c=void 0,L}}c=void 0,M&&M.enter()},d=S?function(){b.nextTick(o)}:x&&!_?(g=!0,y=document.createTextNode(""),new x(o).observe(y,{characterData:!0}),function(){y.data=g=!g}):E&&E.resolve?(h=E.resolve(void 0),p=h.then,function(){p.call(h,o)}):function(){v.call(m,o)}),l.exports=D||function(M){M={fn:M,next:void 0},c&&(c.next=M),u||(u=M,d()),c=M}},{"../internals/classof-raw":28,"../internals/engine-is-ios":46,"../internals/global":60,"../internals/object-get-own-property-descriptor":94,"../internals/task":132}],83:[function(t,l,s){t=t("../internals/global"),l.exports=t.Promise},{"../internals/global":60}],84:[function(t,l,s){t=t("../internals/fails"),l.exports=!!Object.getOwnPropertySymbols&&!t(function(){return!String(Symbol())})},{"../internals/fails":51}],85:[function(t,l,s){var o=t("../internals/fails"),u=t("../internals/well-known-symbol"),c=t("../internals/is-pure"),d=u("iterator");l.exports=!o(function(){var g=new URL("b?a=1&b=2&c=3","http://a"),y=g.searchParams,h="";return g.pathname="c%20d",y.forEach(function(p,m){y.delete("b"),h+=m+p}),c&&!g.toJSON||!y.sort||g.href!=="http://a/c%20d?a=1&c=3"||y.get("c")!=="3"||String(new URLSearchParams("?a=1"))!=="a=1"||!y[d]||new URL("https://a@b").username!=="a"||new URLSearchParams(new URLSearchParams("a=b")).get("a")!=="b"||new URL("http://").host!=="xn--e1aybc"||new URL("http://a#").hash!=="#%D0%B1"||h!=="a1c3"||new URL("http://x",void 0).host!=="x"})},{"../internals/fails":51,"../internals/is-pure":76,"../internals/well-known-symbol":150}],86:[function(o,l,s){var u=o("../internals/global"),o=o("../internals/inspect-source"),u=u.WeakMap;l.exports=typeof u=="function"&&/native code/.test(o(u))},{"../internals/global":60,"../internals/inspect-source":69}],87:[function(t,l,s){function o(c){var d,g;this.promise=new c(function(y,h){if(d!==void 0||g!==void 0)throw TypeError("Bad Promise constructor");d=y,g=h}),this.resolve=u(d),this.reject=u(g)}var u=t("../internals/a-function");l.exports.f=function(c){return new o(c)}},{"../internals/a-function":5}],88:[function(t,l,s){var o=t("../internals/is-regexp");l.exports=function(u){if(o(u))throw TypeError("The method doesn't accept regular expressions");return u}},{"../internals/is-regexp":77}],89:[function(t,l,s){var o=t("../internals/global").isFinite;l.exports=Number.isFinite||function(u){return typeof u=="number"&&o(u)}},{"../internals/global":60}],90:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/fails"),c=t("../internals/object-keys"),d=t("../internals/object-get-own-property-symbols"),g=t("../internals/object-property-is-enumerable"),y=t("../internals/to-object"),h=t("../internals/indexed-object"),p=Object.assign,m=Object.defineProperty;l.exports=!p||u(function(){var v,_,x,b;return!(!o||p({b:1},p(m({},"a",{enumerable:!0,get:function(){m(this,"b",{value:3,enumerable:!1})}}),{b:2})).b===1)||(_={},b="abcdefghijklmnopqrst",(v={})[x=Symbol()]=7,b.split("").forEach(function(E){_[E]=E}),p({},v)[x]!=7||c(p({},_)).join("")!=b)})?function(v,_){for(var x=y(v),b=arguments.length,E=1,S=d.f,C=g.f;E<b;)for(var D,M=h(arguments[E++]),R=S?c(M).concat(S(M)):c(M),L=R.length,F=0;F<L;)D=R[F++],o&&!C.call(M,D)||(x[D]=M[D]);return x}:p},{"../internals/descriptors":43,"../internals/fails":51,"../internals/indexed-object":67,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-object":139}],91:[function(m,l,s){function o(){}var u,c=m("../internals/an-object"),d=m("../internals/object-define-properties"),g=m("../internals/enum-bug-keys"),y=m("../internals/hidden-keys"),h=m("../internals/html"),p=m("../internals/document-create-element"),m=m("../internals/shared-key"),v="prototype",_="script",x=m("IE_PROTO"),b=function(S){return"<"+_+">"+S+"</"+_+">"},E=function(){try{u=document.domain&&new ActiveXObject("htmlfile")}catch{}E=u?((S=u).write(b("")),S.close(),C=S.parentWindow.Object,S=null,C):(S=p("iframe"),C="java"+_+":",S.style.display="none",h.appendChild(S),S.src=String(C),(C=S.contentWindow.document).open(),C.write(b("document.F=Object")),C.close(),C.F);for(var S,C,D=g.length;D--;)delete E[v][g[D]];return E()};y[x]=!0,l.exports=Object.create||function(S,C){var D;return S!==null?(o[v]=c(S),D=new o,o[v]=null,D[x]=S):D=E(),C===void 0?D:d(D,C)}},{"../internals/an-object":10,"../internals/document-create-element":44,"../internals/enum-bug-keys":49,"../internals/hidden-keys":62,"../internals/html":64,"../internals/object-define-properties":92,"../internals/shared-key":120}],92:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/object-define-property"),c=t("../internals/an-object"),d=t("../internals/object-keys");l.exports=o?Object.defineProperties:function(g,y){c(g);for(var h,p=d(y),m=p.length,v=0;v<m;)u.f(g,h=p[v++],y[h]);return g}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/object-define-property":93,"../internals/object-keys":100}],93:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/ie8-dom-define"),c=t("../internals/an-object"),d=t("../internals/to-primitive"),g=Object.defineProperty;s.f=o?g:function(y,h,p){if(c(y),h=d(h,!0),c(p),u)try{return g(y,h,p)}catch{}if("get"in p||"set"in p)throw TypeError("Accessors not supported");return"value"in p&&(y[h]=p.value),y}},{"../internals/an-object":10,"../internals/descriptors":43,"../internals/ie8-dom-define":65,"../internals/to-primitive":142}],94:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/object-property-is-enumerable"),c=t("../internals/create-property-descriptor"),d=t("../internals/to-indexed-object"),g=t("../internals/to-primitive"),y=t("../internals/has"),h=t("../internals/ie8-dom-define"),p=Object.getOwnPropertyDescriptor;s.f=o?p:function(m,v){if(m=d(m),v=g(v,!0),h)try{return p(m,v)}catch{}if(y(m,v))return c(!u.f.call(m,v),m[v])}},{"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/has":61,"../internals/ie8-dom-define":65,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136,"../internals/to-primitive":142}],95:[function(t,l,s){var o=t("../internals/to-indexed-object"),u=t("../internals/object-get-own-property-names").f,c={}.toString,d=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];l.exports.f=function(g){if(!d||c.call(g)!="[object Window]")return u(o(g));try{return u(g)}catch{return d.slice()}}},{"../internals/object-get-own-property-names":96,"../internals/to-indexed-object":136}],96:[function(t,l,s){var o=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys").concat("length","prototype");s.f=Object.getOwnPropertyNames||function(c){return o(c,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],97:[function(t,l,s){s.f=Object.getOwnPropertySymbols},{}],98:[function(d,l,s){var o=d("../internals/has"),u=d("../internals/to-object"),c=d("../internals/shared-key"),d=d("../internals/correct-prototype-getter"),g=c("IE_PROTO"),y=Object.prototype;l.exports=d?Object.getPrototypeOf:function(h){return h=u(h),o(h,g)?h[g]:typeof h.constructor=="function"&&h instanceof h.constructor?h.constructor.prototype:h instanceof Object?y:null}},{"../internals/correct-prototype-getter":35,"../internals/has":61,"../internals/shared-key":120,"../internals/to-object":139}],99:[function(t,l,s){var o=t("../internals/has"),u=t("../internals/to-indexed-object"),c=t("../internals/array-includes").indexOf,d=t("../internals/hidden-keys");l.exports=function(g,y){var h,p=u(g),m=0,v=[];for(h in p)!o(d,h)&&o(p,h)&&v.push(h);for(;y.length>m;)!o(p,h=y[m++])||~c(v,h)||v.push(h);return v}},{"../internals/array-includes":18,"../internals/has":61,"../internals/hidden-keys":62,"../internals/to-indexed-object":136}],100:[function(t,l,s){var o=t("../internals/object-keys-internal"),u=t("../internals/enum-bug-keys");l.exports=Object.keys||function(c){return o(c,u)}},{"../internals/enum-bug-keys":49,"../internals/object-keys-internal":99}],101:[function(t,l,s){var o={}.propertyIsEnumerable,u=Object.getOwnPropertyDescriptor,c=u&&!o.call({1:2},1);s.f=c?function(d){return d=u(this,d),!!d&&d.enumerable}:o},{}],102:[function(t,l,s){var o=t("../internals/an-object"),u=t("../internals/a-possible-prototype");l.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var c,d=!1,g={};try{(c=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(g,[]),d=g instanceof Array}catch{}return function(y,h){return o(y),u(h),d?c.call(y,h):y.__proto__=h,y}}():void 0)},{"../internals/a-possible-prototype":6,"../internals/an-object":10}],103:[function(t,l,s){function o(y){return function(h){for(var p,m=d(h),v=c(m),_=v.length,x=0,b=[];x<_;)p=v[x++],u&&!g.call(m,p)||b.push(y?[p,m[p]]:m[p]);return b}}var u=t("../internals/descriptors"),c=t("../internals/object-keys"),d=t("../internals/to-indexed-object"),g=t("../internals/object-property-is-enumerable").f;l.exports={entries:o(!0),values:o(!1)}},{"../internals/descriptors":43,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/to-indexed-object":136}],104:[function(t,l,s){var o=t("../internals/to-string-tag-support"),u=t("../internals/classof");l.exports=o?{}.toString:function(){return"[object "+u(this)+"]"}},{"../internals/classof":29,"../internals/to-string-tag-support":143}],105:[function(t,l,s){var o=t("../internals/get-built-in"),u=t("../internals/object-get-own-property-names"),c=t("../internals/object-get-own-property-symbols"),d=t("../internals/an-object");l.exports=o("Reflect","ownKeys")||function(g){var y=u.f(d(g)),h=c.f;return h?y.concat(h(g)):y}},{"../internals/an-object":10,"../internals/get-built-in":57,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-symbols":97}],106:[function(t,l,s){t=t("../internals/global"),l.exports=t},{"../internals/global":60}],107:[function(t,l,s){l.exports=function(o){try{return{error:!1,value:o()}}catch(u){return{error:!0,value:u}}}},{}],108:[function(t,l,s){var o=t("../internals/an-object"),u=t("../internals/is-object"),c=t("../internals/new-promise-capability");l.exports=function(d,g){return o(d),u(g)&&g.constructor===d?g:((0,(d=c.f(d)).resolve)(g),d.promise)}},{"../internals/an-object":10,"../internals/is-object":75,"../internals/new-promise-capability":87}],109:[function(t,l,s){var o=t("../internals/redefine");l.exports=function(u,c,d){for(var g in c)o(u,g,c[g],d);return u}},{"../internals/redefine":110}],110:[function(y,l,s){var o=y("../internals/global"),u=y("../internals/create-non-enumerable-property"),c=y("../internals/has"),d=y("../internals/set-global"),g=y("../internals/inspect-source"),y=y("../internals/internal-state"),h=y.get,p=y.enforce,m=String(String).split("String");(l.exports=function(v,_,x,C){var E=!!C&&!!C.unsafe,S=!!C&&!!C.enumerable,C=!!C&&!!C.noTargetGet;typeof x=="function"&&(typeof _!="string"||c(x,"name")||u(x,"name",_),p(x).source=m.join(typeof _=="string"?_:"")),v===o?S?v[_]=x:d(_,x):(E?!C&&v[_]&&(S=!0):delete v[_],S?v[_]=x:u(v,_,x))})(Function.prototype,"toString",function(){return typeof this=="function"&&h(this).source||g(this)})},{"../internals/create-non-enumerable-property":38,"../internals/global":60,"../internals/has":61,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/set-global":117}],111:[function(t,l,s){var o=t("./classof-raw"),u=t("./regexp-exec");l.exports=function(c,d){var g=c.exec;if(typeof g=="function"){if(g=g.call(c,d),typeof g!="object")throw TypeError("RegExp exec method returned something other than an Object or null");return g}if(o(c)!=="RegExp")throw TypeError("RegExp#exec called on incompatible receiver");return u.call(c,d)}},{"./classof-raw":28,"./regexp-exec":112}],112:[function(d,l,s){var o,u,c=d("./regexp-flags"),d=d("./regexp-sticky-helpers"),g=RegExp.prototype.exec,y=String.prototype.replace,h=g,p=(o=/a/,u=/b*/g,g.call(o,"a"),g.call(u,"a"),o.lastIndex!==0||u.lastIndex!==0),m=d.UNSUPPORTED_Y||d.BROKEN_CARET,v=/()??/.exec("")[1]!==void 0;l.exports=h=p||v||m?function(_){var x,b,E,S,C=this,D=m&&C.sticky,M=c.call(C),R=C.source,L=0,F=_;return D&&((M=M.replace("y","")).indexOf("g")===-1&&(M+="g"),F=String(_).slice(C.lastIndex),0<C.lastIndex&&(!C.multiline||C.multiline&&_[C.lastIndex-1]!==`
`)&&(R="(?: "+R+")",F=" "+F,L++),b=new RegExp("^(?:"+R+")",M)),v&&(b=new RegExp("^"+R+"$(?!\\s)",M)),p&&(x=C.lastIndex),E=g.call(D?b:C,F),D?E?(E.input=E.input.slice(L),E[0]=E[0].slice(L),E.index=C.lastIndex,C.lastIndex+=E[0].length):C.lastIndex=0:p&&E&&(C.lastIndex=C.global?E.index+E[0].length:x),v&&E&&1<E.length&&y.call(E[0],b,function(){for(S=1;S<arguments.length-2;S++)arguments[S]===void 0&&(E[S]=void 0)}),E}:h},{"./regexp-flags":113,"./regexp-sticky-helpers":114}],113:[function(t,l,s){var o=t("../internals/an-object");l.exports=function(){var u=o(this),c="";return u.global&&(c+="g"),u.ignoreCase&&(c+="i"),u.multiline&&(c+="m"),u.dotAll&&(c+="s"),u.unicode&&(c+="u"),u.sticky&&(c+="y"),c}},{"../internals/an-object":10}],114:[function(t,l,s){t=t("./fails");function o(u,c){return RegExp(u,c)}s.UNSUPPORTED_Y=t(function(){var u=o("a","y");return u.lastIndex=2,u.exec("abcd")!=null}),s.BROKEN_CARET=t(function(){var u=o("^r","gy");return u.lastIndex=2,u.exec("str")!=null})},{"./fails":51}],115:[function(t,l,s){l.exports=function(o){if(o==null)throw TypeError("Can't call method on "+o);return o}},{}],116:[function(t,l,s){l.exports=Object.is||function(o,u){return o===u?o!==0||1/o==1/u:o!=o&&u!=u}},{}],117:[function(t,l,s){var o=t("../internals/global"),u=t("../internals/create-non-enumerable-property");l.exports=function(c,d){try{u(o,c,d)}catch{o[c]=d}return d}},{"../internals/create-non-enumerable-property":38,"../internals/global":60}],118:[function(t,l,s){var o=t("../internals/get-built-in"),u=t("../internals/object-define-property"),c=t("../internals/well-known-symbol"),d=t("../internals/descriptors"),g=c("species");l.exports=function(h){var h=o(h),p=u.f;d&&h&&!h[g]&&p(h,g,{configurable:!0,get:function(){return this}})}},{"../internals/descriptors":43,"../internals/get-built-in":57,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],119:[function(t,l,s){var o=t("../internals/object-define-property").f,u=t("../internals/has"),c=t("../internals/well-known-symbol")("toStringTag");l.exports=function(d,g,y){d&&!u(d=y?d:d.prototype,c)&&o(d,c,{configurable:!0,value:g})}},{"../internals/has":61,"../internals/object-define-property":93,"../internals/well-known-symbol":150}],120:[function(t,l,s){var o=t("../internals/shared"),u=t("../internals/uid"),c=o("keys");l.exports=function(d){return c[d]||(c[d]=u(d))}},{"../internals/shared":122,"../internals/uid":147}],121:[function(o,l,s){var c=o("../internals/global"),o=o("../internals/set-global"),u="__core-js_shared__",c=c[u]||o(u,{});l.exports=c},{"../internals/global":60,"../internals/set-global":117}],122:[function(t,l,s){var o=t("../internals/is-pure"),u=t("../internals/shared-store");(l.exports=function(c,d){return u[c]||(u[c]=d!==void 0?d:{})})("versions",[]).push({version:"3.6.5",mode:o?"pure":"global",copyright:" 2020 Denis Pushkarev (zloirock.ru)"})},{"../internals/is-pure":76,"../internals/shared-store":121}],123:[function(t,l,s){var o=t("../internals/an-object"),u=t("../internals/a-function"),c=t("../internals/well-known-symbol")("species");l.exports=function(y,g){var y=o(y).constructor;return y===void 0||(y=o(y)[c])==null?g:u(y)}},{"../internals/a-function":5,"../internals/an-object":10,"../internals/well-known-symbol":150}],124:[function(t,l,s){var o=t("../internals/fails");l.exports=function(u){return o(function(){var c=""[u]('"');return c!==c.toLowerCase()||3<c.split('"').length})}},{"../internals/fails":51}],125:[function(t,l,s){function o(d){return function(p,m){var h,p=String(c(p)),m=u(m),v=p.length;return m<0||v<=m?d?"":void 0:(h=p.charCodeAt(m))<55296||56319<h||m+1===v||(v=p.charCodeAt(m+1))<56320||57343<v?d?p.charAt(m):h:d?p.slice(m,m+2):v-56320+(h-55296<<10)+65536}}var u=t("../internals/to-integer"),c=t("../internals/require-object-coercible");l.exports={codeAt:o(!1),charAt:o(!0)}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],126:[function(t,l,s){t=t("../internals/engine-user-agent"),l.exports=/Version\/10\.\d+(\.\d+)?( Mobile\/\w+)? Safari\//.test(t)},{"../internals/engine-user-agent":47}],127:[function(t,l,s){function o(y){return function(v,b,x){var v=String(d(v)),_=v.length,x=x===void 0?" ":String(x),b=u(b);return b<=_||x==""?v:((_=c.call(x,g((b=b-_)/x.length))).length>b&&(_=_.slice(0,b)),y?v+_:_+v)}}var u=t("../internals/to-length"),c=t("../internals/string-repeat"),d=t("../internals/require-object-coercible"),g=Math.ceil;l.exports={start:o(!1),end:o(!0)}},{"../internals/require-object-coercible":115,"../internals/string-repeat":129,"../internals/to-length":138}],128:[function(t,l,s){function o(E){return E+22+75*(E<26)}function u(E){var S,C=[],D=(E=function(Y){for(var te=[],ue=0,O=Y.length;ue<O;){var U,q=Y.charCodeAt(ue++);55296<=q&&q<=56319&&ue<O?(64512&(U=Y.charCodeAt(ue++)))==56320?te.push(((1023&q)<<10)+(1023&U)+65536):(te.push(q),ue--):te.push(q)}return te}(E)).length,M=128,R=0,L=72;for(P=0;P<E.length;P++)(S=E[P])<128&&C.push(b(S));var F=C.length,I=F;for(F&&C.push("-");I<D;){for(var G=c,P=0;P<E.length;P++)M<=(S=E[P])&&S<G&&(G=S);var X=I+1;if(G-M>x((c-R)/X))throw RangeError(v);for(R+=(G-M)*X,M=G,P=0;P<E.length;P++){if((S=E[P])<M&&++R>c)throw RangeError(v);if(S==M){for(var V=R,H=d;;H+=d){var J=H<=L?1:L+g<=H?g:H-L;if(V<J)break;var Z=V-J,K=d-J;C.push(b(o(J+Z%K))),V=x(Z/K)}C.push(b(o(V))),L=function(Y,te,ue){var O=0;for(Y=ue?x(Y/h):Y>>1,Y+=x(Y/te);_*g>>1<Y;O+=d)Y=x(Y/_);return x(O+(_+1)*Y/(Y+y))}(R,X,I==F),R=0,++I}}++R,++M}return C.join("")}var c=2147483647,d=36,g=26,y=38,h=700,p=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,v="Overflow: input needs wider integers to process",_=d-1,x=Math.floor,b=String.fromCharCode;l.exports=function(E){for(var S,C=[],D=E.toLowerCase().replace(m,".").split("."),M=0;M<D.length;M++)S=D[M],C.push(p.test(S)?"xn--"+u(S):S);return C.join(".")}},{}],129:[function(t,l,s){var o=t("../internals/to-integer"),u=t("../internals/require-object-coercible");l.exports="".repeat||function(c){var d=String(u(this)),g="",y=o(c);if(y<0||y==1/0)throw RangeError("Wrong number of repetitions");for(;0<y;(y>>>=1)&&(d+=d))1&y&&(g+=d);return g}},{"../internals/require-object-coercible":115,"../internals/to-integer":137}],130:[function(t,l,s){var o=t("../internals/fails"),u=t("../internals/whitespaces");l.exports=function(c){return o(function(){return!!u[c]()||""[c]()!=""||u[c].name!==c})}},{"../internals/fails":51,"../internals/whitespaces":151}],131:[function(c,l,s){function o(y){return function(h){return h=String(u(h)),1&y&&(h=h.replace(d,"")),h=2&y?h.replace(g,""):h}}var u=c("../internals/require-object-coercible"),c="["+c("../internals/whitespaces")+"]",d=RegExp("^"+c+c+"*"),g=RegExp(c+c+"*$");l.exports={start:o(1),end:o(2),trim:o(3)}},{"../internals/require-object-coercible":115,"../internals/whitespaces":151}],132:[function(_,l,s){function o(I){return function(){F(I)}}function u(I){F(I.data)}function c(I){g.postMessage(I+"",x.protocol+"//"+x.host)}var d,g=_("../internals/global"),y=_("../internals/fails"),h=_("../internals/classof-raw"),p=_("../internals/function-bind-context"),m=_("../internals/html"),v=_("../internals/document-create-element"),_=_("../internals/engine-is-ios"),x=g.location,b=g.setImmediate,E=g.clearImmediate,S=g.process,C=g.MessageChannel,D=g.Dispatch,M=0,R={},L="onreadystatechange",F=function(I){var G;R.hasOwnProperty(I)&&(G=R[I],delete R[I],G())};b&&E||(b=function(I){for(var G=[],P=1;P<arguments.length;)G.push(arguments[P++]);return R[++M]=function(){(typeof I=="function"?I:Function(I)).apply(void 0,G)},d(M),M},E=function(I){delete R[I]},h(S)=="process"?d=function(I){S.nextTick(o(I))}:D&&D.now?d=function(I){D.now(o(I))}:C&&!_?(_=(h=new C).port2,h.port1.onmessage=u,d=p(_.postMessage,_,1)):!g.addEventListener||typeof postMessage!="function"||g.importScripts||y(c)||x.protocol==="file:"?d=L in v("script")?function(I){m.appendChild(v("script"))[L]=function(){m.removeChild(this),F(I)}}:function(I){setTimeout(o(I),0)}:(d=c,g.addEventListener("message",u,!1))),l.exports={set:b,clear:E}},{"../internals/classof-raw":28,"../internals/document-create-element":44,"../internals/engine-is-ios":46,"../internals/fails":51,"../internals/function-bind-context":55,"../internals/global":60,"../internals/html":64}],133:[function(t,l,s){var o=t("../internals/classof-raw");l.exports=function(u){if(typeof u!="number"&&o(u)!="Number")throw TypeError("Incorrect invocation");return+u}},{"../internals/classof-raw":28}],134:[function(t,l,s){var o=t("../internals/to-integer"),u=Math.max,c=Math.min;l.exports=function(d,g){return d=o(d),d<0?u(d+g,0):c(d,g)}},{"../internals/to-integer":137}],135:[function(t,l,s){var o=t("../internals/to-integer"),u=t("../internals/to-length");l.exports=function(d){if(d===void 0)return 0;var d=o(d),g=u(d);if(d!==g)throw RangeError("Wrong length or index");return g}},{"../internals/to-integer":137,"../internals/to-length":138}],136:[function(t,l,s){var o=t("../internals/indexed-object"),u=t("../internals/require-object-coercible");l.exports=function(c){return o(u(c))}},{"../internals/indexed-object":67,"../internals/require-object-coercible":115}],137:[function(t,l,s){var o=Math.ceil,u=Math.floor;l.exports=function(c){return isNaN(c=+c)?0:(0<c?u:o)(c)}},{}],138:[function(t,l,s){var o=t("../internals/to-integer"),u=Math.min;l.exports=function(c){return 0<c?u(o(c),9007199254740991):0}},{"../internals/to-integer":137}],139:[function(t,l,s){var o=t("../internals/require-object-coercible");l.exports=function(u){return Object(o(u))}},{"../internals/require-object-coercible":115}],140:[function(t,l,s){var o=t("../internals/to-positive-integer");l.exports=function(u,c){if(u=o(u),u%c)throw RangeError("Wrong offset");return u}},{"../internals/to-positive-integer":141}],141:[function(t,l,s){var o=t("../internals/to-integer");l.exports=function(u){if(u=o(u),u<0)throw RangeError("The argument can't be less than 0");return u}},{"../internals/to-integer":137}],142:[function(t,l,s){var o=t("../internals/is-object");l.exports=function(u,c){if(!o(u))return u;var d,g;if(c&&typeof(d=u.toString)=="function"&&!o(g=d.call(u))||typeof(d=u.valueOf)=="function"&&!o(g=d.call(u))||!c&&typeof(d=u.toString)=="function"&&!o(g=d.call(u)))return g;throw TypeError("Can't convert object to primitive value")}},{"../internals/is-object":75}],143:[function(t,l,s){var o={};o[t("../internals/well-known-symbol")("toStringTag")]="z",l.exports=String(o)==="[object z]"},{"../internals/well-known-symbol":150}],144:[function(t,l,s){function o(je,Oe){for(var ke=0,tt=Oe.length,Fe=new(se(je))(tt);ke<tt;)Fe[ke]=Oe[ke++];return Fe}function u(je,Oe){U(je,Oe,{get:function(){return ue(this)[Oe]}})}function c(je){return je instanceof ie||(je=F(je))=="ArrayBuffer"||je=="SharedArrayBuffer"}function d(je,Oe){return be(je)&&typeof Oe!="symbol"&&Oe in je&&String(+Oe)==String(Oe)}function g(je,Oe){return d(je,Oe=R(Oe,!0))?E(2,je[Oe]):q(je,Oe)}function y(je,Oe,ke){return!(d(je,Oe=R(Oe,!0))&&I(ke)&&L(ke,"value"))||L(ke,"get")||L(ke,"set")||ke.configurable||L(ke,"writable")&&!ke.writable||L(ke,"enumerable")&&!ke.enumerable?U(je,Oe,ke):(je[Oe]=ke.value,je)}var h=t("../internals/export"),p=t("../internals/global"),m=t("../internals/descriptors"),v=t("../internals/typed-array-constructors-require-wrappers"),_=t("../internals/array-buffer-view-core"),x=t("../internals/array-buffer"),b=t("../internals/an-instance"),E=t("../internals/create-property-descriptor"),S=t("../internals/create-non-enumerable-property"),C=t("../internals/to-length"),D=t("../internals/to-index"),M=t("../internals/to-offset"),R=t("../internals/to-primitive"),L=t("../internals/has"),F=t("../internals/classof"),I=t("../internals/is-object"),G=t("../internals/object-create"),P=t("../internals/object-set-prototype-of"),X=t("../internals/object-get-own-property-names").f,V=t("../internals/typed-array-from"),H=t("../internals/array-iteration").forEach,J=t("../internals/set-species"),Z=t("../internals/object-define-property"),K=t("../internals/object-get-own-property-descriptor"),Y=t("../internals/internal-state"),te=t("../internals/inherit-if-required"),ue=Y.get,O=Y.set,U=Z.f,q=K.f,Q=Math.round,ae=p.RangeError,ie=x.ArrayBuffer,he=x.DataView,ge=_.NATIVE_ARRAY_BUFFER_VIEWS,fe=_.TYPED_ARRAY_TAG,ve=_.TypedArray,xe=_.TypedArrayPrototype,se=_.aTypedArrayConstructor,be=_.isTypedArray,Ae="BYTES_PER_ELEMENT",De="Wrong length";m?(ge||(K.f=g,Z.f=y,u(xe,"buffer"),u(xe,"byteOffset"),u(xe,"byteLength"),u(xe,"length")),h({target:"Object",stat:!0,forced:!ge},{getOwnPropertyDescriptor:g,defineProperty:y}),l.exports=function(Me,Oe,ke){function tt(Pe,oe){U(Pe,oe,{get:function(){var ce=this,re=oe;return(ce=ue(ce)).view[st](re*Fe+ce.byteOffset,!0)},set:function(ce){var re=this,de=oe;re=ue(re),ke&&(ce=(ce=Q(ce))<0?0:255<ce?255:255&ce),re.view[ct](de*Fe+re.byteOffset,ce,!0)},enumerable:!0})}var Fe=Me.match(/\d+$/)[0]/8,vt=Me+(ke?"Clamped":"")+"Array",st="get"+Me,ct="set"+Me,yt=p[vt],dt=yt,Me=dt&&dt.prototype,Je={};ge?v&&(dt=Oe(function(Pe,oe,ce,re){return b(Pe,dt,vt),te(I(oe)?c(oe)?re!==void 0?new yt(oe,M(ce,Fe),re):ce!==void 0?new yt(oe,M(ce,Fe)):new yt(oe):be(oe)?o(dt,oe):V.call(dt,oe):new yt(D(oe)),Pe,dt)}),P&&P(dt,ve),H(X(yt),function(Pe){Pe in dt||S(dt,Pe,yt[Pe])}),dt.prototype=Me):(dt=Oe(function(Pe,oe,ce,re){b(Pe,dt,vt);var de,Ce,Re=0,Ve=0;if(I(oe)){if(!c(oe))return be(oe)?o(dt,oe):V.call(dt,oe);var at=oe,Ve=M(ce,Fe),ce=oe.byteLength;if(re===void 0){if(ce%Fe||(de=ce-Ve)<0)throw ae(De)}else if(ce<(de=C(re)*Fe)+Ve)throw ae(De);Ce=de/Fe}else Ce=D(oe),at=new ie(de=Ce*Fe);for(O(Pe,{buffer:at,byteOffset:Ve,byteLength:de,length:Ce,view:new he(at)});Re<Ce;)tt(Pe,Re++)}),P&&P(dt,ve),Me=dt.prototype=G(xe)),Me.constructor!==dt&&S(Me,"constructor",dt),fe&&S(Me,fe,vt),Je[vt]=dt,h({global:!0,forced:dt!=yt,sham:!ge},Je),Ae in dt||S(dt,Ae,Fe),Ae in Me||S(Me,Ae,Fe),J(vt)}):l.exports=function(){}},{"../internals/an-instance":9,"../internals/array-buffer":13,"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/classof":29,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-object":75,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-set-prototype-of":102,"../internals/set-species":118,"../internals/to-index":135,"../internals/to-length":138,"../internals/to-offset":140,"../internals/to-primitive":142,"../internals/typed-array-constructors-require-wrappers":145,"../internals/typed-array-from":146}],145:[function(d,l,s){var o=d("../internals/global"),u=d("../internals/fails"),c=d("../internals/check-correctness-of-iteration"),d=d("../internals/array-buffer-view-core").NATIVE_ARRAY_BUFFER_VIEWS,g=o.ArrayBuffer,y=o.Int8Array;l.exports=!d||!u(function(){y(1)})||!u(function(){new y(-1)})||!c(function(h){new y,new y(null),new y(1.5),new y(h)},!0)||u(function(){return new y(new g(2),1,void 0).length!==1})},{"../internals/array-buffer-view-core":12,"../internals/check-correctness-of-iteration":27,"../internals/fails":51,"../internals/global":60}],146:[function(t,l,s){var o=t("../internals/to-object"),u=t("../internals/to-length"),c=t("../internals/get-iterator-method"),d=t("../internals/is-array-iterator-method"),g=t("../internals/function-bind-context"),y=t("../internals/array-buffer-view-core").aTypedArrayConstructor;l.exports=function(h){var p,m,v,_,x,b,E=o(h),S=arguments.length,C=1<S?arguments[1]:void 0,D=C!==void 0,M=c(E);if(M!=null&&!d(M))for(b=(x=M.call(E)).next,E=[];!(_=b.call(x)).done;)E.push(_.value);for(D&&2<S&&(C=g(C,arguments[2],2)),m=u(E.length),v=new(y(this))(m),p=0;p<m;p++)v[p]=D?C(E[p],p):E[p];return v}},{"../internals/array-buffer-view-core":12,"../internals/function-bind-context":55,"../internals/get-iterator-method":58,"../internals/is-array-iterator-method":72,"../internals/to-length":138,"../internals/to-object":139}],147:[function(t,l,s){var o=0,u=Math.random();l.exports=function(c){return"Symbol("+String(c===void 0?"":c)+")_"+(++o+u).toString(36)}},{}],148:[function(t,l,s){t=t("../internals/native-symbol"),l.exports=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol"},{"../internals/native-symbol":84}],149:[function(t,l,s){t=t("../internals/well-known-symbol"),s.f=t},{"../internals/well-known-symbol":150}],150:[function(y,l,s){var o=y("../internals/global"),u=y("../internals/shared"),c=y("../internals/has"),d=y("../internals/uid"),g=y("../internals/native-symbol"),y=y("../internals/use-symbol-as-uid"),h=u("wks"),p=o.Symbol,m=y?p:p&&p.withoutSetter||d;l.exports=function(v){return c(h,v)||(g&&c(p,v)?h[v]=p[v]:h[v]=m("Symbol."+v)),h[v]}},{"../internals/global":60,"../internals/has":61,"../internals/native-symbol":84,"../internals/shared":122,"../internals/uid":147,"../internals/use-symbol-as-uid":148}],151:[function(t,l,s){l.exports=`	
\v\f\r \u2028\u2029\uFEFF`},{}],152:[function(c,l,s){var o=c("../internals/export"),u=c("../internals/global"),g=c("../internals/array-buffer"),c=c("../internals/set-species"),d="ArrayBuffer",g=g[d];o({global:!0,forced:u[d]!==g},{ArrayBuffer:g}),c(d)},{"../internals/array-buffer":13,"../internals/export":50,"../internals/global":60,"../internals/set-species":118}],153:[function(E,l,s){var o=E("../internals/export"),u=E("../internals/fails"),c=E("../internals/is-array"),d=E("../internals/is-object"),g=E("../internals/to-object"),y=E("../internals/to-length"),h=E("../internals/create-property"),p=E("../internals/array-species-create"),m=E("../internals/array-method-has-species-support"),b=E("../internals/well-known-symbol"),E=E("../internals/engine-v8-version"),v=b("isConcatSpreadable"),_=9007199254740991,x="Maximum allowed index exceeded",b=51<=E||!u(function(){var S=[];return S[v]=!1,S.concat()[0]!==S}),E=m("concat");o({target:"Array",proto:!0,forced:!b||!E},{concat:function(S){for(var C,D,M,R,L,F=g(this),I=p(F,0),G=0,P=-1,X=arguments.length;P<X;P++)if(L=void 0,!d(R=M=P===-1?F:arguments[P])||((L=R[v])!==void 0?!L:!c(R))){if(_<=G)throw TypeError(x);h(I,G++,M)}else{if(D=y(M.length),_<G+D)throw TypeError(x);for(C=0;C<D;C++,G++)C in M&&h(I,G,M[C])}return I.length=G,I}})},{"../internals/array-method-has-species-support":21,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/fails":51,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-length":138,"../internals/to-object":139,"../internals/well-known-symbol":150}],154:[function(c,l,s){var o=c("../internals/export"),u=c("../internals/array-copy-within"),c=c("../internals/add-to-unscopables");o({target:"Array",proto:!0},{copyWithin:u}),c("copyWithin")},{"../internals/add-to-unscopables":7,"../internals/array-copy-within":14,"../internals/export":50}],155:[function(d,l,s){var o=d("../internals/export"),u=d("../internals/array-iteration").every,c=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),c=c("every"),d=d("every");o({target:"Array",proto:!0,forced:!c||!d},{every:function(g){return u(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],156:[function(c,l,s){var o=c("../internals/export"),u=c("../internals/array-fill"),c=c("../internals/add-to-unscopables");o({target:"Array",proto:!0},{fill:u}),c("fill")},{"../internals/add-to-unscopables":7,"../internals/array-fill":15,"../internals/export":50}],157:[function(d,l,s){var o=d("../internals/export"),u=d("../internals/array-iteration").filter,c=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),c=c("filter"),d=d("filter");o({target:"Array",proto:!0,forced:!c||!d},{filter:function(g){return u(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],158:[function(y,l,s){var o=y("../internals/export"),u=y("../internals/array-iteration").findIndex,c=y("../internals/add-to-unscopables"),y=y("../internals/array-method-uses-to-length"),d="findIndex",g=!0,y=y(d);d in[]&&Array(1)[d](function(){g=!1}),o({target:"Array",proto:!0,forced:g||!y},{findIndex:function(h){return u(this,h,1<arguments.length?arguments[1]:void 0)}}),c(d)},{"../internals/add-to-unscopables":7,"../internals/array-iteration":19,"../internals/array-method-uses-to-length":23,"../internals/export":50}],159:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/flatten-into-array"),c=t("../internals/to-object"),d=t("../internals/to-length"),g=t("../internals/a-function"),y=t("../internals/array-species-create");o({target:"Array",proto:!0},{flatMap:function(h){var p,m=c(this),v=d(m.length);return g(h),(p=y(m,0)).length=u(p,m,m,v,0,1,h,1<arguments.length?arguments[1]:void 0),p}})},{"../internals/a-function":5,"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-length":138,"../internals/to-object":139}],160:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/flatten-into-array"),c=t("../internals/to-object"),d=t("../internals/to-length"),g=t("../internals/to-integer"),y=t("../internals/array-species-create");o({target:"Array",proto:!0},{flat:function(){var h=arguments.length?arguments[0]:void 0,p=c(this),m=d(p.length),v=y(p,0);return v.length=u(v,p,p,m,0,h===void 0?1:g(h)),v}})},{"../internals/array-species-create":25,"../internals/export":50,"../internals/flatten-into-array":53,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],161:[function(u,l,s){var o=u("../internals/export"),u=u("../internals/array-for-each");o({target:"Array",proto:!0,forced:[].forEach!=u},{forEach:u})},{"../internals/array-for-each":16,"../internals/export":50}],162:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/array-from");o({target:"Array",stat:!0,forced:!t("../internals/check-correctness-of-iteration")(function(c){Array.from(c)})},{from:u})},{"../internals/array-from":17,"../internals/check-correctness-of-iteration":27,"../internals/export":50}],163:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/array-includes").includes,c=t("../internals/add-to-unscopables");o({target:"Array",proto:!0,forced:!t("../internals/array-method-uses-to-length")("indexOf",{ACCESSORS:!0,1:0})},{includes:function(d){return u(this,d,1<arguments.length?arguments[1]:void 0)}}),c("includes")},{"../internals/add-to-unscopables":7,"../internals/array-includes":18,"../internals/array-method-uses-to-length":23,"../internals/export":50}],164:[function(y,l,s){var o=y("../internals/export"),u=y("../internals/array-includes").indexOf,g=y("../internals/array-method-is-strict"),y=y("../internals/array-method-uses-to-length"),c=[].indexOf,d=!!c&&1/[1].indexOf(1,-0)<0,g=g("indexOf"),y=y("indexOf",{ACCESSORS:!0,1:0});o({target:"Array",proto:!0,forced:d||!g||!y},{indexOf:function(h){return d?c.apply(this,arguments)||0:u(this,h,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-includes":18,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],165:[function(g,l,s){var o=g("../internals/to-indexed-object"),u=g("../internals/add-to-unscopables"),c=g("../internals/iterators"),d=g("../internals/internal-state"),g=g("../internals/define-iterator"),y="Array Iterator",h=d.set,p=d.getterFor(y);l.exports=g(Array,"Array",function(m,v){h(this,{type:y,target:o(m),index:0,kind:v})},function(){var m=p(this),v=m.target,_=m.kind,x=m.index++;return!v||x>=v.length?{value:m.target=void 0,done:!0}:_=="keys"?{value:x,done:!1}:_=="values"?{value:v[x],done:!1}:{value:[x,v[x]],done:!1}},"values"),c.Arguments=c.Array,u("keys"),u("values"),u("entries")},{"../internals/add-to-unscopables":7,"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/iterators":80,"../internals/to-indexed-object":136}],166:[function(g,l,s){var o=g("../internals/export"),d=g("../internals/indexed-object"),u=g("../internals/to-indexed-object"),g=g("../internals/array-method-is-strict"),c=[].join,d=d!=Object,g=g("join",",");o({target:"Array",proto:!0,forced:d||!g},{join:function(y){return c.call(u(this),y===void 0?",":y)}})},{"../internals/array-method-is-strict":22,"../internals/export":50,"../internals/indexed-object":67,"../internals/to-indexed-object":136}],167:[function(u,l,s){var o=u("../internals/export"),u=u("../internals/array-last-index-of");o({target:"Array",proto:!0,forced:u!==[].lastIndexOf},{lastIndexOf:u})},{"../internals/array-last-index-of":20,"../internals/export":50}],168:[function(d,l,s){var o=d("../internals/export"),u=d("../internals/array-iteration").map,c=d("../internals/array-method-has-species-support"),d=d("../internals/array-method-uses-to-length"),c=c("map"),d=d("map");o({target:"Array",proto:!0,forced:!c||!d},{map:function(g){return u(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/export":50}],169:[function(v,l,s){var o=v("../internals/export"),u=v("../internals/is-object"),c=v("../internals/is-array"),d=v("../internals/to-absolute-index"),g=v("../internals/to-length"),y=v("../internals/to-indexed-object"),h=v("../internals/create-property"),p=v("../internals/well-known-symbol"),m=v("../internals/array-method-has-species-support"),v=v("../internals/array-method-uses-to-length"),m=m("slice"),v=v("slice",{ACCESSORS:!0,0:0,1:2}),_=p("species"),x=[].slice,b=Math.max;o({target:"Array",proto:!0,forced:!m||!v},{slice:function(E,S){var C,D,M,R=y(this),L=g(R.length),F=d(E,L),I=d(S===void 0?L:S,L);if(c(R)&&((C=typeof(C=R.constructor)=="function"&&(C===Array||c(C.prototype))||u(C)&&(C=C[_])===null?void 0:C)===Array||C===void 0))return x.call(R,F,I);for(D=new(C===void 0?Array:C)(b(I-F,0)),M=0;F<I;F++,M++)F in R&&h(D,M,R[F]);return D.length=M,D}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/create-property":40,"../internals/export":50,"../internals/is-array":73,"../internals/is-object":75,"../internals/to-absolute-index":134,"../internals/to-indexed-object":136,"../internals/to-length":138,"../internals/well-known-symbol":150}],170:[function(d,l,s){var o=d("../internals/export"),u=d("../internals/array-iteration").some,c=d("../internals/array-method-is-strict"),d=d("../internals/array-method-uses-to-length"),c=c("some"),d=d("some");o({target:"Array",proto:!0,forced:!c||!d},{some:function(g){return u(this,g,1<arguments.length?arguments[1]:void 0)}})},{"../internals/array-iteration":19,"../internals/array-method-is-strict":22,"../internals/array-method-uses-to-length":23,"../internals/export":50}],171:[function(m,l,s){var o=m("../internals/export"),u=m("../internals/to-absolute-index"),c=m("../internals/to-integer"),d=m("../internals/to-length"),g=m("../internals/to-object"),y=m("../internals/array-species-create"),h=m("../internals/create-property"),p=m("../internals/array-method-has-species-support"),m=m("../internals/array-method-uses-to-length"),p=p("splice"),m=m("splice",{ACCESSORS:!0,0:0,1:2}),v=Math.max,_=Math.min;o({target:"Array",proto:!0,forced:!p||!m},{splice:function(G,b){var E,S,C,D,M,R,L=g(this),F=d(L.length),I=u(G,F),G=arguments.length;if(G===0?E=S=0:S=G===1?(E=0,F-I):(E=G-2,_(v(c(b),0),F-I)),9007199254740991<F+E-S)throw TypeError("Maximum allowed length exceeded");for(C=y(L,S),D=0;D<S;D++)(M=I+D)in L&&h(C,D,L[M]);if(E<(C.length=S)){for(D=I;D<F-S;D++)R=D+E,(M=D+S)in L?L[R]=L[M]:delete L[R];for(D=F;F-S+E<D;D--)delete L[D-1]}else if(S<E)for(D=F-S;I<D;D--)R=D+E-1,(M=D+S-1)in L?L[R]=L[M]:delete L[R];for(D=0;D<E;D++)L[D+I]=arguments[D+2];return L.length=F-S+E,C}})},{"../internals/array-method-has-species-support":21,"../internals/array-method-uses-to-length":23,"../internals/array-species-create":25,"../internals/create-property":40,"../internals/export":50,"../internals/to-absolute-index":134,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],172:[function(t,l,s){t("../internals/add-to-unscopables")("flatMap")},{"../internals/add-to-unscopables":7}],173:[function(t,l,s){t("../internals/add-to-unscopables")("flat")},{"../internals/add-to-unscopables":7}],174:[function(u,l,s){var o=u("../internals/descriptors"),u=u("../internals/object-define-property").f,c=Function.prototype,d=c.toString,g=/^\s*function ([^ (]*)/;!o||"name"in c||u(c,"name",{configurable:!0,get:function(){try{return d.call(this).match(g)[1]}catch{return""}}})},{"../internals/descriptors":43,"../internals/object-define-property":93}],175:[function(u,l,s){var o=u("../internals/collection"),u=u("../internals/collection-strong");l.exports=o("Map",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],176:[function(o,l,s){var o=o("../internals/export"),u=Math.hypot,c=Math.abs,d=Math.sqrt;o({target:"Math",stat:!0,forced:!!u&&u(1/0,NaN)!==1/0},{hypot:function(g,y){for(var h,p,m=0,v=0,_=arguments.length,x=0;v<_;)x<(h=c(arguments[v++]))?(m=m*(p=x/h)*p+1,x=h):m+=0<h?(p=h/x)*p:h;return x===1/0?1/0:x*d(m)}})},{"../internals/export":50}],177:[function(o,l,s){var o=o("../internals/export"),u=Math.log,c=Math.LN2;o({target:"Math",stat:!0},{log2:function(d){return u(d)/c}})},{"../internals/export":50}],178:[function(t,l,s){t("../internals/export")({target:"Math",stat:!0},{sign:t("../internals/math-sign")})},{"../internals/export":50,"../internals/math-sign":81}],179:[function(t,l,s){function o(P){var X,V,H,J,Z,K,Y,te=m(P,!1);if(typeof te=="string"&&2<te.length){if((P=(te=S(te)).charCodeAt(0))===43||P===45){if((X=te.charCodeAt(2))===88||X===120)return NaN}else if(P===48){switch(te.charCodeAt(1)){case 66:case 98:V=2,H=49;break;case 79:case 111:V=8,H=55;break;default:return+te}for(Z=(J=te.slice(2)).length,K=0;K<Z;K++)if((Y=J.charCodeAt(K))<48||H<Y)return NaN;return parseInt(J,V)}}return+te}var u=t("../internals/descriptors"),c=t("../internals/global"),d=t("../internals/is-forced"),g=t("../internals/redefine"),y=t("../internals/has"),h=t("../internals/classof-raw"),p=t("../internals/inherit-if-required"),m=t("../internals/to-primitive"),v=t("../internals/fails"),_=t("../internals/object-create"),x=t("../internals/object-get-own-property-names").f,b=t("../internals/object-get-own-property-descriptor").f,E=t("../internals/object-define-property").f,S=t("../internals/string-trim").trim,C="Number",D=c[C],M=D.prototype,R=h(_(M))==C;if(d(C,!D(" 0o1")||!D("0b1")||D("+0x1"))){for(var L,F=function(X){var X=arguments.length<1?0:X,V=this;return V instanceof F&&(R?v(function(){M.valueOf.call(V)}):h(V)!=C)?p(new D(o(X)),V,F):o(X)},I=u?x(D):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),G=0;I.length>G;G++)y(D,L=I[G])&&!y(F,L)&&E(F,L,b(D,L));(F.prototype=M).constructor=F,g(c,C,F)}},{"../internals/classof-raw":28,"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/has":61,"../internals/inherit-if-required":68,"../internals/is-forced":74,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/string-trim":131,"../internals/to-primitive":142}],180:[function(t,l,s){t("../internals/export")({target:"Number",stat:!0},{EPSILON:Math.pow(2,-52)})},{"../internals/export":50}],181:[function(t,l,s){t("../internals/export")({target:"Number",stat:!0},{isFinite:t("../internals/number-is-finite")})},{"../internals/export":50,"../internals/number-is-finite":89}],182:[function(y,l,s){function o(m,v,_){return v===0?_:v%2==1?o(m,v-1,_*m):o(m*m,v/2,_)}var u=y("../internals/export"),c=y("../internals/to-integer"),d=y("../internals/this-number-value"),g=y("../internals/string-repeat"),y=y("../internals/fails"),h=1 .toFixed,p=Math.floor;u({target:"Number",proto:!0,forced:h&&(8e-5.toFixed(3)!=="0.000"||.9.toFixed(0)!=="1"||1.255.toFixed(2)!=="1.25"||0xde0b6b3a7640080.toFixed(0)!=="1000000000000000128")||!y(function(){h.call({})})},{toFixed:function(C){function v(L,F){for(var I=-1,G=F;++I<6;)G+=L*D[I],D[I]=G%1e7,G=p(G/1e7)}function _(L){for(var F=6,I=0;0<=--F;)I+=D[F],D[F]=p(I/L),I=I%L*1e7}function x(){for(var L,F=6,I="";0<=--F;)I===""&&F!==0&&D[F]===0||(L=String(D[F]),I=I===""?L:I+g.call("0",7-L.length)+L);return I}var b,E,S=d(this),C=c(C),D=[0,0,0,0,0,0],M="",R="0";if(C<0||20<C)throw RangeError("Incorrect fraction digits");if(S!=S)return"NaN";if(S<=-1e21||1e21<=S)return String(S);if(S<0&&(M="-",S=-S),1e-21<S)if(S=(b=function(L){for(var F=0,I=L;4096<=I;)F+=12,I/=4096;for(;2<=I;)F+=1,I/=2;return F}(S*o(2,69,1))-69)<0?S*o(2,-b,1):S/o(2,b,1),S*=4503599627370496,0<(b=52-b)){for(v(0,S),E=C;7<=E;)v(1e7,0),E-=7;for(v(o(10,E,1),0),E=b-1;23<=E;)_(1<<23),E-=23;_(1<<E),v(1,1),_(2),R=x()}else v(0,S),v(1<<-b,0),R=x()+g.call("0",C);return R=0<C?M+((S=R.length)<=C?"0."+g.call("0",C-S)+R:R.slice(0,S-C)+"."+R.slice(S-C)):M+R}})},{"../internals/export":50,"../internals/fails":51,"../internals/string-repeat":129,"../internals/this-number-value":133,"../internals/to-integer":137}],183:[function(u,l,s){var o=u("../internals/export"),u=u("../internals/object-assign");o({target:"Object",stat:!0,forced:Object.assign!==u},{assign:u})},{"../internals/export":50,"../internals/object-assign":90}],184:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/object-to-array").entries;o({target:"Object",stat:!0},{entries:function(c){return u(c)}})},{"../internals/export":50,"../internals/object-to-array":103}],185:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/iterate"),c=t("../internals/create-property");o({target:"Object",stat:!0},{fromEntries:function(d){var g={};return u(d,function(y,h){c(g,y,h)},void 0,!0),g}})},{"../internals/create-property":40,"../internals/export":50,"../internals/iterate":78}],186:[function(d,l,s){var o=d("../internals/export"),g=d("../internals/fails"),u=d("../internals/to-indexed-object"),c=d("../internals/object-get-own-property-descriptor").f,d=d("../internals/descriptors"),g=g(function(){c(1)});o({target:"Object",stat:!0,forced:!d||g,sham:!d},{getOwnPropertyDescriptor:function(y,h){return c(u(y),h)}})},{"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-descriptor":94,"../internals/to-indexed-object":136}],187:[function(c,l,s){var o=c("../internals/export"),u=c("../internals/fails"),c=c("../internals/object-get-own-property-names-external").f;o({target:"Object",stat:!0,forced:u(function(){return!Object.getOwnPropertyNames(1)})},{getOwnPropertyNames:c})},{"../internals/export":50,"../internals/fails":51,"../internals/object-get-own-property-names-external":95}],188:[function(g,l,s){var o=g("../internals/export"),u=g("../internals/fails"),c=g("../internals/to-object"),d=g("../internals/object-get-prototype-of"),g=g("../internals/correct-prototype-getter");o({target:"Object",stat:!0,forced:u(function(){d(1)}),sham:!g},{getPrototypeOf:function(y){return d(c(y))}})},{"../internals/correct-prototype-getter":35,"../internals/export":50,"../internals/fails":51,"../internals/object-get-prototype-of":98,"../internals/to-object":139}],189:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/to-object"),c=t("../internals/object-keys");o({target:"Object",stat:!0,forced:t("../internals/fails")(function(){c(1)})},{keys:function(d){return c(u(d))}})},{"../internals/export":50,"../internals/fails":51,"../internals/object-keys":100,"../internals/to-object":139}],190:[function(c,l,s){var o=c("../internals/to-string-tag-support"),u=c("../internals/redefine"),c=c("../internals/object-to-string");o||u(Object.prototype,"toString",c,{unsafe:!0})},{"../internals/object-to-string":104,"../internals/redefine":110,"../internals/to-string-tag-support":143}],191:[function(ke,l,s){var o,u,c,d,g=ke("../internals/export"),y=ke("../internals/is-pure"),h=ke("../internals/global"),p=ke("../internals/get-built-in"),m=ke("../internals/native-promise-constructor"),v=ke("../internals/redefine"),_=ke("../internals/redefine-all"),x=ke("../internals/set-to-string-tag"),b=ke("../internals/set-species"),E=ke("../internals/is-object"),S=ke("../internals/a-function"),C=ke("../internals/an-instance"),D=ke("../internals/classof-raw"),M=ke("../internals/inspect-source"),R=ke("../internals/iterate"),L=ke("../internals/check-correctness-of-iteration"),F=ke("../internals/species-constructor"),I=ke("../internals/task").set,G=ke("../internals/microtask"),P=ke("../internals/promise-resolve"),X=ke("../internals/host-report-errors"),V=ke("../internals/new-promise-capability"),H=ke("../internals/perform"),J=ke("../internals/internal-state"),Z=ke("../internals/is-forced"),tt=ke("../internals/well-known-symbol"),K=ke("../internals/engine-v8-version"),Y=tt("species"),te="Promise",ue=J.get,O=J.set,U=J.getterFor(te),q=m,Q=h.TypeError,ae=h.document,ie=h.process,he=p("fetch"),ge=V.f,fe=ge,ve=D(ie)=="process",xe=!!(ae&&ae.createEvent&&h.dispatchEvent),se="unhandledrejection",be="rejectionhandled",Ae=1,De=2,je=1,Oe=2,ke=Z(te,function(){var Je,Pe;return M(q)===String(q)&&(K===66||!ve&&typeof PromiseRejectionEvent!="function")?!0:!(!y||q.prototype.finally)||!(51<=K&&/native code/.test(q))&&(Pe=function(oe){oe(function(){},function(){})},((Je=q.resolve(1)).constructor={})[Y]=Pe,!(Je.then(function(){})instanceof Pe))}),tt=ke||!L(function(Je){q.all(Je).catch(function(){})}),Fe=function(Je){var Pe;return!(!E(Je)||typeof(Pe=Je.then)!="function")&&Pe},vt=function(Je,Pe,oe){var ce;Pe.notified||(Pe.notified=!0,ce=Pe.reactions,G(function(){for(var re,de,Ce=Pe.value,Re=Pe.state==Ae,Ve=0;ce.length>Ve;){var at,lt,ut,ht=ce[Ve++],It=Re?ht.ok:ht.fail,At=ht.resolve,bt=ht.reject,Mt=ht.domain;try{It?(Re||(Pe.rejection===Oe&&function(Tt,fr){I.call(h,function(){ve?ie.emit("rejectionHandled",Tt):st(be,Tt,fr.value)})}(Je,Pe),Pe.rejection=je),It===!0?at=Ce:(Mt&&Mt.enter(),at=It(Ce),Mt&&(Mt.exit(),ut=!0)),at===ht.promise?bt(Q("Promise-chain cycle")):(lt=Fe(at))?lt.call(at,At,bt):At(at)):bt(Ce)}catch(Tt){Mt&&!ut&&Mt.exit(),bt(Tt)}}Pe.reactions=[],Pe.notified=!1,oe&&!Pe.rejection&&(re=Je,de=Pe,I.call(h,function(){var Tt=de.value,fr=ct(de);if(fr&&(fr=H(function(){ve?ie.emit("unhandledRejection",Tt,re):st(se,re,Tt)}),de.rejection=ve||ct(de)?Oe:je,fr.error))throw fr.value}))}))},st=function(Je,Pe,oe){var ce;xe?((ce=ae.createEvent("Event")).promise=Pe,ce.reason=oe,ce.initEvent(Je,!1,!0),h.dispatchEvent(ce)):ce={promise:Pe,reason:oe},(Pe=h["on"+Je])?Pe(ce):Je===se&&X("Unhandled promise rejection",oe)},ct=function(Je){return Je.rejection!==je&&!Je.parent},yt=function(Je,Pe,oe,ce){return function(re){Je(Pe,oe,re,ce)}},dt=function(Je,Pe,oe,ce){Pe.done||(Pe.done=!0,(Pe=ce||Pe).value=oe,Pe.state=De,vt(Je,Pe,!0))},Me=function(Je,Pe,oe,ce){if(!Pe.done){Pe.done=!0,ce&&(Pe=ce);try{if(Je===oe)throw Q("Promise can't be resolved itself");var re=Fe(oe);re?G(function(){var de={done:!1};try{re.call(oe,yt(Me,Je,de,Pe),yt(dt,Je,de,Pe))}catch(Ce){dt(Je,de,Ce,Pe)}}):(Pe.value=oe,Pe.state=Ae,vt(Je,Pe,!1))}catch(de){dt(Je,{done:!1},de,Pe)}}};ke&&(q=function(Je){C(this,q,te),S(Je),o.call(this);var Pe=ue(this);try{Je(yt(Me,this,Pe),yt(dt,this,Pe))}catch(oe){dt(this,Pe,oe)}},(o=function(Je){O(this,{type:te,done:!1,notified:!1,parent:!1,reactions:[],rejection:!1,state:0,value:void 0})}).prototype=_(q.prototype,{then:function(Je,Pe){var oe=U(this),ce=ge(F(this,q));return ce.ok=typeof Je!="function"||Je,ce.fail=typeof Pe=="function"&&Pe,ce.domain=ve?ie.domain:void 0,oe.parent=!0,oe.reactions.push(ce),oe.state!=0&&vt(this,oe,!1),ce.promise},catch:function(Je){return this.then(void 0,Je)}}),u=function(){var Je=new o,Pe=ue(Je);this.promise=Je,this.resolve=yt(Me,Je,Pe),this.reject=yt(dt,Je,Pe)},V.f=ge=function(Je){return Je===q||Je===c?new u:fe(Je)},y||typeof m!="function"||(d=m.prototype.then,v(m.prototype,"then",function(Je,Pe){var oe=this;return new q(function(ce,re){d.call(oe,ce,re)}).then(Je,Pe)},{unsafe:!0}),typeof he=="function"&&g({global:!0,enumerable:!0,forced:!0},{fetch:function(Je){return P(q,he.apply(h,arguments))}}))),g({global:!0,wrap:!0,forced:ke},{Promise:q}),x(q,te,!1,!0),b(te),c=p(te),g({target:te,stat:!0,forced:ke},{reject:function(Je){var Pe=ge(this);return Pe.reject.call(void 0,Je),Pe.promise}}),g({target:te,stat:!0,forced:y||ke},{resolve:function(Je){return P(y&&this===c?q:this,Je)}}),g({target:te,stat:!0,forced:tt},{all:function(Je){var Pe=this,oe=ge(Pe),ce=oe.resolve,re=oe.reject,de=H(function(){var Ce=S(Pe.resolve),Re=[],Ve=0,at=1;R(Je,function(lt){var ut=Ve++,ht=!1;Re.push(void 0),at++,Ce.call(Pe,lt).then(function(It){ht||(ht=!0,Re[ut]=It,--at||ce(Re))},re)}),--at||ce(Re)});return de.error&&re(de.value),oe.promise},race:function(Je){var Pe=this,oe=ge(Pe),ce=oe.reject,re=H(function(){var de=S(Pe.resolve);R(Je,function(Ce){de.call(Pe,Ce).then(oe.resolve,ce)})});return re.error&&ce(re.value),oe.promise}})},{"../internals/a-function":5,"../internals/an-instance":9,"../internals/check-correctness-of-iteration":27,"../internals/classof-raw":28,"../internals/engine-v8-version":48,"../internals/export":50,"../internals/get-built-in":57,"../internals/global":60,"../internals/host-report-errors":63,"../internals/inspect-source":69,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-object":75,"../internals/is-pure":76,"../internals/iterate":78,"../internals/microtask":82,"../internals/native-promise-constructor":83,"../internals/new-promise-capability":87,"../internals/perform":107,"../internals/promise-resolve":108,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-species":118,"../internals/set-to-string-tag":119,"../internals/species-constructor":123,"../internals/task":132,"../internals/well-known-symbol":150}],192:[function(h,l,s){var o=h("../internals/export"),_=h("../internals/get-built-in"),u=h("../internals/a-function"),c=h("../internals/an-object"),d=h("../internals/is-object"),g=h("../internals/object-create"),y=h("../internals/function-bind"),h=h("../internals/fails"),p=_("Reflect","construct"),m=h(function(){function x(){}return!(p(function(){},[],x)instanceof x)}),v=!h(function(){p(function(){})}),_=m||v;o({target:"Reflect",stat:!0,forced:_,sham:_},{construct:function(x,b){u(x),c(b);var E=arguments.length<3?x:u(arguments[2]);if(v&&!m)return p(x,b,E);if(x==E){switch(b.length){case 0:return new x;case 1:return new x(b[0]);case 2:return new x(b[0],b[1]);case 3:return new x(b[0],b[1],b[2]);case 4:return new x(b[0],b[1],b[2],b[3])}var S=[null];return S.push.apply(S,b),new(y.apply(x,S))}return S=E.prototype,E=g(d(S)?S:Object.prototype),S=Function.apply.call(x,E,b),d(S)?S:E}})},{"../internals/a-function":5,"../internals/an-object":10,"../internals/export":50,"../internals/fails":51,"../internals/function-bind":56,"../internals/get-built-in":57,"../internals/is-object":75,"../internals/object-create":91}],193:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/is-object"),c=t("../internals/an-object"),d=t("../internals/has"),g=t("../internals/object-get-own-property-descriptor"),y=t("../internals/object-get-prototype-of");o({target:"Reflect",stat:!0},{get:function h(p,m){var v,_=arguments.length<3?p:arguments[2];return c(p)===_?p[m]:(v=g.f(p,m))?d(v,"value")?v.value:v.get===void 0?void 0:v.get.call(_):u(v=y(p))?h(v,m,_):void 0}})},{"../internals/an-object":10,"../internals/export":50,"../internals/has":61,"../internals/is-object":75,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-prototype-of":98}],194:[function(t,l,s){var o=t("../internals/descriptors"),u=t("../internals/global"),c=t("../internals/is-forced"),d=t("../internals/inherit-if-required"),g=t("../internals/object-define-property").f,y=t("../internals/object-get-own-property-names").f,h=t("../internals/is-regexp"),p=t("../internals/regexp-flags"),m=t("../internals/regexp-sticky-helpers"),v=t("../internals/redefine"),_=t("../internals/fails"),x=t("../internals/internal-state").set,b=t("../internals/set-species"),E=t("../internals/well-known-symbol")("match"),S=u.RegExp,C=S.prototype,D=/a/g,M=/a/g,R=new S(D)!==D,L=m.UNSUPPORTED_Y;if(o&&c("RegExp",!R||L||_(function(){return M[E]=!1,S(D)!=D||S(M)==M||S(D,"i")!="/a/i"}))){for(var F=function(P,X){var V,H=this instanceof F,J=h(P),Z=X===void 0;return!H&&J&&P.constructor===F&&Z?P:(R?J&&!Z&&(P=P.source):P instanceof F&&(Z&&(X=p.call(P)),P=P.source),L&&(V=!!X&&-1<X.indexOf("y"))&&(X=X.replace(/y/g,"")),J=d(R?new S(P,X):S(P,X),H?this:C,F),L&&V&&x(J,{sticky:V}),J)},I=y(S),G=0;I.length>G;)(function(P){P in F||g(F,P,{configurable:!0,get:function(){return S[P]},set:function(X){S[P]=X}})})(I[G++]);(C.constructor=F).prototype=C,v(u,"RegExp",F)}b("RegExp")},{"../internals/descriptors":43,"../internals/fails":51,"../internals/global":60,"../internals/inherit-if-required":68,"../internals/internal-state":71,"../internals/is-forced":74,"../internals/is-regexp":77,"../internals/object-define-property":93,"../internals/object-get-own-property-names":96,"../internals/redefine":110,"../internals/regexp-flags":113,"../internals/regexp-sticky-helpers":114,"../internals/set-species":118,"../internals/well-known-symbol":150}],195:[function(u,l,s){var o=u("../internals/export"),u=u("../internals/regexp-exec");o({target:"RegExp",proto:!0,forced:/./.exec!==u},{exec:u})},{"../internals/export":50,"../internals/regexp-exec":112}],196:[function(d,l,s){var o=d("../internals/redefine"),u=d("../internals/an-object"),h=d("../internals/fails"),c=d("../internals/regexp-flags"),d="toString",g=RegExp.prototype,y=g[d],h=h(function(){return y.call({source:"a",flags:"b"})!="/a/b"}),p=y.name!=d;(h||p)&&o(RegExp.prototype,d,function(){var m=u(this),v=String(m.source),_=m.flags;return"/"+v+"/"+String(_===void 0&&m instanceof RegExp&&!("flags"in g)?c.call(m):_)},{unsafe:!0})},{"../internals/an-object":10,"../internals/fails":51,"../internals/redefine":110,"../internals/regexp-flags":113}],197:[function(u,l,s){var o=u("../internals/collection"),u=u("../internals/collection-strong");l.exports=o("Set",function(c){return function(){return c(this,arguments.length?arguments[0]:void 0)}},u)},{"../internals/collection":32,"../internals/collection-strong":30}],198:[function(y,l,s){var o=y("../internals/export"),u=y("../internals/object-get-own-property-descriptor").f,c=y("../internals/to-length"),d=y("../internals/not-a-regexp"),g=y("../internals/require-object-coercible"),m=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),h="".endsWith,p=Math.min,m=m("endsWith");o({target:"String",proto:!0,forced:!!(y||m||!(o=u(String.prototype,"endsWith"))||o.writable)&&!m},{endsWith:function(v){var _=String(g(this)),x=(d(v),1<arguments.length?arguments[1]:void 0),b=c(_.length),x=x===void 0?b:p(c(x),b),b=String(v);return h?h.call(_,b,x):_.slice(x-b.length,x)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],199:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/not-a-regexp"),c=t("../internals/require-object-coercible");o({target:"String",proto:!0,forced:!t("../internals/correct-is-regexp-logic")("includes")},{includes:function(d){return!!~String(c(this)).indexOf(u(d),1<arguments.length?arguments[1]:void 0)}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/not-a-regexp":88,"../internals/require-object-coercible":115}],200:[function(c,l,s){var o=c("../internals/string-multibyte").charAt,u=c("../internals/internal-state"),c=c("../internals/define-iterator"),d="String Iterator",g=u.set,y=u.getterFor(d);c(String,"String",function(h){g(this,{type:d,string:String(h),index:0})},function(){var h=y(this),p=h.string,m=h.index;return m>=p.length?{value:void 0,done:!0}:(p=o(p,m),h.index+=p.length,{value:p,done:!1})})},{"../internals/define-iterator":41,"../internals/internal-state":71,"../internals/string-multibyte":125}],201:[function(t,l,s){var o=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),c=t("../internals/to-length"),d=t("../internals/require-object-coercible"),g=t("../internals/advance-string-index"),y=t("../internals/regexp-exec-abstract");o("match",1,function(h,p,m){return[function(v){var _=d(this),x=v==null?void 0:v[h];return x!==void 0?x.call(v,_):new RegExp(v)[h](String(_))},function(v){var _=m(p,v,this);if(_.done)return _.value;var x=u(v),b=String(this);if(!x.global)return y(x,b);for(var E=x.unicode,S=[],C=x.lastIndex=0;(D=y(x,b))!==null;){var D=String(D[0]);(S[C]=D)===""&&(x.lastIndex=g(b,c(x.lastIndex),E)),C++}return C===0?null:S}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-length":138}],202:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/string-pad").start;o({target:"String",proto:!0,forced:t("../internals/string-pad-webkit-bug")},{padStart:function(c){return u(this,c,1<arguments.length?arguments[1]:void 0)}})},{"../internals/export":50,"../internals/string-pad":127,"../internals/string-pad-webkit-bug":126}],203:[function(t,l,s){t("../internals/export")({target:"String",proto:!0},{repeat:t("../internals/string-repeat")})},{"../internals/export":50,"../internals/string-repeat":129}],204:[function(t,l,s){var o=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),c=t("../internals/to-object"),d=t("../internals/to-length"),g=t("../internals/to-integer"),y=t("../internals/require-object-coercible"),h=t("../internals/advance-string-index"),p=t("../internals/regexp-exec-abstract"),m=Math.max,v=Math.min,_=Math.floor,x=/\$([$&'`]|\d\d?|<[^>]*>)/g,b=/\$([$&'`]|\d\d?)/g;o("replace",2,function(E,S,C,D){var M=D.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE,R=D.REPLACE_KEEPS_$0,L=M?"$":"$0";return[function(F,I){var G=y(this),P=F==null?void 0:F[E];return P!==void 0?P.call(F,G,I):S.call(String(G),F,I)},function(F,I){if(!M&&R||typeof I=="string"&&I.indexOf(L)===-1){var G=C(S,F,this,I);if(G.done)return G.value}for(var P,X=u(F),V=String(this),H=typeof I=="function",J=(H||(I=String(I)),X.global),Z=(J&&(P=X.unicode,X.lastIndex=0),[]);(O=p(X,V))!==null&&(Z.push(O),J);)String(O[0])===""&&(X.lastIndex=h(V,d(X.lastIndex),P));for(var K,Y="",te=0,ue=0;ue<Z.length;ue++){for(var O=Z[ue],U=String(O[0]),q=m(v(g(O.index),V.length),0),Q=[],ae=1;ae<O.length;ae++)Q.push((K=O[ae])===void 0?K:String(K));var ie=O.groups,he=H?(he=[U].concat(Q,q,V),ie!==void 0&&he.push(ie),String(I.apply(void 0,he))):function(ge,fe,ve,xe,se,be){var Ae=ve+ge.length,De=xe.length,je=b;return se!==void 0&&(se=c(se),je=x),S.call(be,je,function(Oe,ke){var tt;switch(ke.charAt(0)){case"$":return"$";case"&":return ge;case"`":return fe.slice(0,ve);case"'":return fe.slice(Ae);case"<":tt=se[ke.slice(1,-1)];break;default:var Fe,vt=+ke;if(vt==0)return Oe;if(De<vt)return(Fe=_(vt/10))!==0&&Fe<=De?xe[Fe-1]===void 0?ke.charAt(1):xe[Fe-1]+ke.charAt(1):Oe;tt=xe[vt-1]}return tt===void 0?"":tt})}(U,V,q,Q,ie,I);te<=q&&(Y+=V.slice(te,q)+he,te=q+U.length)}return Y+V.slice(te)}]})},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/to-integer":137,"../internals/to-length":138,"../internals/to-object":139}],205:[function(t,l,s){var o=t("../internals/fix-regexp-well-known-symbol-logic"),u=t("../internals/an-object"),c=t("../internals/require-object-coercible"),d=t("../internals/same-value"),g=t("../internals/regexp-exec-abstract");o("search",1,function(y,h,p){return[function(m){var v=c(this),_=m==null?void 0:m[y];return _!==void 0?_.call(m,v):new RegExp(m)[y](String(v))},function(m){var v,_=p(h,m,this);return _.done?_.value:(_=u(m),m=String(this),v=_.lastIndex,d(v,0)||(_.lastIndex=0),m=g(_,m),d(_.lastIndex,v)||(_.lastIndex=v),m===null?-1:m.index)}]})},{"../internals/an-object":10,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/same-value":116}],206:[function(v,l,s){var o=v("../internals/fix-regexp-well-known-symbol-logic"),u=v("../internals/is-regexp"),c=v("../internals/an-object"),d=v("../internals/require-object-coercible"),g=v("../internals/species-constructor"),y=v("../internals/advance-string-index"),h=v("../internals/to-length"),p=v("../internals/regexp-exec-abstract"),m=v("../internals/regexp-exec"),v=v("../internals/fails"),_=[].push,x=Math.min,b=4294967295,E=!v(function(){return!RegExp(b,"y")});o("split",2,function(S,C,D){var M="abbc".split(/(b)*/)[1]=="c"||"test".split(/(?:)/,-1).length!=4||"ab".split(/(?:ab)*/).length!=2||".".split(/(.?)(.?)/).length!=4||1<".".split(/()()/).length||"".split(/.?/).length?function(R,L){var F=String(d(this)),I=L===void 0?b:L>>>0;if(I==0)return[];if(R===void 0)return[F];if(!u(R))return C.call(F,R,I);for(var G,P,X,V=[],L=(R.ignoreCase?"i":"")+(R.multiline?"m":"")+(R.unicode?"u":"")+(R.sticky?"y":""),H=0,J=new RegExp(R.source,L+"g");(G=m.call(J,F))&&!(H<(P=J.lastIndex)&&(V.push(F.slice(H,G.index)),1<G.length&&G.index<F.length&&_.apply(V,G.slice(1)),X=G[0].length,H=P,V.length>=I));)J.lastIndex===G.index&&J.lastIndex++;return H===F.length?!X&&J.test("")||V.push(""):V.push(F.slice(H)),V.length>I?V.slice(0,I):V}:"0".split(void 0,0).length?function(R,L){return R===void 0&&L===0?[]:C.call(this,R,L)}:C;return[function(R,L){var F=d(this),I=R==null?void 0:R[S];return I!==void 0?I.call(R,F,L):M.call(String(F),R,L)},function(G,L){var F=D(M,G,this,L,M!==C);if(F.done)return F.value;var F=c(G),I=String(this),G=g(F,RegExp),P=F.unicode,X=(F.ignoreCase?"i":"")+(F.multiline?"m":"")+(F.unicode?"u":"")+(E?"y":"g"),V=new G(E?F:"^(?:"+F.source+")",X),H=L===void 0?b:L>>>0;if(H==0)return[];if(I.length===0)return p(V,I)===null?[I]:[];for(var J=0,Z=0,K=[];Z<I.length;){V.lastIndex=E?Z:0;var Y,te=p(V,E?I:I.slice(Z));if(te===null||(Y=x(h(V.lastIndex+(E?0:Z)),I.length))===J)Z=y(I,Z,P);else{if(K.push(I.slice(J,Z)),K.length===H)return K;for(var ue=1;ue<=te.length-1;ue++)if(K.push(te[ue]),K.length===H)return K;Z=J=Y}}return K.push(I.slice(J)),K}]},!E)},{"../internals/advance-string-index":8,"../internals/an-object":10,"../internals/fails":51,"../internals/fix-regexp-well-known-symbol-logic":52,"../internals/is-regexp":77,"../internals/regexp-exec":112,"../internals/regexp-exec-abstract":111,"../internals/require-object-coercible":115,"../internals/species-constructor":123,"../internals/to-length":138}],207:[function(y,l,s){var o=y("../internals/export"),u=y("../internals/object-get-own-property-descriptor").f,c=y("../internals/to-length"),d=y("../internals/not-a-regexp"),g=y("../internals/require-object-coercible"),m=y("../internals/correct-is-regexp-logic"),y=y("../internals/is-pure"),h="".startsWith,p=Math.min,m=m("startsWith");o({target:"String",proto:!0,forced:!!(y||m||!(o=u(String.prototype,"startsWith"))||o.writable)&&!m},{startsWith:function(b){var _=String(g(this)),x=(d(b),c(p(1<arguments.length?arguments[1]:void 0,_.length))),b=String(b);return h?h.call(_,b,x):_.slice(x,x+b.length)===b}})},{"../internals/correct-is-regexp-logic":34,"../internals/export":50,"../internals/is-pure":76,"../internals/not-a-regexp":88,"../internals/object-get-own-property-descriptor":94,"../internals/require-object-coercible":115,"../internals/to-length":138}],208:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/create-html");o({target:"String",proto:!0,forced:t("../internals/string-html-forced")("sub")},{sub:function(){return u(this,"sub","","")}})},{"../internals/create-html":36,"../internals/export":50,"../internals/string-html-forced":124}],209:[function(t,l,s){var o=t("../internals/export"),u=t("../internals/string-trim").trim;o({target:"String",proto:!0,forced:t("../internals/string-trim-forced")("trim")},{trim:function(){return u(this)}})},{"../internals/export":50,"../internals/string-trim":131,"../internals/string-trim-forced":130}],210:[function(x,l,s){var o,u,c,d,g,y=x("../internals/export"),h=x("../internals/descriptors"),p=x("../internals/global"),m=x("../internals/has"),v=x("../internals/is-object"),_=x("../internals/object-define-property").f,x=x("../internals/copy-constructor-properties"),b=p.Symbol;!h||typeof b!="function"||"description"in b.prototype&&b().description===void 0||(o={},x(u=function(){var E=arguments.length<1||arguments[0]===void 0?void 0:String(arguments[0]),S=this instanceof u?new b(E):E===void 0?b():b(E);return E===""&&(o[S]=!0),S},b),(p=u.prototype=b.prototype).constructor=u,c=p.toString,d=String(b("test"))=="Symbol(test)",g=/^Symbol\((.*)\)[^)]+$/,_(p,"description",{configurable:!0,get:function(){var E=v(this)?this.valueOf():this,S=c.call(E);return m(o,E)?"":(E=d?S.slice(7,-1):S.replace(g,"$1"))===""?void 0:E}}),y({global:!0,forced:!0},{Symbol:u}))},{"../internals/copy-constructor-properties":33,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/is-object":75,"../internals/object-define-property":93}],211:[function(t,l,s){t("../internals/define-well-known-symbol")("iterator")},{"../internals/define-well-known-symbol":42}],212:[function(fe,l,s){function o(re,de){var Ce=tt[re]=F(be[ge]);return ve(Ce,{type:he,tag:re,description:de}),m||(Ce.description=de),Ce}function u(re,Re){C(re);var Ce=M(Re),Re=I(Ce).concat(ce(Ce));return ae(Re,function(Ve){m&&!oe.call(Ce,Ve)||Pe(re,Ve,Ce[Ve])}),re}function c(Re,Ve){var Ce,Re=M(Re),Ve=R(Ve,!0);if(Re!==se||!b(tt,Ve)||b(Fe,Ve))return!(Ce=De(Re,Ve))||!b(tt,Ve)||b(Re,ie)&&Re[ie][Ve]||(Ce.enumerable=!0),Ce}function d(de){var de=Oe(M(de)),Ce=[];return ae(de,function(Re){b(tt,Re)||b(te,Re)||Ce.push(Re)}),Ce}var g=fe("../internals/export"),y=fe("../internals/global"),h=fe("../internals/get-built-in"),p=fe("../internals/is-pure"),m=fe("../internals/descriptors"),v=fe("../internals/native-symbol"),_=fe("../internals/use-symbol-as-uid"),x=fe("../internals/fails"),b=fe("../internals/has"),E=fe("../internals/is-array"),S=fe("../internals/is-object"),C=fe("../internals/an-object"),D=fe("../internals/to-object"),M=fe("../internals/to-indexed-object"),R=fe("../internals/to-primitive"),L=fe("../internals/create-property-descriptor"),F=fe("../internals/object-create"),I=fe("../internals/object-keys"),G=fe("../internals/object-get-own-property-names"),P=fe("../internals/object-get-own-property-names-external"),X=fe("../internals/object-get-own-property-symbols"),V=fe("../internals/object-get-own-property-descriptor"),H=fe("../internals/object-define-property"),J=fe("../internals/object-property-is-enumerable"),Z=fe("../internals/create-non-enumerable-property"),K=fe("../internals/redefine"),Y=fe("../internals/shared"),ct=fe("../internals/shared-key"),te=fe("../internals/hidden-keys"),ue=fe("../internals/uid"),O=fe("../internals/well-known-symbol"),U=fe("../internals/well-known-symbol-wrapped"),q=fe("../internals/define-well-known-symbol"),Q=fe("../internals/set-to-string-tag"),yt=fe("../internals/internal-state"),ae=fe("../internals/array-iteration").forEach,ie=ct("hidden"),he="Symbol",ge="prototype",fe=O("toPrimitive"),ve=yt.set,xe=yt.getterFor(he),se=Object[ge],be=y.Symbol,Ae=h("JSON","stringify"),De=V.f,je=H.f,Oe=P.f,ke=J.f,tt=Y("symbols"),Fe=Y("op-symbols"),vt=Y("string-to-symbol-registry"),st=Y("symbol-to-string-registry"),ct=Y("wks"),yt=y.QObject,dt=!yt||!yt[ge]||!yt[ge].findChild,Me=m&&x(function(){return F(je({},"a",{get:function(){return je(this,"a",{value:7}).a}})).a!=7})?function(re,de,Ce){var Re=De(se,de);Re&&delete se[de],je(re,de,Ce),Re&&re!==se&&je(se,de,Re)}:je,Je=_?function(re){return typeof re=="symbol"}:function(re){return Object(re)instanceof be},Pe=function(re,de,Ce){return re===se&&Pe(Fe,de,Ce),C(re),de=R(de,!0),C(Ce),(b(tt,de)?(Ce.enumerable?(b(re,ie)&&re[ie][de]&&(re[ie][de]=!1),Ce=F(Ce,{enumerable:L(0,!1)})):(b(re,ie)||je(re,ie,L(1,{})),re[ie][de]=!0),Me):je)(re,de,Ce)},oe=function(de){var de=R(de,!0),Ce=ke.call(this,de);return!(this===se&&b(tt,de)&&!b(Fe,de))&&(!(Ce||!b(this,de)||!b(tt,de)||b(this,ie)&&this[ie][de])||Ce)},ce=function(Ce){var de=Ce===se,Ce=Oe(de?Fe:M(Ce)),Re=[];return ae(Ce,function(Ve){!b(tt,Ve)||de&&!b(se,Ve)||Re.push(tt[Ve])}),Re};v||(K((be=function(){if(this instanceof be)throw TypeError("Symbol is not a constructor");var re=arguments.length&&arguments[0]!==void 0?String(arguments[0]):void 0,de=ue(re),Ce=function(Re){this===se&&Ce.call(Fe,Re),b(this,ie)&&b(this[ie],de)&&(this[ie][de]=!1),Me(this,de,L(1,Re))};return m&&dt&&Me(se,de,{configurable:!0,set:Ce}),o(de,re)})[ge],"toString",function(){return xe(this).tag}),K(be,"withoutSetter",function(re){return o(ue(re),re)}),J.f=oe,H.f=Pe,V.f=c,G.f=P.f=d,X.f=ce,U.f=function(re){return o(O(re),re)},m&&(je(be[ge],"description",{configurable:!0,get:function(){return xe(this).description}}),p||K(se,"propertyIsEnumerable",oe,{unsafe:!0}))),g({global:!0,wrap:!0,forced:!v,sham:!v},{Symbol:be}),ae(I(ct),function(re){q(re)}),g({target:he,stat:!0,forced:!v},{for:function(Ce){var de,Ce=String(Ce);return b(vt,Ce)?vt[Ce]:(de=be(Ce),vt[Ce]=de,st[de]=Ce,de)},keyFor:function(re){if(!Je(re))throw TypeError(re+" is not a symbol");if(b(st,re))return st[re]},useSetter:function(){dt=!0},useSimple:function(){dt=!1}}),g({target:"Object",stat:!0,forced:!v,sham:!m},{create:function(re,de){return de===void 0?F(re):u(F(re),de)},defineProperty:Pe,defineProperties:u,getOwnPropertyDescriptor:c}),g({target:"Object",stat:!0,forced:!v},{getOwnPropertyNames:d,getOwnPropertySymbols:ce}),g({target:"Object",stat:!0,forced:x(function(){X.f(1)})},{getOwnPropertySymbols:function(re){return X.f(D(re))}}),Ae&&g({target:"JSON",stat:!0,forced:!v||x(function(){var re=be();return Ae([re])!="[null]"||Ae({a:re})!="{}"||Ae(Object(re))!="{}"})},{stringify:function(re,de,Ce){for(var Re,Ve=[re],at=1;at<arguments.length;)Ve.push(arguments[at++]);if((S(Re=de)||re!==void 0)&&!Je(re))return E(de)||(de=function(lt,ut){if(typeof Re=="function"&&(ut=Re.call(this,lt,ut)),!Je(ut))return ut}),Ve[1]=de,Ae.apply(null,Ve)}}),be[ge][fe]||Z(be[ge],fe,be[ge].valueOf),Q(be,he),te[ie]=!0},{"../internals/an-object":10,"../internals/array-iteration":19,"../internals/create-non-enumerable-property":38,"../internals/create-property-descriptor":39,"../internals/define-well-known-symbol":42,"../internals/descriptors":43,"../internals/export":50,"../internals/fails":51,"../internals/get-built-in":57,"../internals/global":60,"../internals/has":61,"../internals/hidden-keys":62,"../internals/internal-state":71,"../internals/is-array":73,"../internals/is-object":75,"../internals/is-pure":76,"../internals/native-symbol":84,"../internals/object-create":91,"../internals/object-define-property":93,"../internals/object-get-own-property-descriptor":94,"../internals/object-get-own-property-names":96,"../internals/object-get-own-property-names-external":95,"../internals/object-get-own-property-symbols":97,"../internals/object-keys":100,"../internals/object-property-is-enumerable":101,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/shared":122,"../internals/shared-key":120,"../internals/to-indexed-object":136,"../internals/to-object":139,"../internals/to-primitive":142,"../internals/uid":147,"../internals/use-symbol-as-uid":148,"../internals/well-known-symbol":150,"../internals/well-known-symbol-wrapped":149}],213:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-copy-within"),c=o.aTypedArray;(0,o.exportTypedArrayMethod)("copyWithin",function(d,g){return u.call(c(this),d,g,2<arguments.length?arguments[2]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-copy-within":14}],214:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").every,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("every",function(d){return u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],215:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-fill"),c=o.aTypedArray;(0,o.exportTypedArrayMethod)("fill",function(d){return u.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-fill":15}],216:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").filter,c=t("../internals/species-constructor"),d=o.aTypedArray,g=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("filter",function(y){for(var h=u(d(this),y,1<arguments.length?arguments[1]:void 0),y=c(this,this.constructor),p=0,m=h.length,v=new(g(y))(m);p<m;)v[p]=h[p++];return v})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],217:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").findIndex,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("findIndex",function(d){return u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],218:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").find,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("find",function(d){return u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],219:[function(t,l,s){t("../internals/typed-array-constructor")("Float32",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],220:[function(t,l,s){t("../internals/typed-array-constructor")("Float64",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],221:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").forEach,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("forEach",function(d){u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],222:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").includes,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("includes",function(d){return u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],223:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-includes").indexOf,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("indexOf",function(d){return u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-includes":18}],224:[function(t,l,s){t("../internals/typed-array-constructor")("Int16",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],225:[function(t,l,s){t("../internals/typed-array-constructor")("Int32",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],226:[function(u,l,s){function o(){return c.call(y(this))}var m=u("../internals/global"),p=u("../internals/array-buffer-view-core"),h=u("../modules/es.array.iterator"),u=u("../internals/well-known-symbol")("iterator"),m=m.Uint8Array,c=h.values,d=h.keys,g=h.entries,y=p.aTypedArray,h=p.exportTypedArrayMethod,p=m&&m.prototype[u],m=!!p&&(p.name=="values"||p.name==null);h("entries",function(){return g.call(y(this))}),h("keys",function(){return d.call(y(this))}),h("values",o,!m),h(u,o,!m)},{"../internals/array-buffer-view-core":12,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],227:[function(u,l,s){var u=u("../internals/array-buffer-view-core"),o=u.aTypedArray,u=u.exportTypedArrayMethod,c=[].join;u("join",function(d){return c.apply(o(this),arguments)})},{"../internals/array-buffer-view-core":12}],228:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-last-index-of"),c=o.aTypedArray;(0,o.exportTypedArrayMethod)("lastIndexOf",function(d){return u.apply(c(this),arguments)})},{"../internals/array-buffer-view-core":12,"../internals/array-last-index-of":20}],229:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").map,c=t("../internals/species-constructor"),d=o.aTypedArray,g=o.aTypedArrayConstructor;(0,o.exportTypedArrayMethod)("map",function(y){return u(d(this),y,1<arguments.length?arguments[1]:void 0,function(h,p){return new(g(c(h,h.constructor)))(p)})})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19,"../internals/species-constructor":123}],230:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").right,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduceRight",function(d){return u(c(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],231:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-reduce").left,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("reduce",function(d){return u(c(this),d,arguments.length,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-reduce":24}],232:[function(u,l,s){var u=u("../internals/array-buffer-view-core"),o=u.aTypedArray,u=u.exportTypedArrayMethod,c=Math.floor;u("reverse",function(){for(var d,g=o(this).length,y=c(g/2),h=0;h<y;)d=this[h],this[h++]=this[--g],this[g]=d;return this})},{"../internals/array-buffer-view-core":12}],233:[function(g,l,s){var o=g("../internals/array-buffer-view-core"),u=g("../internals/to-length"),c=g("../internals/to-offset"),d=g("../internals/to-object"),g=g("../internals/fails"),y=o.aTypedArray;(0,o.exportTypedArrayMethod)("set",function(h){y(this);var p=c(1<arguments.length?arguments[1]:void 0,1),m=this.length,v=d(h),_=u(v.length),x=0;if(m<_+p)throw RangeError("Wrong length");for(;x<_;)this[p+x]=v[x++]},g(function(){new Int8Array(1).set({})}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/to-length":138,"../internals/to-object":139,"../internals/to-offset":140}],234:[function(u,l,s){var g=u("../internals/array-buffer-view-core"),o=u("../internals/species-constructor"),u=u("../internals/fails"),c=g.aTypedArray,d=g.aTypedArrayConstructor,g=g.exportTypedArrayMethod,y=[].slice;g("slice",function(h,p){for(var m=y.call(c(this),h,p),h=o(this,this.constructor),v=0,_=m.length,x=new(d(h))(_);v<_;)x[v]=m[v++];return x},u(function(){new Int8Array(1).slice()}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/species-constructor":123}],235:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/array-iteration").some,c=o.aTypedArray;(0,o.exportTypedArrayMethod)("some",function(d){return u(c(this),d,1<arguments.length?arguments[1]:void 0)})},{"../internals/array-buffer-view-core":12,"../internals/array-iteration":19}],236:[function(u,l,s){var u=u("../internals/array-buffer-view-core"),o=u.aTypedArray,u=u.exportTypedArrayMethod,c=[].sort;u("sort",function(d){return c.call(o(this),d)})},{"../internals/array-buffer-view-core":12}],237:[function(t,l,s){var o=t("../internals/array-buffer-view-core"),u=t("../internals/to-length"),c=t("../internals/to-absolute-index"),d=t("../internals/species-constructor"),g=o.aTypedArray;(0,o.exportTypedArrayMethod)("subarray",function(v,h){var p=g(this),m=p.length,v=c(v,m);return new(d(p,p.constructor))(p.buffer,p.byteOffset+v*p.BYTES_PER_ELEMENT,u((h===void 0?m:c(h,m))-v))})},{"../internals/array-buffer-view-core":12,"../internals/species-constructor":123,"../internals/to-absolute-index":134,"../internals/to-length":138}],238:[function(u,l,s){var g=u("../internals/global"),o=u("../internals/array-buffer-view-core"),u=u("../internals/fails"),c=g.Int8Array,d=o.aTypedArray,g=o.exportTypedArrayMethod,y=[].toLocaleString,h=[].slice,p=!!c&&u(function(){y.call(new c(1))});g("toLocaleString",function(){return y.apply(p?h.call(d(this)):d(this),arguments)},u(function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()})||!u(function(){c.prototype.toLocaleString.call([1,2])}))},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],239:[function(u,l,s){var o=u("../internals/array-buffer-view-core").exportTypedArrayMethod,g=u("../internals/fails"),u=u("../internals/global").Uint8Array,u=u&&u.prototype||{},c=[].toString,d=[].join,g=(g(function(){c.call({})})&&(c=function(){return d.call(this)}),u.toString!=c);o("toString",c,g)},{"../internals/array-buffer-view-core":12,"../internals/fails":51,"../internals/global":60}],240:[function(t,l,s){t("../internals/typed-array-constructor")("Uint16",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],241:[function(t,l,s){t("../internals/typed-array-constructor")("Uint32",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],242:[function(t,l,s){t("../internals/typed-array-constructor")("Uint8",function(o){return function(u,c,d){return o(this,u,c,d)}})},{"../internals/typed-array-constructor":144}],243:[function(t,l,s){t("../internals/typed-array-constructor")("Uint8",function(o){return function(u,c,d){return o(this,u,c,d)}},!0)},{"../internals/typed-array-constructor":144}],244:[function(b,C,s){function o(D){return function(){return D(this,arguments.length?arguments[0]:void 0)}}var u,c,d,g,y,E=b("../internals/global"),h=b("../internals/redefine-all"),p=b("../internals/internal-metadata"),m=b("../internals/collection"),v=b("../internals/collection-weak"),_=b("../internals/is-object"),x=b("../internals/internal-state").enforce,b=b("../internals/native-weak-map"),E=!E.ActiveXObject&&"ActiveXObject"in E,S=Object.isExtensible,C=C.exports=m("WeakMap",o,v);b&&E&&(u=v.getConstructor(o,"WeakMap",!0),p.REQUIRED=!0,m=C.prototype,c=m.delete,d=m.has,g=m.get,y=m.set,h(m,{delete:function(D){var M;return _(D)&&!S(D)?((M=x(this)).frozen||(M.frozen=new u),c.call(this,D)||M.frozen.delete(D)):c.call(this,D)},has:function(D){var M;return _(D)&&!S(D)?((M=x(this)).frozen||(M.frozen=new u),d.call(this,D)||M.frozen.has(D)):d.call(this,D)},get:function(D){var M;return!_(D)||S(D)||((M=x(this)).frozen||(M.frozen=new u),d.call(this,D))?g.call(this,D):M.frozen.get(D)},set:function(D,M){var R;return!_(D)||S(D)||((R=x(this)).frozen||(R.frozen=new u),d.call(this,D))?y.call(this,D,M):R.frozen.set(D,M),this}}))},{"../internals/collection":32,"../internals/collection-weak":31,"../internals/global":60,"../internals/internal-metadata":70,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-weak-map":86,"../internals/redefine-all":109}],245:[function(t,l,s){var o,u=t("../internals/global"),c=t("../internals/dom-iterables"),d=t("../internals/array-for-each"),g=t("../internals/create-non-enumerable-property");for(o in c){var y=u[o],y=y&&y.prototype;if(y&&y.forEach!==d)try{g(y,"forEach",d)}catch{y.forEach=d}}},{"../internals/array-for-each":16,"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60}],246:[function(y,l,s){var o,u=y("../internals/global"),c=y("../internals/dom-iterables"),d=y("../modules/es.array.iterator"),g=y("../internals/create-non-enumerable-property"),y=y("../internals/well-known-symbol"),h=y("iterator"),p=y("toStringTag"),m=d.values;for(o in c){var v=u[o],_=v&&v.prototype;if(_){if(_[h]!==m)try{g(_,h,m)}catch{_[h]=m}if(_[p]||g(_,p,o),c[o]){for(var x in d)if(_[x]!==d[x])try{g(_,x,d[x])}catch{_[x]=d[x]}}}}},{"../internals/create-non-enumerable-property":38,"../internals/dom-iterables":45,"../internals/global":60,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],247:[function(ie,l,s){ie("../modules/es.array.iterator");function o(he){try{return decodeURIComponent(he)}catch{return he}}function u(he){return q[he]}function c(he){return encodeURIComponent(he).replace(U,u)}function d(he){this.entries.length=0,Q(this.entries,he)}function g(he,ge){if(he<ge)throw TypeError("Not enough arguments")}function y(){E(this,y,H);var he,ge,fe,ve,xe,se,be,Ae,De=0<arguments.length?arguments[0]:void 0,je=[];if(Z(this,{type:H,entries:je,updateURL:function(){},updateSearchParams:d}),De!==void 0)if(R(De))if(typeof(he=G(De))=="function")for(fe=(ge=he.call(De)).next;!(ve=fe.call(ge)).done;){if((se=(xe=(ve=I(M(ve.value))).next).call(ve)).done||(be=xe.call(ve)).done||!xe.call(ve).done)throw TypeError("Expected sequence with length 2");je.push({key:se.value+"",value:be.value+""})}else for(Ae in De)S(De,Ae)&&je.push({key:Ae,value:De[Ae]+""});else Q(je,typeof De=="string"?De.charAt(0)==="?"?De.slice(1):De:De+"")}var h=ie("../internals/export"),V=ie("../internals/get-built-in"),p=ie("../internals/native-url"),m=ie("../internals/redefine"),v=ie("../internals/redefine-all"),_=ie("../internals/set-to-string-tag"),x=ie("../internals/create-iterator-constructor"),b=ie("../internals/internal-state"),E=ie("../internals/an-instance"),S=ie("../internals/has"),C=ie("../internals/function-bind-context"),D=ie("../internals/classof"),M=ie("../internals/an-object"),R=ie("../internals/is-object"),L=ie("../internals/object-create"),F=ie("../internals/create-property-descriptor"),I=ie("../internals/get-iterator"),G=ie("../internals/get-iterator-method"),ie=ie("../internals/well-known-symbol"),P=V("fetch"),X=V("Headers"),V=ie("iterator"),H="URLSearchParams",J=H+"Iterator",Z=b.set,K=b.getterFor(H),Y=b.getterFor(J),te=/\+/g,ue=Array(4),O=function(he){var ge,fe=he.replace(te," "),ve=4;try{return decodeURIComponent(fe)}catch{for(;ve;)fe=fe.replace((ge=ve--,ue[ge-1]||(ue[ge-1]=RegExp("((?:%[\\da-f]{2}){"+ge+"})","gi"))),o);return fe}},U=/[!'()~]|%20/g,q={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},Q=function(he,ge){if(ge)for(var fe,ve=ge.split("&"),xe=0;xe<ve.length;)(fe=ve[xe++]).length&&(fe=fe.split("="),he.push({key:O(fe.shift()),value:O(fe.join("="))}))},ae=x(function(he,ge){Z(this,{type:J,iterator:I(K(he).entries),kind:ge})},"Iterator",function(){var ge=Y(this),he=ge.kind,ge=ge.iterator.next(),fe=ge.value;return ge.done||(ge.value=he==="keys"?fe.key:he==="values"?fe.value:[fe.key,fe.value]),ge}),ie=y.prototype;v(ie,{append:function(he,ge){g(arguments.length,2);var fe=K(this);fe.entries.push({key:he+"",value:ge+""}),fe.updateURL()},delete:function(he){g(arguments.length,1);for(var ge=K(this),fe=ge.entries,ve=he+"",xe=0;xe<fe.length;)fe[xe].key===ve?fe.splice(xe,1):xe++;ge.updateURL()},get:function(he){g(arguments.length,1);for(var ge=K(this).entries,fe=he+"",ve=0;ve<ge.length;ve++)if(ge[ve].key===fe)return ge[ve].value;return null},getAll:function(he){g(arguments.length,1);for(var ge=K(this).entries,fe=he+"",ve=[],xe=0;xe<ge.length;xe++)ge[xe].key===fe&&ve.push(ge[xe].value);return ve},has:function(he){g(arguments.length,1);for(var ge=K(this).entries,fe=he+"",ve=0;ve<ge.length;)if(ge[ve++].key===fe)return!0;return!1},set:function(he,ge){g(arguments.length,1);for(var fe,ve=K(this),xe=ve.entries,se=!1,be=he+"",Ae=ge+"",De=0;De<xe.length;De++)(fe=xe[De]).key===be&&(se?xe.splice(De--,1):(se=!0,fe.value=Ae));se||xe.push({key:be,value:Ae}),ve.updateURL()},sort:function(){for(var he,ge,fe=K(this),ve=fe.entries,xe=ve.slice(),se=ve.length=0;se<xe.length;se++){for(he=xe[se],ge=0;ge<se;ge++)if(ve[ge].key>he.key){ve.splice(ge,0,he);break}ge===se&&ve.push(he)}fe.updateURL()},forEach:function(he){for(var ge,fe=K(this).entries,ve=C(he,1<arguments.length?arguments[1]:void 0,3),xe=0;xe<fe.length;)ve((ge=fe[xe++]).value,ge.key,this)},keys:function(){return new ae(this,"keys")},values:function(){return new ae(this,"values")},entries:function(){return new ae(this,"entries")}},{enumerable:!0}),m(ie,V,ie.entries),m(ie,"toString",function(){for(var he,ge=K(this).entries,fe=[],ve=0;ve<ge.length;)he=ge[ve++],fe.push(c(he.key)+"="+c(he.value));return fe.join("&")},{enumerable:!0}),_(y,H),h({global:!0,forced:!p},{URLSearchParams:y}),p||typeof P!="function"||typeof X!="function"||h({global:!0,enumerable:!0,forced:!0},{fetch:function(xe){var ge,fe,ve,xe=[xe];return 1<arguments.length&&(R(ge=arguments[1])&&(fe=ge.body,D(fe)===H&&((ve=ge.headers?new X(ge.headers):new X).has("content-type")||ve.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"),ge=L(ge,{body:F(0,String(fe)),headers:F(0,ve)}))),xe.push(ge)),P.apply(this,xe)}}),l.exports={URLSearchParams:y,getState:K}},{"../internals/an-instance":9,"../internals/an-object":10,"../internals/classof":29,"../internals/create-iterator-constructor":37,"../internals/create-property-descriptor":39,"../internals/export":50,"../internals/function-bind-context":55,"../internals/get-built-in":57,"../internals/get-iterator":59,"../internals/get-iterator-method":58,"../internals/has":61,"../internals/internal-state":71,"../internals/is-object":75,"../internals/native-url":85,"../internals/object-create":91,"../internals/redefine":110,"../internals/redefine-all":109,"../internals/set-to-string-tag":119,"../internals/well-known-symbol":150,"../modules/es.array.iterator":165}],248:[function(I,l,s){I("../modules/es.string.iterator");function o(Se){var it,pt,nt,Pt;if(typeof Se=="number"){for(it=[],pt=0;pt<4;pt++)it.unshift(Se%256),Se=J(Se/256);return it.join(".")}if(typeof Se!="object")return Se;for(it="",nt=be(Se),pt=0;pt<8;pt++)Pt&&Se[pt]===0||(Pt=Pt&&!1,nt===pt?(it+=pt?":":"::",Pt=!0):(it+=Se[pt].toString(16),pt<7&&(it+=":")));return"["+it+"]"}function u(Se){return!Se.host||Se.cannotBeABaseURL||Se.scheme=="file"}function c(Se,it,pt,nt){var Pt,Qe,Gt,ft=pt||Je,Dt=0,gt="",Rr=!1,Sr=!1,dr=!1;for(pt||(Se.scheme="",Se.username="",Se.password="",Se.host=null,Se.port=null,Se.path=[],Se.query=null,Se.fragment=null,Se.cannotBeABaseURL=!1,it=it.replace(ve,"")),it=it.replace(xe,""),Pt=D(it);Dt<=Pt.length;){switch(Qe=Pt[Dt],ft){case Je:if(!Qe||!O.test(Qe)){if(pt)return Y;ft=oe;continue}gt+=Qe.toLowerCase(),ft=Pe;break;case Pe:if(Qe&&(U.test(Qe)||Qe=="+"||Qe=="-"||Qe=="."))gt+=Qe.toLowerCase();else{if(Qe!=":"){if(pt)return Y;gt="",ft=oe,Dt=0;continue}if(pt&&(Fe(Se)!=S(tt,gt)||gt=="file"&&(vt(Se)||Se.port!==null)||Se.scheme=="file"&&!Se.host))return;if(Se.scheme=gt,pt)return void(Fe(Se)&&tt[Se.scheme]==Se.port&&(Se.port=null));gt="",Se.scheme=="file"?ft=It:Fe(Se)&&nt&&nt.scheme==Se.scheme?ft=ce:Fe(Se)?ft=Re:Pt[Dt+1]=="/"?(ft=re,Dt++):(Se.cannotBeABaseURL=!0,Se.path.push(""),ft=fr)}break;case oe:if(!nt||nt.cannotBeABaseURL&&Qe!="#")return Y;if(nt.cannotBeABaseURL&&Qe=="#"){Se.scheme=nt.scheme,Se.path=nt.path.slice(),Se.query=nt.query,Se.fragment="",Se.cannotBeABaseURL=!0,ft=Dr;break}ft=nt.scheme=="file"?It:de;continue;case ce:if(Qe!="/"||Pt[Dt+1]!="/"){ft=de;continue}ft=Ve,Dt++;break;case re:if(Qe=="/"){ft=at;break}ft=Tt;continue;case de:if(Se.scheme=nt.scheme,Qe==y)Se.username=nt.username,Se.password=nt.password,Se.host=nt.host,Se.port=nt.port,Se.path=nt.path.slice(),Se.query=nt.query;else if(Qe=="/"||Qe=="\\"&&Fe(Se))ft=Ce;else if(Qe=="?")Se.username=nt.username,Se.password=nt.password,Se.host=nt.host,Se.port=nt.port,Se.path=nt.path.slice(),Se.query="",ft=Jr;else{if(Qe!="#"){Se.username=nt.username,Se.password=nt.password,Se.host=nt.host,Se.port=nt.port,Se.path=nt.path.slice(),Se.path.pop(),ft=Tt;continue}Se.username=nt.username,Se.password=nt.password,Se.host=nt.host,Se.port=nt.port,Se.path=nt.path.slice(),Se.query=nt.query,Se.fragment="",ft=Dr}break;case Ce:if(!Fe(Se)||Qe!="/"&&Qe!="\\"){if(Qe!="/"){Se.username=nt.username,Se.password=nt.password,Se.host=nt.host,Se.port=nt.port,ft=Tt;continue}ft=at}else ft=Ve;break;case Re:if(ft=Ve,Qe!="/"||gt.charAt(Dt+1)!="/")continue;Dt++;break;case Ve:if(Qe=="/"||Qe=="\\")break;ft=at;continue;case at:if(Qe=="@"){Rr&&(gt="%40"+gt);for(var Rr=!0,gr=D(gt),na=0;na<gr.length;na++){var Tn=gr[na];Tn!=":"||dr?(Tn=ke(Tn,Oe),dr?Se.password+=Tn:Se.username+=Tn):dr=!0}gt=""}else if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Fe(Se)){if(Rr&&gt=="")return K;Dt-=D(gt).length+1,gt="",ft=lt}else gt+=Qe;break;case lt:case ut:if(pt&&Se.scheme=="file"){ft=bt;continue}if(Qe!=":"||Sr){if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Fe(Se)){if(Fe(Se)&&gt=="")return te;if(pt&&gt==""&&(vt(Se)||Se.port!==null))return;if(Gt=se(Se,gt))return Gt;if(gt="",ft=Mt,pt)return;continue}Qe=="["?Sr=!0:Qe=="]"&&(Sr=!1),gt+=Qe}else{if(gt=="")return te;if(Gt=se(Se,gt))return Gt;if(gt="",ft=ht,pt==ut)return}break;case ht:if(!q.test(Qe)){if(Qe==y||Qe=="/"||Qe=="?"||Qe=="#"||Qe=="\\"&&Fe(Se)||pt){if(gt!=""){var Zn=parseInt(gt,10);if(65535<Zn)return ue;Se.port=Fe(Se)&&Zn===tt[Se.scheme]?null:Zn,gt=""}if(pt)return;ft=Mt;continue}return ue}gt+=Qe;break;case It:if(Se.scheme="file",Qe=="/"||Qe=="\\")ft=At;else{if(!nt||nt.scheme!="file"){ft=Tt;continue}if(Qe==y)Se.host=nt.host,Se.path=nt.path.slice(),Se.query=nt.query;else if(Qe=="?")Se.host=nt.host,Se.path=nt.path.slice(),Se.query="",ft=Jr;else{if(Qe!="#"){ct(Pt.slice(Dt).join(""))||(Se.host=nt.host,Se.path=nt.path.slice(),yt(Se)),ft=Tt;continue}Se.host=nt.host,Se.path=nt.path.slice(),Se.query=nt.query,Se.fragment="",ft=Dr}}break;case At:if(Qe=="/"||Qe=="\\"){ft=bt;break}nt&&nt.scheme=="file"&&!ct(Pt.slice(Dt).join(""))&&(st(nt.path[0],!0)?Se.path.push(nt.path[0]):Se.host=nt.host),ft=Tt;continue;case bt:if(Qe==y||Qe=="/"||Qe=="\\"||Qe=="?"||Qe=="#"){if(!pt&&st(gt))ft=Tt;else{if(gt==""){if(Se.host="",pt)return}else{if(Gt=se(Se,gt))return Gt;if(Se.host=="localhost"&&(Se.host=""),pt)return;gt=""}ft=Mt}continue}gt+=Qe;break;case Mt:if(Fe(Se)){if(ft=Tt,Qe!="/"&&Qe!="\\")continue}else if(pt||Qe!="?")if(pt||Qe!="#"){if(Qe!=y&&(ft=Tt,Qe!="/"))continue}else Se.fragment="",ft=Dr;else Se.query="",ft=Jr;break;case Tt:if(Qe==y||Qe=="/"||Qe=="\\"&&Fe(Se)||!pt&&(Qe=="?"||Qe=="#")){if(Me(gt)?(yt(Se),Qe=="/"||Qe=="\\"&&Fe(Se)||Se.path.push("")):dt(gt)?Qe=="/"||Qe=="\\"&&Fe(Se)||Se.path.push(""):(Se.scheme=="file"&&!Se.path.length&&st(gt)&&(Se.host&&(Se.host=""),gt=gt.charAt(0)+":"),Se.path.push(gt)),gt="",Se.scheme=="file"&&(Qe==y||Qe=="?"||Qe=="#"))for(;1<Se.path.length&&Se.path[0]==="";)Se.path.shift();Qe=="?"?(Se.query="",ft=Jr):Qe=="#"&&(Se.fragment="",ft=Dr)}else gt+=ke(Qe,je);break;case fr:Qe=="?"?(Se.query="",ft=Jr):Qe=="#"?(Se.fragment="",ft=Dr):Qe!=y&&(Se.path[0]+=ke(Qe,Ae));break;case Jr:pt||Qe!="#"?Qe!=y&&(Qe=="'"&&Fe(Se)?Se.query+="%27":Se.query+=Qe=="#"?"%23":ke(Qe,Ae)):(Se.fragment="",ft=Dr);break;case Dr:Qe!=y&&(Se.fragment+=ke(Qe,De))}Dt++}}function d(Qe){var it,pt,nt=E(this,d,"URL"),Pt=1<arguments.length?arguments[1]:void 0,Qe=String(Qe),Gt=V(nt,{type:"URL"});if(Pt!==void 0){if(Pt instanceof d)it=H(Pt);else if(pt=c(it={},String(Pt)))throw TypeError(pt)}if(pt=c(Gt,Qe,null,it))throw TypeError(pt);var ft=Gt.searchParams=new P;(Pt=X(ft)).updateSearchParams(Gt.query),Pt.updateURL=function(){Gt.query=String(ft)||null},v||(nt.href=wr.call(nt),nt.origin=Yt.call(nt),nt.protocol=Wr.call(nt),nt.username=Vr.call(nt),nt.password=nr.call(nt),nt.host=$r.call(nt),nt.hostname=Gn.call(nt),nt.port=Br.call(nt),nt.pathname=qr.call(nt),nt.search=va.call(nt),nt.searchParams=Ba.call(nt),nt.hash=Pi.call(nt))}function g(Se,it){return{get:Se,set:it,configurable:!0,enumerable:!0}}var y,h,p,m=I("../internals/export"),v=I("../internals/descriptors"),_=I("../internals/native-url"),qt=I("../internals/global"),x=I("../internals/object-define-properties"),b=I("../internals/redefine"),E=I("../internals/an-instance"),S=I("../internals/has"),C=I("../internals/object-assign"),D=I("../internals/array-from"),M=I("../internals/string-multibyte").codeAt,R=I("../internals/string-punycode-to-ascii"),L=I("../internals/set-to-string-tag"),F=I("../modules/web.url-search-params"),I=I("../internals/internal-state"),G=qt.URL,P=F.URLSearchParams,X=F.getState,V=I.set,H=I.getterFor("URL"),J=Math.floor,Z=Math.pow,K="Invalid authority",Y="Invalid scheme",te="Invalid host",ue="Invalid port",O=/[A-Za-z]/,U=/[\d+-.A-Za-z]/,q=/\d/,Q=/^(0x|0X)/,ae=/^[0-7]+$/,ie=/^\d+$/,he=/^[\dA-Fa-f]+$/,ge=/[\u0000\u0009\u000A\u000D #%/:?@[\\]]/,fe=/[\u0000\u0009\u000A\u000D #/:?@[\\]]/,ve=/^[\u0000-\u001F ]+|[\u0000-\u001F ]+$/g,xe=/[\u0009\u000A\u000D]/g,se=function(Se,it){var pt,nt,Pt;if(it.charAt(0)=="[")return it.charAt(it.length-1)=="]"&&(pt=function(Qe){var Gt=[0,0,0,0,0,0,0,0],ft=0,Dt=null,gt=0,Rr,Sr,dr,gr,na,Tn,Zn,Yr=function(){return Qe.charAt(gt)};if(Yr()==":"){if(Qe.charAt(1)!=":")return;gt+=2,ft++,Dt=ft}for(;Yr();){if(ft==8)return;if(Yr()==":"){if(Dt!==null)return;gt++,ft++,Dt=ft;continue}for(Rr=Sr=0;Sr<4&&he.test(Yr());)Rr=Rr*16+parseInt(Yr(),16),gt++,Sr++;if(Yr()=="."){if(Sr==0||(gt-=Sr,ft>6))return;for(dr=0;Yr();){if(gr=null,dr>0)if(Yr()=="."&&dr<4)gt++;else return;if(!q.test(Yr()))return;for(;q.test(Yr());){if(na=parseInt(Yr(),10),gr===null)gr=na;else{if(gr==0)return;gr=gr*10+na}if(gr>255)return;gt++}Gt[ft]=Gt[ft]*256+gr,dr++,(dr==2||dr==4)&&ft++}if(dr!=4)return;break}else if(Yr()==":"){if(gt++,!Yr())return}else if(Yr())return;Gt[ft++]=Rr}if(Dt!==null)for(Tn=ft-Dt,ft=7;ft!=0&&Tn>0;)Zn=Gt[ft],Gt[ft--]=Gt[Dt+Tn-1],Gt[Dt+--Tn]=Zn;else if(ft!=8)return;return Gt}(it.slice(1,-1)))?void(Se.host=pt):te;if(Fe(Se))return it=R(it),ge.test(it)||(pt=function(Qe){var Gt=Qe.split("."),ft,Dt,gt,Rr,Sr,dr,gr;if(Gt.length&&Gt[Gt.length-1]==""&&Gt.pop(),(ft=Gt.length)>4)return Qe;for(Dt=[],gt=0;gt<ft;gt++){if(Rr=Gt[gt],Rr=="")return Qe;if(Sr=10,Rr.length>1&&Rr.charAt(0)=="0"&&(Sr=Q.test(Rr)?16:8,Rr=Rr.slice(Sr==8?1:2)),Rr==="")dr=0;else{if(!(Sr==10?ie:Sr==8?ae:he).test(Rr))return Qe;dr=parseInt(Rr,Sr)}Dt.push(dr)}for(gt=0;gt<ft;gt++)if(dr=Dt[gt],gt==ft-1){if(dr>=Z(256,5-ft))return null}else if(dr>255)return null;for(gr=Dt.pop(),gt=0;gt<Dt.length;gt++)gr+=Dt[gt]*Z(256,3-gt);return gr}(it))===null?te:void(Se.host=pt);if(fe.test(it))return te;for(pt="",nt=D(it),Pt=0;Pt<nt.length;Pt++)pt+=ke(nt[Pt],Ae);Se.host=pt},be=function(Se){for(var it=null,pt=1,nt=null,Pt=0,Qe=0;Qe<8;Qe++)Se[Qe]!==0?(pt<Pt&&(it=nt,pt=Pt),nt=null,Pt=0):(nt===null&&(nt=Qe),++Pt);return pt<Pt&&(it=nt,pt=Pt),it},Ae={},De=C({},Ae,{" ":1,'"':1,"<":1,">":1,"`":1}),je=C({},De,{"#":1,"?":1,"{":1,"}":1}),Oe=C({},je,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),ke=function(Se,it){var pt=M(Se,0);return 32<pt&&pt<127&&!S(it,Se)?Se:encodeURIComponent(Se)},tt={ftp:21,file:null,http:80,https:443,ws:80,wss:443},Fe=function(Se){return S(tt,Se.scheme)},vt=function(Se){return Se.username!=""||Se.password!=""},st=function(Se,it){return Se.length==2&&O.test(Se.charAt(0))&&((Se=Se.charAt(1))==":"||!it&&Se=="|")},ct=function(Se){return 1<Se.length&&st(Se.slice(0,2))&&(Se.length==2||(Se=Se.charAt(2))==="/"||Se==="\\"||Se==="?"||Se==="#")},yt=function(Se){var it=Se.path,pt=it.length;!pt||Se.scheme=="file"&&pt==1&&st(it[0],!0)||it.pop()},dt=function(Se){return Se==="."||Se.toLowerCase()==="%2e"},Me=function(Se){return(Se=Se.toLowerCase())===".."||Se==="%2e."||Se===".%2e"||Se==="%2e%2e"},Je={},Pe={},oe={},ce={},re={},de={},Ce={},Re={},Ve={},at={},lt={},ut={},ht={},It={},At={},bt={},Mt={},Tt={},fr={},Jr={},Dr={},qt=d.prototype,wr=function(){var Se=H(this),it=Se.scheme,pt=Se.username,nt=Se.password,Pt=Se.host,Qe=Se.port,Gt=Se.path,ft=Se.query,Dt=Se.fragment,gt=it+":";return Pt!==null?(gt+="//",vt(Se)&&(gt+=pt+(nt?":"+nt:"")+"@"),gt+=o(Pt),Qe!==null&&(gt+=":"+Qe)):it=="file"&&(gt+="//"),gt+=Se.cannotBeABaseURL?Gt[0]:Gt.length?"/"+Gt.join("/"):"",ft!==null&&(gt+="?"+ft),Dt!==null&&(gt+="#"+Dt),gt},Yt=function(){var Se=H(this),it=Se.scheme,pt=Se.port;if(it=="blob")try{return new URL(it.path[0]).origin}catch{return"null"}return it!="file"&&Fe(Se)?it+"://"+o(Se.host)+(pt!==null?":"+pt:""):"null"},Wr=function(){return H(this).scheme+":"},Vr=function(){return H(this).username},nr=function(){return H(this).password},$r=function(){var it=H(this),Se=it.host,it=it.port;return Se===null?"":it===null?o(Se):o(Se)+":"+it},Gn=function(){var Se=H(this).host;return Se===null?"":o(Se)},Br=function(){var Se=H(this).port;return Se===null?"":String(Se)},qr=function(){var Se=H(this),it=Se.path;return Se.cannotBeABaseURL?it[0]:it.length?"/"+it.join("/"):""},va=function(){var Se=H(this).query;return Se?"?"+Se:""},Ba=function(){return H(this).searchParams},Pi=function(){var Se=H(this).fragment;return Se?"#"+Se:""};v&&x(qt,{href:g(wr,function(pt){var it=H(this),pt=String(pt),pt=c(it,pt);if(pt)throw TypeError(pt);X(it.searchParams).updateSearchParams(it.query)}),origin:g(Yt),protocol:g(Wr,function(Se){var it=H(this);c(it,String(Se)+":",Je)}),username:g(Vr,function(Se){var it=H(this),pt=D(String(Se));if(!u(it)){it.username="";for(var nt=0;nt<pt.length;nt++)it.username+=ke(pt[nt],Oe)}}),password:g(nr,function(Se){var it=H(this),pt=D(String(Se));if(!u(it)){it.password="";for(var nt=0;nt<pt.length;nt++)it.password+=ke(pt[nt],Oe)}}),host:g($r,function(Se){var it=H(this);it.cannotBeABaseURL||c(it,String(Se),lt)}),hostname:g(Gn,function(Se){var it=H(this);it.cannotBeABaseURL||c(it,String(Se),ut)}),port:g(Br,function(Se){var it=H(this);u(it)||((Se=String(Se))==""?it.port=null:c(it,Se,ht))}),pathname:g(qr,function(Se){var it=H(this);it.cannotBeABaseURL||(it.path=[],c(it,Se+"",Mt))}),search:g(va,function(Se){var it=H(this);(Se=String(Se))==""?it.query=null:(Se.charAt(0)=="?"&&(Se=Se.slice(1)),it.query="",c(it,Se,Jr)),X(it.searchParams).updateSearchParams(it.query)}),searchParams:g(Ba),hash:g(Pi,function(Se){var it=H(this);(Se=String(Se))==""?it.fragment=null:(Se.charAt(0)=="#"&&(Se=Se.slice(1)),it.fragment="",c(it,Se,Dr))})}),b(qt,"toJSON",function(){return wr.call(this)},{enumerable:!0}),b(qt,"toString",function(){return wr.call(this)},{enumerable:!0}),G&&(h=G.createObjectURL,p=G.revokeObjectURL,h&&b(d,"createObjectURL",function(Se){return h.apply(G,arguments)}),p&&b(d,"revokeObjectURL",function(Se){return p.apply(G,arguments)})),L(d,"URL"),m({global:!0,forced:!_,sham:!v},{URL:d})},{"../internals/an-instance":9,"../internals/array-from":17,"../internals/descriptors":43,"../internals/export":50,"../internals/global":60,"../internals/has":61,"../internals/internal-state":71,"../internals/native-url":85,"../internals/object-assign":90,"../internals/object-define-properties":92,"../internals/redefine":110,"../internals/set-to-string-tag":119,"../internals/string-multibyte":125,"../internals/string-punycode-to-ascii":128,"../modules/es.string.iterator":200,"../modules/web.url-search-params":247}],249:[function(t,l,s){l.exports=t("./").polyfill()},{"./":250}],250:[function(t,l,s){(function(o,u){var c,d;c=this,d=function(){function g(se){return typeof se=="function"}var y=Array.isArray||function(se){return Object.prototype.toString.call(se)==="[object Array]"},h=0,p=void 0,m=void 0,v=function(se,be){C[h]=se,C[h+1]=be,(h+=2)===2&&(m?m(D):P())},_=typeof window<"u"?window:void 0,x=_||{},x=x.MutationObserver||x.WebKitMutationObserver,b=typeof self>"u"&&o!==void 0&&{}.toString.call(o)==="[object process]",E=typeof Uint8ClampedArray<"u"&&typeof importScripts<"u"&&typeof MessageChannel<"u";function S(){var se=setTimeout;return function(){return se(D,1)}}var C=new Array(1e3);function D(){for(var se=0;se<h;se+=2)(0,C[se])(C[se+1]),C[se]=void 0,C[se+1]=void 0;h=0}function M(){try{var se=Function("return this")().require("vertx");return(p=se.runOnLoop||se.runOnContext)!==void 0?function(){p(D)}:S()}catch{return S()}}var R,L,F,P=void 0;function I(se,be){var Ae,De=this,je=new this.constructor(V),Oe=(je[X]===void 0&&he(je),De._state);return Oe?(Ae=arguments[Oe-1],v(function(){return ae(Oe,je,Ae,De._result)})):q(De,je,se,be),je}function G(se){var be;return se&&typeof se=="object"&&se.constructor===this?se:(te(be=new this(V),se),be)}var P=b?function(){return o.nextTick(D)}:x?(L=0,b=new x(D),F=document.createTextNode(""),b.observe(F,{characterData:!0}),function(){F.data=L=++L%2}):E?((R=new MessageChannel).port1.onmessage=D,function(){return R.port2.postMessage(0)}):(_===void 0&&typeof t=="function"?M:S)(),X=Math.random().toString(36).substring(2);function V(){}var H=void 0,J=1,Z=2;function K(se,be,Ae){v(function(De){var je=!1,Oe=function(ke,tt,Fe,vt){try{ke.call(tt,Fe,vt)}catch(st){return st}}(Ae,be,function(ke){je||(je=!0,(be!==ke?te:O)(De,ke))},function(ke){je||(je=!0,U(De,ke))},De._label);!je&&Oe&&(je=!0,U(De,Oe))},se)}function Y(se,be,Ae){var De,je;be.constructor===se.constructor&&Ae===I&&be.constructor.resolve===G?(De=se,(je=be)._state===J?O(De,je._result):je._state===Z?U(De,je._result):q(je,void 0,function(Oe){return te(De,Oe)},function(Oe){return U(De,Oe)})):Ae!==void 0&&g(Ae)?K(se,be,Ae):O(se,be)}function te(se,be){if(se===be)U(se,new TypeError("You cannot resolve a promise with itself"));else if(Ae=typeof be,be===null||Ae!="object"&&Ae!="function")O(se,be);else{Ae=void 0;try{Ae=be.then}catch(De){return void U(se,De)}Y(se,be,Ae)}var Ae}function ue(se){se._onerror&&se._onerror(se._result),Q(se)}function O(se,be){se._state===H&&(se._result=be,se._state=J,se._subscribers.length!==0&&v(Q,se))}function U(se,be){se._state===H&&(se._state=Z,se._result=be,v(ue,se))}function q(se,be,Ae,De){var je=se._subscribers,Oe=je.length;se._onerror=null,je[Oe]=be,je[Oe+J]=Ae,je[Oe+Z]=De,Oe===0&&se._state&&v(Q,se)}function Q(se){var be=se._subscribers,Ae=se._state;if(be.length!==0){for(var De,je=void 0,Oe=se._result,ke=0;ke<be.length;ke+=3)De=be[ke],je=be[ke+Ae],De?ae(Ae,De,je,Oe):je(Oe);se._subscribers.length=0}}function ae(se,be,Ae,De){var je=g(Ae),Oe=void 0,ke=void 0,tt=!0;if(je){try{Oe=Ae(De)}catch(Fe){tt=!1,ke=Fe}if(be===Oe)return void U(be,new TypeError("A promises callback cannot return that same promise."))}else Oe=De;be._state===H&&(je&&tt?te(be,Oe):tt===!1?U(be,ke):se===J?O(be,Oe):se===Z&&U(be,Oe))}var ie=0;function he(se){se[X]=ie++,se._state=void 0,se._result=void 0,se._subscribers=[]}fe.prototype._enumerate=function(se){for(var be=0;this._state===H&&be<se.length;be++)this._eachEntry(se[be],be)},fe.prototype._eachEntry=function(se,be){var Ae=this._instanceConstructor,De=Ae.resolve;if(De===G){var je,Oe=void 0,ke=void 0,tt=!1;try{Oe=se.then}catch(Fe){tt=!0,ke=Fe}Oe===I&&se._state!==H?this._settledAt(se._state,be,se._result):typeof Oe!="function"?(this._remaining--,this._result[be]=se):Ae===ve?(je=new Ae(V),tt?U(je,ke):Y(je,se,Oe),this._willSettleAt(je,be)):this._willSettleAt(new Ae(function(Fe){return Fe(se)}),be)}else this._willSettleAt(De(se),be)},fe.prototype._settledAt=function(se,be,Ae){var De=this.promise;De._state===H&&(this._remaining--,se===Z?U(De,Ae):this._result[be]=Ae),this._remaining===0&&O(De,this._result)},fe.prototype._willSettleAt=function(se,be){var Ae=this;q(se,void 0,function(De){return Ae._settledAt(J,be,De)},function(De){return Ae._settledAt(Z,be,De)})};var ge=fe;function fe(se,be){this._instanceConstructor=se,this.promise=new se(V),this.promise[X]||he(this.promise),y(be)?(this.length=be.length,this._remaining=be.length,this._result=new Array(this.length),this.length!==0&&(this.length=this.length||0,this._enumerate(be),this._remaining!==0)||O(this.promise,this._result)):U(this.promise,new Error("Array Methods must be provided an Array"))}xe.prototype.catch=function(se){return this.then(null,se)},xe.prototype.finally=function(se){var be=this.constructor;return g(se)?this.then(function(Ae){return be.resolve(se()).then(function(){return Ae})},function(Ae){return be.resolve(se()).then(function(){throw Ae})}):this.then(se,se)};var ve=xe;function xe(se){if(this[X]=ie++,this._result=this._state=void 0,this._subscribers=[],V!==se){if(typeof se!="function")throw new TypeError("You must pass a resolver function as the first argument to the promise constructor");if(!(this instanceof xe))throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.");var be=this;try{se(function(Ae){te(be,Ae)},function(Ae){U(be,Ae)})}catch(Ae){U(be,Ae)}}}return ve.prototype.then=I,ve.all=function(se){return new ge(this,se).promise},ve.race=function(se){var be=this;return y(se)?new be(function(Ae,De){for(var je=se.length,Oe=0;Oe<je;Oe++)be.resolve(se[Oe]).then(Ae,De)}):new be(function(Ae,De){return De(new TypeError("You must pass an array to race."))})},ve.resolve=G,ve.reject=function(se){var be=new this(V);return U(be,se),be},ve._setScheduler=function(se){m=se},ve._setAsap=function(se){v=se},ve._asap=v,ve.polyfill=function(){var se=void 0;if(u!==void 0)se=u;else if(typeof self<"u")se=self;else try{se=Function("return this")()}catch{throw new Error("polyfill failed because global object is unavailable in this environment")}var be=se.Promise;if(be){var Ae=null;try{Ae=Object.prototype.toString.call(be.resolve())}catch{}if(Ae==="[object Promise]"&&!be.cast)return}se.Promise=ve},ve.Promise=ve},typeof s=="object"&&l!==void 0?l.exports=d():c.ES6Promise=d()}).call(this,t("_process"),typeof xu<"u"?xu:typeof self<"u"?self:typeof window<"u"?window:{})},{_process:259}],251:[function(t,l,s){var o,u;o=this,u=function(c,d){var g=5e3,y="callback";function h(m){try{delete window[m]}catch{window[m]=void 0}}function p(m){m=document.getElementById(m),m&&document.getElementsByTagName("head")[0].removeChild(m)}d.exports=function(m){var v=arguments.length<=1||arguments[1]===void 0?{}:arguments[1],_=m,x=v.timeout||g,b=v.jsonpCallback||y,E=void 0;return new Promise(function(S,C){var D=v.jsonpCallbackFunction||"jsonp_"+Date.now()+"_"+Math.ceil(1e5*Math.random()),M=b+"_"+D,R=(window[D]=function(L){S({ok:!0,json:function(){return Promise.resolve(L)}}),E&&clearTimeout(E),p(M),h(D)},_+=_.indexOf("?")===-1?"?":"&",document.createElement("script"));R.setAttribute("src",""+_+b+"="+D),v.charset&&R.setAttribute("charset",v.charset),R.id=M,document.getElementsByTagName("head")[0].appendChild(R),E=setTimeout(function(){C(new Error("JSONP request to "+m+" timed out")),h(D),p(M),window[D]=function(){h(D)}},x),R.onerror=function(){C(new Error("JSONP request to "+m+" failed")),h(D),p(M),E&&clearTimeout(E)}})}},s!==void 0&&l!==void 0?u(0,l):(u(u={exports:{}},u),o.fetchJsonp=u.exports)},{}],252:[function(t,l,s){var o=function(u){var c,d,g,y,h,p,m,v,_,x,b;if(!(u===void 0||typeof navigator<"u"&&/MSIE [1-9]\./.test(navigator.userAgent)))return b=u.document,c=function(){return u.URL||u.webkitURL||u},d=b.createElementNS("http://www.w3.org/1999/xhtml","a"),g="download"in d,y=/constructor/i.test(u.HTMLElement)||u.safari,h=/CriOS\/[\d]+/.test(navigator.userAgent),p=function(E){(u.setImmediate||u.setTimeout)(function(){throw E},0)},m=4e4,v=function(E){setTimeout(function(){typeof E=="string"?c().revokeObjectURL(E):E.remove()},m)},_=function(E){return/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(E.type)?new Blob(["\uFEFF",E],{type:E.type}):E},b=(x=function(E,S,L){L||(E=_(E));var D,M,R=this,L=E.type==="application/octet-stream",F=function(){for(var I=R,G="writestart progress write writeend".split(" "),P=void 0,X=(G=[].concat(G)).length;X--;){var V=I["on"+G[X]];if(typeof V=="function")try{V.call(I,P||I)}catch(H){p(H)}}};R.readyState=R.INIT,g?(D=c().createObjectURL(E),setTimeout(function(){var I,G;d.href=D,d.download=S,I=d,G=new MouseEvent("click"),I.dispatchEvent(G),F(),v(D),R.readyState=R.DONE})):(h||L&&y)&&u.FileReader?((M=new FileReader).onloadend=function(){var I=h?M.result:M.result.replace(/^data:[^;]*;/,"data:attachment/file;");u.open(I,"_blank")||(u.location.href=I),I=void 0,R.readyState=R.DONE,F()},M.readAsDataURL(E),R.readyState=R.INIT):(D=D||c().createObjectURL(E),!L&&u.open(D,"_blank")||(u.location.href=D),R.readyState=R.DONE,F(),v(D))}).prototype,typeof navigator<"u"&&navigator.msSaveOrOpenBlob?function(E,S,C){return S=S||E.name||"download",C||(E=_(E)),navigator.msSaveOrOpenBlob(E,S)}:(b.abort=function(){},b.readyState=b.INIT=0,b.WRITING=1,b.DONE=2,b.error=b.onwritestart=b.onprogress=b.onwrite=b.onabort=b.onerror=b.onwriteend=null,function(E,S,C){return new x(E,S||E.name||"download",C)})}(typeof self<"u"&&self||typeof window<"u"&&window||this.content);l!==void 0&&l.exports?l.exports.saveAs=o:n!=null},{}],253:[function(t,l,s){var o,u=Object.defineProperty,c=(u(s,"__esModule",{value:!0}),s),d={GIFEncoder:()=>F,applyPalette:()=>function(H,J,Z="rgb565"){if(!H||!H.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(H instanceof Uint8Array||H instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");if(256<J.length)throw new Error("applyPalette() only works with 256 colors or less");const K=new Uint32Array(H.buffer),Y=K.length,te=Z==="rgb444"?4096:65536,ue=new Uint8Array(Y),O=new Array(te);if(Z==="rgba4444")for(let xe=0;xe<Y;xe++){var ae=K[xe],U=ae>>24&255,q=ae>>16&255,Q=ae>>8&255,ae=255&ae,ie=v(ae,Q,q,U),ie=ie in O?O[ie]:O[ie]=function(se,be,Ae,De,je){let Oe=0,ke=1e100;for(let st=0;st<je.length;st++){var tt,Fe=je[st],vt=M(Fe[3]-De);vt>ke||(tt=Fe[0],(vt+=M(tt-se))>ke||(tt=Fe[1],(vt+=M(tt-be))>ke||(tt=Fe[2],(vt+=M(tt-Ae))>ke||(ke=vt,Oe=st))))}return Oe}(ae,Q,q,U,J);ue[xe]=ie}else{const xe=Z==="rgb444"?_:m;for(let se=0;se<Y;se++){var fe=K[se],he=fe>>16&255,ge=fe>>8&255,fe=255&fe,ve=xe(fe,ge,he),ve=ve in O?O[ve]:O[ve]=function(be,Ae,De,je){let Oe=0,ke=1e100;for(let st=0;st<je.length;st++){var tt,Fe=je[st],vt=M(Fe[0]-be);vt>ke||(tt=Fe[1],(vt+=M(tt-Ae))>ke||(tt=Fe[2],(vt+=M(tt-De))>ke||(ke=vt,Oe=st)))}return Oe}(fe,ge,he,J);ue[se]=ve}}return ue},default:()=>V,nearestColor:()=>function(H,J,Z=C){return H[R(H,J,Z)]},nearestColorIndex:()=>R,nearestColorIndexWithDistance:()=>L,prequantize:()=>function(H,{roundRGB:J=5,roundAlpha:Z=10,oneBitAlpha:K=null}={}){const Y=new Uint32Array(H.buffer);for(let q=0;q<Y.length;q++){var U=Y[q];let Q=U>>24&255;var te,ue=U>>16&255,O=U>>8&255,U=255&U;Q=D(Q,Z),K&&(te=typeof K=="number"?K:127,Q=Q<=te?0:255),U=D(U,J),O=D(O,J),ue=D(ue,J),Y[q]=Q<<24|ue<<16|O<<8|U<<0}},quantize:()=>function(H,J,Z={}){var{format:K="rgb565",clearAlpha:Y=!0,clearAlphaColor:te=0,clearAlphaThreshold:ue=0,oneBitAlpha:O=!1}=Z;if(!H||!H.buffer)throw new Error("quantize() expected RGBA Uint8Array data");if(!(H instanceof Uint8Array||H instanceof Uint8ClampedArray))throw new Error("quantize() expected RGBA Uint8Array data");H=new Uint32Array(H.buffer);let U=Z.useSqrt!==!1;const q=K==="rgba4444",Q=function(ct,yt){const dt=yt==="rgb444"?4096:65536,Me=new Array(dt),Je=ct.length;if(yt==="rgba4444")for(let At=0;At<Je;++At){var re=ct[At],Pe=re>>24&255,oe=re>>16&255,ce=re>>8&255,re=255&re,de=v(re,ce,oe,Pe);let bt=de in Me?Me[de]:Me[de]=S();bt.rc+=re,bt.gc+=ce,bt.bc+=oe,bt.ac+=Pe,bt.cnt++}else if(yt==="rgb444")for(let At=0;At<Je;++At){var Ve=ct[At],Ce=Ve>>16&255,Re=Ve>>8&255,Ve=255&Ve,at=_(Ve,Re,Ce);let bt=at in Me?Me[at]:Me[at]=S();bt.rc+=Ve,bt.gc+=Re,bt.bc+=Ce,bt.cnt++}else for(let At=0;At<Je;++At){var ht=ct[At],lt=ht>>16&255,ut=ht>>8&255,ht=255&ht,It=m(ht,ut,lt);let bt=It in Me?Me[It]:Me[It]=S();bt.rc+=ht,bt.gc+=ut,bt.bc+=lt,bt.cnt++}return Me}(H,K),ae=Q.length,ie=ae-1,he=new Uint32Array(ae+1);for(var ge=0,fe=0;fe<ae;++fe){const ct=Q[fe];ct!=null&&(Fe=1/ct.cnt,q&&(ct.ac*=Fe),ct.rc*=Fe,ct.gc*=Fe,ct.bc*=Fe,Q[ge++]=ct)}b(J)/ge<.022&&(U=!1);for(var ve,xe,se,fe=0;fe<ge-1;++fe)Q[fe].fw=fe+1,Q[fe+1].bk=fe,U&&(Q[fe].cnt=Math.sqrt(Q[fe].cnt));for(U&&(Q[fe].cnt=Math.sqrt(Q[fe].cnt)),fe=0;fe<ge;++fe){E(Q,fe);var be=Q[fe].err;for(xe=++he[0];1<xe&&(se=xe>>1,!(Q[ve=he[se]].err<=be));xe=se)he[xe]=ve;he[xe]=fe}var Ae,De=ge-J;for(fe=0;fe<De;){for(;;){var je=he[1];if((Ae=Q[je]).tm>=Ae.mtm&&Q[Ae.nn].mtm<=Ae.tm)break;for(Ae.mtm==ie?je=he[1]=he[he[0]--]:(E(Q,je),Ae.tm=fe),be=Q[je].err,xe=1;(se=xe+xe)<=he[0]&&(se<he[0]&&Q[he[se]].err>Q[he[se+1]].err&&se++,!(be<=Q[ve=he[se]].err));xe=se)he[xe]=ve;he[xe]=je}var Oe=Q[Ae.nn],ke=Ae.cnt,tt=Oe.cnt,Fe=1/(ke+tt);q&&(Ae.ac=Fe*(ke*Ae.ac+tt*Oe.ac)),Ae.rc=Fe*(ke*Ae.rc+tt*Oe.rc),Ae.gc=Fe*(ke*Ae.gc+tt*Oe.gc),Ae.bc=Fe*(ke*Ae.bc+tt*Oe.bc),Ae.cnt+=Oe.cnt,Ae.mtm=++fe,Q[Oe.bk].fw=Oe.fw,Q[Oe.fw].bk=Oe.bk,Oe.mtm=ie}let vt=[];for(fe=0;;0){let ct=x(Math.round(Q[fe].rc),0,255),yt=x(Math.round(Q[fe].gc),0,255),dt=x(Math.round(Q[fe].bc),0,255),Me=255;q&&(Me=x(Math.round(Q[fe].ac),0,255),O&&(st=typeof O=="number"?O:127,Me=Me<=st?0:255),Y&&Me<=ue&&(ct=yt=dt=te,Me=0));var st=q?[ct,yt,dt,Me]:[ct,yt,dt];if(function(Je,Pe){for(let re=0;re<Je.length;re++){var ce=Je[re],oe=ce[0]===Pe[0]&&ce[1]===Pe[1]&&ce[2]===Pe[2],ce=!(4<=ce.length&&4<=Pe.length)||ce[3]===Pe[3];if(oe&&ce)return!0}return!1}(vt,st)||vt.push(st),(fe=Q[fe].fw)==0)break}return vt},snapColorsToPalette:()=>function(H,J,Z=5){if(H.length&&J.length){var K=H.map(U=>U.slice(0,3)),Y=Z*Z,te=H[0].length;for(let U=0;U<J.length;U++){let q=J[U];q=q.length<te?[q[0],q[1],q[2],255]:q.length>te?q.slice(0,3):q.slice();var O=L(K,q.slice(0,3),C),ue=O[0],O=O[1];0<O&&O<=Y&&(H[ue]=q)}}}};for(o in d)u(c,o,{get:d[o],enumerable:!0});var g={trailer:59};function y(H=256){let J=0,Z=new Uint8Array(H);return{get buffer(){return Z.buffer},reset(){J=0},bytesView(){return Z.subarray(0,J)},bytes(){return Z.slice(0,J)},writeByte(Y){K(J+1),Z[J]=Y,J++},writeBytes(Y,te=0,ue=Y.length){K(J+ue);for(let O=0;O<ue;O++)Z[J++]=Y[O+te]},writeBytesView(Y,te=0,ue=Y.byteLength){K(J+ue),Z.set(Y.subarray(te,te+ue),J),J+=ue}};function K(Y){var te=Z.length;if(!(Y<=te)){Y=Math.max(Y,te*(te<1048576?2:1.125)>>>0),te!=0&&(Y=Math.max(Y,256));const ue=Z;Z=new Uint8Array(Y),0<J&&Z.set(ue.subarray(0,J),0)}}}var h=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535],p=function(H,J,Z,q,Y=y(512),te=new Uint8Array(256),ue=new Int32Array(5003),O=new Int32Array(5003)){var U=ue.length,q=Math.max(2,q);te.fill(0),O.fill(0),ue.fill(-1);let Q=0,ae=0;var ie=q+1;const he=ie;let ge=!1,fe=he,ve=(1<<fe)-1;var xe=1<<ie-1;const se=1+xe;let be=2+xe,Ae=0,De=Z[0],je=0;for(let st=U;st<65536;st*=2)++je;je=8-je,Y.writeByte(q),vt(xe);var Oe=Z.length;for(let st=1;st<Oe;st++)e:{var ke=Z[st],tt=(ke<<12)+De;let ct=ke<<je^De;if(ue[ct]===tt)De=O[ct];else{for(var Fe=ct===0?1:U-ct;0<=ue[ct];)if((ct-=Fe)<0&&(ct+=U),ue[ct]===tt){De=O[ct];break e}vt(De),De=ke,be<4096?(O[ct]=be++,ue[ct]=tt):(ue.fill(-1),be=2+xe,ge=!0,vt(xe))}}return vt(De),vt(se),Y.writeByte(0),Y.bytesView();function vt(st){for(Q&=h[ae],0<ae?Q|=st<<ae:Q=st,ae+=fe;8<=ae;)te[Ae++]=255&Q,254<=Ae&&(Y.writeByte(Ae),Y.writeBytesView(te,0,Ae),Ae=0),Q>>=8,ae-=8;if((be>ve||ge)&&(ge?(fe=he,ve=(1<<fe)-1,ge=!1):(++fe,ve=fe===12?1<<fe:(1<<fe)-1)),st==se){for(;0<ae;)te[Ae++]=255&Q,254<=Ae&&(Y.writeByte(Ae),Y.writeBytesView(te,0,Ae),Ae=0),Q>>=8,ae-=8;0<Ae&&(Y.writeByte(Ae),Y.writeBytesView(te,0,Ae),Ae=0)}}};function m(H,J,Z){return H<<8&63488|J<<2&992|Z>>3}function v(H,J,Z,K){return H>>4|240&J|(240&Z)<<4|(240&K)<<8}function _(H,J,Z){return H>>4<<8|240&J|Z>>4}function x(H,J,Z){return H<J?J:Z<H?Z:H}function b(H){return H*H}function E(H,J,Z){var K=0,Y=1e100;const te=H[J];for(var ue=te.cnt,O=te.ac,U=te.rc,q=te.gc,Q=te.bc,ae=te.fw;ae!=0;ae=H[ae].fw){var ie,he=H[ae],ge=he.cnt,ge=ue*ge/(ue+ge);Y<=ge||(ie=0,Y<=(ie+=ge*b(he.rc-U))||Y<=(ie+=ge*b(he.gc-q))||Y<=(ie+=ge*b(he.bc-Q))||(Y=ie,K=ae))}te.err=Y,te.nn=K}function S(){return{ac:0,rc:0,gc:0,bc:0,cnt:0,nn:0,fw:0,bk:0,tm:0,mtm:0,err:0}}function C(H,J){for(var Z=0,K=0;K<H.length;K++){var Y=H[K]-J[K];Z+=Y*Y}return Z}function D(H,J){return 1<J?Math.round(H/J)*J:H}function M(H){return H*H}function R(H,J,Z=C){let K=1/0,Y=-1;for(let ue=0;ue<H.length;ue++){var te=Z(J,H[ue]);te<K&&(K=te,Y=ue)}return Y}function L(H,J,Z=C){let K=1/0,Y=-1;for(let ue=0;ue<H.length;ue++){var te=Z(J,H[ue]);te<K&&(K=te,Y=ue)}return[Y,K]}function F(H={}){const{initialCapacity:J=4096,auto:Z=!0}=H,K=y(J),Y=new Uint8Array(256),te=new Int32Array(5003),ue=new Int32Array(5003);let O=!1;return{reset(){K.reset(),O=!1},finish(){K.writeByte(g.trailer)},bytes(){return K.bytes()},bytesView(){return K.bytesView()},get buffer(){return K.buffer},get stream(){return K},writeHeader:U,writeFrame(q,Q,ae,De={}){var{transparent:he=!1,transparentIndex:ge=0,delay:Fe=0,palette:fe=null,repeat:Oe=0,colorDepth:ve=8,dispose:xe=-1}=De;let se=!1;if(Z?O||(se=!0,U(),O=!0):se=!!De.first,Q=Math.max(0,Math.floor(Q)),ae=Math.max(0,Math.floor(ae)),se){if(!fe)throw new Error("First frame must include a { palette } option");var[De,ke,Ae,tt,je=8]=[K,Q,ae,fe,ve];tt=X(tt.length)-1,je=128|je-1<<4|tt,G(De,ke),G(De,Ae),De.writeBytes([je,0,0]),I(K,fe),0<=Oe&&(tt=K,ke=Oe,tt.writeByte(33),tt.writeByte(255),tt.writeByte(11),P(tt,"NETSCAPE2.0"),tt.writeByte(3),tt.writeByte(1),G(tt,ke),tt.writeByte(0))}var be,Ae=Math.round(Fe/10),De=K,je=xe,Oe=Ae,ke=he,tt=ge,Fe=(De.writeByte(33),De.writeByte(249),De.writeByte(4),tt<0&&(tt=0,ke=!1),ke=ke?(be=1,2):be=0,0<=je&&(ke=7&je),ke<<=2,De.writeByte(0|ke|be),G(De,Oe),De.writeByte(tt||0),De.writeByte(0),!!fe&&!se);xe=K,he=Q,ge=ae,be=Fe?fe:null,xe.writeByte(44),G(xe,0),G(xe,0),G(xe,he),G(xe,ge),be?(he=X(be.length)-1,xe.writeByte(128|he)):xe.writeByte(0),Fe&&I(K,fe),[Oe,De,ge,he,xe=8,Fe,fe,q]=[K,q,Q,ae,ve,Y,te,ue],p(ge,he,De,xe,Oe,Fe,fe,q)}};function U(){P(K,"GIF89a")}}function I(H,J){var Z=1<<X(J.length);for(let K=0;K<Z;K++){let Y=[0,0,0];K<J.length&&(Y=J[K]),H.writeByte(Y[0]),H.writeByte(Y[1]),H.writeByte(Y[2])}}function G(H,J){H.writeByte(255&J),H.writeByte(J>>8&255)}function P(H,J){for(var Z=0;Z<J.length;Z++)H.writeByte(J.charCodeAt(Z))}function X(H){return Math.max(Math.ceil(Math.log2(H)),1)}var V=F},{}],254:[function(t,l,s){s.read=function(o,u,c,d,E){var y,h,p=8*E-d-1,m=(1<<p)-1,v=m>>1,_=-7,x=c?E-1:0,b=c?-1:1,E=o[u+x];for(x+=b,y=E&(1<<-_)-1,E>>=-_,_+=p;0<_;y=256*y+o[u+x],x+=b,_-=8);for(h=y&(1<<-_)-1,y>>=-_,_+=d;0<_;h=256*h+o[u+x],x+=b,_-=8);if(y===0)y=1-v;else{if(y===m)return h?NaN:1/0*(E?-1:1);h+=Math.pow(2,d),y-=v}return(E?-1:1)*h*Math.pow(2,y-d)},s.write=function(o,u,c,d,g,S){var h,p,m=8*S-g-1,v=(1<<m)-1,_=v>>1,x=g===23?Math.pow(2,-24)-Math.pow(2,-77):0,b=d?0:S-1,E=d?1:-1,S=u<0||u===0&&1/u<0?1:0;for(u=Math.abs(u),isNaN(u)||u===1/0?(p=isNaN(u)?1:0,h=v):(h=Math.floor(Math.log(u)/Math.LN2),u*(d=Math.pow(2,-h))<1&&(h--,d*=2),2<=(u+=1<=h+_?x/d:x*Math.pow(2,1-_))*d&&(h++,d/=2),v<=h+_?(p=0,h=v):1<=h+_?(p=(u*d-1)*Math.pow(2,g),h+=_):(p=u*Math.pow(2,_-1)*Math.pow(2,g),h=0));8<=g;o[c+b]=255&p,b+=E,p/=256,g-=8);for(h=h<<g|p,m+=g;0<m;o[c+b]=255&h,b+=E,h/=256,m-=8);o[c+b-E]|=128*S}},{}],255:[function(t,l,s){var o;function u(oe,ce){return oe.b===ce.b&&oe.a===ce.a}function c(oe,ce){return oe.b<ce.b||oe.b===ce.b&&oe.a<=ce.a}function d(oe,ce,re){var de=ce.b-oe.b,Ce=re.b-ce.b;return 0<de+Ce?de<Ce?ce.a-oe.a+de/(de+Ce)*(oe.a-re.a):ce.a-re.a+Ce/(de+Ce)*(re.a-oe.a):0}function g(oe,ce,re){var de=ce.b-oe.b,Ce=re.b-ce.b;return 0<de+Ce?(ce.a-re.a)*de+(ce.a-oe.a)*Ce:0}function y(oe,ce){return oe.a<ce.a||oe.a===ce.a&&oe.b<=ce.b}function h(oe,ce,re){var de=ce.a-oe.a,Ce=re.a-ce.a;return 0<de+Ce?de<Ce?ce.b-oe.b+de/(de+Ce)*(oe.b-re.b):ce.b-re.b+Ce/(de+Ce)*(re.b-oe.b):0}function p(oe,ce,re){var de=ce.a-oe.a,Ce=re.a-ce.a;return 0<de+Ce?(ce.b-re.b)*de+(ce.b-oe.b)*Ce:0}function m(oe,ce,re,de){return(oe=oe<0?0:oe)<=(re=re<0?0:re)?re===0?(ce+de)/2:ce+oe/(oe+re)*(de-ce):de+re/(oe+re)*(ce-de)}function v(oe){var ce=S(oe.b);return D(ce,oe.c),D(ce.b,oe.c),M(ce,oe.a),ce}function _(oe,ce){var re=!1,de=!1;oe!==ce&&(ce.a!==oe.a&&(de=!0,L(ce.a,oe.a)),ce.d!==oe.d&&(re=!0,F(ce.d,oe.d)),C(ce,oe),de||(D(ce,oe.a),oe.a.c=oe),re||(M(ce,oe.d),oe.d.a=oe))}function x(oe){var ce=oe.b,re=!1;oe.d!==oe.b.d&&(re=!0,F(oe.d,oe.b.d)),oe.c===oe?L(oe.a,null):(oe.b.d.a=oe.b.e,oe.a.c=oe.c,C(oe,oe.b.e),re||M(oe,oe.d)),ce.c===ce?(L(ce.a,null),F(ce.d,null)):(oe.d.a=ce.b.e,ce.a.c=ce.c,C(ce,ce.b.e)),R(oe)}function b(oe){var ce=S(oe),re=ce.b;return C(ce,oe.e),ce.a=oe.b.a,D(re,ce.a),ce.d=re.d=oe.d,ce=ce.b,C(oe.b,oe.b.b.e),C(oe.b,ce),oe.b.a=ce.a,ce.b.a.c=ce.b,ce.b.d=oe.b.d,ce.f=oe.f,ce.b.f=oe.b.f,ce}function E(oe,ce){var re=!1,de=S(oe),Ce=de.b;return ce.d!==oe.d&&(re=!0,F(ce.d,oe.d)),C(de,oe.e),C(Ce,ce),de.a=oe.b.a,Ce.a=ce.a,de.d=Ce.d=oe.d,oe.d.a=Ce,re||M(de,oe.d),de}function S(oe){var ce=new Ae,re=new Ae,de=oe.b.h;return(((re.h=de).b.h=ce).h=oe).b.h=re,ce.b=re,((ce.c=ce).e=re).b=ce,(re.c=re).e=ce}function C(oe,ce){var re=oe.c,de=ce.c;re.b.e=ce,(de.b.e=oe).c=de,ce.c=re}function D(oe,ce){var re=ce.f,de=new je(ce,re);for(re.e=de,re=(ce.f=de).c=oe;re.a=de,(re=re.c)!==oe;);}function M(oe,ce){var re=ce.d,de=new be(ce,re);for(re.b=de,(ce.d=de).a=oe,de.c=ce.c,re=oe;re.d=de,(re=re.e)!==oe;);}function R(oe){var ce=oe.h;oe=oe.b.h,(ce.b.h=oe).b.h=ce}function L(oe,ce){for(var re=oe.c,de=re;de.a=ce,(de=de.c)!==re;);re=oe.f,((de=oe.e).f=re).e=de}function F(oe,ce){for(var re=oe.a,de=re;de.d=ce,(de=de.e)!==re;);re=oe.d,((de=oe.b).d=re).b=de}function I(oe){var ce=0;return Math.abs(oe[1])>Math.abs(oe[0])&&(ce=1),ce=Math.abs(oe[2])>Math.abs(oe[ce])?2:ce}function G(oe,ce){oe.f+=ce.f,oe.b.f+=ce.b.f}function P(oe,ce,re){return oe=oe.a,ce=ce.a,re=re.a,ce.b.a===oe?re.b.a===oe?c(ce.a,re.a)?g(re.b.a,ce.a,re.a)<=0:0<=g(ce.b.a,re.a,ce.a):g(re.b.a,oe,re.a)<=0:re.b.a===oe?0<=g(ce.b.a,oe,ce.a):(ce=d(ce.b.a,oe,ce.a),(oe=d(re.b.a,oe,re.a))<=ce)}function X(oe){oe.a.i=null;var ce=oe.e;ce.a.c=ce.c,ce.c.a=ce.a,oe.e=null}function V(oe,ce){x(oe.a),oe.c=!1,(oe.a=ce).i=oe}function H(oe){for(var ce=oe.a.a;(oe=Pe(oe)).a.a===ce;);return oe.c&&(V(oe,ce=E(Je(oe).a.b,oe.a.e)),oe=Pe(oe)),oe}function J(oe,ce,re){var de=new Me;return de.a=re,de.e=ge(oe.f,ce.e,de),re.i=de}function Z(oe,ce){switch(oe.s){case 100130:return(1&ce)!=0;case 100131:return ce!==0;case 100132:return 0<ce;case 100133:return ce<0;case 100134:return 2<=ce||ce<=-2}return!1}function K(oe){var ce=oe.a,re=ce.d;re.c=oe.d,re.a=ce,X(oe)}function Y(oe,ce,re){for(ce=(oe=ce).a;oe!==re;){oe.c=!1;var de=Je(oe),Ce=de.a;if(Ce.a!==ce.a){if(!de.c){K(oe);break}V(de,Ce=E(ce.c.b,Ce.b))}ce.c!==Ce&&(_(Ce.b.e,Ce),_(ce,Ce)),K(oe),ce=de.a,oe=de}return ce}function te(oe,ce,re,de,Ce,Re){for(var Ve=!0;J(oe,ce,re.b),(re=re.c)!==de;);for(Ce===null&&(Ce=Je(ce).a.b.c);(re=(de=Je(ce)).a.b).a===Ce.a;)re.c!==Ce&&(_(re.b.e,re),_(Ce.b.e,re)),de.f=ce.f-re.f,de.d=Z(oe,de.f),ce.b=!0,!Ve&&q(oe,ce)&&(G(re,Ce),X(ce),x(Ce)),Ve=!1,ce=de,Ce=re;ce.b=!0,Re&&ae(oe,ce)}function ue(oe,ce,re,de,Ce){var Re=[ce.g[0],ce.g[1],ce.g[2]];ce.d=null,ce.d=oe.o&&oe.o(Re,re,de,oe.c)||null,ce.d===null&&(Ce?oe.n||(se(oe,100156),oe.n=!0):ce.d=re[0])}function O(oe,ce,re){var de=[null,null,null,null];de[0]=ce.a.d,de[1]=re.a.d,ue(oe,ce.a,de,[.5,.5,0,0],!1),_(ce,re)}function U(oe,ce,re,de,Ce){var Re=Math.abs(ce.b-oe.b)+Math.abs(ce.a-oe.a),Ve=Math.abs(re.b-oe.b)+Math.abs(re.a-oe.a),at=Ce+1;de[Ce]=.5*Ve/(Re+Ve),de[at]=.5*Re/(Re+Ve),oe.g[0]+=de[Ce]*ce.g[0]+de[at]*re.g[0],oe.g[1]+=de[Ce]*ce.g[1]+de[at]*re.g[1],oe.g[2]+=de[Ce]*ce.g[2]+de[at]*re.g[2]}function q(oe,ce){var re=Je(ce),de=ce.a,Ce=re.a;if(c(de.a,Ce.a)){if(0<g(Ce.b.a,de.a,Ce.a))return;if(u(de.a,Ce.a)){if(de.a!==Ce.a){var re=oe.e,Re=de.a.h;if(0<=Re){var Ve=(re=re.b).d,at=re.e,lt=re.c,ut=lt[Re];Ve[ut]=Ve[re.a],(lt[Ve[ut]]=ut)<=--re.a&&(ut<=1||c(at[Ve[ut>>1]],at[Ve[ut]])?yt:dt)(re,ut),at[Re]=null,lt[Re]=re.b,re.b=Re}else for(re.c[-(Re+1)]=null;0<re.a&&re.c[re.d[re.a-1]]===null;)--re.a;O(oe,Ce.b.e,de)}}else b(Ce.b),_(de,Ce.b.e),ce.b=re.b=!0}else{if(g(de.b.a,Ce.a,de.a)<0)return;Pe(ce).b=ce.b=!0,b(de.b),_(Ce.b.e,de)}return 1}function Q(oe,ce){var re=Je(ce),de=ce.a,Ce=re.a,Re=de.a,Ve=Ce.a,at=de.b.a,lt=Ce.b.a,ut=new je;if(g(at,oe.a,Re),g(lt,oe.a,Ve),!(Re===Ve||Math.min(Re.a,at.a)>Math.max(Ve.a,lt.a))){if(c(Re,Ve)){if(0<g(lt,Re,Ve))return}else if(g(at,Ve,Re)<0)return;var ht,It,At=at,bt=Re,Mt=lt,Tt=Ve;if(c(At,bt)||(ht=At,At=bt,bt=ht),c(Mt,Tt)||(ht=Mt,Mt=Tt,Tt=ht),c(At,Mt)||(ht=At,At=Mt,Mt=ht,ht=bt,bt=Tt,Tt=ht),c(Mt,bt)?c(bt,Tt)?((ht=d(At,Mt,bt))+(It=d(Mt,bt,Tt))<0&&(ht=-ht,It=-It),ut.b=m(ht,Mt.b,It,bt.b)):((ht=g(At,Mt,bt))+(It=-g(At,Tt,bt))<0&&(ht=-ht,It=-It),ut.b=m(ht,Mt.b,It,Tt.b)):ut.b=(Mt.b+bt.b)/2,y(At,bt)||(ht=At,At=bt,bt=ht),y(Mt,Tt)||(ht=Mt,Mt=Tt,Tt=ht),y(At,Mt)||(ht=At,At=Mt,Mt=ht,ht=bt,bt=Tt,Tt=ht),y(Mt,bt)?y(bt,Tt)?((ht=h(At,Mt,bt))+(It=h(Mt,bt,Tt))<0&&(ht=-ht,It=-It),ut.a=m(ht,Mt.a,It,bt.a)):((ht=p(At,Mt,bt))+(It=-p(At,Tt,bt))<0&&(ht=-ht,It=-It),ut.a=m(ht,Mt.a,It,Tt.a)):ut.a=(Mt.a+bt.a)/2,c(ut,oe.a)&&(ut.b=oe.a.b,ut.a=oe.a.a),At=c(Re,Ve)?Re:Ve,c(At,ut)&&(ut.b=At.b,ut.a=At.a),u(ut,Re)||u(ut,Ve))return q(oe,ce),0;if(!u(at,oe.a)&&0<=g(at,oe.a,ut)||!u(lt,oe.a)&&g(lt,oe.a,ut)<=0){if(lt===oe.a)b(de.b),_(Ce.b,de),de=Je(ce=H(ce)).a,Y(oe,Je(ce),re),te(oe,ce,de.b.e,de,de,!0);else{if(at!==oe.a)return 0<=g(at,oe.a,ut)&&(Pe(ce).b=ce.b=!0,b(de.b),de.a.b=oe.a.b,de.a.a=oe.a.a),void(g(lt,oe.a,ut)<=0&&(ce.b=re.b=!0,b(Ce.b),Ce.a.b=oe.a.b,Ce.a.a=oe.a.a));for(b(Ce.b),_(de.e,Ce.b.e),Ve=(Re=re=ce).a.b.a;(Re=Pe(Re)).a.b.a===Ve;);Re=Je(ce=Re).a.b.c,re.a=Ce.b.e,te(oe,ce,(Ce=Y(oe,re,null)).c,de.b.c,Re,!0)}return 1}b(de.b),b(Ce.b),_(Ce.b.e,de),de.a.b=ut.b,de.a.a=ut.a,de.a.h=ke(oe.e,de.a),de=de.a,Ce=[0,0,0,0],ut=[Re.d,at.d,Ve.d,lt.d],de.g[0]=de.g[1]=de.g[2]=0,U(de,Re,at,Ce,0),U(de,Ve,lt,Ce,2),ue(oe,de,ut,Ce,!0),Pe(ce).b=ce.b=re.b=!0}}function ae(oe,ce){for(var re=Je(ce);;){for(;re.b;)re=Je(ce=re);if(!ce.b&&((ce=Pe(re=ce))===null||!ce.b))break;ce.b=!1;var de=ce.a,Ce=re.a;if(Re=de.b.a!==Ce.b.a)e:{var Re,Ve=Je(Re=ce),at=Re.a,lt=Ve.a,ut=void 0;if(c(at.b.a,lt.b.a)){if(g(at.b.a,lt.b.a,at.a)<0){Re=!1;break e}Pe(Re).b=Re.b=!0,ut=b(at),_(lt.b,ut),ut.d.c=Re.d}else{if(0<g(lt.b.a,at.b.a,lt.a)){Re=!1;break e}Re.b=Ve.b=!0,ut=b(lt),_(at.e,lt.b),ut.b.d.c=Re.d}Re=!0}if(Re&&(re.c?(X(re),x(Ce),Ce=(re=Je(ce)).a):ce.c&&(X(ce),x(de),de=(ce=Pe(re)).a)),de.a!==Ce.a){if(de.b.a===Ce.b.a||ce.c||re.c||de.b.a!==oe.a&&Ce.b.a!==oe.a)q(oe,ce);else if(Q(oe,ce))break}de.a===Ce.a&&de.b.a===Ce.b.a&&(G(Ce,de),X(ce),x(de),ce=Pe(re))}}function ie(oe,ce){var re=new Me,de=v(oe.b);de.a.b=4e150,de.a.a=ce,de.b.a.b=-4e150,de.b.a.a=ce,oe.a=de.b.a,re.a=de,re.f=0,re.d=!1,re.c=!1,re.h=!0,re.b=!1,de=ge(de=oe.f,de.a,re),re.e=de}function he(oe){this.a=new fe,this.b=oe,this.c=P}function ge(oe,ce,re){for(;(ce=ce.c).b!==null&&!oe.c(oe.b,ce.b,re););return oe=new fe(re,ce.a,ce),ce.a.c=oe,ce.a=oe}function fe(oe,ce,re){this.b=oe||null,this.a=ce||this,this.c=re||this}function ve(){this.d=0,this.p=this.b=this.q=null,this.j=[0,0,0],this.s=100130,this.n=!1,this.o=this.a=this.e=this.f=null,this.m=!1,this.c=this.r=this.i=this.k=this.l=this.h=null}function xe(oe,ce){if(oe.d!==ce)for(;oe.d!==ce;)if(oe.d<ce)switch(oe.d){case 0:se(oe,100151),oe.u(null);break;case 1:se(oe,100152),oe.t()}else switch(oe.d){case 2:se(oe,100154),oe.v();break;case 1:se(oe,100153),oe.w()}}function se(oe,ce){oe.p&&oe.p(ce,oe.c)}function be(oe,ce){this.b=oe||this,this.d=ce||this,this.a=null,this.c=!1}function Ae(){(this.h=this).i=this.d=this.a=this.e=this.c=this.b=null,this.f=0}function De(){this.c=new je,this.a=new be,this.b=new Ae,this.d=new Ae,this.b.b=this.d,this.d.b=this.b}function je(oe,ce){this.e=oe||this,this.f=ce||this,this.d=this.c=null,this.g=[0,0,0],this.h=this.a=this.b=0}function Oe(){this.c=[],this.d=null,this.a=0,this.e=!1,this.b=new Fe}function ke(oe,ce){var re,de,Ce;return oe.e?(2*(de=++(re=oe.b).a)>re.f&&(re.f*=2,re.c=vt(re.c,re.f+1)),re.b===0?Ce=de:(Ce=re.b,re.b=re.c[re.b]),re.e[Ce]=ce,re.c[Ce]=de,re.d[de]=Ce,re.h&&dt(re,de),Ce):(re=oe.a++,oe.c[re]=ce,-(re+1))}function tt(oe){if(oe.a===0)return ct(oe.b);var ce=oe.c[oe.d[oe.a-1]];if(oe.b.a!==0&&c(st(oe.b),ce))return ct(oe.b);for(;--oe.a,0<oe.a&&oe.c[oe.d[oe.a-1]]===null;);return ce}function Fe(){this.d=vt([0],33),this.e=[null,null],this.c=[0,0],this.a=0,this.f=32,this.b=0,this.h=!1,this.d[1]=1}function vt(oe,ce){for(var re=Array(ce),de=0;de<oe.length;de++)re[de]=oe[de];for(;de<ce;de++)re[de]=0;return re}function st(oe){return oe.e[oe.d[1]]}function ct(oe){var ce=oe.d,re=oe.e,de=oe.c,Ce=ce[1],Re=re[Ce];return 0<oe.a&&(ce[1]=ce[oe.a],de[ce[1]]=1,re[Ce]=null,de[Ce]=oe.b,oe.b=Ce,0<--oe.a&&yt(oe,1)),Re}function yt(oe,ce){for(var re=oe.d,de=oe.e,Ce=oe.c,Re=ce,Ve=re[Re];;){var at=Re<<1,lt=(at<oe.a&&c(de[re[at+1]],de[re[at]])&&(at+=1),re[at]);if(at>oe.a||c(de[Ve],de[lt])){Ce[re[Re]=Ve]=Re;break}Ce[re[Re]=lt]=Re,Re=at}}function dt(oe,ce){for(var re=oe.d,de=oe.e,Ce=oe.c,Re=ce,Ve=re[Re];;){var at=Re>>1,lt=re[at];if(at==0||c(de[lt],de[Ve])){Ce[re[Re]=Ve]=Re;break}Ce[re[Re]=lt]=Re,Re=at}}function Me(){this.e=this.a=null,this.f=0,this.c=this.b=this.h=this.d=!1}function Je(oe){return oe.e.c.b}function Pe(oe){return oe.e.a.b}(o=ve.prototype).x=function(){xe(this,0)},o.B=function(oe,ce){switch(oe){case 100142:return;case 100140:switch(ce){case 100130:case 100131:case 100132:case 100133:case 100134:return void(this.s=ce)}break;case 100141:return void(this.m=!!ce);default:return void se(this,100900)}se(this,100901)},o.y=function(oe){switch(oe){case 100142:return 0;case 100140:return this.s;case 100141:return this.m;default:se(this,100900)}return!1},o.A=function(oe,ce,re){this.j[0]=oe,this.j[1]=ce,this.j[2]=re},o.z=function(oe,ce){var re=ce||null;switch(oe){case 100100:case 100106:this.h=re;break;case 100104:case 100110:this.l=re;break;case 100101:case 100107:this.k=re;break;case 100102:case 100108:this.i=re;break;case 100103:case 100109:this.p=re;break;case 100105:case 100111:this.o=re;break;case 100112:this.r=re;break;default:se(this,100900)}},o.C=function(oe,ce){var re=!1,de=[0,0,0];xe(this,2);for(var Ce=0;Ce<3;++Ce){var Re=oe[Ce];Re<-1e150&&(Re=-1e150,re=!0),1e150<Re&&(Re=1e150,re=!0),de[Ce]=Re}re&&se(this,100155),(re=this.q)===null?_(re=v(this.b),re.b):(b(re),re=re.e),re.a.d=ce,re.a.g[0]=de[0],re.a.g[1]=de[1],re.a.g[2]=de[2],re.f=1,re.b.f=-1,this.q=re},o.u=function(oe){xe(this,0),this.d=1,this.b=new De,this.c=oe},o.t=function(){xe(this,1),this.d=2,this.q=null},o.v=function(){xe(this,2),this.d=1},o.w=function(){xe(this,1),this.d=0;var oe,ce,re=this.j[0],de=this.j[1],Ce=this.j[2],Re=!1,Ve=[re,de,Ce];if(re===0&&de===0&&Ce===0){for(var de=[-2e150,-2e150,-2e150],at=[2e150,2e150,2e150],Ce=[],lt=[],re=(Re=this.b.c).e;re!==Re;re=re.e)for(var ut=0;ut<3;++ut){var ht=re.g[ut];ht<at[ut]&&(at[ut]=ht,lt[ut]=re),ht>de[ut]&&(de[ut]=ht,Ce[ut]=re)}if(de[1]-at[1]>de[re=0]-at[0]&&(re=1),at[re=de[2]-at[2]>de[re]-at[re]?2:re]>=de[re])Ve[0]=0,Ve[1]=0,Ve[2]=1;else{for(at=lt[re],Ce=Ce[re],lt=[de=0,0,0],at=[at.g[0]-Ce.g[0],at.g[1]-Ce.g[1],at.g[2]-Ce.g[2]],ut=[0,0,0],re=Re.e;re!==Re;re=re.e)ut[0]=re.g[0]-Ce.g[0],ut[1]=re.g[1]-Ce.g[1],ut[2]=re.g[2]-Ce.g[2],lt[0]=at[1]*ut[2]-at[2]*ut[1],lt[1]=at[2]*ut[0]-at[0]*ut[2],lt[2]=at[0]*ut[1]-at[1]*ut[0],de<(ht=lt[0]*lt[0]+lt[1]*lt[1]+lt[2]*lt[2])&&(de=ht,Ve[0]=lt[0],Ve[1]=lt[1],Ve[2]=lt[2]);de<=0&&(Ve[0]=Ve[1]=Ve[2]=0,Ve[I(at)]=1)}Re=!0}for(lt=I(Ve),re=this.b.c,de=(lt+1)%3,Ce=(lt+2)%3,lt=0<Ve[lt]?1:-1,Ve=re.e;Ve!==re;Ve=Ve.e)Ve.b=Ve.g[de],Ve.a=lt*Ve.g[Ce];if(Re){for(Ve=0,re=(Re=this.b.a).b;re!==Re;re=re.b)if(!((de=re.a).f<=0))for(;Ve+=(de.a.b-de.b.a.b)*(de.a.a+de.b.a.a),(de=de.e)!==re.a;);if(Ve<0)for(Re=(Ve=this.b.c).e;Re!==Ve;Re=Re.e)Re.a=-Re.a}for(this.n=!1,Ve=this.b.b,re=Ve.h;re!==Ve;re=Re)Re=re.h,de=re.e,u(re.a,re.b.a)&&re.e.e!==re&&(O(this,de,re),x(re),de=(re=de).e),de.e===re&&(de!==re&&(de!==Re&&de!==Re.b||(Re=Re.h),x(de)),re!==Re&&re!==Re.b||(Re=Re.h),x(re));for(this.e=Ve=new Oe,Re=this.b.c,re=Re.e;re!==Re;re=re.e)re.h=ke(Ve,re);var It=Ve;It.d=[];for(var At=0;At<It.a;At++)It.d[At]=At;It.d.sort(function(Tt){return function(fr,Jr){return c(Tt[fr],Tt[Jr])?1:-1}}(It.c)),It.e=!0;for(var bt=It.b,Mt=bt.a;1<=Mt;--Mt)yt(bt,Mt);for(bt.h=!0,this.f=new he(this),ie(this,-4e150),ie(this,4e150);(Ve=tt(this.e))!==null;){for(;;){e:if((re=this.e).a===0)Re=st(re.b);else if(Re=re.c[re.d[re.a-1]],re.b.a!==0&&c(re=st(re.b),Re)){Re=re;break e}if(Re===null||!u(Re,Ve))break;Re=tt(this.e),O(this,Ve.c,Re.c)}(function Tt(fr,Jr){for(var Dr,qt=(fr.a=Jr).c;qt.i===null;)if((qt=qt.c)===Jr.c){var qt=fr,wr=Jr;(nr=new Me).a=wr.c.b;for(var $r=(Yt=qt.f).a;($r=$r.a).b!==null&&!Yt.c(Yt.b,nr,$r.b););var Yt,Wr,Vr=Je(Yt=$r.b),nr=Yt.a,$r=Vr.a;return void(g(nr.b.a,wr,nr.a)===0?u((nr=Yt.a).a,wr)||u(nr.b.a,wr)||(b(nr.b),Yt.c&&(x(nr.c),Yt.c=!1),_(wr.c,nr),Tt(qt,wr)):(Wr=c($r.b.a,nr.b.a)?Yt:Vr,Vr=void 0,Yt.d||Wr.c?(Vr=Wr===Yt?E(wr.c.b,nr.e):E($r.b.c.b,wr.c).b,Wr.c?V(Wr,Vr):((Yt=J(nr=qt,Yt,Vr)).f=Pe(Yt).f+Yt.a.f,Yt.d=Z(nr,Yt.f)),Tt(qt,wr)):te(qt,Yt,wr.c,wr.c,null,!0)))}Yt=(nr=Je(qt=H(qt.i))).a,(nr=Y(fr,nr,null)).c===Yt?(nr=(Yt=nr).c,$r=Je(qt),Vr=qt.a,Wr=$r.a,Dr=!1,Vr.b.a!==Wr.b.a&&Q(fr,qt),u(Vr.a,fr.a)&&(_(nr.b.e,Vr),nr=Je(qt=H(qt)).a,Y(fr,Je(qt),$r),Dr=!0),u(Wr.a,fr.a)&&(_(Yt,Wr.b.e),Yt=Y(fr,$r,null),Dr=!0),Dr?te(fr,qt,Yt.c,nr,nr,!0):(wr=c(Wr.a,Vr.a)?Wr.b.e:Vr,te(fr,qt,wr=E(Yt.c.b,wr),wr.c,wr.c,!1),wr.b.i.c=!0,ae(fr,qt))):te(fr,qt,nr.c,Yt,Yt,!0)})(this,Ve)}for(this.a=this.f.a.a.b.a.a,Ve=0;(Re=this.f.a.a.b)!==null;)Re.h||++Ve,X(Re);for(this.f=null,(Ve=this.e).b=null,Ve.d=null,this.e=Ve.c=null,Ve=this.b,re=Ve.a.b;re!==Ve.a;re=Re)Re=re.b,(re=re.a).e.e===re&&(G(re.c,re),x(re));if(!this.n){if(Ve=this.b,this.m)for(re=Ve.b.h;re!==Ve.b;re=Re)Re=re.h,re.b.d.c!==re.d.c?re.f=re.d.c?1:-1:x(re);else for(re=Ve.a.b;re!==Ve.a;re=Re)if(Re=re.b,re.c){for(re=re.a;c(re.b.a,re.a);re=re.c.b);for(;c(re.a,re.b.a);re=re.e);for(de=re.c.b,Ce=void 0;re.e!==de;)if(c(re.b.a,de.a)){for(;de.e!==re&&(c((ce=de.e).b.a,ce.a)||g(de.a,de.b.a,de.e.b.a)<=0);)de=(Ce=E(de.e,de)).b;de=de.c.b}else{for(;de.e!==re&&(c((oe=re.c.b).a,oe.b.a)||0<=g(re.b.a,re.a,re.c.b.a));)re=(Ce=E(re,re.c.b)).b;re=re.e}for(;de.e.e!==re;)Ce=E(de.e,de),de=Ce.b}if(this.h||this.i||this.k||this.l)if(this.m){for(Re=(Ve=this.b).a.b;Re!==Ve.a;Re=Re.b)if(Re.c){for(this.h&&this.h(2,this.c),re=Re.a;this.k&&this.k(re.a.d,this.c),(re=re.e)!==Re.a;);this.i&&this.i(this.c)}}else{for(Ve=this.b,Re=!!this.l,re=!1,de=-1,Ce=Ve.a.d;Ce!==Ve.a;Ce=Ce.d)if(Ce.c)for(re||(this.h&&this.h(4,this.c),re=!0),lt=Ce.a;Re&&(at=lt.b.d.c?0:1,de!==at&&(de=at,this.l&&this.l(!!de,this.c))),this.k&&this.k(lt.a.d,this.c),(lt=lt.e)!==Ce.a;);re&&this.i&&this.i(this.c)}if(this.r){for(Ve=this.b,re=Ve.a.b;re!==Ve.a;re=Re)if(Re=re.b,!re.c){for(Ce=(de=re.a).e,lt=void 0;Ce=(lt=Ce).e,(lt.d=null)===lt.b.d&&(lt.c===lt?L(lt.a,null):(lt.a.c=lt.c,C(lt,lt.b.e)),(at=lt.b).c===at?L(at.a,null):(at.a.c=at.c,C(at,at.b.e)),R(lt)),lt!==de;);de=re.d,((re=re.b).d=de).b=re}return this.r(this.b),void(this.c=this.b=null)}}this.b=this.c=null},this.libtess={GluTesselator:ve,windingRule:{GLU_TESS_WINDING_ODD:100130,GLU_TESS_WINDING_NONZERO:100131,GLU_TESS_WINDING_POSITIVE:100132,GLU_TESS_WINDING_NEGATIVE:100133,GLU_TESS_WINDING_ABS_GEQ_TWO:100134},primitiveType:{GL_LINE_LOOP:2,GL_TRIANGLES:4,GL_TRIANGLE_STRIP:5,GL_TRIANGLE_FAN:6},errorType:{GLU_TESS_MISSING_BEGIN_POLYGON:100151,GLU_TESS_MISSING_END_POLYGON:100153,GLU_TESS_MISSING_BEGIN_CONTOUR:100152,GLU_TESS_MISSING_END_CONTOUR:100154,GLU_TESS_COORD_TOO_LARGE:100155,GLU_TESS_NEED_COMBINE_CALLBACK:100156},gluEnum:{GLU_TESS_MESH:100112,GLU_TESS_TOLERANCE:100142,GLU_TESS_WINDING_RULE:100140,GLU_TESS_BOUNDARY_ONLY:100141,GLU_INVALID_ENUM:100900,GLU_INVALID_VALUE:100901,GLU_TESS_BEGIN:100100,GLU_TESS_VERTEX:100101,GLU_TESS_END:100102,GLU_TESS_ERROR:100103,GLU_TESS_EDGE_FLAG:100104,GLU_TESS_COMBINE:100105,GLU_TESS_BEGIN_DATA:100106,GLU_TESS_VERTEX_DATA:100107,GLU_TESS_END_DATA:100108,GLU_TESS_ERROR_DATA:100109,GLU_TESS_EDGE_FLAG_DATA:100110,GLU_TESS_COMBINE_DATA:100111}},ve.prototype.gluDeleteTess=ve.prototype.x,ve.prototype.gluTessProperty=ve.prototype.B,ve.prototype.gluGetTessProperty=ve.prototype.y,ve.prototype.gluTessNormal=ve.prototype.A,ve.prototype.gluTessCallback=ve.prototype.z,ve.prototype.gluTessVertex=ve.prototype.C,ve.prototype.gluTessBeginPolygon=ve.prototype.u,ve.prototype.gluTessBeginContour=ve.prototype.t,ve.prototype.gluTessEndContour=ve.prototype.v,ve.prototype.gluTessEndPolygon=ve.prototype.w,l!==void 0&&(l.exports=this.libtess)},{}],256:[function(t,l,s){function o(c,d,g,y){var h=0,p=(y=y===void 0?{}:y).loop===void 0?null:y.loop,m=y.palette===void 0?null:y.palette;if(d<=0||g<=0||65535<d||65535<g)throw new Error("Width/Height invalid.");function v(M){if(M=M.length,M<2||256<M||M&M-1)throw new Error("Invalid code/color length, must be power of 2 and 2 .. 256.");return M}c[h++]=71,c[h++]=73,c[h++]=70,c[h++]=56,c[h++]=57,c[h++]=97;var _=0,x=0;if(m!==null){for(var b=v(m);b>>=1;)++_;if(b=1<<_,--_,y.background!==void 0){if(b<=(x=y.background))throw new Error("Background index out of range.");if(x===0)throw new Error("Background index explicitly passed as 0.")}}if(c[h++]=255&d,c[h++]=d>>8&255,c[h++]=255&g,c[h++]=g>>8&255,c[h++]=(m!==null?128:0)|_,c[h++]=x,c[h++]=0,m!==null)for(var E=0,S=m.length;E<S;++E){var C=m[E];c[h++]=C>>16&255,c[h++]=C>>8&255,c[h++]=255&C}if(p!==null){if(p<0||65535<p)throw new Error("Loop count invalid.");c[h++]=33,c[h++]=255,c[h++]=11,c[h++]=78,c[h++]=69,c[h++]=84,c[h++]=83,c[h++]=67,c[h++]=65,c[h++]=80,c[h++]=69,c[h++]=50,c[h++]=46,c[h++]=48,c[h++]=3,c[h++]=1,c[h++]=255&p,c[h++]=p>>8&255,c[h++]=0}var D=!1;this.addFrame=function(M,R,L,F,I,G){if(D===!0&&(--h,D=!1),G=G===void 0?{}:G,M<0||R<0||65535<M||65535<R)throw new Error("x/y invalid.");if(L<=0||F<=0||65535<L||65535<F)throw new Error("Width/Height invalid.");if(I.length<L*F)throw new Error("Not enough pixels for the frame size.");var P=!0,X=G.palette;if(X==null&&(P=!1,X=m),X==null)throw new Error("Must supply either a local or global palette.");for(var H=v(X),V=0;H>>=1;)++V;var H=1<<V,J=G.delay===void 0?0:G.delay,Z=G.disposal===void 0?0:G.disposal;if(Z<0||3<Z)throw new Error("Disposal out of range.");var K=!1,Y=0;if(G.transparent!==void 0&&G.transparent!==null&&(K=!0,(Y=G.transparent)<0||H<=Y))throw new Error("Transparent color index.");if(Z===0&&!K&&J===0||(c[h++]=33,c[h++]=249,c[h++]=4,c[h++]=Z<<2|(K===!0?1:0),c[h++]=255&J,c[h++]=J>>8&255,c[h++]=Y,c[h++]=0),c[h++]=44,c[h++]=255&M,c[h++]=M>>8&255,c[h++]=255&R,c[h++]=R>>8&255,c[h++]=255&L,c[h++]=L>>8&255,c[h++]=255&F,c[h++]=F>>8&255,c[h++]=P===!0?128|V-1:0,P===!0)for(var te=0,ue=X.length;te<ue;++te){var O=X[te];c[h++]=O>>16&255,c[h++]=O>>8&255,c[h++]=255&O}return h=function(U,q,Q,ae){U[q++]=Q;var ie=q++,he=1<<Q,ge=he-1,fe=1+he,ve=1+fe,xe=Q+1,se=0,be=0;function Ae(ct){for(;ct<=se;)U[q++]=255&be,be>>=8,se-=8,q===ie+256&&(U[ie]=255,ie=q++)}function De(ct){be|=ct<<se,se+=xe,Ae(8)}var je=ae[0]&ge,Oe={};De(he);for(var ke=1,tt=ae.length;ke<tt;++ke){var Fe=ae[ke]&ge,vt=je<<8|Fe,st=Oe[vt];if(st===void 0){for(be|=je<<se,se+=xe;8<=se;)U[q++]=255&be,be>>=8,se-=8,q===ie+256&&(U[ie]=255,ie=q++);ve===4096?(De(he),ve=1+fe,xe=Q+1,Oe={}):(1<<xe<=ve&&++xe,Oe[vt]=ve++),je=Fe}else je=st}return De(je),De(fe),Ae(1),ie+1===q?U[ie]=0:(U[ie]=q-ie-1,U[q++]=0),q}(c,h,V<2?2:V,I)},this.end=function(){return D===!1&&(c[h++]=59,D=!0),h},this.getOutputBuffer=function(){return c},this.setOutputBuffer=function(M){c=M},this.getOutputBufferPosition=function(){return h},this.setOutputBufferPosition=function(M){h=M}}function u(c,d,g,y){for(var h=c[d++],p=1<<h,m=1+p,v=1+m,_=h+1,x=(1<<_)-1,b=0,E=0,S=0,C=c[d++],D=new Int32Array(4096),M=null;;){for(;b<16&&C!==0;)E|=c[d++]<<b,b+=8,C===1?C=c[d++]:--C;if(b<_)break;var R=E&x;if(E>>=_,b-=_,R==p)v=1+m,x=(1<<(_=h+1))-1,M=null;else{if(R==m)break;for(var L=R<v?R:M,F=0,I=L;p<I;)I=D[I]>>8,++F;var G=I;if(y<S+F+(L!==R?1:0))return void console.log("Warning, gif stream longer than expected.");g[S++]=G;var P=S+=F;for(L!==R&&(g[S++]=G),I=L;F--;)I=D[I],g[--P]=255&I,I>>=8;M!==null&&v<4096&&(D[v++]=M<<8|G,x+1<=v&&_<12&&(++_,x=x<<1|1)),M=R}}S!==y&&console.log("Warning, gif stream shorter than expected.")}try{s.GifWriter=o,s.GifReader=function(c){var d=0;if(c[d++]!==71||c[d++]!==73||c[d++]!==70||c[d++]!==56||(c[d++]+1&253)!=56||c[d++]!==97)throw new Error("Invalid GIF 87a/89a header.");var g=c[d++]|c[d++]<<8,y=c[d++]|c[d++]<<8,h=c[d++],p=1<<1+(7&h),m=(c[d++],c[d++],null),v=null,_=(h>>7&&(m=d,d+=3*(v=p)),!0),x=[],b=0,E=null,S=0,C=null;for(this.width=g,this.height=y;_&&d<c.length;)switch(c[d++]){case 33:switch(c[d++]){case 255:if(c[d]!==11||c[d+1]==78&&c[d+2]==69&&c[d+3]==84&&c[d+4]==83&&c[d+5]==67&&c[d+6]==65&&c[d+7]==80&&c[d+8]==69&&c[d+9]==50&&c[d+10]==46&&c[d+11]==48&&c[d+12]==3&&c[d+13]==1&&c[d+16]==0)d+=14,C=c[d++]|c[d++]<<8,d++;else for(d+=12;;){if(!(0<=(M=c[d++])))throw Error("Invalid block size");if(M===0)break;d+=M}break;case 249:if(c[d++]!==4||c[d+4]!==0)throw new Error("Invalid graphics extension block.");var D=c[d++],b=c[d++]|c[d++]<<8,E=c[d++];!(1&D)&&(E=null),S=D>>2&7,d++;break;case 254:for(;;){if(!(0<=(M=c[d++])))throw Error("Invalid block size");if(M===0)break;d+=M}break;default:throw new Error("Unknown graphic control label: 0x"+c[d-1].toString(16))}break;case 44:var M,R=c[d++]|c[d++]<<8,L=c[d++]|c[d++]<<8,F=c[d++]|c[d++]<<8,I=c[d++]|c[d++]<<8,J=c[d++],G=J>>6&1,P=1<<1+(7&J),X=m,V=v,H=!1,J=(J>>7&&(H=!0,X=d,d+=3*(V=P)),d);for(d++;;){if(!(0<=(M=c[d++])))throw Error("Invalid block size");if(M===0)break;d+=M}x.push({x:R,y:L,width:F,height:I,has_local_palette:H,palette_offset:X,palette_size:V,data_offset:J,data_length:d-J,transparent_index:E,interlaced:!!G,delay:b,disposal:S});break;case 59:_=!1;break;default:throw new Error("Unknown gif block: 0x"+c[d-1].toString(16))}this.numFrames=function(){return x.length},this.loopCount=function(){return C},this.frameInfo=function(Z){if(Z<0||Z>=x.length)throw new Error("Frame index out of range.");return x[Z]},this.decodeAndBlitFrameBGRA=function(Z,K){for(var Z=this.frameInfo(Z),Y=Z.width*Z.height,te=new Uint8Array(Y),ue=(u(c,Z.data_offset,te,Y),Z.palette_offset),O=Z.transparent_index,U=(O===null&&(O=256),Z.width),q=g-U,Q=U,ae=4*(Z.y*g+Z.x),ie=4*((Z.y+Z.height)*g+Z.x),he=ae,ge=4*q,fe=(Z.interlaced===!0&&(ge+=4*g*7),8),ve=0,xe=te.length;ve<xe;++ve){var se,be,Ae=te[ve];Q===0&&(Q=U,ie<=(he+=ge)&&(ge=4*q+4*g*(fe-1),he=ae+(U+q)*(fe<<1),fe>>=1)),Ae===O?he+=4:(se=c[ue+3*Ae],be=c[ue+3*Ae+1],Ae=c[ue+3*Ae+2],K[he++]=Ae,K[he++]=be,K[he++]=se,K[he++]=255),--Q}},this.decodeAndBlitFrameRGBA=function(Z,K){for(var Z=this.frameInfo(Z),Y=Z.width*Z.height,te=new Uint8Array(Y),ue=(u(c,Z.data_offset,te,Y),Z.palette_offset),O=Z.transparent_index,U=(O===null&&(O=256),Z.width),q=g-U,Q=U,ae=4*(Z.y*g+Z.x),ie=4*((Z.y+Z.height)*g+Z.x),he=ae,ge=4*q,fe=(Z.interlaced===!0&&(ge+=4*g*7),8),ve=0,xe=te.length;ve<xe;++ve){var se,be,Ae=te[ve];Q===0&&(Q=U,ie<=(he+=ge)&&(ge=4*q+4*g*(fe-1),he=ae+(U+q)*(fe<<1),fe>>=1)),Ae===O?he+=4:(se=c[ue+3*Ae],be=c[ue+3*Ae+1],Ae=c[ue+3*Ae+2],K[he++]=se,K[he++]=be,K[he++]=Ae,K[he++]=255),--Q}}}}catch{}},{}],257:[function(t,l,s){(function(o){var u,c;u=this,c=function(d){function g(W){if(this==null)throw TypeError();var T,N=String(this),B=N.length,W=W?Number(W):0;if(!((W=W!=W?0:W)<0||B<=W))return 55296<=(T=N.charCodeAt(W))&&T<=56319&&W+1<B&&56320<=(B=N.charCodeAt(W+1))&&B<=57343?1024*(T-55296)+B-56320+65536:T}String.prototype.codePointAt||((y=function(){try{var A={},T=Object.defineProperty,N=T(A,A,A)&&T}catch{}return N}())?y(String.prototype,"codePointAt",{value:g,configurable:!0,writable:!0}):String.prototype.codePointAt=g);var y,h=0,p=-3;function m(){this.table=new Uint16Array(16),this.trans=new Uint16Array(288)}function v(A,T){this.source=A,this.sourceIndex=0,this.tag=0,this.bitcount=0,this.dest=T,this.destLen=0,this.ltree=new m,this.dtree=new m}var _=new m,x=new m,b=new Uint8Array(30),E=new Uint16Array(30),S=new Uint8Array(30),C=new Uint16Array(30),D=new Uint8Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),M=new m,R=new Uint8Array(320);function L(A,T,N,B){for(var W,$=0;$<N;++$)A[$]=0;for($=0;$<30-N;++$)A[$+N]=$/N|0;for(W=B,$=0;$<30;++$)T[$]=W,W+=1<<A[$]}var F=new Uint16Array(16);function I(A,T,N,B){for(var W,$=0;$<16;++$)A.table[$]=0;for($=0;$<B;++$)A.table[T[N+$]]++;for($=W=A.table[0]=0;$<16;++$)F[$]=W,W+=A.table[$];for($=0;$<B;++$)T[N+$]&&(A.trans[F[T[N+$]]++]=$)}function G(A,T,N){if(!T)return N;for(;A.bitcount<24;)A.tag|=A.source[A.sourceIndex++]<<A.bitcount,A.bitcount+=8;var B=A.tag&65535>>>16-T;return A.tag>>>=T,A.bitcount-=T,B+N}function P(A,T){for(;A.bitcount<24;)A.tag|=A.source[A.sourceIndex++]<<A.bitcount,A.bitcount+=8;for(var N=0,B=0,W=0,$=A.tag;B=2*B+(1&$),$>>>=1,N+=T.table[++W],0<=(B-=T.table[W]););return A.tag=$,A.bitcount-=W,T.trans[N+B]}function X(A,T,N){for(;;){var B=P(A,T);if(B===256)return h;if(B<256)A.dest[A.destLen++]=B;else for(var W,$=G(A,b[B-=257],E[B]),B=P(A,N),ee=W=A.destLen-G(A,S[B],C[B]);ee<W+$;++ee)A.dest[A.destLen++]=A.dest[ee]}}for(var V=_,H=x,J=0;J<7;++J)V.table[J]=0;for(V.table[7]=24,V.table[8]=152,V.table[9]=112,J=0;J<24;++J)V.trans[J]=256+J;for(J=0;J<144;++J)V.trans[24+J]=J;for(J=0;J<8;++J)V.trans[168+J]=280+J;for(J=0;J<112;++J)V.trans[176+J]=144+J;for(J=0;J<5;++J)H.table[J]=0;for(H.table[5]=32,J=0;J<32;++J)H.trans[J]=J;L(b,E,4,3),L(S,C,2,1),b[28]=0,E[28]=258;var Z=function(A,T){var N,B,W,$=new v(A,T);do{switch(W=void 0,(B=$).bitcount--||(B.tag=B.source[B.sourceIndex++],B.bitcount=7),W=1&B.tag,B.tag>>>=1,B=W,G($,2,0)){case 0:N=function(Ge){for(var _t,kt;8<Ge.bitcount;)Ge.sourceIndex--,Ge.bitcount-=8;if((_t=256*Ge.source[Ge.sourceIndex+1]+Ge.source[Ge.sourceIndex])!==(65535&~(256*Ge.source[Ge.sourceIndex+3]+Ge.source[Ge.sourceIndex+2])))return p;for(Ge.sourceIndex+=4,kt=_t;kt;--kt)Ge.dest[Ge.destLen++]=Ge.source[Ge.sourceIndex++];return Ge.bitcount=0,h}($);break;case 1:N=X($,_,x);break;case 2:Ye=He=$e=Ue=ee=we=Ie=Be=Te=me=ye=le=void 0;for(var ee,le=$,ye=$.ltree,me=$.dtree,Te=G(le,5,257),Be=G(le,5,1),Ie=G(le,4,4),we=0;we<19;++we)R[we]=0;for(we=0;we<Ie;++we){var $e=G(le,3,0);R[D[we]]=$e}for(I(M,R,0,19),ee=0;ee<Te+Be;){var He=P(le,M);switch(He){case 16:for(var Ye=R[ee-1],Ue=G(le,2,3);Ue;--Ue)R[ee++]=Ye;break;case 17:for(Ue=G(le,3,3);Ue;--Ue)R[ee++]=0;break;case 18:for(Ue=G(le,7,11);Ue;--Ue)R[ee++]=0;break;default:R[ee++]=He}}I(ye,R,0,Te),I(me,R,Te,Be),N=X($,$.ltree,$.dtree);break;default:N=p}if(N!==h)throw new Error("Data error")}while(!B);return $.destLen<$.dest.length?typeof $.dest.slice=="function"?$.dest.slice(0,$.destLen):$.dest.subarray(0,$.destLen):$.dest};function K(A,T,N,B,W){return Math.pow(1-W,3)*A+3*Math.pow(1-W,2)*W*T+3*(1-W)*Math.pow(W,2)*N+Math.pow(W,3)*B}function Y(){this.x1=Number.NaN,this.y1=Number.NaN,this.x2=Number.NaN,this.y2=Number.NaN}function te(){this.commands=[],this.fill="black",this.stroke=null,this.strokeWidth=1}function ue(A){throw new Error(A)}function O(A,T){A||ue(T)}Y.prototype.isEmpty=function(){return isNaN(this.x1)||isNaN(this.y1)||isNaN(this.x2)||isNaN(this.y2)},Y.prototype.addPoint=function(A,T){typeof A=="number"&&((isNaN(this.x1)||isNaN(this.x2))&&(this.x1=A,this.x2=A),A<this.x1&&(this.x1=A),A>this.x2&&(this.x2=A)),typeof T=="number"&&((isNaN(this.y1)||isNaN(this.y2))&&(this.y1=T,this.y2=T),T<this.y1&&(this.y1=T),T>this.y2&&(this.y2=T))},Y.prototype.addX=function(A){this.addPoint(A,null)},Y.prototype.addY=function(A){this.addPoint(null,A)},Y.prototype.addBezier=function(A,T,N,B,W,$,ee,le){var ye=[A,T],me=[N,B],Te=[W,$],Be=[ee,le];this.addPoint(A,T),this.addPoint(ee,le);for(var Ie=0;Ie<=1;Ie++){var we,$e=6*ye[Ie]-12*me[Ie]+6*Te[Ie],He=-3*ye[Ie]+9*me[Ie]-9*Te[Ie]+3*Be[Ie],Ye=3*me[Ie]-3*ye[Ie];He==0?$e==0||0<(we=-Ye/$e)&&we<1&&(Ie===0&&this.addX(K(ye[Ie],me[Ie],Te[Ie],Be[Ie],we)),Ie===1&&this.addY(K(ye[Ie],me[Ie],Te[Ie],Be[Ie],we))):(we=Math.pow($e,2)-4*Ye*He)<0||(0<(Ye=(-$e+Math.sqrt(we))/(2*He))&&Ye<1&&(Ie===0&&this.addX(K(ye[Ie],me[Ie],Te[Ie],Be[Ie],Ye)),Ie===1&&this.addY(K(ye[Ie],me[Ie],Te[Ie],Be[Ie],Ye))),0<(Ye=(-$e-Math.sqrt(we))/(2*He))&&Ye<1&&(Ie===0&&this.addX(K(ye[Ie],me[Ie],Te[Ie],Be[Ie],Ye)),Ie===1&&this.addY(K(ye[Ie],me[Ie],Te[Ie],Be[Ie],Ye))))}},Y.prototype.addQuad=function(A,T,N,B,W,$){N=A+2/3*(N-A),B=T+2/3*(B-T),this.addBezier(A,T,N,B,N+1/3*(W-A),B+1/3*($-T),W,$)},te.prototype.moveTo=function(A,T){this.commands.push({type:"M",x:A,y:T})},te.prototype.lineTo=function(A,T){this.commands.push({type:"L",x:A,y:T})},te.prototype.curveTo=te.prototype.bezierCurveTo=function(A,T,N,B,W,$){this.commands.push({type:"C",x1:A,y1:T,x2:N,y2:B,x:W,y:$})},te.prototype.quadTo=te.prototype.quadraticCurveTo=function(A,T,N,B){this.commands.push({type:"Q",x1:A,y1:T,x:N,y:B})},te.prototype.close=te.prototype.closePath=function(){this.commands.push({type:"Z"})},te.prototype.extend=function(A){var T;if(A.commands)A=A.commands;else if(A instanceof Y)return T=A,this.moveTo(T.x1,T.y1),this.lineTo(T.x2,T.y1),this.lineTo(T.x2,T.y2),this.lineTo(T.x1,T.y2),void this.close();Array.prototype.push.apply(this.commands,A)},te.prototype.getBoundingBox=function(){for(var A=new Y,T=0,N=0,B=0,W=0,$=0;$<this.commands.length;$++){var ee=this.commands[$];switch(ee.type){case"M":A.addPoint(ee.x,ee.y),T=B=ee.x,N=W=ee.y;break;case"L":A.addPoint(ee.x,ee.y),B=ee.x,W=ee.y;break;case"Q":A.addQuad(B,W,ee.x1,ee.y1,ee.x,ee.y),B=ee.x,W=ee.y;break;case"C":A.addBezier(B,W,ee.x1,ee.y1,ee.x2,ee.y2,ee.x,ee.y),B=ee.x,W=ee.y;break;case"Z":B=T,W=N;break;default:throw new Error("Unexpected path command "+ee.type)}}return A.isEmpty()&&A.addPoint(0,0),A},te.prototype.draw=function(A){A.beginPath();for(var T=0;T<this.commands.length;T+=1){var N=this.commands[T];N.type==="M"?A.moveTo(N.x,N.y):N.type==="L"?A.lineTo(N.x,N.y):N.type==="C"?A.bezierCurveTo(N.x1,N.y1,N.x2,N.y2,N.x,N.y):N.type==="Q"?A.quadraticCurveTo(N.x1,N.y1,N.x,N.y):N.type==="Z"&&A.closePath()}this.fill&&(A.fillStyle=this.fill,A.fill()),this.stroke&&(A.strokeStyle=this.stroke,A.lineWidth=this.strokeWidth,A.stroke())},te.prototype.toPathData=function(A){function T(){for(var $=arguments,ee="",le=0;le<arguments.length;le+=1){var ye=$[le];0<=ye&&0<le&&(ee+=" "),ee+=(ye=ye,Math.round(ye)===ye?""+Math.round(ye):ye.toFixed(A))}return ee}A=A!==void 0?A:2;for(var N="",B=0;B<this.commands.length;B+=1){var W=this.commands[B];W.type==="M"?N+="M"+T(W.x,W.y):W.type==="L"?N+="L"+T(W.x,W.y):W.type==="C"?N+="C"+T(W.x1,W.y1,W.x2,W.y2,W.x,W.y):W.type==="Q"?N+="Q"+T(W.x1,W.y1,W.x,W.y):W.type==="Z"&&(N+="Z")}return N},te.prototype.toSVG=function(A){var T=(T='<path d="')+this.toPathData(A)+'"';return this.fill&&this.fill!=="black"&&(this.fill===null?T+=' fill="none"':T+=' fill="'+this.fill+'"'),this.stroke&&(T+=' stroke="'+this.stroke+'" stroke-width="'+this.strokeWidth+'"'),T+="/>"},te.prototype.toDOMElement=function(T){var T=this.toPathData(T),N=document.createElementNS("http://www.w3.org/2000/svg","path");return N.setAttribute("d",T),N};var U={fail:ue,argument:O,assert:O},q={},Q={},ae={};function ie(A){return function(){return A}}Q.BYTE=function(A){return U.argument(0<=A&&A<=255,"Byte value should be between 0 and 255."),[A]},ae.BYTE=ie(1),Q.CHAR=function(A){return[A.charCodeAt(0)]},ae.CHAR=ie(1),Q.CHARARRAY=function(A){for(var T=[],N=0;N<A.length;N+=1)T[N]=A.charCodeAt(N);return T},ae.CHARARRAY=function(A){return A.length},Q.USHORT=function(A){return[A>>8&255,255&A]},ae.USHORT=ie(2),Q.SHORT=function(A){return[(A=32768<=A?-(65536-A):A)>>8&255,255&A]},ae.SHORT=ie(2),Q.UINT24=function(A){return[A>>16&255,A>>8&255,255&A]},ae.UINT24=ie(3),Q.ULONG=function(A){return[A>>24&255,A>>16&255,A>>8&255,255&A]},ae.ULONG=ie(4),Q.LONG=function(A){return[(A=2147483648<=A?-(4294967296-A):A)>>24&255,A>>16&255,A>>8&255,255&A]},ae.LONG=ie(4),Q.FIXED=Q.ULONG,ae.FIXED=ae.ULONG,Q.FWORD=Q.SHORT,ae.FWORD=ae.SHORT,Q.UFWORD=Q.USHORT,ae.UFWORD=ae.USHORT,Q.LONGDATETIME=function(A){return[0,0,0,0,A>>24&255,A>>16&255,A>>8&255,255&A]},ae.LONGDATETIME=ie(8),Q.TAG=function(A){return U.argument(A.length===4,"Tag should be exactly 4 ASCII characters."),[A.charCodeAt(0),A.charCodeAt(1),A.charCodeAt(2),A.charCodeAt(3)]},ae.TAG=ie(4),Q.Card8=Q.BYTE,ae.Card8=ae.BYTE,Q.Card16=Q.USHORT,ae.Card16=ae.USHORT,Q.OffSize=Q.BYTE,ae.OffSize=ae.BYTE,Q.SID=Q.USHORT,ae.SID=ae.USHORT,Q.NUMBER=function(A){return-107<=A&&A<=107?[A+139]:108<=A&&A<=1131?[247+((A-=108)>>8),255&A]:-1131<=A&&A<=-108?[251+((A=-A-108)>>8),255&A]:-32768<=A&&A<=32767?Q.NUMBER16(A):Q.NUMBER32(A)},ae.NUMBER=function(A){return Q.NUMBER(A).length},Q.NUMBER16=function(A){return[28,A>>8&255,255&A]},ae.NUMBER16=ie(3),Q.NUMBER32=function(A){return[29,A>>24&255,A>>16&255,A>>8&255,255&A]},ae.NUMBER32=ie(5),Q.REAL=function(A){for(var T=A.toString(),N=/\.(\d*?)(?:9{5,20}|0{5,20})\d{0,2}(?:e(.+)|$)/.exec(T),B=(N&&(N=parseFloat("1e"+((N[2]?+N[2]:0)+N[1].length)),T=(Math.round(A*N)/N).toString()),""),W=0,$=T.length;W<$;W+=1){var ee=T[W];B+=ee==="e"?T[++W]==="-"?"c":"b":ee==="."?"a":ee==="-"?"e":ee}for(var le=[30],ye=0,me=(B+=1&B.length?"f":"ff").length;ye<me;ye+=2)le.push(parseInt(B.substr(ye,2),16));return le},ae.REAL=function(A){return Q.REAL(A).length},Q.NAME=Q.CHARARRAY,ae.NAME=ae.CHARARRAY,Q.STRING=Q.CHARARRAY,ae.STRING=ae.CHARARRAY,q.UTF8=function(A,T,N){for(var B=[],W=N,$=0;$<W;$++,T+=1)B[$]=A.getUint8(T);return String.fromCharCode.apply(null,B)},q.UTF16=function(A,T,N){for(var B=[],W=N/2,$=0;$<W;$++,T+=2)B[$]=A.getUint16(T);return String.fromCharCode.apply(null,B)},Q.UTF16=function(A){for(var T=[],N=0;N<A.length;N+=1){var B=A.charCodeAt(N);T[T.length]=B>>8&255,T[T.length]=255&B}return T},ae.UTF16=function(A){return 2*A.length};var he,ge={"x-mac-croatian":"","x-mac-cyrillic":"","x-mac-gaelic":"","x-mac-greek":"","x-mac-icelandic":"","x-mac-inuit":"","x-mac-ce":"",macintosh:"","x-mac-romanian":"","x-mac-turkish":""},fe=(q.MACSTRING=function(A,T,N,B){var W=ge[B];if(W!==void 0){for(var $="",ee=0;ee<N;ee++){var le=A.getUint8(T+ee);$+=le<=127?String.fromCharCode(le):W[127&le]}return $}},typeof WeakMap=="function"&&new WeakMap);function ve(A){return-128<=A&&A<=127}Q.MACSTRING=function(A,T){var N=function(ee){if(!he)for(var le in he={},ge)he[le]=new String(le);var ye=he[ee];if(ye!==void 0){if(fe){var me=fe.get(ye);if(me!==void 0)return me}var Te=ge[ee];if(Te!==void 0){for(var Be={},Ie=0;Ie<Te.length;Ie++)Be[Te.charCodeAt(Ie)]=Ie+128;return fe&&fe.set(ye,Be),Be}}}(T);if(N!==void 0){for(var B=[],W=0;W<A.length;W++){var $=A.charCodeAt(W);if(128<=$&&($=N[$])===void 0)return;B[W]=$}return B}},ae.MACSTRING=function(A,T){return A=Q.MACSTRING(A,T),A!==void 0?A.length:0},Q.VARDELTAS=function(A){for(var B=0,T=[];B<A.length;)var N=A[B],B=(N===0?function(W,$,ee){for(var le=0,ye=W.length;$<ye&&le<64&&W[$]===0;)++$,++le;return ee.push(128|le-1),$}:-128<=N&&N<=127?function(W,$,ee){for(var le=0,ye=W.length,me=$;me<ye&&le<64;){var Te=W[me];if(!ve(Te)||Te===0&&me+1<ye&&W[me+1]===0)break;++me,++le}ee.push(le-1);for(var Be=$;Be<me;++Be)ee.push(W[Be]+256&255);return me}:function(W,$,ee){for(var le=0,ye=W.length,me=$;me<ye&&le<64;){var Te=W[me];if(Te===0||ve(Te)&&me+1<ye&&ve(W[me+1]))break;++me,++le}ee.push(64|le-1);for(var Be=$;Be<me;++Be){var Ie=W[Be];ee.push(Ie+65536>>8&255,Ie+256&255)}return me})(A,B,T);return T},Q.INDEX=function(A){for(var T=1,N=[T],B=[],W=0;W<A.length;W+=1){var $=Q.OBJECT(A[W]);Array.prototype.push.apply(B,$),T+=$.length,N.push(T)}if(B.length===0)return[0,0];for(var ee=[],le=1+Math.floor(Math.log(T)/Math.log(2))/8|0,ye=[void 0,Q.BYTE,Q.USHORT,Q.UINT24,Q.ULONG][le],me=0;me<N.length;me+=1){var Te=ye(N[me]);Array.prototype.push.apply(ee,Te)}return Array.prototype.concat(Q.Card16(A.length),Q.OffSize(le),ee,B)},ae.INDEX=function(A){return Q.INDEX(A).length},Q.DICT=function(A){for(var T=[],N=Object.keys(A),B=N.length,W=0;W<B;W+=1){var $=parseInt(N[W],0),ee=A[$];T=(T=T.concat(Q.OPERAND(ee.value,ee.type))).concat(Q.OPERATOR($))}return T},ae.DICT=function(A){return Q.DICT(A).length},Q.OPERATOR=function(A){return A<1200?[A]:[12,A-1200]},Q.OPERAND=function(A,T){var N=[];if(Array.isArray(T))for(var B=0;B<T.length;B+=1)U.argument(A.length===T.length,"Not enough arguments given for type"+T),N=N.concat(Q.OPERAND(A[B],T[B]));else if(T==="SID")N=N.concat(Q.NUMBER(A));else if(T==="offset")N=N.concat(Q.NUMBER32(A));else if(T==="number")N=N.concat(Q.NUMBER(A));else{if(T!=="real")throw new Error("Unknown operand type "+T);N=N.concat(Q.REAL(A))}return N},Q.OP=Q.BYTE,ae.OP=ae.BYTE;var xe=typeof WeakMap=="function"&&new WeakMap;function se(A,T,N){for(var B=0;B<T.length;B+=1){var W=T[B];this[W.name]=W.value}if(this.tableName=A,this.fields=T,N)for(var $=Object.keys(N),ee=0;ee<$.length;ee+=1){var le=$[ee],ye=N[le];this[le]!==void 0&&(this[le]=ye)}}function be(A,T,N){N===void 0&&(N=T.length);var B=new Array(T.length+1);B[0]={name:A+"Count",type:"USHORT",value:N};for(var W=0;W<T.length;W++)B[W+1]={name:A+W,type:"USHORT",value:T[W]};return B}function Ae(A,T,N){var B=T.length,W=new Array(B+1);W[0]={name:A+"Count",type:"USHORT",value:B};for(var $=0;$<B;$++)W[$+1]={name:A+$,type:"TABLE",value:N(T[$],$)};return W}function De(A,T,N){var B=T.length,W=[];W[0]={name:A+"Count",type:"USHORT",value:B};for(var $=0;$<B;$++)W=W.concat(N(T[$],$));return W}function je(A){A.format===1?se.call(this,"coverageTable",[{name:"coverageFormat",type:"USHORT",value:1}].concat(be("glyph",A.glyphs))):U.assert(!1,"Can't create coverage table format 2 yet.")}function Oe(A){se.call(this,"scriptListTable",De("scriptRecord",A,function(T,N){var B=T.script,W=B.defaultLangSys;return U.assert(!!W,"Unable to write GSUB: script "+T.tag+" has no default language system."),[{name:"scriptTag"+N,type:"TAG",value:T.tag},{name:"script"+N,type:"TABLE",value:new se("scriptTable",[{name:"defaultLangSys",type:"TABLE",value:new se("defaultLangSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:W.reqFeatureIndex}].concat(be("featureIndex",W.featureIndexes)))}].concat(De("langSys",B.langSysRecords,function($,ee){var le=$.langSys;return[{name:"langSysTag"+ee,type:"TAG",value:$.tag},{name:"langSys"+ee,type:"TABLE",value:new se("langSys",[{name:"lookupOrder",type:"USHORT",value:0},{name:"reqFeatureIndex",type:"USHORT",value:le.reqFeatureIndex}].concat(be("featureIndex",le.featureIndexes)))}]})))}]}))}function ke(A){se.call(this,"featureListTable",De("featureRecord",A,function(T,N){var B=T.feature;return[{name:"featureTag"+N,type:"TAG",value:T.tag},{name:"feature"+N,type:"TABLE",value:new se("featureTable",[{name:"featureParams",type:"USHORT",value:B.featureParams}].concat(be("lookupListIndex",B.lookupListIndexes)))}]}))}function tt(A,T){se.call(this,"lookupListTable",Ae("lookup",A,function(N){var B=T[N.lookupType];return U.assert(!!B,"Unable to write GSUB lookup type "+N.lookupType+" tables."),new se("lookupTable",[{name:"lookupType",type:"USHORT",value:N.lookupType},{name:"lookupFlag",type:"USHORT",value:N.lookupFlag}].concat(Ae("subtable",N.subtables,B)))}))}Q.CHARSTRING=function(A){if(xe){var T=xe.get(A);if(T!==void 0)return T}for(var $=[],N=A.length,B=0;B<N;B+=1)var W=A[B],$=$.concat(Q[W.type](W.value));return xe&&xe.set(A,$),$},ae.CHARSTRING=function(A){return Q.CHARSTRING(A).length},Q.OBJECT=function(A){var T=Q[A.type];return U.argument(T!==void 0,"No encoding function for type "+A.type),T(A.value)},ae.OBJECT=function(A){var T=ae[A.type];return U.argument(T!==void 0,"No sizeOf function for type "+A.type),T(A.value)},Q.TABLE=function(A){for(var T=[],N=A.fields.length,B=[],W=[],$=0;$<N;$+=1){var ee=A.fields[$],ye=Q[ee.type],le=(U.argument(ye!==void 0,"No encoding function for field type "+ee.type+" ("+ee.name+")"),A[ee.name]),ye=ye(le=le===void 0?ee.value:le);ee.type==="TABLE"?(W.push(T.length),T=T.concat([0,0]),B.push(ye)):T=T.concat(ye)}for(var me=0;me<B.length;me+=1){var Te=W[me],Be=T.length;U.argument(Be<65536,"Table "+A.tableName+" too big."),T[Te]=Be>>8,T[Te+1]=255&Be,T=T.concat(B[me])}return T},ae.TABLE=function(A){for(var T=0,N=A.fields.length,B=0;B<N;B+=1){var W=A.fields[B],$=ae[W.type],ee=(U.argument($!==void 0,"No sizeOf function for field type "+W.type+" ("+W.name+")"),A[W.name]);T+=$(ee=ee===void 0?W.value:ee),W.type==="TABLE"&&(T+=2)}return T},Q.RECORD=Q.TABLE,ae.RECORD=ae.TABLE,Q.LITERAL=function(A){return A},ae.LITERAL=function(A){return A.length},se.prototype.encode=function(){return Q.TABLE(this)},se.prototype.sizeOf=function(){return ae.TABLE(this)};var Fe={Table:se,Record:se,Coverage:(je.prototype=Object.create(se.prototype)).constructor=je,ScriptList:(Oe.prototype=Object.create(se.prototype)).constructor=Oe,FeatureList:(ke.prototype=Object.create(se.prototype)).constructor=ke,LookupList:(tt.prototype=Object.create(se.prototype)).constructor=tt,ushortList:be,tableList:Ae,recordList:De};function vt(A,T){return A.getUint8(T)}function st(A,T){return A.getUint16(T,!1)}function ct(A,T){return A.getUint32(T,!1)}function yt(A,T){return A.getInt16(T,!1)+A.getUint16(T+2,!1)/65535}var dt={byte:1,uShort:2,short:2,uLong:4,fixed:4,longDateTime:8,tag:4};function Me(A,T){this.data=A,this.offset=T,this.relativeOffset=0}Me.prototype.parseByte=function(){var A=this.data.getUint8(this.offset+this.relativeOffset);return this.relativeOffset+=1,A},Me.prototype.parseChar=function(){var A=this.data.getInt8(this.offset+this.relativeOffset);return this.relativeOffset+=1,A},Me.prototype.parseCard8=Me.prototype.parseByte,Me.prototype.parseCard16=Me.prototype.parseUShort=function(){var A=this.data.getUint16(this.offset+this.relativeOffset);return this.relativeOffset+=2,A},Me.prototype.parseSID=Me.prototype.parseUShort,Me.prototype.parseOffset16=Me.prototype.parseUShort,Me.prototype.parseShort=function(){var A=this.data.getInt16(this.offset+this.relativeOffset);return this.relativeOffset+=2,A},Me.prototype.parseF2Dot14=function(){var A=this.data.getInt16(this.offset+this.relativeOffset)/16384;return this.relativeOffset+=2,A},Me.prototype.parseOffset32=Me.prototype.parseULong=function(){var A=ct(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,A},Me.prototype.parseFixed=function(){var A=yt(this.data,this.offset+this.relativeOffset);return this.relativeOffset+=4,A},Me.prototype.parseString=function(A){var T=this.data,N=this.offset+this.relativeOffset,B="";this.relativeOffset+=A;for(var W=0;W<A;W++)B+=String.fromCharCode(T.getUint8(N+W));return B},Me.prototype.parseTag=function(){return this.parseString(4)},Me.prototype.parseLongDateTime=function(){var A=ct(this.data,this.offset+this.relativeOffset+4);return A-=2082844800,this.relativeOffset+=8,A},Me.prototype.parseVersion=function(A){var T=st(this.data,this.offset+this.relativeOffset),N=st(this.data,this.offset+this.relativeOffset+2);return this.relativeOffset+=4,T+N/(A=A===void 0?4096:A)/10},Me.prototype.skip=function(A,T){this.relativeOffset+=dt[A]*(T=T===void 0?1:T)},Me.prototype.parseULongList=function(A){A===void 0&&(A=this.parseULong());for(var T=new Array(A),N=this.data,B=this.offset+this.relativeOffset,W=0;W<A;W++)T[W]=N.getUint32(B),B+=4;return this.relativeOffset+=4*A,T},Me.prototype.parseOffset16List=Me.prototype.parseUShortList=function(A){A===void 0&&(A=this.parseUShort());for(var T=new Array(A),N=this.data,B=this.offset+this.relativeOffset,W=0;W<A;W++)T[W]=N.getUint16(B),B+=2;return this.relativeOffset+=2*A,T},Me.prototype.parseShortList=function(A){for(var T=new Array(A),N=this.data,B=this.offset+this.relativeOffset,W=0;W<A;W++)T[W]=N.getInt16(B),B+=2;return this.relativeOffset+=2*A,T},Me.prototype.parseByteList=function(A){for(var T=new Array(A),N=this.data,B=this.offset+this.relativeOffset,W=0;W<A;W++)T[W]=N.getUint8(B++);return this.relativeOffset+=A,T},Me.prototype.parseList=function(A,T){T||(T=A,A=this.parseUShort());for(var N=new Array(A),B=0;B<A;B++)N[B]=T.call(this);return N},Me.prototype.parseList32=function(A,T){T||(T=A,A=this.parseULong());for(var N=new Array(A),B=0;B<A;B++)N[B]=T.call(this);return N},Me.prototype.parseRecordList=function(A,T){T||(T=A,A=this.parseUShort());for(var N=new Array(A),B=Object.keys(T),W=0;W<A;W++){for(var $={},ee=0;ee<B.length;ee++){var le=B[ee],ye=T[le];$[le]=ye.call(this)}N[W]=$}return N},Me.prototype.parseRecordList32=function(A,T){T||(T=A,A=this.parseULong());for(var N=new Array(A),B=Object.keys(T),W=0;W<A;W++){for(var $={},ee=0;ee<B.length;ee++){var le=B[ee],ye=T[le];$[le]=ye.call(this)}N[W]=$}return N},Me.prototype.parseStruct=function(A){if(typeof A=="function")return A.call(this);for(var T=Object.keys(A),N={},B=0;B<T.length;B++){var W=T[B],$=A[W];N[W]=$.call(this)}return N},Me.prototype.parseValueRecord=function(A){var T;if((A=A===void 0?this.parseUShort():A)!==0)return T={},1&A&&(T.xPlacement=this.parseShort()),2&A&&(T.yPlacement=this.parseShort()),4&A&&(T.xAdvance=this.parseShort()),8&A&&(T.yAdvance=this.parseShort()),16&A&&(T.xPlaDevice=void 0,this.parseShort()),32&A&&(T.yPlaDevice=void 0,this.parseShort()),64&A&&(T.xAdvDevice=void 0,this.parseShort()),128&A&&(T.yAdvDevice=void 0,this.parseShort()),T},Me.prototype.parseValueRecordList=function(){for(var A=this.parseUShort(),T=this.parseUShort(),N=new Array(T),B=0;B<T;B++)N[B]=this.parseValueRecord(A);return N},Me.prototype.parsePointer=function(A){var T=this.parseOffset16();if(0<T)return new Me(this.data,this.offset+T).parseStruct(A)},Me.prototype.parsePointer32=function(A){var T=this.parseOffset32();if(0<T)return new Me(this.data,this.offset+T).parseStruct(A)},Me.prototype.parseListOfLists=function(A){for(var T=this.parseOffset16List(),N=T.length,B=this.relativeOffset,W=new Array(N),$=0;$<N;$++){var ee=T[$];if(ee===0)W[$]=void 0;else if(this.relativeOffset=ee,A){for(var le=this.parseOffset16List(),ye=new Array(le.length),me=0;me<le.length;me++)this.relativeOffset=ee+le[me],ye[me]=A.call(this);W[$]=ye}else W[$]=this.parseUShortList()}return this.relativeOffset=B,W},Me.prototype.parseCoverage=function(){var A=this.offset+this.relativeOffset,T=this.parseUShort(),N=this.parseUShort();if(T===1)return{format:1,glyphs:this.parseUShortList(N)};if(T!==2)throw new Error("0x"+A.toString(16)+": Coverage format must be 1 or 2.");for(var B=new Array(N),W=0;W<N;W++)B[W]={start:this.parseUShort(),end:this.parseUShort(),index:this.parseUShort()};return{format:2,ranges:B}},Me.prototype.parseClassDef=function(){var A=this.offset+this.relativeOffset,T=this.parseUShort();if(T===1)return{format:1,startGlyph:this.parseUShort(),classes:this.parseUShortList()};if(T===2)return{format:2,ranges:this.parseRecordList({start:Me.uShort,end:Me.uShort,classId:Me.uShort})};throw new Error("0x"+A.toString(16)+": ClassDef format must be 1 or 2.")},Me.list=function(A,T){return function(){return this.parseList(A,T)}},Me.list32=function(A,T){return function(){return this.parseList32(A,T)}},Me.recordList=function(A,T){return function(){return this.parseRecordList(A,T)}},Me.recordList32=function(A,T){return function(){return this.parseRecordList32(A,T)}},Me.pointer=function(A){return function(){return this.parsePointer(A)}},Me.pointer32=function(A){return function(){return this.parsePointer32(A)}},Me.tag=Me.prototype.parseTag,Me.byte=Me.prototype.parseByte,Me.uShort=Me.offset16=Me.prototype.parseUShort,Me.uShortList=Me.prototype.parseUShortList,Me.uLong=Me.offset32=Me.prototype.parseULong,Me.uLongList=Me.prototype.parseULongList,Me.struct=Me.prototype.parseStruct,Me.coverage=Me.prototype.parseCoverage,Me.classDef=Me.prototype.parseClassDef;var Je={reserved:Me.uShort,reqFeatureIndex:Me.uShort,featureIndexes:Me.uShortList},Pe=(Me.prototype.parseScriptList=function(){return this.parsePointer(Me.recordList({tag:Me.tag,script:Me.pointer({defaultLangSys:Me.pointer(Je),langSysRecords:Me.recordList({tag:Me.tag,langSys:Me.pointer(Je)})})}))||[]},Me.prototype.parseFeatureList=function(){return this.parsePointer(Me.recordList({tag:Me.tag,feature:Me.pointer({featureParams:Me.offset16,lookupListIndexes:Me.uShortList})}))||[]},Me.prototype.parseLookupList=function(A){return this.parsePointer(Me.list(Me.pointer(function(){var T=this.parseUShort(),N=(U.argument(1<=T&&T<=9,"GPOS/GSUB lookup type "+T+" unknown."),this.parseUShort()),B=16&N;return{lookupType:T,lookupFlag:N,subtables:this.parseList(Me.pointer(A[T])),markFilteringSet:B?this.parseUShort():void 0}})))||[]},Me.prototype.parseFeatureVariationsList=function(){return this.parsePointer32(function(){var A=this.parseUShort(),T=this.parseUShort();return U.argument(A===1&&T<1,"GPOS/GSUB feature variations table unknown."),this.parseRecordList32({conditionSetOffset:Me.offset32,featureTableSubstitutionOffset:Me.offset32})})||[]},{getByte:vt,getCard8:vt,getUShort:st,getCard16:st,getShort:function(A,T){return A.getInt16(T,!1)},getULong:ct,getFixed:yt,getTag:function(A,T){for(var N="",B=T;B<T+4;B+=1)N+=String.fromCharCode(A.getInt8(B));return N},getOffset:function(A,T,N){for(var B=0,W=0;W<N;W+=1)B=(B<<=8)+A.getUint8(T+W);return B},getBytes:function(A,T,N){for(var B=[],W=T;W<N;W+=1)B.push(A.getUint8(W));return B},bytesToString:function(A){for(var T="",N=0;N<A.length;N+=1)T+=String.fromCharCode(A[N]);return T},Parser:Me}),oe={parse:function(A,T){for(var N={},B=(N.version=Pe.getUShort(A,T),U.argument(N.version===0,"cmap table version should be 0."),N.numTables=Pe.getUShort(A,T+2),-1),W=N.numTables-1;0<=W;--W){var $=Pe.getUShort(A,T+4+8*W),ee=Pe.getUShort(A,T+4+8*W+2);if($===3&&(ee===0||ee===1||ee===10)||$===0&&(ee===0||ee===1||ee===2||ee===3||ee===4)){B=Pe.getULong(A,T+4+8*W+4);break}}if(B===-1)throw new Error("No valid cmap sub-tables found.");var le=new Pe.Parser(A,T+B);if(N.format=le.parseUShort(),N.format===12){var ye,me=N,Te=le;Te.parseUShort(),me.length=Te.parseULong(),me.language=Te.parseULong(),me.groupCount=ye=Te.parseULong(),me.glyphIndexMap={};for(var Be=0;Be<ye;Be+=1)for(var Ie=Te.parseULong(),we=Te.parseULong(),$e=Te.parseULong(),He=Ie;He<=we;He+=1)me.glyphIndexMap[He]=$e,$e++}else{if(N.format!==4)throw new Error("Only format 4 and 12 cmap tables are supported (found format "+N.format+").");var Ye=N,Ue=A,Ge=T,_t=B;Ye.length=le.parseUShort(),Ye.language=le.parseUShort(),Ye.segCount=kt=le.parseUShort()>>1,le.skip("uShort",3),Ye.glyphIndexMap={};for(var kt,St=new Pe.Parser(Ue,Ge+_t+14),jt=new Pe.Parser(Ue,Ge+_t+16+2*kt),Ft=new Pe.Parser(Ue,Ge+_t+16+4*kt),vr=new Pe.Parser(Ue,Ge+_t+16+6*kt),Zt=Ge+_t+16+8*kt,Ar=0;Ar<kt-1;Ar+=1)for(var tn=void 0,rn=St.parseUShort(),Vn=jt.parseUShort(),lr=Ft.parseShort(),pr=vr.parseUShort(),ar=Vn;ar<=rn;ar+=1)pr!==0?(Zt=(Zt=vr.offset+vr.relativeOffset-2)+pr+2*(ar-Vn),(tn=Pe.getUShort(Ue,Zt))!==0&&(tn=tn+lr&65535)):tn=ar+lr&65535,Ye.glyphIndexMap[ar]=tn}return N},make:function(A){for(var T=!0,N=A.length-1;0<N;--N)if(65535<A.get(N).unicode){console.log("Adding CMAP format 12 (needed!)"),T=!1;break}var B,W,$=[{name:"version",type:"USHORT",value:0},{name:"numTables",type:"USHORT",value:T?1:2},{name:"platformID",type:"USHORT",value:3},{name:"encodingID",type:"USHORT",value:1},{name:"offset",type:"ULONG",value:T?12:20}],ee=($=($=T?$:$.concat([{name:"cmap12PlatformID",type:"USHORT",value:3},{name:"cmap12EncodingID",type:"USHORT",value:10},{name:"cmap12Offset",type:"ULONG",value:0}])).concat([{name:"format",type:"USHORT",value:4},{name:"cmap4Length",type:"USHORT",value:0},{name:"language",type:"USHORT",value:0},{name:"segCountX2",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),new Fe.Table("cmap",$));for(ee.segments=[],N=0;N<A.length;N+=1){for(var le=A.get(N),ye=0;ye<le.unicodes.length;ye+=1)B=le.unicodes[ye],W=N,ee.segments.push({end:B,start:B,delta:-(B-W),offset:0,glyphIndex:W});ee.segments=ee.segments.sort(function(Ge,_t){return Ge.start-_t.start})}ee.segments.push({end:65535,start:65535,delta:1,offset:0});var me=ee.segments.length,Te=0,Be=[],Ie=[],we=[],$e=[],He=[],Ye=[];for(N=0;N<me;N+=1){var Ue=ee.segments[N];Ue.end<=65535&&Ue.start<=65535?(Be=Be.concat({name:"end_"+N,type:"USHORT",value:Ue.end}),Ie=Ie.concat({name:"start_"+N,type:"USHORT",value:Ue.start}),we=we.concat({name:"idDelta_"+N,type:"SHORT",value:Ue.delta}),$e=$e.concat({name:"idRangeOffset_"+N,type:"USHORT",value:Ue.offset}),Ue.glyphId!==void 0&&(He=He.concat({name:"glyph_"+N,type:"USHORT",value:Ue.glyphId}))):Te+=1,T||Ue.glyphIndex===void 0||(Ye=(Ye=(Ye=Ye.concat({name:"cmap12Start_"+N,type:"ULONG",value:Ue.start})).concat({name:"cmap12End_"+N,type:"ULONG",value:Ue.end})).concat({name:"cmap12Glyph_"+N,type:"ULONG",value:Ue.glyphIndex}))}return ee.segCountX2=2*(me-Te),ee.searchRange=2*Math.pow(2,Math.floor(Math.log(me-Te)/Math.log(2))),ee.entrySelector=Math.log(ee.searchRange/2)/Math.log(2),ee.rangeShift=ee.segCountX2-ee.searchRange,ee.fields=ee.fields.concat(Be),ee.fields.push({name:"reservedPad",type:"USHORT",value:0}),ee.fields=ee.fields.concat(Ie),ee.fields=ee.fields.concat(we),ee.fields=ee.fields.concat($e),ee.fields=ee.fields.concat(He),ee.cmap4Length=14+2*Be.length+2+2*Ie.length+2*we.length+2*$e.length+2*He.length,T||($=16+4*Ye.length,ee.cmap12Offset=20+ee.cmap4Length,ee.fields=ee.fields.concat([{name:"cmap12Format",type:"USHORT",value:12},{name:"cmap12Reserved",type:"USHORT",value:0},{name:"cmap12Length",type:"ULONG",value:$},{name:"cmap12Language",type:"ULONG",value:0},{name:"cmap12nGroups",type:"ULONG",value:Ye.length/3}]),ee.fields=ee.fields.concat(Ye)),ee}},ce=[".notdef","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","endash","dagger","daggerdbl","periodcentered","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","questiondown","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","ring","cedilla","hungarumlaut","ogonek","caron","emdash","AE","ordfeminine","Lslash","Oslash","OE","ordmasculine","ae","dotlessi","lslash","oslash","oe","germandbls","onesuperior","logicalnot","mu","trademark","Eth","onehalf","plusminus","Thorn","onequarter","divide","brokenbar","degree","thorn","threequarters","twosuperior","registered","minus","eth","multiply","threesuperior","copyright","Aacute","Acircumflex","Adieresis","Agrave","Aring","Atilde","Ccedilla","Eacute","Ecircumflex","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Ntilde","Oacute","Ocircumflex","Odieresis","Ograve","Otilde","Scaron","Uacute","Ucircumflex","Udieresis","Ugrave","Yacute","Ydieresis","Zcaron","aacute","acircumflex","adieresis","agrave","aring","atilde","ccedilla","eacute","ecircumflex","edieresis","egrave","iacute","icircumflex","idieresis","igrave","ntilde","oacute","ocircumflex","odieresis","ograve","otilde","scaron","uacute","ucircumflex","udieresis","ugrave","yacute","ydieresis","zcaron","exclamsmall","Hungarumlautsmall","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","266 ff","onedotenleader","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","commasuperior","threequartersemdash","periodsuperior","questionsmall","asuperior","bsuperior","centsuperior","dsuperior","esuperior","isuperior","lsuperior","msuperior","nsuperior","osuperior","rsuperior","ssuperior","tsuperior","ff","ffi","ffl","parenleftinferior","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","exclamdownsmall","centoldstyle","Lslashsmall","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","Dotaccentsmall","Macronsmall","figuredash","hypheninferior","Ogoneksmall","Ringsmall","Cedillasmall","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","zerosuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall","001.000","001.001","001.002","001.003","Black","Bold","Book","Light","Medium","Regular","Roman","Semibold"],re=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quoteright","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","quoteleft","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdown","cent","sterling","fraction","yen","florin","section","currency","quotesingle","quotedblleft","guillemotleft","guilsinglleft","guilsinglright","fi","fl","","endash","dagger","daggerdbl","periodcentered","","paragraph","bullet","quotesinglbase","quotedblbase","quotedblright","guillemotright","ellipsis","perthousand","","questiondown","","grave","acute","circumflex","tilde","macron","breve","dotaccent","dieresis","","ring","cedilla","","hungarumlaut","ogonek","caron","emdash","","","","","","","","","","","","","","","","","AE","","ordfeminine","","","","","Lslash","Oslash","OE","ordmasculine","","","","","","ae","","","","dotlessi","","","lslash","oslash","oe","germandbls"],de=["","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","space","exclamsmall","Hungarumlautsmall","","dollaroldstyle","dollarsuperior","ampersandsmall","Acutesmall","parenleftsuperior","parenrightsuperior","twodotenleader","onedotenleader","comma","hyphen","period","fraction","zerooldstyle","oneoldstyle","twooldstyle","threeoldstyle","fouroldstyle","fiveoldstyle","sixoldstyle","sevenoldstyle","eightoldstyle","nineoldstyle","colon","semicolon","commasuperior","threequartersemdash","periodsuperior","questionsmall","","asuperior","bsuperior","centsuperior","dsuperior","esuperior","","","isuperior","","","lsuperior","msuperior","nsuperior","osuperior","","","rsuperior","ssuperior","tsuperior","","ff","fi","fl","ffi","ffl","parenleftinferior","","parenrightinferior","Circumflexsmall","hyphensuperior","Gravesmall","Asmall","Bsmall","Csmall","Dsmall","Esmall","Fsmall","Gsmall","Hsmall","Ismall","Jsmall","Ksmall","Lsmall","Msmall","Nsmall","Osmall","Psmall","Qsmall","Rsmall","Ssmall","Tsmall","Usmall","Vsmall","Wsmall","Xsmall","Ysmall","Zsmall","colonmonetary","onefitted","rupiah","Tildesmall","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","","exclamdownsmall","centoldstyle","Lslashsmall","","","Scaronsmall","Zcaronsmall","Dieresissmall","Brevesmall","Caronsmall","","Dotaccentsmall","","","Macronsmall","","","figuredash","hypheninferior","","","Ogoneksmall","Ringsmall","Cedillasmall","","","","onequarter","onehalf","threequarters","questiondownsmall","oneeighth","threeeighths","fiveeighths","seveneighths","onethird","twothirds","","","zerosuperior","onesuperior","twosuperior","threesuperior","foursuperior","fivesuperior","sixsuperior","sevensuperior","eightsuperior","ninesuperior","zeroinferior","oneinferior","twoinferior","threeinferior","fourinferior","fiveinferior","sixinferior","seveninferior","eightinferior","nineinferior","centinferior","dollarinferior","periodinferior","commainferior","Agravesmall","Aacutesmall","Acircumflexsmall","Atildesmall","Adieresissmall","Aringsmall","AEsmall","Ccedillasmall","Egravesmall","Eacutesmall","Ecircumflexsmall","Edieresissmall","Igravesmall","Iacutesmall","Icircumflexsmall","Idieresissmall","Ethsmall","Ntildesmall","Ogravesmall","Oacutesmall","Ocircumflexsmall","Otildesmall","Odieresissmall","OEsmall","Oslashsmall","Ugravesmall","Uacutesmall","Ucircumflexsmall","Udieresissmall","Yacutesmall","Thornsmall","Ydieresissmall"],Ce=[".notdef",".null","nonmarkingreturn","space","exclam","quotedbl","numbersign","dollar","percent","ampersand","quotesingle","parenleft","parenright","asterisk","plus","comma","hyphen","period","slash","zero","one","two","three","four","five","six","seven","eight","nine","colon","semicolon","less","equal","greater","question","at","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","bracketleft","backslash","bracketright","asciicircum","underscore","grave","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","braceleft","bar","braceright","asciitilde","Adieresis","Aring","Ccedilla","Eacute","Ntilde","Odieresis","Udieresis","aacute","agrave","acircumflex","adieresis","atilde","aring","ccedilla","eacute","egrave","ecircumflex","edieresis","iacute","igrave","icircumflex","idieresis","ntilde","oacute","ograve","ocircumflex","odieresis","otilde","uacute","ugrave","ucircumflex","udieresis","dagger","degree","cent","sterling","section","bullet","paragraph","germandbls","registered","copyright","trademark","acute","dieresis","notequal","AE","Oslash","infinity","plusminus","lessequal","greaterequal","yen","mu","partialdiff","summation","product","pi","integral","ordfeminine","ordmasculine","Omega","ae","oslash","questiondown","exclamdown","logicalnot","radical","florin","approxequal","Delta","guillemotleft","guillemotright","ellipsis","nonbreakingspace","Agrave","Atilde","Otilde","OE","oe","endash","emdash","quotedblleft","quotedblright","quoteleft","quoteright","divide","lozenge","ydieresis","Ydieresis","fraction","currency","guilsinglleft","guilsinglright","fi","fl","daggerdbl","periodcentered","quotesinglbase","quotedblbase","perthousand","Acircumflex","Ecircumflex","Aacute","Edieresis","Egrave","Iacute","Icircumflex","Idieresis","Igrave","Oacute","Ocircumflex","apple","Ograve","Uacute","Ucircumflex","Ugrave","dotlessi","circumflex","tilde","macron","breve","dotaccent","ring","cedilla","hungarumlaut","ogonek","caron","Lslash","lslash","Scaron","scaron","Zcaron","zcaron","brokenbar","Eth","eth","Yacute","yacute","Thorn","thorn","minus","multiply","onesuperior","twosuperior","threesuperior","onehalf","onequarter","threequarters","franc","Gbreve","gbreve","Idotaccent","Scedilla","scedilla","Cacute","cacute","Ccaron","ccaron","dcroat"];function Re(A){this.font=A}function Ve(A){this.cmap=A}function at(A,T){this.encoding=A,this.charset=T}function lt(A){switch(A.version){case 1:this.names=Ce.slice();break;case 2:this.names=new Array(A.numberOfGlyphs);for(var T=0;T<A.numberOfGlyphs;T++)A.glyphNameIndex[T]<Ce.length?this.names[T]=Ce[A.glyphNameIndex[T]]:this.names[T]=A.names[A.glyphNameIndex[T]-Ce.length];break;case 2.5:this.names=new Array(A.numberOfGlyphs);for(var N=0;N<A.numberOfGlyphs;N++)this.names[N]=Ce[N+A.glyphNameIndex[N]];break;default:this.names=[]}}Re.prototype.charToGlyphIndex=function(A){var T=A.codePointAt(0),N=this.font.glyphs;if(N){for(var B=0;B<N.length;B+=1)for(var W=N.get(B),$=0;$<W.unicodes.length;$+=1)if(W.unicodes[$]===T)return B}return null},Ve.prototype.charToGlyphIndex=function(A){return this.cmap.glyphIndexMap[A.codePointAt(0)]||0},at.prototype.charToGlyphIndex=function(A){return A=A.codePointAt(0),A=this.encoding[A],this.charset.indexOf(A)},lt.prototype.nameToGlyphIndex=function(A){return this.names.indexOf(A)},lt.prototype.glyphIndexToName=function(A){return this.names[A]};var ut={line:function(A,T,N,B,W){A.beginPath(),A.moveTo(T,N),A.lineTo(B,W),A.stroke()}};function ht(A){this.bindConstructorValues(A)}function It(A,T,N){Object.defineProperty(A,T,{get:function(){return A.path,A[N]},set:function(B){A[N]=B},enumerable:!0,configurable:!0})}function At(A,T){if(this.font=A,this.glyphs={},Array.isArray(T))for(var N=0;N<T.length;N++)this.glyphs[N]=T[N];this.length=T&&T.length||0}ht.prototype.bindConstructorValues=function(A){var T;this.index=A.index||0,this.name=A.name||null,this.unicode=A.unicode||void 0,this.unicodes=A.unicodes||A.unicode!==void 0?[A.unicode]:[],A.xMin&&(this.xMin=A.xMin),A.yMin&&(this.yMin=A.yMin),A.xMax&&(this.xMax=A.xMax),A.yMax&&(this.yMax=A.yMax),A.advanceWidth&&(this.advanceWidth=A.advanceWidth),Object.defineProperty(this,"path",(A=A.path,T=A||new te,{configurable:!0,get:function(){return T=typeof T=="function"?T():T},set:function(N){T=N}}))},ht.prototype.addUnicode=function(A){this.unicodes.length===0&&(this.unicode=A),this.unicodes.push(A)},ht.prototype.getBoundingBox=function(){return this.path.getBoundingBox()},ht.prototype.getPath=function(A,T,N,B,W){A=A!==void 0?A:0,T=T!==void 0?T:0,N=N!==void 0?N:72;for(var $,ee,le=(B=B||{}).xScale,ye=B.yScale,me=(($=B.hinting&&W&&W.hinting?this.path&&W.hinting.exec(this,N):$)?(ee=W.hinting.getCommands($),A=Math.round(A),T=Math.round(T),le=ye=1):(ee=this.path.commands,B=1/this.path.unitsPerEm*N,le===void 0&&(le=B),ye===void 0&&(ye=B)),new te),Te=0;Te<ee.length;Te+=1){var Be=ee[Te];Be.type==="M"?me.moveTo(A+Be.x*le,T+-Be.y*ye):Be.type==="L"?me.lineTo(A+Be.x*le,T+-Be.y*ye):Be.type==="Q"?me.quadraticCurveTo(A+Be.x1*le,T+-Be.y1*ye,A+Be.x*le,T+-Be.y*ye):Be.type==="C"?me.curveTo(A+Be.x1*le,T+-Be.y1*ye,A+Be.x2*le,T+-Be.y2*ye,A+Be.x*le,T+-Be.y*ye):Be.type==="Z"&&me.closePath()}return me},ht.prototype.getContours=function(){if(this.points===void 0)return[];for(var A=[],T=[],N=0;N<this.points.length;N+=1){var B=this.points[N];T.push(B),B.lastPointOfContour&&(A.push(T),T=[])}return U.argument(T.length===0,"There are still points left in the current contour."),A},ht.prototype.getMetrics=function(){for(var A=this.path.commands,T=[],N=[],B=0;B<A.length;B+=1){var W=A[B];W.type!=="Z"&&(T.push(W.x),N.push(W.y)),W.type!=="Q"&&W.type!=="C"||(T.push(W.x1),N.push(W.y1)),W.type==="C"&&(T.push(W.x2),N.push(W.y2))}var $={xMin:Math.min.apply(null,T),yMin:Math.min.apply(null,N),xMax:Math.max.apply(null,T),yMax:Math.max.apply(null,N),leftSideBearing:this.leftSideBearing};return isFinite($.xMin)||($.xMin=0),isFinite($.xMax)||($.xMax=this.advanceWidth),isFinite($.yMin)||($.yMin=0),isFinite($.yMax)||($.yMax=0),$.rightSideBearing=this.advanceWidth-$.leftSideBearing-($.xMax-$.xMin),$},ht.prototype.draw=function(A,T,N,B,W){this.getPath(T,N,B,W).draw(A)},ht.prototype.drawPoints=function(A,T,N,B){function W(Te,Be,Ie,we){var $e=2*Math.PI;A.beginPath();for(var He=0;He<Te.length;He+=1)A.moveTo(Be+Te[He].x*we,Ie+Te[He].y*we),A.arc(Be+Te[He].x*we,Ie+Te[He].y*we,2,0,$e,!1);A.closePath(),A.fill()}T=T!==void 0?T:0,N=N!==void 0?N:0;for(var B=1/this.path.unitsPerEm*(B=B!==void 0?B:24),$=[],ee=[],le=this.path,ye=0;ye<le.commands.length;ye+=1){var me=le.commands[ye];me.x!==void 0&&$.push({x:me.x,y:-me.y}),me.x1!==void 0&&ee.push({x:me.x1,y:-me.y1}),me.x2!==void 0&&ee.push({x:me.x2,y:-me.y2})}A.fillStyle="blue",W($,T,N,B),A.fillStyle="red",W(ee,T,N,B)},ht.prototype.drawMetrics=function(A,T,N,B){T=T!==void 0?T:0,N=N!==void 0?N:0,B=1/this.path.unitsPerEm*(B=B!==void 0?B:24),A.lineWidth=1,A.strokeStyle="black",ut.line(A,T,-1e4,T,1e4),ut.line(A,-1e4,N,1e4,N);var W=this.xMin||0,$=this.yMin||0,ee=this.xMax||0,le=this.yMax||0,ye=this.advanceWidth||0;A.strokeStyle="blue",ut.line(A,T+W*B,-1e4,T+W*B,1e4),ut.line(A,T+ee*B,-1e4,T+ee*B,1e4),ut.line(A,-1e4,N+-$*B,1e4,N+-$*B),ut.line(A,-1e4,N+-le*B,1e4,N+-le*B),A.strokeStyle="green",ut.line(A,T+ye*B,-1e4,T+ye*B,1e4)},At.prototype.get=function(A){return typeof this.glyphs[A]=="function"&&(this.glyphs[A]=this.glyphs[A]()),this.glyphs[A]},At.prototype.push=function(A,T){this.glyphs[A]=T,this.length++};var bt={GlyphSet:At,glyphLoader:function(A,T){return new ht({index:T,font:A})},ttfGlyphLoader:function(A,T,N,B,W,$){return function(){var ee=new ht({index:T,font:A});return ee.path=function(){N(ee,B,W);var le=$(A.glyphs,ee);return le.unitsPerEm=A.unitsPerEm,le},It(ee,"xMin","_xMin"),It(ee,"xMax","_xMax"),It(ee,"yMin","_yMin"),It(ee,"yMax","_yMax"),ee}},cffGlyphLoader:function(A,T,N,B){return function(){var W=new ht({index:T,font:A});return W.path=function(){var $=N(A,W,B);return $.unitsPerEm=A.unitsPerEm,$},W}}};function Mt(A){return A=A.length<1240?107:A.length<33900?1131:32768,A}function Tt(A,T,N){var B,W=[],$=[],ee=Pe.getCard16(A,T);if(ee!==0){for(var le=Pe.getByte(A,T+2),ye=T+(ee+1)*le+2,me=T+3,Te=0;Te<ee+1;Te+=1)W.push(Pe.getOffset(A,me,le)),me+=le;B=ye+W[ee]}else B=T+2;for(var Be=0;Be<W.length-1;Be+=1){var Ie=Pe.getBytes(A,ye+W[Be],ye+W[Be+1]);N&&(Ie=N(Ie)),$.push(Ie)}return{objects:$,startOffset:T,endOffset:B}}function fr(A,T){if(T===28)return A.parseByte()<<8|A.parseByte();if(T===29)return A.parseByte()<<24|A.parseByte()<<16|A.parseByte()<<8|A.parseByte();if(T===30){for(var N=A,B="",W=["0","1","2","3","4","5","6","7","8","9",".","E","E-",null,"-"];;){var ee=N.parseByte(),$=ee>>4,ee=15&ee;if($==15||(B+=W[$],ee==15))break;B+=W[ee]}return parseFloat(B)}if(32<=T&&T<=246)return T-139;if(247<=T&&T<=250)return 256*(T-247)+A.parseByte()+108;if(251<=T&&T<=254)return 256*-(T-251)-A.parseByte()-108;throw new Error("Invalid b0 "+T)}function Jr(A,T,N){var B=new Pe.Parser(A,T=T!==void 0?T:0),W=[],$=[];for(N=N!==void 0?N:A.length;B.relativeOffset<N;){var ee=B.parseByte();ee<=21?(ee===12&&(ee=1200+B.parseByte()),W.push([ee,$]),$=[]):$.push(fr(B,ee))}for(var le=W,ye={},me=0;me<le.length;me+=1){var Te=le[me][0],Be=le[me][1],Ie=void 0,Ie=Be.length===1?Be[0]:Be;if(ye.hasOwnProperty(Te)&&!isNaN(ye[Te]))throw new Error("Object "+ye+" already has key "+Te);ye[Te]=Ie}return ye}function Dr(A,T){return T=T<=390?ce[T]:A[T-391]}function qt(A,T,N){for(var B,W={},$=0;$<T.length;$+=1){var ee=T[$];if(Array.isArray(ee.type)){var le=[];le.length=ee.type.length;for(var ye=0;ye<ee.type.length;ye++)(B=A[ee.op]!==void 0?A[ee.op][ye]:void 0)===void 0&&(B=ee.value!==void 0&&ee.value[ye]!==void 0?ee.value[ye]:null),ee.type[ye]==="SID"&&(B=Dr(N,B)),le[ye]=B;W[ee.name]=le}else(B=A[ee.op])===void 0&&(B=ee.value!==void 0?ee.value:null),ee.type==="SID"&&(B=Dr(N,B)),W[ee.name]=B}return W}var wr=[{name:"version",op:0,type:"SID"},{name:"notice",op:1,type:"SID"},{name:"copyright",op:1200,type:"SID"},{name:"fullName",op:2,type:"SID"},{name:"familyName",op:3,type:"SID"},{name:"weight",op:4,type:"SID"},{name:"isFixedPitch",op:1201,type:"number",value:0},{name:"italicAngle",op:1202,type:"number",value:0},{name:"underlinePosition",op:1203,type:"number",value:-100},{name:"underlineThickness",op:1204,type:"number",value:50},{name:"paintType",op:1205,type:"number",value:0},{name:"charstringType",op:1206,type:"number",value:2},{name:"fontMatrix",op:1207,type:["real","real","real","real","real","real"],value:[.001,0,0,.001,0,0]},{name:"uniqueId",op:13,type:"number"},{name:"fontBBox",op:5,type:["number","number","number","number"],value:[0,0,0,0]},{name:"strokeWidth",op:1208,type:"number",value:0},{name:"xuid",op:14,type:[],value:null},{name:"charset",op:15,type:"offset",value:0},{name:"encoding",op:16,type:"offset",value:0},{name:"charStrings",op:17,type:"offset",value:0},{name:"private",op:18,type:["number","offset"],value:[0,0]},{name:"ros",op:1230,type:["SID","SID","number"]},{name:"cidFontVersion",op:1231,type:"number",value:0},{name:"cidFontRevision",op:1232,type:"number",value:0},{name:"cidFontType",op:1233,type:"number",value:0},{name:"cidCount",op:1234,type:"number",value:8720},{name:"uidBase",op:1235,type:"number"},{name:"fdArray",op:1236,type:"offset"},{name:"fdSelect",op:1237,type:"offset"},{name:"fontName",op:1238,type:"SID"}],Yt=[{name:"subrs",op:19,type:"offset",value:0},{name:"defaultWidthX",op:20,type:"number",value:0},{name:"nominalWidthX",op:21,type:"number",value:0}];function Wr(A,T,N,B){return qt(Jr(A,T,N),Yt,B)}function Vr(A,T,N,B){for(var W=[],$=0;$<N.length;$+=1){var ee=new DataView(new Uint8Array(N[$]).buffer),ee=(le=B,qt(Jr(ee,0,ee.byteLength),wr,le)),le=(ee._subrs=[],ee._subrsBias=0,ee.private[0]),ye=ee.private[1];le!==0&&ye!==0&&(le=Wr(A,ye+T,le,B),ee._defaultWidthX=le.defaultWidthX,ee._nominalWidthX=le.nominalWidthX,le.subrs!==0&&(ye=Tt(A,ye+le.subrs+T),ee._subrs=ye.objects,ee._subrsBias=Mt(ee._subrs)),ee._privateDict=le),W.push(ee)}return W}function nr(A,T,N){var B,W,$,ee,le,ye,me,Te,Be,Ie=new te,we=[],$e=0,He=!1,Ye=!1,Ue=0,Ge=0,_t=(Be=(A.isCIDFont?(le=A.tables.cff.topDict._fdSelect[T.index],le=A.tables.cff.topDict._fdArray[le],ye=le._subrs,me=le._subrsBias,Te=le._defaultWidthX,le):(ye=A.tables.cff.topDict._subrs,me=A.tables.cff.topDict._subrsBias,Te=A.tables.cff.topDict._defaultWidthX,A.tables.cff.topDict))._nominalWidthX,Te);function kt(jt,Ft){Ye&&Ie.closePath(),Ie.moveTo(jt,Ft),Ye=!0}function St(){we.length%2==0||He||(_t=we.shift()+Be),$e+=we.length>>1,we.length=0,He=!0}return function jt(Ft){for(var vr,Zt,Ar,tn,rn,Vn,lr,pr,ar,dn,ur,Hr,ir=0;ir<Ft.length;){var Fr=Ft[ir];switch(ir+=1,Fr){case 1:case 3:St();break;case 4:1<we.length&&!He&&(_t=we.shift()+Be,He=!0),Ge+=we.pop(),kt(Ue,Ge);break;case 5:for(;0<we.length;)Ue+=we.shift(),Ge+=we.shift(),Ie.lineTo(Ue,Ge);break;case 6:for(;0<we.length&&(Ue+=we.shift(),Ie.lineTo(Ue,Ge),we.length!==0);)Ge+=we.shift(),Ie.lineTo(Ue,Ge);break;case 7:for(;0<we.length&&(Ge+=we.shift(),Ie.lineTo(Ue,Ge),we.length!==0);)Ue+=we.shift(),Ie.lineTo(Ue,Ge);break;case 8:for(;0<we.length;)B=Ue+we.shift(),W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),Ue=$+we.shift(),Ge=ee+we.shift(),Ie.curveTo(B,W,$,ee,Ue,Ge);break;case 10:rn=we.pop()+me,(Vn=ye[rn])&&jt(Vn);break;case 11:return;case 12:switch(Fr=Ft[ir],ir+=1,Fr){case 35:B=Ue+we.shift(),W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),lr=$+we.shift(),pr=ee+we.shift(),ar=lr+we.shift(),dn=pr+we.shift(),ur=ar+we.shift(),Hr=dn+we.shift(),Ue=ur+we.shift(),Ge=Hr+we.shift(),we.shift(),Ie.curveTo(B,W,$,ee,lr,pr),Ie.curveTo(ar,dn,ur,Hr,Ue,Ge);break;case 34:B=Ue+we.shift(),W=Ge,$=B+we.shift(),ee=W+we.shift(),lr=$+we.shift(),pr=ee,ar=lr+we.shift(),dn=ee,ur=ar+we.shift(),Hr=Ge,Ue=ur+we.shift(),Ie.curveTo(B,W,$,ee,lr,pr),Ie.curveTo(ar,dn,ur,Hr,Ue,Ge);break;case 36:B=Ue+we.shift(),W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),lr=$+we.shift(),pr=ee,ar=lr+we.shift(),dn=ee,ur=ar+we.shift(),Hr=dn+we.shift(),Ue=ur+we.shift(),Ie.curveTo(B,W,$,ee,lr,pr),Ie.curveTo(ar,dn,ur,Hr,Ue,Ge);break;case 37:B=Ue+we.shift(),W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),lr=$+we.shift(),pr=ee+we.shift(),ar=lr+we.shift(),dn=pr+we.shift(),ur=ar+we.shift(),Hr=dn+we.shift(),Math.abs(ur-Ue)>Math.abs(Hr-Ge)?Ue=ur+we.shift():Ge=Hr+we.shift(),Ie.curveTo(B,W,$,ee,lr,pr),Ie.curveTo(ar,dn,ur,Hr,Ue,Ge);break;default:console.log("Glyph "+T.index+": unknown operator 1200"+Fr),we.length=0}break;case 14:0<we.length&&!He&&(_t=we.shift()+Be,He=!0),Ye&&(Ie.closePath(),Ye=!1);break;case 18:St();break;case 19:case 20:St(),ir+=$e+7>>3;break;case 21:2<we.length&&!He&&(_t=we.shift()+Be,He=!0),Ge+=we.pop(),kt(Ue+=we.pop(),Ge);break;case 22:1<we.length&&!He&&(_t=we.shift()+Be,He=!0),kt(Ue+=we.pop(),Ge);break;case 23:St();break;case 24:for(;2<we.length;)B=Ue+we.shift(),W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),Ue=$+we.shift(),Ge=ee+we.shift(),Ie.curveTo(B,W,$,ee,Ue,Ge);Ue+=we.shift(),Ge+=we.shift(),Ie.lineTo(Ue,Ge);break;case 25:for(;6<we.length;)Ue+=we.shift(),Ge+=we.shift(),Ie.lineTo(Ue,Ge);B=Ue+we.shift(),W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),Ue=$+we.shift(),Ge=ee+we.shift(),Ie.curveTo(B,W,$,ee,Ue,Ge);break;case 26:for(we.length%2&&(Ue+=we.shift());0<we.length;)B=Ue,W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),Ue=$,Ge=ee+we.shift(),Ie.curveTo(B,W,$,ee,Ue,Ge);break;case 27:for(we.length%2&&(Ge+=we.shift());0<we.length;)B=Ue+we.shift(),W=Ge,$=B+we.shift(),ee=W+we.shift(),Ue=$+we.shift(),Ge=ee,Ie.curveTo(B,W,$,ee,Ue,Ge);break;case 28:vr=Ft[ir],Zt=Ft[ir+1],we.push((vr<<24|Zt<<16)>>16),ir+=2;break;case 29:rn=we.pop()+A.gsubrsBias,(Vn=A.gsubrs[rn])&&jt(Vn);break;case 30:for(;0<we.length&&(B=Ue,W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),Ue=$+we.shift(),Ge=ee+(we.length===1?we.shift():0),Ie.curveTo(B,W,$,ee,Ue,Ge),we.length!==0);)B=Ue+we.shift(),W=Ge,$=B+we.shift(),ee=W+we.shift(),Ge=ee+we.shift(),Ue=$+(we.length===1?we.shift():0),Ie.curveTo(B,W,$,ee,Ue,Ge);break;case 31:for(;0<we.length&&(B=Ue+we.shift(),W=Ge,$=B+we.shift(),ee=W+we.shift(),Ge=ee+we.shift(),Ue=$+(we.length===1?we.shift():0),Ie.curveTo(B,W,$,ee,Ue,Ge),we.length!==0);)B=Ue,W=Ge+we.shift(),$=B+we.shift(),ee=W+we.shift(),Ue=$+we.shift(),Ge=ee+(we.length===1?we.shift():0),Ie.curveTo(B,W,$,ee,Ue,Ge);break;default:Fr<32?console.log("Glyph "+T.index+": unknown operator "+Fr):Fr<247?we.push(Fr-139):Fr<251?(vr=Ft[ir],ir+=1,we.push(256*(Fr-247)+vr+108)):Fr<255?(vr=Ft[ir],ir+=1,we.push(256*-(Fr-251)-vr-108)):(vr=Ft[ir],Zt=Ft[ir+1],Ar=Ft[ir+2],tn=Ft[ir+3],ir+=4,we.push((vr<<24|Zt<<16|Ar<<8|tn)/65536))}}}(N),T.advanceWidth=_t,Ie}function $r(A,T){var N,B=ce.indexOf(A);return 0<=B&&(N=B),0<=(B=T.indexOf(A))?N=B+ce.length:(N=ce.length+T.length,T.push(A)),N}function Gn(A,T,N){for(var B={},W=0;W<A.length;W+=1){var $=A[W],ee=T[$.name];ee===void 0||function le(ye,me){if(ye===me)return 1;if(Array.isArray(ye)&&Array.isArray(me)&&ye.length===me.length){for(var Te=0;Te<ye.length;Te+=1)if(!le(ye[Te],me[Te]))return;return 1}}(ee,$.value)||($.type==="SID"&&(ee=$r(ee,N)),B[$.op]={name:$.name,type:$.type,value:ee})}return B}function Br(A,T){var N=new Fe.Record("Top DICT",[{name:"dict",type:"DICT",value:{}}]);return N.dict=Gn(wr,A,T),N}function qr(A){var T=new Fe.Record("Top DICT INDEX",[{name:"topDicts",type:"INDEX",value:[]}]);return T.topDicts=[{name:"topDict_0",type:"TABLE",value:A}],T}function va(A){for(var T=new Fe.Record("CharStrings INDEX",[{name:"charStrings",type:"INDEX",value:[]}]),N=0;N<A.length;N+=1){var B=A.get(N),W=function($){for(var ee=[],le=$.path,ye=(ee.push({name:"width",type:"NUMBER",value:$.advanceWidth}),0),me=0,Te=0;Te<le.commands.length;Te+=1){var Be,Ie,we,$e,He=void 0,Ye=void 0,Ue=le.commands[Te];(Ue=Ue.type==="Q"?{type:"C",x:Ue.x,y:Ue.y,x1:1/3*ye+2/3*Ue.x1,y1:1/3*me+2/3*Ue.y1,x2:1/3*Ue.x+2/3*Ue.x1,y2:1/3*Ue.y+2/3*Ue.y1}:Ue).type==="M"?(He=Math.round(Ue.x-ye),Ye=Math.round(Ue.y-me),ee.push({name:"dx",type:"NUMBER",value:He}),ee.push({name:"dy",type:"NUMBER",value:Ye}),ee.push({name:"rmoveto",type:"OP",value:21}),ye=Math.round(Ue.x),me=Math.round(Ue.y)):Ue.type==="L"?(He=Math.round(Ue.x-ye),Ye=Math.round(Ue.y-me),ee.push({name:"dx",type:"NUMBER",value:He}),ee.push({name:"dy",type:"NUMBER",value:Ye}),ee.push({name:"rlineto",type:"OP",value:5}),ye=Math.round(Ue.x),me=Math.round(Ue.y)):Ue.type==="C"&&(Be=Math.round(Ue.x1-ye),Ie=Math.round(Ue.y1-me),we=Math.round(Ue.x2-Ue.x1),$e=Math.round(Ue.y2-Ue.y1),He=Math.round(Ue.x-Ue.x2),Ye=Math.round(Ue.y-Ue.y2),ee.push({name:"dx1",type:"NUMBER",value:Be}),ee.push({name:"dy1",type:"NUMBER",value:Ie}),ee.push({name:"dx2",type:"NUMBER",value:we}),ee.push({name:"dy2",type:"NUMBER",value:$e}),ee.push({name:"dx",type:"NUMBER",value:He}),ee.push({name:"dy",type:"NUMBER",value:Ye}),ee.push({name:"rrcurveto",type:"OP",value:8}),ye=Math.round(Ue.x),me=Math.round(Ue.y))}return ee.push({name:"endchar",type:"OP",value:14}),ee}(B);T.charStrings.push({name:B.name,type:"CHARSTRING",value:W})}return T}var Ba={parse:function(A,T,N){N.tables.cff={},le=A,B=T,(W={}).formatMajor=Pe.getCard8(le,B),W.formatMinor=Pe.getCard8(le,B+1),W.size=Pe.getCard8(le,B+2),W.offsetSize=Pe.getCard8(le,B+3),W.startOffset=B,W.endOffset=B+4;var le=Tt(A,W.endOffset,Pe.bytesToString),B=Tt(A,le.endOffset),W=Tt(A,B.endOffset,Pe.bytesToString),le=Tt(A,W.endOffset);if(N.gsubrs=le.objects,N.gsubrsBias=Mt(N.gsubrs),(le=Vr(A,T,B.objects,W.objects)).length!==1)throw new Error("CFF table has too many fonts in 'FontSet' - count of fonts NameIndex.length = "+le.length);if(B=le[0],(N.tables.cff.topDict=B)._privateDict&&(N.defaultWidthX=B._privateDict.defaultWidthX,N.nominalWidthX=B._privateDict.nominalWidthX),B.ros[0]!==void 0&&B.ros[1]!==void 0&&(N.isCIDFont=!0),N.isCIDFont){var le=B.fdArray,$=B.fdSelect;if(le===0||$===0)throw new Error("Font is marked as a CID font, but FDArray and/or FDSelect information is missing");le=Vr(A,T,Tt(A,le+=T).objects,W.objects),B._fdArray=le,B._fdSelect=function(Ie,we,$e,He){var Ye,Ue=[],Ge=new Pe.Parser(Ie,we);if((Ie=Ge.parseCard8())===0)for(var _t=0;_t<$e;_t++){if(He<=(Ye=Ge.parseCard8()))throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ye+" (FD count "+He+")");Ue.push(Ye)}else{if(Ie!==3)throw new Error("CFF Table CID Font FDSelect table has unsupported format "+Ie);var kt,St=Ge.parseCard16(),jt=Ge.parseCard16();if(jt!==0)throw new Error("CFF Table CID Font FDSelect format 3 range has bad initial GID "+jt);for(var Ft=0;Ft<St;Ft++){if(Ye=Ge.parseCard8(),kt=Ge.parseCard16(),He<=Ye)throw new Error("CFF table CID Font FDSelect has bad FD index value "+Ye+" (FD count "+He+")");if($e<kt)throw new Error("CFF Table CID Font FDSelect format 3 range has bad GID "+kt);for(;jt<kt;jt++)Ue.push(Ye);jt=kt}if(kt!==$e)throw new Error("CFF Table CID Font FDSelect format 3 range has bad final GID "+kt)}return Ue}(A,$+=T,N.numGlyphs,le.length)}var $=T+B.private[1],le=Wr(A,$,B.private[0],W.objects),ee=(N.defaultWidthX=le.defaultWidthX,N.nominalWidthX=le.nominalWidthX,le.subrs!==0?($=Tt(A,$+le.subrs),N.subrs=$.objects,N.subrsBias=Mt(N.subrs)):(N.subrs=[],N.subrsBias=0),Tt(A,T+B.charStrings)),le=(N.nGlyphs=ee.objects.length,function(Te,Be,Ie,we){var $e=new Pe.Parser(Te,Be),He=(--Ie,[".notdef"]);if((Te=$e.parseCard8())===0)for(var Ye=0;Ye<Ie;Ye+=1)Ue=$e.parseSID(),He.push(Dr(we,Ue));else if(Te===1)for(;He.length<=Ie;)for(var Ue=$e.parseSID(),Ge=$e.parseCard8(),_t=0;_t<=Ge;_t+=1)He.push(Dr(we,Ue)),Ue+=1;else{if(Te!==2)throw new Error("Unknown charset format "+Te);for(;He.length<=Ie;){Ue=$e.parseSID(),Ge=$e.parseCard16();for(var kt=0;kt<=Ge;kt+=1)He.push(Dr(we,Ue)),Ue+=1}}return He}(A,T+B.charset,N.nGlyphs,W.objects));B.encoding===0?N.cffEncoding=new at(re,le):B.encoding===1?N.cffEncoding=new at(de,le):N.cffEncoding=function(Te,Be,Ie){var we={},$e=new Pe.Parser(Te,Be);if((Te=$e.parseCard8())===0)for(var He=$e.parseCard8(),Ye=0;Ye<He;Ye+=1)we[Ge=$e.parseCard8()]=Ye;else{if(Te!==1)throw new Error("Unknown encoding format "+Te);for(var Ue=$e.parseCard8(),Ge=1,_t=0;_t<Ue;_t+=1)for(var kt=$e.parseCard8(),St=$e.parseCard8(),jt=kt;jt<=kt+St;jt+=1)we[jt]=Ge,Ge+=1}return new at(we,Ie)}(A,T+B.encoding,le),N.encoding=N.encoding||N.cffEncoding,N.glyphs=new bt.GlyphSet(N);for(var ye=0;ye<N.nGlyphs;ye+=1){var me=ee.objects[ye];N.glyphs.push(ye,bt.cffGlyphLoader(N,ye,nr,me))}},make:function(A,Te){for(var N,B=new Fe.Table("CFF ",[{name:"header",type:"RECORD"},{name:"nameIndex",type:"RECORD"},{name:"topDictIndex",type:"RECORD"},{name:"stringIndex",type:"RECORD"},{name:"globalSubrIndex",type:"RECORD"},{name:"charsets",type:"RECORD"},{name:"charStringsIndex",type:"RECORD"},{name:"privateDict",type:"RECORD"}]),W=1/Te.unitsPerEm,W={version:Te.version,fullName:Te.fullName,familyName:Te.familyName,weight:Te.weightName,fontBBox:Te.fontBBox||[0,0,0,0],fontMatrix:[W,0,0,W,0,0],charset:999,encoding:0,charStrings:999,private:[0,999]},$=[],ee=1;ee<A.length;ee+=1)N=A.get(ee),$.push(N.name);var le,ye,me=[],Te=(B.header=new Fe.Record("Header",[{name:"major",type:"Card8",value:1},{name:"minor",type:"Card8",value:0},{name:"hdrSize",type:"Card8",value:4},{name:"major",type:"Card8",value:1}]),B.nameIndex=function(Ie){var we=new Fe.Record("Name INDEX",[{name:"names",type:"INDEX",value:[]}]);we.names=[];for(var $e=0;$e<Ie.length;$e+=1)we.names.push({name:"name_"+$e,type:"NAME",value:Ie[$e]});return we}([Te.postScriptName]),Br(W,me)),Be=(B.topDictIndex=qr(Te),B.globalSubrIndex=new Fe.Record("Global Subr INDEX",[{name:"subrs",type:"INDEX",value:[]}]),B.charsets=function(Ie,we){for(var $e=new Fe.Record("Charsets",[{name:"format",type:"Card8",value:0}]),He=0;He<Ie.length;He+=1){var Ye=$r(Ie[He],we);$e.fields.push({name:"glyph_"+He,type:"SID",value:Ye})}return $e}($,me),B.charStringsIndex=va(A),B.privateDict=(Be={},le=me,(ye=new Fe.Record("Private DICT",[{name:"dict",type:"DICT",value:{}}])).dict=Gn(Yt,Be,le),ye),B.stringIndex=function(Ie){var we=new Fe.Record("String INDEX",[{name:"strings",type:"INDEX",value:[]}]);we.strings=[];for(var $e=0;$e<Ie.length;$e+=1)we.strings.push({name:"string_"+$e,type:"STRING",value:Ie[$e]});return we}(me),B.header.sizeOf()+B.nameIndex.sizeOf()+B.topDictIndex.sizeOf()+B.stringIndex.sizeOf()+B.globalSubrIndex.sizeOf());return W.charset=Be,W.encoding=0,W.charStrings=W.charset+B.charsets.sizeOf(),W.private[1]=W.charStrings+B.charStringsIndex.sizeOf(),Te=Br(W,me),B.topDictIndex=qr(Te),B}},Pi={parse:function(B,T){var N={},B=new Pe.Parser(B,T);return N.version=B.parseVersion(),N.fontRevision=Math.round(1e3*B.parseFixed())/1e3,N.checkSumAdjustment=B.parseULong(),N.magicNumber=B.parseULong(),U.argument(N.magicNumber===1594834165,"Font header has wrong magic number."),N.flags=B.parseUShort(),N.unitsPerEm=B.parseUShort(),N.created=B.parseLongDateTime(),N.modified=B.parseLongDateTime(),N.xMin=B.parseShort(),N.yMin=B.parseShort(),N.xMax=B.parseShort(),N.yMax=B.parseShort(),N.macStyle=B.parseUShort(),N.lowestRecPPEM=B.parseUShort(),N.fontDirectionHint=B.parseShort(),N.indexToLocFormat=B.parseShort(),N.glyphDataFormat=B.parseShort(),N},make:function(A){var T=Math.round(new Date().getTime()/1e3)+2082844800,N=T;return A.createdTimestamp&&(N=A.createdTimestamp+2082844800),new Fe.Table("head",[{name:"version",type:"FIXED",value:65536},{name:"fontRevision",type:"FIXED",value:65536},{name:"checkSumAdjustment",type:"ULONG",value:0},{name:"magicNumber",type:"ULONG",value:1594834165},{name:"flags",type:"USHORT",value:0},{name:"unitsPerEm",type:"USHORT",value:1e3},{name:"created",type:"LONGDATETIME",value:N},{name:"modified",type:"LONGDATETIME",value:T},{name:"xMin",type:"SHORT",value:0},{name:"yMin",type:"SHORT",value:0},{name:"xMax",type:"SHORT",value:0},{name:"yMax",type:"SHORT",value:0},{name:"macStyle",type:"USHORT",value:0},{name:"lowestRecPPEM",type:"USHORT",value:0},{name:"fontDirectionHint",type:"SHORT",value:2},{name:"indexToLocFormat",type:"SHORT",value:0},{name:"glyphDataFormat",type:"SHORT",value:0}],A)}},Se={parse:function(B,T){var N={},B=new Pe.Parser(B,T);return N.version=B.parseVersion(),N.ascender=B.parseShort(),N.descender=B.parseShort(),N.lineGap=B.parseShort(),N.advanceWidthMax=B.parseUShort(),N.minLeftSideBearing=B.parseShort(),N.minRightSideBearing=B.parseShort(),N.xMaxExtent=B.parseShort(),N.caretSlopeRise=B.parseShort(),N.caretSlopeRun=B.parseShort(),N.caretOffset=B.parseShort(),B.relativeOffset+=8,N.metricDataFormat=B.parseShort(),N.numberOfHMetrics=B.parseUShort(),N},make:function(A){return new Fe.Table("hhea",[{name:"version",type:"FIXED",value:65536},{name:"ascender",type:"FWORD",value:0},{name:"descender",type:"FWORD",value:0},{name:"lineGap",type:"FWORD",value:0},{name:"advanceWidthMax",type:"UFWORD",value:0},{name:"minLeftSideBearing",type:"FWORD",value:0},{name:"minRightSideBearing",type:"FWORD",value:0},{name:"xMaxExtent",type:"FWORD",value:0},{name:"caretSlopeRise",type:"SHORT",value:1},{name:"caretSlopeRun",type:"SHORT",value:0},{name:"caretOffset",type:"SHORT",value:0},{name:"reserved1",type:"SHORT",value:0},{name:"reserved2",type:"SHORT",value:0},{name:"reserved3",type:"SHORT",value:0},{name:"reserved4",type:"SHORT",value:0},{name:"metricDataFormat",type:"SHORT",value:0},{name:"numberOfHMetrics",type:"USHORT",value:0}],A)}},it={parse:function(A,T,N,B,W){for(var $,ee,le=new Pe.Parser(A,T),ye=0;ye<B;ye+=1){ye<N&&($=le.parseUShort(),ee=le.parseShort());var me=W.get(ye);me.advanceWidth=$,me.leftSideBearing=ee}},make:function(A){for(var T=new Fe.Table("hmtx",[]),N=0;N<A.length;N+=1){var W=A.get(N),B=W.advanceWidth||0,W=W.leftSideBearing||0;T.fields.push({name:"advanceWidth_"+N,type:"USHORT",value:B}),T.fields.push({name:"leftSideBearing_"+N,type:"SHORT",value:W})}return T}},pt={make:function(A){for(var T=new Fe.Table("ltag",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"numTags",type:"ULONG",value:A.length}]),N="",B=12+4*A.length,W=0;W<A.length;++W){var $=N.indexOf(A[W]);$<0&&($=N.length,N+=A[W]),T.fields.push({name:"offset "+W,type:"USHORT",value:B+$}),T.fields.push({name:"length "+W,type:"USHORT",value:A[W].length})}return T.fields.push({name:"stringPool",type:"CHARARRAY",value:N}),T},parse:function(A,T){for(var N=new Pe.Parser(A,T),B=N.parseULong(),W=(U.argument(B===1,"Unsupported ltag table version."),N.skip("uLong",1),N.parseULong()),$=[],ee=0;ee<W;ee++){for(var le="",ye=T+N.parseUShort(),me=N.parseUShort(),Te=ye;Te<ye+me;++Te)le+=String.fromCharCode(A.getInt8(Te));$.push(le)}return $}},nt={parse:function(B,T){var N={},B=new Pe.Parser(B,T);return N.version=B.parseVersion(),N.numGlyphs=B.parseUShort(),N.version===1&&(N.maxPoints=B.parseUShort(),N.maxContours=B.parseUShort(),N.maxCompositePoints=B.parseUShort(),N.maxCompositeContours=B.parseUShort(),N.maxZones=B.parseUShort(),N.maxTwilightPoints=B.parseUShort(),N.maxStorage=B.parseUShort(),N.maxFunctionDefs=B.parseUShort(),N.maxInstructionDefs=B.parseUShort(),N.maxStackElements=B.parseUShort(),N.maxSizeOfInstructions=B.parseUShort(),N.maxComponentElements=B.parseUShort(),N.maxComponentDepth=B.parseUShort()),N},make:function(A){return new Fe.Table("maxp",[{name:"version",type:"FIXED",value:20480},{name:"numGlyphs",type:"USHORT",value:A}])}},Pt=["copyright","fontFamily","fontSubfamily","uniqueID","fullName","version","postScriptName","trademark","manufacturer","designer","description","manufacturerURL","designerURL","license","licenseURL","reserved","preferredFamily","preferredSubfamily","compatibleFullName","sampleText","postScriptFindFontName","wwsFamily","wwsSubfamily"],Qe={0:"en",1:"fr",2:"de",3:"it",4:"nl",5:"sv",6:"es",7:"da",8:"pt",9:"no",10:"he",11:"ja",12:"ar",13:"fi",14:"el",15:"is",16:"mt",17:"tr",18:"hr",19:"zh-Hant",20:"ur",21:"hi",22:"th",23:"ko",24:"lt",25:"pl",26:"hu",27:"es",28:"lv",29:"se",30:"fo",31:"fa",32:"ru",33:"zh",34:"nl-BE",35:"ga",36:"sq",37:"ro",38:"cz",39:"sk",40:"si",41:"yi",42:"sr",43:"mk",44:"bg",45:"uk",46:"be",47:"uz",48:"kk",49:"az-Cyrl",50:"az-Arab",51:"hy",52:"ka",53:"mo",54:"ky",55:"tg",56:"tk",57:"mn-CN",58:"mn",59:"ps",60:"ks",61:"ku",62:"sd",63:"bo",64:"ne",65:"sa",66:"mr",67:"bn",68:"as",69:"gu",70:"pa",71:"or",72:"ml",73:"kn",74:"ta",75:"te",76:"si",77:"my",78:"km",79:"lo",80:"vi",81:"id",82:"tl",83:"ms",84:"ms-Arab",85:"am",86:"ti",87:"om",88:"so",89:"sw",90:"rw",91:"rn",92:"ny",93:"mg",94:"eo",128:"cy",129:"eu",130:"ca",131:"la",132:"qu",133:"gn",134:"ay",135:"tt",136:"ug",137:"dz",138:"jv",139:"su",140:"gl",141:"af",142:"br",143:"iu",144:"gd",145:"gv",146:"ga",147:"to",148:"el-polyton",149:"kl",150:"az",151:"nn"},Gt={0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:5,11:1,12:4,13:0,14:6,15:0,16:0,17:0,18:0,19:2,20:4,21:9,22:21,23:3,24:29,25:29,26:29,27:29,28:29,29:0,30:0,31:4,32:7,33:25,34:0,35:0,36:0,37:0,38:29,39:29,40:0,41:5,42:7,43:7,44:7,45:7,46:7,47:7,48:7,49:7,50:4,51:24,52:23,53:7,54:7,55:7,56:7,57:27,58:7,59:4,60:4,61:4,62:4,63:26,64:9,65:9,66:9,67:13,68:13,69:11,70:10,71:12,72:17,73:16,74:14,75:15,76:18,77:19,78:20,79:22,80:30,81:0,82:0,83:0,84:4,85:28,86:28,87:28,88:0,89:0,90:0,91:0,92:0,93:0,94:0,128:0,129:0,130:0,131:0,132:0,133:0,134:0,135:7,136:4,137:26,138:0,139:0,140:0,141:0,142:0,143:28,144:0,145:0,146:0,147:0,148:6,149:0,150:0,151:0},ft={1078:"af",1052:"sq",1156:"gsw",1118:"am",5121:"ar-DZ",15361:"ar-BH",3073:"ar",2049:"ar-IQ",11265:"ar-JO",13313:"ar-KW",12289:"ar-LB",4097:"ar-LY",6145:"ary",8193:"ar-OM",16385:"ar-QA",1025:"ar-SA",10241:"ar-SY",7169:"aeb",14337:"ar-AE",9217:"ar-YE",1067:"hy",1101:"as",2092:"az-Cyrl",1068:"az",1133:"ba",1069:"eu",1059:"be",2117:"bn",1093:"bn-IN",8218:"bs-Cyrl",5146:"bs",1150:"br",1026:"bg",1027:"ca",3076:"zh-HK",5124:"zh-MO",2052:"zh",4100:"zh-SG",1028:"zh-TW",1155:"co",1050:"hr",4122:"hr-BA",1029:"cs",1030:"da",1164:"prs",1125:"dv",2067:"nl-BE",1043:"nl",3081:"en-AU",10249:"en-BZ",4105:"en-CA",9225:"en-029",16393:"en-IN",6153:"en-IE",8201:"en-JM",17417:"en-MY",5129:"en-NZ",13321:"en-PH",18441:"en-SG",7177:"en-ZA",11273:"en-TT",2057:"en-GB",1033:"en",12297:"en-ZW",1061:"et",1080:"fo",1124:"fil",1035:"fi",2060:"fr-BE",3084:"fr-CA",1036:"fr",5132:"fr-LU",6156:"fr-MC",4108:"fr-CH",1122:"fy",1110:"gl",1079:"ka",3079:"de-AT",1031:"de",5127:"de-LI",4103:"de-LU",2055:"de-CH",1032:"el",1135:"kl",1095:"gu",1128:"ha",1037:"he",1081:"hi",1038:"hu",1039:"is",1136:"ig",1057:"id",1117:"iu",2141:"iu-Latn",2108:"ga",1076:"xh",1077:"zu",1040:"it",2064:"it-CH",1041:"ja",1099:"kn",1087:"kk",1107:"km",1158:"quc",1159:"rw",1089:"sw",1111:"kok",1042:"ko",1088:"ky",1108:"lo",1062:"lv",1063:"lt",2094:"dsb",1134:"lb",1071:"mk",2110:"ms-BN",1086:"ms",1100:"ml",1082:"mt",1153:"mi",1146:"arn",1102:"mr",1148:"moh",1104:"mn",2128:"mn-CN",1121:"ne",1044:"nb",2068:"nn",1154:"oc",1096:"or",1123:"ps",1045:"pl",1046:"pt",2070:"pt-PT",1094:"pa",1131:"qu-BO",2155:"qu-EC",3179:"qu",1048:"ro",1047:"rm",1049:"ru",9275:"smn",4155:"smj-NO",5179:"smj",3131:"se-FI",1083:"se",2107:"se-SE",8251:"sms",6203:"sma-NO",7227:"sms",1103:"sa",7194:"sr-Cyrl-BA",3098:"sr",6170:"sr-Latn-BA",2074:"sr-Latn",1132:"nso",1074:"tn",1115:"si",1051:"sk",1060:"sl",11274:"es-AR",16394:"es-BO",13322:"es-CL",9226:"es-CO",5130:"es-CR",7178:"es-DO",12298:"es-EC",17418:"es-SV",4106:"es-GT",18442:"es-HN",2058:"es-MX",19466:"es-NI",6154:"es-PA",15370:"es-PY",10250:"es-PE",20490:"es-PR",3082:"es",1034:"es",21514:"es-US",14346:"es-UY",8202:"es-VE",2077:"sv-FI",1053:"sv",1114:"syr",1064:"tg",2143:"tzm",1097:"ta",1092:"tt",1098:"te",1054:"th",1105:"bo",1055:"tr",1090:"tk",1152:"ug",1058:"uk",1070:"hsb",1056:"ur",2115:"uz-Cyrl",1091:"uz",1066:"vi",1106:"cy",1160:"wo",1157:"sah",1144:"ii",1130:"yo"},Dt="utf-16",gt={0:"macintosh",1:"x-mac-japanese",2:"x-mac-chinesetrad",3:"x-mac-korean",6:"x-mac-greek",7:"x-mac-cyrillic",9:"x-mac-devanagai",10:"x-mac-gurmukhi",11:"x-mac-gujarati",12:"x-mac-oriya",13:"x-mac-bengali",14:"x-mac-tamil",15:"x-mac-telugu",16:"x-mac-kannada",17:"x-mac-malayalam",18:"x-mac-sinhalese",19:"x-mac-burmese",20:"x-mac-khmer",21:"x-mac-thai",22:"x-mac-lao",23:"x-mac-georgian",24:"x-mac-armenian",25:"x-mac-chinesesimp",26:"x-mac-tibetan",27:"x-mac-mongolian",28:"x-mac-ethiopic",29:"x-mac-ce",30:"x-mac-vietnamese",31:"x-mac-extarabic"},Rr={15:"x-mac-icelandic",17:"x-mac-turkish",18:"x-mac-croatian",24:"x-mac-ce",25:"x-mac-ce",26:"x-mac-ce",27:"x-mac-ce",28:"x-mac-ce",30:"x-mac-icelandic",37:"x-mac-romanian",38:"x-mac-ce",39:"x-mac-ce",40:"x-mac-ce",143:"x-mac-inuit",146:"x-mac-gaelic"};function Sr(A,T,N){switch(A){case 0:return Dt;case 1:return Rr[N]||gt[T];case 3:if(T===1||T===10)return Dt}}function dr(A){var T,N={};for(T in A)N[A[T]]=parseInt(T);return N}function gr(A,T,N,B,W,$){return new Fe.Record("NameRecord",[{name:"platformID",type:"USHORT",value:A},{name:"encodingID",type:"USHORT",value:T},{name:"languageID",type:"USHORT",value:N},{name:"nameID",type:"USHORT",value:B},{name:"length",type:"USHORT",value:W},{name:"offset",type:"USHORT",value:$}])}function na(A,T){if((N=function($,ee){var le=$.length,ye=ee.length-le+1;e:for(var me=0;me<ye;me++)for(;me<ye;me++){for(var Te=0;Te<le;Te++)if(ee[me+Te]!==$[Te])continue e;return me}return-1}(A,T))<0)for(var N=T.length,B=0,W=A.length;B<W;++B)T.push(A[B]);return N}var Tn={parse:function(A,T,N){for(var B={},W=new Pe.Parser(A,T),T=W.parseUShort(),$=W.parseUShort(),ee=W.offset+W.parseUShort(),le=0;le<$;le++){var $e=W.parseUShort(),ye=W.parseUShort(),me=W.parseUShort(),Te=W.parseUShort(),Te=Pt[Te]||Te,Be=W.parseUShort(),Ie=W.parseUShort(),we=function(Ye,Ue,Ge){switch(Ye){case 0:if(Ue===65535)return"und";if(Ge)return Ge[Ue];break;case 1:return Qe[Ue];case 3:return ft[Ue]}}($e,me,N),$e=Sr($e,ye,me);$e!==void 0&&we!==void 0&&(ye=void 0,(ye=$e===Dt?q.UTF16(A,ee+Ie,Be):q.MACSTRING(A,ee+Ie,Be,$e))&&((me=(me=B[Te])===void 0?B[Te]={}:me)[we]=ye))}return T===1&&W.parseUShort(),B},make:function(A,T){var N,B=[],W={},$=dr(Pt);for(N in A){var ee=$[N];if(ee===void 0&&(ee=N),Ie=parseInt(ee),isNaN(Ie))throw new Error('Name table entry "'+N+'" does not exist, see nameTableNames for complete list.');W[Ie]=A[N],B.push(Ie)}for(var le=dr(Qe),ye=dr(ft),me=[],Te=[],Be=0;Be<B.length;Be++){var Ie,we,$e=W[Ie=B[Be]];for(we in $e){var He=$e[we],kt=1,Ye=le[we],Ue=Gt[Ye],Ge=Sr(kt,Ue,Ye),Ge=Q.MACSTRING(He,Ge),_t=(Ge===void 0&&(kt=0,(Ye=T.indexOf(we))<0&&(Ye=T.length,T.push(we)),Ue=4,Ge=Q.UTF16(He)),na(Ge,Te)),kt=(me.push(gr(kt,Ue,Ye,Ie,Ge.length,_t)),ye[we]);kt!==void 0&&(Ye=na(Ue=Q.UTF16(He),Te),me.push(gr(3,1,kt,Ie,Ue.length,Ye)))}}me.sort(function(Ft,vr){return Ft.platformID-vr.platformID||Ft.encodingID-vr.encodingID||Ft.languageID-vr.languageID||Ft.nameID-vr.nameID});for(var St=new Fe.Table("name",[{name:"format",type:"USHORT",value:0},{name:"count",type:"USHORT",value:me.length},{name:"stringOffset",type:"USHORT",value:6+12*me.length}]),jt=0;jt<me.length;jt++)St.fields.push({name:"record_"+jt,type:"RECORD",value:me[jt]});return St.fields.push({name:"strings",type:"LITERAL",value:Te}),St}},Zn=[{begin:0,end:127},{begin:128,end:255},{begin:256,end:383},{begin:384,end:591},{begin:592,end:687},{begin:688,end:767},{begin:768,end:879},{begin:880,end:1023},{begin:11392,end:11519},{begin:1024,end:1279},{begin:1328,end:1423},{begin:1424,end:1535},{begin:42240,end:42559},{begin:1536,end:1791},{begin:1984,end:2047},{begin:2304,end:2431},{begin:2432,end:2559},{begin:2560,end:2687},{begin:2688,end:2815},{begin:2816,end:2943},{begin:2944,end:3071},{begin:3072,end:3199},{begin:3200,end:3327},{begin:3328,end:3455},{begin:3584,end:3711},{begin:3712,end:3839},{begin:4256,end:4351},{begin:6912,end:7039},{begin:4352,end:4607},{begin:7680,end:7935},{begin:7936,end:8191},{begin:8192,end:8303},{begin:8304,end:8351},{begin:8352,end:8399},{begin:8400,end:8447},{begin:8448,end:8527},{begin:8528,end:8591},{begin:8592,end:8703},{begin:8704,end:8959},{begin:8960,end:9215},{begin:9216,end:9279},{begin:9280,end:9311},{begin:9312,end:9471},{begin:9472,end:9599},{begin:9600,end:9631},{begin:9632,end:9727},{begin:9728,end:9983},{begin:9984,end:10175},{begin:12288,end:12351},{begin:12352,end:12447},{begin:12448,end:12543},{begin:12544,end:12591},{begin:12592,end:12687},{begin:43072,end:43135},{begin:12800,end:13055},{begin:13056,end:13311},{begin:44032,end:55215},{begin:55296,end:57343},{begin:67840,end:67871},{begin:19968,end:40959},{begin:57344,end:63743},{begin:12736,end:12783},{begin:64256,end:64335},{begin:64336,end:65023},{begin:65056,end:65071},{begin:65040,end:65055},{begin:65104,end:65135},{begin:65136,end:65279},{begin:65280,end:65519},{begin:65520,end:65535},{begin:3840,end:4095},{begin:1792,end:1871},{begin:1920,end:1983},{begin:3456,end:3583},{begin:4096,end:4255},{begin:4608,end:4991},{begin:5024,end:5119},{begin:5120,end:5759},{begin:5760,end:5791},{begin:5792,end:5887},{begin:6016,end:6143},{begin:6144,end:6319},{begin:10240,end:10495},{begin:40960,end:42127},{begin:5888,end:5919},{begin:66304,end:66351},{begin:66352,end:66383},{begin:66560,end:66639},{begin:118784,end:119039},{begin:119808,end:120831},{begin:1044480,end:1048573},{begin:65024,end:65039},{begin:917504,end:917631},{begin:6400,end:6479},{begin:6480,end:6527},{begin:6528,end:6623},{begin:6656,end:6687},{begin:11264,end:11359},{begin:11568,end:11647},{begin:19904,end:19967},{begin:43008,end:43055},{begin:65536,end:65663},{begin:65856,end:65935},{begin:66432,end:66463},{begin:66464,end:66527},{begin:66640,end:66687},{begin:66688,end:66735},{begin:67584,end:67647},{begin:68096,end:68191},{begin:119552,end:119647},{begin:73728,end:74751},{begin:119648,end:119679},{begin:7040,end:7103},{begin:7168,end:7247},{begin:7248,end:7295},{begin:43136,end:43231},{begin:43264,end:43311},{begin:43312,end:43359},{begin:43520,end:43615},{begin:65936,end:65999},{begin:66e3,end:66047},{begin:66208,end:66271},{begin:127024,end:127135}],Yr={parse:function(A,T){var N={},B=new Pe.Parser(A,T);N.version=B.parseUShort(),N.xAvgCharWidth=B.parseShort(),N.usWeightClass=B.parseUShort(),N.usWidthClass=B.parseUShort(),N.fsType=B.parseUShort(),N.ySubscriptXSize=B.parseShort(),N.ySubscriptYSize=B.parseShort(),N.ySubscriptXOffset=B.parseShort(),N.ySubscriptYOffset=B.parseShort(),N.ySuperscriptXSize=B.parseShort(),N.ySuperscriptYSize=B.parseShort(),N.ySuperscriptXOffset=B.parseShort(),N.ySuperscriptYOffset=B.parseShort(),N.yStrikeoutSize=B.parseShort(),N.yStrikeoutPosition=B.parseShort(),N.sFamilyClass=B.parseShort(),N.panose=[];for(var W=0;W<10;W++)N.panose[W]=B.parseByte();return N.ulUnicodeRange1=B.parseULong(),N.ulUnicodeRange2=B.parseULong(),N.ulUnicodeRange3=B.parseULong(),N.ulUnicodeRange4=B.parseULong(),N.achVendID=String.fromCharCode(B.parseByte(),B.parseByte(),B.parseByte(),B.parseByte()),N.fsSelection=B.parseUShort(),N.usFirstCharIndex=B.parseUShort(),N.usLastCharIndex=B.parseUShort(),N.sTypoAscender=B.parseShort(),N.sTypoDescender=B.parseShort(),N.sTypoLineGap=B.parseShort(),N.usWinAscent=B.parseUShort(),N.usWinDescent=B.parseUShort(),1<=N.version&&(N.ulCodePageRange1=B.parseULong(),N.ulCodePageRange2=B.parseULong()),2<=N.version&&(N.sxHeight=B.parseShort(),N.sCapHeight=B.parseShort(),N.usDefaultChar=B.parseUShort(),N.usBreakChar=B.parseUShort(),N.usMaxContent=B.parseUShort()),N},make:function(A){return new Fe.Table("OS/2",[{name:"version",type:"USHORT",value:3},{name:"xAvgCharWidth",type:"SHORT",value:0},{name:"usWeightClass",type:"USHORT",value:0},{name:"usWidthClass",type:"USHORT",value:0},{name:"fsType",type:"USHORT",value:0},{name:"ySubscriptXSize",type:"SHORT",value:650},{name:"ySubscriptYSize",type:"SHORT",value:699},{name:"ySubscriptXOffset",type:"SHORT",value:0},{name:"ySubscriptYOffset",type:"SHORT",value:140},{name:"ySuperscriptXSize",type:"SHORT",value:650},{name:"ySuperscriptYSize",type:"SHORT",value:699},{name:"ySuperscriptXOffset",type:"SHORT",value:0},{name:"ySuperscriptYOffset",type:"SHORT",value:479},{name:"yStrikeoutSize",type:"SHORT",value:49},{name:"yStrikeoutPosition",type:"SHORT",value:258},{name:"sFamilyClass",type:"SHORT",value:0},{name:"bFamilyType",type:"BYTE",value:0},{name:"bSerifStyle",type:"BYTE",value:0},{name:"bWeight",type:"BYTE",value:0},{name:"bProportion",type:"BYTE",value:0},{name:"bContrast",type:"BYTE",value:0},{name:"bStrokeVariation",type:"BYTE",value:0},{name:"bArmStyle",type:"BYTE",value:0},{name:"bLetterform",type:"BYTE",value:0},{name:"bMidline",type:"BYTE",value:0},{name:"bXHeight",type:"BYTE",value:0},{name:"ulUnicodeRange1",type:"ULONG",value:0},{name:"ulUnicodeRange2",type:"ULONG",value:0},{name:"ulUnicodeRange3",type:"ULONG",value:0},{name:"ulUnicodeRange4",type:"ULONG",value:0},{name:"achVendID",type:"CHARARRAY",value:"XXXX"},{name:"fsSelection",type:"USHORT",value:0},{name:"usFirstCharIndex",type:"USHORT",value:0},{name:"usLastCharIndex",type:"USHORT",value:0},{name:"sTypoAscender",type:"SHORT",value:0},{name:"sTypoDescender",type:"SHORT",value:0},{name:"sTypoLineGap",type:"SHORT",value:0},{name:"usWinAscent",type:"USHORT",value:0},{name:"usWinDescent",type:"USHORT",value:0},{name:"ulCodePageRange1",type:"ULONG",value:0},{name:"ulCodePageRange2",type:"ULONG",value:0},{name:"sxHeight",type:"SHORT",value:0},{name:"sCapHeight",type:"SHORT",value:0},{name:"usDefaultChar",type:"USHORT",value:0},{name:"usBreakChar",type:"USHORT",value:0},{name:"usMaxContext",type:"USHORT",value:0}],A)},unicodeRanges:Zn,getUnicodeRange:function(A){for(var T=0;T<Zn.length;T+=1){var N=Zn[T];if(A>=N.begin&&A<N.end)return T}return-1}},Bi={parse:function(A,T){var N={},B=new Pe.Parser(A,T);switch(N.version=B.parseVersion(),N.italicAngle=B.parseFixed(),N.underlinePosition=B.parseShort(),N.underlineThickness=B.parseShort(),N.isFixedPitch=B.parseULong(),N.minMemType42=B.parseULong(),N.maxMemType42=B.parseULong(),N.minMemType1=B.parseULong(),N.maxMemType1=B.parseULong(),N.version){case 1:N.names=Ce.slice();break;case 2:N.numberOfGlyphs=B.parseUShort(),N.glyphNameIndex=new Array(N.numberOfGlyphs);for(var W=0;W<N.numberOfGlyphs;W++)N.glyphNameIndex[W]=B.parseUShort();N.names=[];for(var $,ee=0;ee<N.numberOfGlyphs;ee++)N.glyphNameIndex[ee]>=Ce.length&&($=B.parseChar(),N.names.push(B.parseString($)));break;case 2.5:N.numberOfGlyphs=B.parseUShort(),N.offset=new Array(N.numberOfGlyphs);for(var le=0;le<N.numberOfGlyphs;le++)N.offset[le]=B.parseChar()}return N},make:function(){return new Fe.Table("post",[{name:"version",type:"FIXED",value:196608},{name:"italicAngle",type:"FIXED",value:0},{name:"underlinePosition",type:"FWORD",value:0},{name:"underlineThickness",type:"FWORD",value:0},{name:"isFixedPitch",type:"ULONG",value:0},{name:"minMemType42",type:"ULONG",value:0},{name:"maxMemType42",type:"ULONG",value:0},{name:"minMemType1",type:"ULONG",value:0},{name:"maxMemType1",type:"ULONG",value:0}])}},On=new Array(9),Mn=(On[1]=function(){var A=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:1,coverage:this.parsePointer(Me.coverage),deltaGlyphId:this.parseUShort()}:T===2?{substFormat:2,coverage:this.parsePointer(Me.coverage),substitute:this.parseOffset16List()}:void U.assert(!1,"0x"+A.toString(16)+": lookup type 1 format must be 1 or 2.")},On[2]=function(){var A=this.parseUShort();return U.argument(A===1,"GSUB Multiple Substitution Subtable identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(Me.coverage),sequences:this.parseListOfLists()}},On[3]=function(){var A=this.parseUShort();return U.argument(A===1,"GSUB Alternate Substitution Subtable identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(Me.coverage),alternateSets:this.parseListOfLists()}},On[4]=function(){var A=this.parseUShort();return U.argument(A===1,"GSUB ligature table identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(Me.coverage),ligatureSets:this.parseListOfLists(function(){return{ligGlyph:this.parseUShort(),components:this.parseUShortList(this.parseUShort()-1)}})}},{sequenceIndex:Me.uShort,lookupListIndex:Me.uShort});On[5]=function(){var A,T,N=this.offset+this.relativeOffset,B=this.parseUShort();return B===1?{substFormat:B,coverage:this.parsePointer(Me.coverage),ruleSets:this.parseListOfLists(function(){var W=this.parseUShort(),$=this.parseUShort();return{input:this.parseUShortList(W-1),lookupRecords:this.parseRecordList($,Mn)}})}:B===2?{substFormat:B,coverage:this.parsePointer(Me.coverage),classDef:this.parsePointer(Me.classDef),classSets:this.parseListOfLists(function(){var W=this.parseUShort(),$=this.parseUShort();return{classes:this.parseUShortList(W-1),lookupRecords:this.parseRecordList($,Mn)}})}:B===3?(A=this.parseUShort(),T=this.parseUShort(),{substFormat:B,coverages:this.parseList(A,Me.pointer(Me.coverage)),lookupRecords:this.parseRecordList(T,Mn)}):void U.assert(!1,"0x"+N.toString(16)+": lookup type 5 format must be 1, 2 or 3.")},On[6]=function(){var A=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{substFormat:1,coverage:this.parsePointer(Me.coverage),chainRuleSets:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Mn)}})}:T===2?{substFormat:2,coverage:this.parsePointer(Me.coverage),backtrackClassDef:this.parsePointer(Me.classDef),inputClassDef:this.parsePointer(Me.classDef),lookaheadClassDef:this.parsePointer(Me.classDef),chainClassSet:this.parseListOfLists(function(){return{backtrack:this.parseUShortList(),input:this.parseUShortList(this.parseShort()-1),lookahead:this.parseUShortList(),lookupRecords:this.parseRecordList(Mn)}})}:T===3?{substFormat:3,backtrackCoverage:this.parseList(Me.pointer(Me.coverage)),inputCoverage:this.parseList(Me.pointer(Me.coverage)),lookaheadCoverage:this.parseList(Me.pointer(Me.coverage)),lookupRecords:this.parseRecordList(Mn)}:void U.assert(!1,"0x"+A.toString(16)+": lookup type 6 format must be 1, 2 or 3.")},On[7]=function(){var A=this.parseUShort(),A=(U.argument(A===1,"GSUB Extension Substitution subtable identifier-format must be 1"),this.parseUShort()),T=new Me(this.data,this.offset+this.parseULong());return{substFormat:1,lookupType:A,extension:On[A].call(T)}},On[8]=function(){var A=this.parseUShort();return U.argument(A===1,"GSUB Reverse Chaining Contextual Single Substitution Subtable identifier-format must be 1"),{substFormat:A,coverage:this.parsePointer(Me.coverage),backtrackCoverage:this.parseList(Me.pointer(Me.coverage)),lookaheadCoverage:this.parseList(Me.pointer(Me.coverage)),substitutes:this.parseUShortList()}};var xn=new Array(9);xn[1]=function(A){return A.substFormat===1?new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Fe.Coverage(A.coverage)},{name:"deltaGlyphID",type:"USHORT",value:A.deltaGlyphId}]):new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:2},{name:"coverage",type:"TABLE",value:new Fe.Coverage(A.coverage)}].concat(Fe.ushortList("substitute",A.substitute)))},xn[3]=function(A){return U.assert(A.substFormat===1,"Lookup type 3 substFormat must be 1."),new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Fe.Coverage(A.coverage)}].concat(Fe.tableList("altSet",A.alternateSets,function(T){return new Fe.Table("alternateSetTable",Fe.ushortList("alternate",T))})))},xn[4]=function(A){return U.assert(A.substFormat===1,"Lookup type 4 substFormat must be 1."),new Fe.Table("substitutionTable",[{name:"substFormat",type:"USHORT",value:1},{name:"coverage",type:"TABLE",value:new Fe.Coverage(A.coverage)}].concat(Fe.tableList("ligSet",A.ligatureSets,function(T){return new Fe.Table("ligatureSetTable",Fe.tableList("ligature",T,function(N){return new Fe.Table("ligatureTable",[{name:"ligGlyph",type:"USHORT",value:N.ligGlyph}].concat(Fe.ushortList("component",N.components,N.components.length+1)))}))})))};var rs={parse:function(A,T){return T=(A=new Me(A,T=T||0)).parseVersion(1),U.argument(T===1||T===1.1,"Unsupported GSUB table version."),T===1?{version:T,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(On)}:{version:T,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(On),variations:A.parseFeatureVariationsList()}},make:function(A){return new Fe.Table("GSUB",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Fe.ScriptList(A.scripts)},{name:"features",type:"TABLE",value:new Fe.FeatureList(A.features)},{name:"lookups",type:"TABLE",value:new Fe.LookupList(A.lookups,xn)}])}},ol={parse:function(A,T){for(var N=new Pe.Parser(A,T),B=N.parseULong(),W=(U.argument(B===1,"Unsupported META table version."),N.parseULong(),N.parseULong(),N.parseULong()),$={},ee=0;ee<W;ee++){var le=N.parseTag(),me=N.parseULong(),ye=N.parseULong(),me=q.UTF8(A,T+me,ye);$[le]=me}return $},make:function(A){var T,N=Object.keys(A).length,B="",W=16+12*N,$=new Fe.Table("meta",[{name:"version",type:"ULONG",value:1},{name:"flags",type:"ULONG",value:0},{name:"offset",type:"ULONG",value:W},{name:"numTags",type:"ULONG",value:N}]);for(T in A){var ee=B.length;B+=A[T],$.fields.push({name:"tag "+T,type:"TAG",value:T}),$.fields.push({name:"offset "+T,type:"ULONG",value:W+ee}),$.fields.push({name:"length "+T,type:"ULONG",value:A[T].length})}return $.fields.push({name:"stringPool",type:"CHARARRAY",value:B}),$}};function Fi(A){return Math.log(A)/Math.log(2)|0}function go(A){for(;A.length%4!=0;)A.push(0);for(var T=0,N=0;N<A.length;N+=4)T+=(A[N]<<24)+(A[N+1]<<16)+(A[N+2]<<8)+A[N+3];return T%=Math.pow(2,32)}function Ui(A,T,N,B){return new Fe.Record("Table Record",[{name:"tag",type:"TAG",value:A!==void 0?A:""},{name:"checkSum",type:"ULONG",value:T!==void 0?T:0},{name:"offset",type:"ULONG",value:N!==void 0?N:0},{name:"length",type:"ULONG",value:B!==void 0?B:0}])}function sl(A){for(var T=new Fe.Table("sfnt",[{name:"version",type:"TAG",value:"OTTO"},{name:"numTables",type:"USHORT",value:0},{name:"searchRange",type:"USHORT",value:0},{name:"entrySelector",type:"USHORT",value:0},{name:"rangeShift",type:"USHORT",value:0}]),N=(T.tables=A,T.numTables=A.length,Math.pow(2,Fi(T.numTables))),B=(T.searchRange=16*N,T.entrySelector=Fi(N),T.rangeShift=16*T.numTables-T.searchRange,[]),W=[],$=T.sizeOf()+Ui().sizeOf()*T.numTables;$%4!=0;)$+=1,W.push({name:"padding",type:"BYTE",value:0});for(var ee=0;ee<A.length;ee+=1){var le=A[ee],ye=(U.argument(le.tableName.length===4,"Table name"+le.tableName+" is invalid."),le.sizeOf()),me=Ui(le.tableName,go(le.encode()),$,ye);for(B.push({name:me.tag+" Table Record",type:"RECORD",value:me}),W.push({name:le.tableName+" table",type:"RECORD",value:le}),$+=ye,U.argument(!isNaN($),"Something went wrong calculating the offset.");$%4!=0;)$+=1,W.push({name:"padding",type:"BYTE",value:0})}return B.sort(function(Te,Be){return Te.value.tag>Be.value.tag?1:-1}),T.fields=T.fields.concat(B),T.fields=T.fields.concat(W),T}function Ln(A,T,N){for(var B=0;B<T.length;B+=1){var W=A.charToGlyphIndex(T[B]);if(0<W)return A.glyphs.get(W).getMetrics()}return N}var ns={make:sl,fontToTable:function(A){for(var T,N=[],B=[],W=[],$=[],ee=[],le=[],ye=[],me=0,Te=0,Be=0,Ie=0,we=0,$e=0;$e<A.glyphs.length;$e+=1){var He=A.glyphs.get($e),Ye=0|He.unicode;if(isNaN(He.advanceWidth))throw new Error("Glyph "+He.name+" ("+$e+"): advanceWidth is not a number.");(Ye<T||T===void 0)&&0<Ye&&(T=Ye),me<Ye&&(me=Ye);var Ye=Yr.getUnicodeRange(Ye);if(Ye<32)Te|=1<<Ye;else if(Ye<64)Be|=1<<Ye-32;else if(Ye<96)Ie|=1<<Ye-64;else{if(!(Ye<123))throw new Error("Unicode ranges bits > 123 are reserved for internal usage");we|=1<<Ye-96}He.name!==".notdef"&&(Ye=He.getMetrics(),N.push(Ye.xMin),B.push(Ye.yMin),W.push(Ye.xMax),$.push(Ye.yMax),le.push(Ye.leftSideBearing),ye.push(Ye.rightSideBearing),ee.push(He.advanceWidth))}var Ue,Ge={xMin:Math.min.apply(null,N),yMin:Math.min.apply(null,B),xMax:Math.max.apply(null,W),yMax:Math.max.apply(null,$),advanceWidthMax:Math.max.apply(null,ee),advanceWidthAvg:function(Fr){for(var fi=0,Hn=0;Hn<Fr.length;Hn+=1)fi+=Fr[Hn];return fi/Fr.length}(ee),minLeftSideBearing:Math.min.apply(null,le),maxLeftSideBearing:Math.max.apply(null,le),minRightSideBearing:Math.min.apply(null,ye)},_t=(Ge.ascender=A.ascender,Ge.descender=A.descender,Pi.make({flags:3,unitsPerEm:A.unitsPerEm,xMin:Ge.xMin,yMin:Ge.yMin,xMax:Ge.xMax,yMax:Ge.yMax,lowestRecPPEM:3,createdTimestamp:A.createdTimestamp})),kt=Se.make({ascender:Ge.ascender,descender:Ge.descender,advanceWidthMax:Ge.advanceWidthMax,minLeftSideBearing:Ge.minLeftSideBearing,minRightSideBearing:Ge.minRightSideBearing,xMaxExtent:Ge.maxLeftSideBearing+(Ge.xMax-Ge.xMin),numberOfHMetrics:A.glyphs.length}),St=nt.make(A.glyphs.length),jt=Yr.make({xAvgCharWidth:Math.round(Ge.advanceWidthAvg),usWeightClass:A.tables.os2.usWeightClass,usWidthClass:A.tables.os2.usWidthClass,usFirstCharIndex:T,usLastCharIndex:me,ulUnicodeRange1:Te,ulUnicodeRange2:Be,ulUnicodeRange3:Ie,ulUnicodeRange4:we,fsSelection:A.tables.os2.fsSelection,sTypoAscender:Ge.ascender,sTypoDescender:Ge.descender,sTypoLineGap:0,usWinAscent:Ge.yMax,usWinDescent:Math.abs(Ge.yMin),ulCodePageRange1:1,sxHeight:Ln(A,"xyvw",{yMax:Math.round(Ge.ascender/2)}).yMax,sCapHeight:Ln(A,"HIKLEFJMNTZBDPRAGOQSUVWXY",Ge).yMax,usDefaultChar:A.hasChar(" ")?32:0,usBreakChar:A.hasChar(" ")?32:0}),Ft=it.make(A.glyphs),vr=oe.make(A.glyphs),pr=A.getEnglishName("fontFamily"),ar=A.getEnglishName("fontSubfamily"),lr=pr+" "+ar,Zt=(Zt=A.getEnglishName("postScriptName"))||pr.replace(/\s/g,"")+"-"+ar,Ar={};for(Ue in A.names)Ar[Ue]=A.names[Ue];Ar.uniqueID||(Ar.uniqueID={en:A.getEnglishName("manufacturer")+":"+lr}),Ar.postScriptName||(Ar.postScriptName={en:Zt}),Ar.preferredFamily||(Ar.preferredFamily=A.names.fontFamily),Ar.preferredSubfamily||(Ar.preferredSubfamily=A.names.fontSubfamily);var rn=[],tn=Tn.make(Ar,rn),rn=0<rn.length?pt.make(rn):void 0,Vn=Bi.make(),lr=Ba.make(A.glyphs,{version:A.getEnglishName("version"),fullName:lr,familyName:pr,weightName:ar,postScriptName:Zt,unitsPerEm:A.unitsPerEm,fontBBox:[0,Ge.yMin,Ge.ascender,Ge.advanceWidthMax]}),pr=A.metas&&0<Object.keys(A.metas).length?ol.make(A.metas):void 0,ar=[_t,kt,St,jt,tn,vr,Vn,lr,Ft];rn&&ar.push(rn),A.tables.gsub&&ar.push(rs.make(A.tables.gsub)),pr&&ar.push(pr);for(var dn=go((Zt=sl(ar)).encode()),ur=Zt.fields,Hr=!1,ir=0;ir<ur.length;ir+=1)if(ur[ir].name==="head table"){ur[ir].value.checkSumAdjustment=2981146554-dn,Hr=!0;break}if(Hr)return Zt;throw new Error("Could not find head table with checkSum to adjust.")},computeCheckSum:go};function vo(A,T){for(var N=0,B=A.length-1;N<=B;){var W=N+B>>>1,$=A[W].tag;if($===T)return W;$<T?N=1+W:B=W-1}return-N-1}function bo(A,T){for(var N=0,B=A.length-1;N<=B;){var W=N+B>>>1,$=A[W];if($===T)return W;$<T?N=1+W:B=W-1}return-N-1}function Fa(A,T){for(var N=0,B=A.length-1;N<=B;){var W,$=N+B>>>1,ee=(W=A[$]).start;if(ee===T)return W;ee<T?N=1+$:B=$-1}if(0<N)return T>(W=A[N-1]).end?0:W}function Gi(A,T){this.font=A,this.tableName=T}function zi(A){Gi.call(this,A,"gpos")}function _n(A){Gi.call(this,A,"gsub")}function ll(A,T,N){for(var B=A.subtables,W=0;W<B.length;W++){var $=B[W];if($.substFormat===T)return $}if(N)return B.push(N),N}function as(A){for(var T=new ArrayBuffer(A.length),N=new Uint8Array(T),B=0;B<A.length;++B)N[B]=A[B];return T}function Ua(A,T){if(!A)throw T}function xo(A,T,N,B,W){var $=0<(T&B)?($=A.parseByte(),N+($=T&W?$:-$)):0<(T&W)?N:N+A.parseShort();return $}function Lu(A,T,N){var B,W=new Pe.Parser(T,N);if(A.numberOfContours=W.parseShort(),A._xMin=W.parseShort(),A._yMin=W.parseShort(),A._xMax=W.parseShort(),A._yMax=W.parseShort(),0<A.numberOfContours){for(var $=A.endPointIndices=[],ee=0;ee<A.numberOfContours;ee+=1)$.push(W.parseUShort());A.instructionLength=W.parseUShort(),A.instructions=[];for(var le=0;le<A.instructionLength;le+=1)A.instructions.push(W.parseByte());for(var ye=$[$.length-1]+1,me=[],Te=0;Te<ye;Te+=1)if(B=W.parseByte(),me.push(B),0<(8&B))for(var Be=W.parseByte(),Ie=0;Ie<Be;Ie+=1)me.push(B),Te+=1;if(U.argument(me.length===ye,"Bad flags."),0<$.length){var we,$e=[];if(0<ye){for(var He=0;He<ye;He+=1)B=me[He],(we={}).onCurve=!!(1&B),we.lastPointOfContour=0<=$.indexOf(He),$e.push(we);for(var Ye=0,Ue=0;Ue<ye;Ue+=1)B=me[Ue],(we=$e[Ue]).x=xo(W,B,Ye,2,16),Ye=we.x;for(var Ge=0,_t=0;_t<ye;_t+=1)B=me[_t],(we=$e[_t]).y=xo(W,B,Ge,4,32),Ge=we.y}A.points=$e}else A.points=[]}else if(A.numberOfContours===0)A.points=[];else{A.isComposite=!0,A.points=[],A.components=[];for(var kt=!0;kt;){me=W.parseUShort();var St={glyphIndex:W.parseUShort(),xScale:1,scale01:0,scale10:0,yScale:1,dx:0,dy:0};0<(1&me)?0<(2&me)?(St.dx=W.parseShort(),St.dy=W.parseShort()):St.matchedPoints=[W.parseUShort(),W.parseUShort()]:0<(2&me)?(St.dx=W.parseChar(),St.dy=W.parseChar()):St.matchedPoints=[W.parseByte(),W.parseByte()],0<(8&me)?St.xScale=St.yScale=W.parseF2Dot14():0<(64&me)?(St.xScale=W.parseF2Dot14(),St.yScale=W.parseF2Dot14()):0<(128&me)&&(St.xScale=W.parseF2Dot14(),St.scale01=W.parseF2Dot14(),St.scale10=W.parseF2Dot14(),St.yScale=W.parseF2Dot14()),A.components.push(St),kt=!!(32&me)}if(256&me){A.instructionLength=W.parseUShort(),A.instructions=[];for(var jt=0;jt<A.instructionLength;jt+=1)A.instructions.push(W.parseByte())}}}function is(A,T){for(var N=[],B=0;B<A.length;B+=1){var W=A[B],W={x:T.xScale*W.x+T.scale01*W.y+T.dx,y:T.scale10*W.x+T.yScale*W.y+T.dy,onCurve:W.onCurve,lastPointOfContour:W.lastPointOfContour};N.push(W)}return N}function Vi(A){var T=new te;if(A)for(var N=function(Be){for(var Ie=[],we=[],$e=0;$e<Be.length;$e+=1){var He=Be[$e];we.push(He),He.lastPointOfContour&&(Ie.push(we),we=[])}return U.argument(we.length===0,"There are still points left in the current contour."),Ie}(A),B=0;B<N.length;++B){var W,$=N[B],ee=$[$.length-1],le=$[0];ee.onCurve?T.moveTo(ee.x,ee.y):le.onCurve?T.moveTo(le.x,le.y):(W={x:.5*(ee.x+le.x),y:.5*(ee.y+le.y)},T.moveTo(W.x,W.y));for(var ye=0;ye<$.length;++ye){var me,Te=ee,ee=le,le=$[(ye+1)%$.length];ee.onCurve?T.lineTo(ee.x,ee.y):(me=le,Te.onCurve||(ee.x,Te.x,ee.y,Te.y),le.onCurve||(me={x:.5*(ee.x+le.x),y:.5*(ee.y+le.y)}),T.quadraticCurveTo(ee.x,ee.y,me.x,me.y))}T.closePath()}return T}function os(A,T){if(T.isComposite)for(var N=0;N<T.components.length;N+=1){var B=T.components[N],W=A.get(B.glyphIndex);if(W.getPath(),W.points){var $=void 0;if(B.matchedPoints===void 0)$=is(W.points,B);else{if(B.matchedPoints[0]>T.points.length-1||B.matchedPoints[1]>W.points.length-1)throw Error("Matched points out of range in "+T.name);var ee=T.points[B.matchedPoints[0]],le=W.points[B.matchedPoints[1]],B={xScale:B.xScale,scale01:B.scale01,scale10:B.scale10,yScale:B.yScale,dx:0,dy:0},le=is([le],B)[0];B.dx=ee.x-le.x,B.dy=ee.y-le.y,$=is(W.points,B)}T.points=T.points.concat($)}}return Vi(T.points)}(zi.prototype=Gi.prototype={searchTag:vo,binSearch:bo,getTable:function(A){var T=this.font.tables[this.tableName];return T=!T&&A?this.font.tables[this.tableName]=this.createDefaultTable():T},getScriptNames:function(){var A=this.getTable();return A?A.scripts.map(function(T){return T.tag}):[]},getDefaultScriptName:function(){var A=this.getTable();if(A){for(var T=!1,N=0;N<A.scripts.length;N++){var B=A.scripts[N].tag;if(B==="DFLT")return B;B==="latn"&&(T=!0)}return T?"latn":void 0}},getScriptTable:function(A,T){var N,B=this.getTable(T);if(B)return N=B.scripts,0<=(B=vo(B.scripts,A=A||"DFLT"))?N[B].script:T?(N.splice(-1-B,0,T={tag:A,script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}),T.script):void 0},getLangSysTable:function(W,T,N){var B,W=this.getScriptTable(W,N);if(W)return T&&T!=="dflt"&&T!=="DFLT"?0<=(B=vo(W.langSysRecords,T))?W.langSysRecords[B].langSys:N?(W.langSysRecords.splice(-1-B,0,N={tag:T,langSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]}}),N.langSys):void 0:W.defaultLangSys},getFeatureTable:function(A,T,N,B){if(A=this.getLangSysTable(A,T,B),A){for(var W,$=A.featureIndexes,ee=this.font.tables[this.tableName].features,le=0;le<$.length;le++)if((W=ee[$[le]]).tag===N)return W.feature;if(B)return T=ee.length,U.assert(T===0||N>=ee[T-1].tag,"Features must be added in alphabetical order."),ee.push(W={tag:N,feature:{params:0,lookupListIndexes:[]}}),$.push(T),W.feature}},getLookupTables:function($,T,N,B,W){var $=this.getFeatureTable($,T,N,W),ee=[];if($){for(var le,ye=$.lookupListIndexes,me=this.font.tables[this.tableName].lookups,Te=0;Te<ye.length;Te++)(le=me[ye[Te]]).lookupType===B&&ee.push(le);if(ee.length===0&&W)return T=me.length,me.push(le={lookupType:B,lookupFlag:0,subtables:[],markFilteringSet:void 0}),ye.push(T),[le]}return ee},getGlyphClass:function(A,T){switch(A.format){case 1:return A.startGlyph<=T&&T<A.startGlyph+A.classes.length?A.classes[T-A.startGlyph]:0;case 2:var N=Fa(A.ranges,T);return N?N.classId:0}},getCoverageIndex:function(A,T){switch(A.format){case 1:var N=bo(A.glyphs,T);return 0<=N?N:-1;case 2:return N=Fa(A.ranges,T),N?N.index+T-N.start:-1}},expandCoverage:function(A){if(A.format===1)return A.glyphs;for(var T=[],N=A.ranges,B=0;B<N.length;B++)for(var W=N[B],$=W.start,ee=W.end,le=$;le<=ee;le++)T.push(le);return T}}).init=function(){var A=this.getDefaultScriptName();this.defaultKerningTables=this.getKerningTables(A)},zi.prototype.getKerningValue=function(A,T,N){for(var B=0;B<A.length;B++)for(var W=A[B].subtables,$=0;$<W.length;$++){var ee=W[$],le=this.getCoverageIndex(ee.coverage,T);if(!(le<0))switch(ee.posFormat){case 1:for(var ye=ee.pairSets[le],me=0;me<ye.length;me++){var Te=ye[me];if(Te.secondGlyph===N)return Te.value1&&Te.value1.xAdvance||0}break;case 2:var Ie=this.getGlyphClass(ee.classDef1,T),Be=this.getGlyphClass(ee.classDef2,N),Ie=ee.classRecords[Ie][Be];return Ie.value1&&Ie.value1.xAdvance||0}}return 0},zi.prototype.getKerningTables=function(A,T){if(this.font.tables.gpos)return this.getLookupTables(A,T,"kern",2)},(_n.prototype=Gi.prototype).createDefaultTable=function(){return{version:1,scripts:[{tag:"DFLT",script:{defaultLangSys:{reserved:0,reqFeatureIndex:65535,featureIndexes:[]},langSysRecords:[]}}],features:[],lookups:[]}},_n.prototype.getSingle=function(A,T,N){for(var B=[],W=this.getLookupTables(T,N,A,1),$=0;$<W.length;$++)for(var ee=W[$].subtables,le=0;le<ee.length;le++){var ye=ee[le],me=this.expandCoverage(ye.coverage),Te=void 0;if(ye.substFormat===1)for(var Be=ye.deltaGlyphId,Te=0;Te<me.length;Te++){var Ie=me[Te];B.push({sub:Ie,by:Ie+Be})}else{var we=ye.substitute;for(Te=0;Te<me.length;Te++)B.push({sub:me[Te],by:we[Te]})}}return B},_n.prototype.getAlternates=function(A,T,N){for(var B=[],W=this.getLookupTables(T,N,A,3),$=0;$<W.length;$++)for(var ee=W[$].subtables,le=0;le<ee.length;le++)for(var ye=ee[le],me=this.expandCoverage(ye.coverage),Te=ye.alternateSets,Be=0;Be<me.length;Be++)B.push({sub:me[Be],by:Te[Be]});return B},_n.prototype.getLigatures=function(A,T,N){for(var B=[],W=this.getLookupTables(T,N,A,4),$=0;$<W.length;$++)for(var ee=W[$].subtables,le=0;le<ee.length;le++)for(var ye=ee[le],me=this.expandCoverage(ye.coverage),Te=ye.ligatureSets,Be=0;Be<me.length;Be++)for(var Ie=me[Be],we=Te[Be],$e=0;$e<we.length;$e++){var He=we[$e];B.push({sub:[Ie].concat(He.components),by:He.ligGlyph})}return B},_n.prototype.addSingle=function(A,T,N,B){N=ll(this.getLookupTables(N,B,A,1,!0)[0],2,{substFormat:2,coverage:{format:1,glyphs:[]},substitute:[]}),U.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),B=T.sub,A=this.binSearch(N.coverage.glyphs,B),A<0&&(N.coverage.glyphs.splice(A=-1-A,0,B),N.substitute.splice(A,0,0)),N.substitute[A]=T.by},_n.prototype.addAlternate=function(A,T,N,B){N=ll(this.getLookupTables(N,B,A,3,!0)[0],1,{substFormat:1,coverage:{format:1,glyphs:[]},alternateSets:[]}),U.assert(N.coverage.format===1,"Ligature: unable to modify coverage table format "+N.coverage.format),B=T.sub,A=this.binSearch(N.coverage.glyphs,B),A<0&&(N.coverage.glyphs.splice(A=-1-A,0,B),N.alternateSets.splice(A,0,0)),N.alternateSets[A]=T.by},_n.prototype.addLigature=function($,ye,le,W){var le=this.getLookupTables(le,W,$,4,!0)[0],W=le.subtables[0],$=(W||(le.subtables[0]=W={substFormat:1,coverage:{format:1,glyphs:[]},ligatureSets:[]}),U.assert(W.coverage.format===1,"Ligature: unable to modify coverage table format "+W.coverage.format),ye.sub[0]),ee=ye.sub.slice(1),le={ligGlyph:ye.by,components:ee},ye=this.binSearch(W.coverage.glyphs,$);if(0<=ye){for(var me=W.ligatureSets[ye],Te=0;Te<me.length;Te++)if(function(Be,Ie){var we=Be.length;if(we===Ie.length){for(var $e=0;$e<we;$e++)if(Be[$e]!==Ie[$e])return;return 1}}(me[Te].components,ee))return;me.push(le)}else W.coverage.glyphs.splice(ye=-1-ye,0,$),W.ligatureSets.splice(ye,0,[le])},_n.prototype.getFeature=function(A,T,N){if(/ss\d\d/.test(A))return this.getSingle(A,T,N);switch(A){case"aalt":case"salt":return this.getSingle(A,T,N).concat(this.getAlternates(A,T,N));case"dlig":case"liga":case"rlig":return this.getLigatures(A,T,N)}},_n.prototype.add=function(A,T,N,B){if(/ss\d\d/.test(A))return this.addSingle(A,T,N,B);switch(A){case"aalt":case"salt":return typeof T.by=="number"?this.addSingle(A,T,N,B):this.addAlternate(A,T,N,B);case"dlig":case"liga":case"rlig":return this.addLigature(A,T,N,B)}};var _o={getPath:Vi,parse:function(A,T,N,B){for(var W=new bt.GlyphSet(B),$=0;$<N.length-1;$+=1){var ee=N[$];ee!==N[$+1]?W.push($,bt.ttfGlyphLoader(B,$,Lu,A,T+ee,os)):W.push($,bt.glyphLoader(B,$))}return W}};function Ga(A){this.font=A,this.getCommands=function(T){return _o.getPath(T).commands},this._fpgmState=this._prepState=void 0,this._errorState=0}function ai(A){return A}function ss(A){return Math.sign(A)*Math.round(Math.abs(A))}function ls(A){return Math.sign(A)*Math.round(Math.abs(2*A))/2}function ul(A){return Math.sign(A)*(Math.round(Math.abs(A)+.5)-.5)}function Hi(A){return Math.sign(A)*Math.ceil(Math.abs(A))}function us(A){return Math.sign(A)*Math.floor(Math.abs(A))}function ii(A){var T=this.srPeriod,N=this.srPhase,B=1;return A<0&&(A=-A,B=-1),A+=this.srThreshold-N,A=Math.trunc(A/T)*T,(A+=N)<0?N*B:A*B}var en={x:1,y:0,axis:"x",distance:function(A,T,N,B){return(N?A.xo:A.x)-(B?T.xo:T.x)},interpolate:function(A,T,N,B){var W,$,ee,le,ye,me,Te;if(!B||B===this)return W=A.xo-T.xo,$=A.xo-N.xo,ye=T.x-T.xo,me=N.x-N.xo,(Te=(ee=Math.abs(W))+(le=Math.abs($)))===0?void(A.x=A.xo+(ye+me)/2):void(A.x=A.xo+(ye*le+me*ee)/Te);W=B.distance(A,T,!0,!0),$=B.distance(A,N,!0,!0),ye=B.distance(T,T,!1,!0),me=B.distance(N,N,!1,!0),(Te=(ee=Math.abs(W))+(le=Math.abs($)))===0?en.setRelative(A,A,(ye+me)/2,B,!0):en.setRelative(A,A,(ye*le+me*ee)/Te,B,!0)},normalSlope:Number.NEGATIVE_INFINITY,setRelative:function(A,T,N,B,W){var $,ee;B&&B!==this?($=W?T.xo:T.x,ee=W?T.yo:T.y,$+=N*B.x,ee+=N*B.y,A.x=$+(A.y-ee)/B.normalSlope):A.x=(W?T.xo:T.x)+N},slope:0,touch:function(A){A.xTouched=!0},touched:function(A){return A.xTouched},untouch:function(A){A.xTouched=!1}},Kn={x:0,y:1,axis:"y",distance:function(A,T,N,B){return(N?A.yo:A.y)-(B?T.yo:T.y)},interpolate:function(A,T,N,B){var W,$,ee,le,ye,me,Te;if(!B||B===this)return W=A.yo-T.yo,$=A.yo-N.yo,ye=T.y-T.yo,me=N.y-N.yo,(Te=(ee=Math.abs(W))+(le=Math.abs($)))===0?void(A.y=A.yo+(ye+me)/2):void(A.y=A.yo+(ye*le+me*ee)/Te);W=B.distance(A,T,!0,!0),$=B.distance(A,N,!0,!0),ye=B.distance(T,T,!1,!0),me=B.distance(N,N,!1,!0),(Te=(ee=Math.abs(W))+(le=Math.abs($)))===0?Kn.setRelative(A,A,(ye+me)/2,B,!0):Kn.setRelative(A,A,(ye*le+me*ee)/Te,B,!0)},normalSlope:0,setRelative:function(A,T,N,B,W){var $,ee;B&&B!==this?($=W?T.xo:T.x,ee=W?T.yo:T.y,$+=N*B.x,ee+=N*B.y,A.y=ee+B.normalSlope*(A.x-$)):A.y=(W?T.yo:T.y)+N},slope:Number.POSITIVE_INFINITY,touch:function(A){A.yTouched=!0},touched:function(A){return A.yTouched},untouch:function(A){A.yTouched=!1}};function Ca(A,T){this.x=A,this.y=T,this.axis=void 0,this.slope=T/A,this.normalSlope=-A/T,Object.freeze(this)}function oi(A,T){var N=Math.sqrt(A*A+T*T);return T/=N,(A/=N)===1&&T===0?en:A===0&&T===1?Kn:new Ca(A,T)}function zn(A,T,N,B){this.x=this.xo=Math.round(64*A)/64,this.y=this.yo=Math.round(64*T)/64,this.lastPointOfContour=N,this.onCurve=B,this.prevPointOnContour=void 0,this.nextPointOnContour=void 0,this.xTouched=!1,this.yTouched=!1,Object.preventExtensions(this)}Object.freeze(en),Object.freeze(Kn),Ca.prototype.distance=function(A,T,N,B){return this.x*en.distance(A,T,N,B)+this.y*Kn.distance(A,T,N,B)},Ca.prototype.interpolate=function(A,W,$,B){var ee=B.distance(A,W,!0,!0),le=B.distance(A,$,!0,!0),W=B.distance(W,W,!1,!0),$=B.distance($,$,!1,!0),ee=Math.abs(ee),le=Math.abs(le),ye=ee+le;ye===0?this.setRelative(A,A,(W+$)/2,B,!0):this.setRelative(A,A,(W*le+$*ee)/ye,B,!0)},Ca.prototype.setRelative=function(A,$,ye,me,le){var ee=le?$.xo:$.x,le=le?$.yo:$.y,$=ee+ye*(me=me||this).x,ee=le+ye*me.y,le=me.normalSlope,ye=this.slope,me=A.x,Te=A.y;A.x=(ye*me-le*$+ee-Te)/(ye-le),A.y=ye*(A.x-me)+Te},Ca.prototype.touch=function(A){A.xTouched=!0,A.yTouched=!0},zn.prototype.nextTouched=function(A){for(var T=this.nextPointOnContour;!A.touched(T)&&T!==this;)T=T.nextPointOnContour;return T},zn.prototype.prevTouched=function(A){for(var T=this.prevPointOnContour;!A.touched(T)&&T!==this;)T=T.prevPointOnContour;return T};var Ta=Object.freeze(new zn(0,0)),cl={cvCutIn:17/16,deltaBase:9,deltaShift:.125,loop:1,minDis:1,autoFlip:!0};function Nr(A,T){switch(this.env=A,this.stack=[],this.prog=T,A){case"glyf":this.zp0=this.zp1=this.zp2=1,this.rp0=this.rp1=this.rp2=0;case"prep":this.fv=this.pv=this.dpv=en,this.round=ss}}function aa(A){for(var T=A.tZone=new Array(A.gZone.length),N=0;N<T.length;N++)T[N]=new zn(0,0)}function Xi(A,T){var N,B=A.prog,W=A.ip,$=1;do if((N=B[++W])===88)$++;else if(N===89)$--;else if(N===64)W+=B[W+1]+1;else if(N===65)W+=2*B[W+1]+1;else if(176<=N&&N<=183)W+=N-176+1;else if(184<=N&&N<=191)W+=2*(N-184+1);else if(T&&$===1&&N===27)break;while(0<$);A.ip=W}function si(A,T){d.DEBUG&&console.log(T.step,"SVTCA["+A.axis+"]"),T.fv=T.pv=T.dpv=A}function fl(A,T){d.DEBUG&&console.log(T.step,"SPVTCA["+A.axis+"]"),T.pv=T.dpv=A}function wo(A,T){d.DEBUG&&console.log(T.step,"SFVTCA["+A.axis+"]"),T.fv=A}function So(A,T){var N,W=T.stack,B=W.pop(),W=W.pop(),$=T.z2[B],ee=T.z1[W];d.DEBUG&&console.log("SPVTL["+A+"]",B,W),B=A?(N=$.y-ee.y,ee.x-$.x):(N=ee.x-$.x,ee.y-$.y),T.pv=T.dpv=oi(N,B)}function li(A,T){var N,W=T.stack,B=W.pop(),W=W.pop(),$=T.z2[B],ee=T.z1[W];d.DEBUG&&console.log("SFVTL["+A+"]",B,W),B=A?(N=$.y-ee.y,ee.x-$.x):(N=ee.x-$.x,ee.y-$.y),T.fv=oi(N,B)}function ui(A){d.DEBUG&&console.log(A.step,"POP[]"),A.stack.pop()}function cs(A,T){var N=T.stack.pop(),B=T.z0[N],W=T.fv,$=T.pv,ee=(d.DEBUG&&console.log(T.step,"MDAP["+A+"]",N),$.distance(B,Ta));A&&(ee=T.round(ee)),W.setRelative(B,Ta,ee,$),W.touch(B),T.rp0=T.rp1=N}function dl(A,T){var N,B,W,$=T.z2,ee=$.length-2;d.DEBUG&&console.log(T.step,"IUP["+A.axis+"]");for(var le=0;le<ee;le++)N=$[le],A.touched(N)||(B=N.prevTouched(A))!==N&&(B===(W=N.nextTouched(A))&&A.setRelative(N,N,A.distance(B,B,!1,!0),A,!0),A.interpolate(N,B,W,A))}function hl(A,T){for(var N=T.stack,B=A?T.rp1:T.rp2,W=(A?T.z0:T.z1)[B],$=T.fv,ee=T.pv,le=T.loop,ye=T.z2;le--;){var me=N.pop(),Te=ye[me],Be=ee.distance(W,W,!1,!0);$.setRelative(Te,Te,Be,ee),$.touch(Te),d.DEBUG&&console.log(T.step,(1<T.loop?"loop "+(T.loop-le)+": ":"")+"SHP["+(A?"rp1":"rp2")+"]",me)}T.loop=1}function pl(A,T){for(var N=T.stack,ee=A?T.rp1:T.rp2,B=(A?T.z0:T.z1)[ee],W=T.fv,$=T.pv,ee=N.pop(),le=T.z2[T.contours[ee]],ye=le,me=(d.DEBUG&&console.log(T.step,"SHC["+A+"]",ee),$.distance(B,B,!1,!0));ye!==B&&W.setRelative(ye,ye,me,$),(ye=ye.nextPointOnContour)!==le;);}function Eo(A,T){var N,B,le=T.stack,W=A?T.rp1:T.rp2,W=(A?T.z0:T.z1)[W],$=T.fv,ee=T.pv,le=le.pop();switch(d.DEBUG&&console.log(T.step,"SHZ["+A+"]",le),le){case 0:N=T.tZone;break;case 1:N=T.gZone;break;default:throw new Error("Invalid zone")}for(var ye=ee.distance(W,W,!1,!0),me=N.length-2,Te=0;Te<me;Te++)B=N[Te],$.setRelative(B,B,ye,ee)}function ml(A,T){var B=T.stack,N=B.pop()/64,B=B.pop(),W=T.z1[B],$=T.z0[T.rp0],ee=T.fv,le=T.pv;ee.setRelative(W,$,N,le),ee.touch(W),d.DEBUG&&console.log(T.step,"MSIRP["+A+"]",N,B),T.rp1=T.rp0,T.rp2=B,A&&(T.rp0=B)}function yl(A,T){var N=T.stack,le=N.pop(),N=N.pop(),B=T.z0[N],W=T.fv,$=T.pv,ee=T.cvt[le],le=(d.DEBUG&&console.log(T.step,"MIAP["+A+"]",le,"(",ee,")",N),$.distance(B,Ta));A&&(Math.abs(le-ee)<T.cvCutIn&&(le=ee),le=T.round(le)),W.setRelative(B,Ta,le,$),T.zp0===0&&(B.xo=B.x,B.yo=B.y),W.touch(B),T.rp0=T.rp1=N}function gl(A,T){var N=T.stack,B=N.pop(),W=T.z2[B];d.DEBUG&&console.log(T.step,"GC["+A+"]",B),N.push(64*T.dpv.distance(W,Ta,A,!1))}function vl(A,T){var B=T.stack,N=B.pop(),B=B.pop(),W=T.z1[N],$=T.z0[B],$=T.dpv.distance($,W,A,A);d.DEBUG&&console.log(T.step,"MD["+A+"]",N,B,"->",$),T.stack.push(Math.round(64*$))}function fs(A,T){var N=T.stack,B=N.pop(),W=T.fv,$=T.pv,ee=T.ppem,le=T.deltaBase+16*(A-1),ye=T.deltaShift,me=T.z0;d.DEBUG&&console.log(T.step,"DELTAP["+A+"]",B,N);for(var Te=0;Te<B;Te++){var Be=N.pop(),Ie=N.pop();le+((240&Ie)>>4)===ee&&(0<=(Ie=(15&Ie)-8)&&Ie++,d.DEBUG&&console.log(T.step,"DELTAPFIX",Be,"by",Ie*ye),Be=me[Be],W.setRelative(Be,Be,Ie*ye,$))}}function Wi(A,T){var N=T.stack,B=N.pop();d.DEBUG&&console.log(T.step,"ROUND[]"),N.push(64*T.round(B/64))}function ds(A,T){var N=T.stack,B=N.pop(),W=T.ppem,$=T.deltaBase+16*(A-1),ee=T.deltaShift;d.DEBUG&&console.log(T.step,"DELTAC["+A+"]",B,N);for(var le=0;le<B;le++){var ye=N.pop(),me=N.pop();$+((240&me)>>4)===W&&(0<=(me=(15&me)-8)&&me++,me=me*ee,d.DEBUG&&console.log(T.step,"DELTACFIX",ye,"by",me),T.cvt[ye]+=me)}}function bl(A,T){var N,W=T.stack,B=W.pop(),W=W.pop(),$=T.z2[B],ee=T.z1[W];d.DEBUG&&console.log(T.step,"SDPVTL["+A+"]",B,W),B=A?(N=$.y-ee.y,ee.x-$.x):(N=ee.x-$.x,ee.y-$.y),T.dpv=oi(N,B)}function Oa(A,T){var N=T.stack,B=T.prog,W=T.ip;d.DEBUG&&console.log(T.step,"PUSHB["+A+"]");for(var $=0;$<A;$++)N.push(B[++W]);T.ip=W}function Ma(A,T){var N=T.ip,B=T.prog,W=T.stack;d.DEBUG&&console.log(T.ip,"PUSHW["+A+"]");for(var $=0;$<A;$++){var ee=B[++N]<<8|B[++N];32768&ee&&(ee=-(1+(65535^ee))),W.push(ee)}T.ip=N}function xt(A,T,N,B,W,$){var ee,le,me=$.stack,ye=A&&me.pop(),me=me.pop(),Te=$.rp0,Te=$.z0[Te],Be=$.z1[me],Ie=$.minDis,we=$.fv,$e=$.dpv,He=ee=$e.distance(Be,Te,!0,!0),Ye=0<=He?1:-1;He=Math.abs(He),A&&(le=$.cvt[ye],B&&Math.abs(He-le)<$.cvCutIn&&(He=le)),N&&He<Ie&&(He=Ie),B&&(He=$.round(He)),we.setRelative(Be,Te,Ye*He,$e),we.touch(Be),d.DEBUG&&console.log($.step,(A?"MIRP[":"MDRP[")+(T?"M":"m")+(N?">":"_")+(B?"R":"_")+(W===0?"Gr":W===1?"Bl":W===2?"Wh":"")+"]",A?ye+"("+$.cvt[ye]+","+le+")":"",me,"(d =",ee,"->",Ye*He,")"),$.rp1=$.rp0,$.rp2=me,T&&($.rp0=me)}Ga.prototype.exec=function(A,T){if(typeof T!="number")throw new Error("Point size is not a number!");if(!(2<this._errorState)){var N=this.font,B=this._prepState;if(!B||B.ppem!==T){var W=this._fpgmState;if(!W){Nr.prototype=cl,(W=this._fpgmState=new Nr("fpgm",N.tables.fpgm)).funcs=[],W.font=N,d.DEBUG&&(console.log("---EXEC FPGM---"),W.step=-1);try{ci(W)}catch(me){return console.log("Hinting error in FPGM:"+me),void(this._errorState=3)}}Nr.prototype=W,(B=this._prepState=new Nr("prep",N.tables.prep)).ppem=T;var $=N.tables.cvt;if($)for(var ee=B.cvt=new Array($.length),le=T/N.unitsPerEm,ye=0;ye<$.length;ye++)ee[ye]=$[ye]*le;else B.cvt=[];d.DEBUG&&(console.log("---EXEC PREP---"),B.step=-1);try{ci(B)}catch(me){this._errorState<2&&console.log("Hinting error in PREP:"+me),this._errorState=2}}if(!(1<this._errorState))try{return ku(A,B)}catch(me){this._errorState<1&&(console.log("Hinting error:"+me),console.log("Note: further hinting errors are silenced")),this._errorState=1}}};var ku=function(A,T){var N=T.ppem/T.font.unitsPerEm,B=N,W=A.components;if(Nr.prototype=T,W){for(var $=T.font,ee=[],le=[],ye=0;ye<W.length;ye++){var me=W[ye],Te=$.glyphs.get(me.glyphIndex),Be=new Nr("glyf",Te.instructions);d.DEBUG&&(console.log("---EXEC COMP "+ye+"---"),Be.step=-1),xl(Te,Be,N,B);for(var Ie=Math.round(me.dx*N),we=Math.round(me.dy*B),$e=Be.gZone,He=Be.contours,Ye=0;Ye<$e.length;Ye++){var Ue=$e[Ye];Ue.xTouched=Ue.yTouched=!1,Ue.xo=Ue.x=Ue.x+Ie,Ue.yo=Ue.y=Ue.y+we}var Ge=ee.length;ee.push.apply(ee,$e);for(var _t=0;_t<He.length;_t++)le.push(He[_t]+Ge)}A.instructions&&!Be.inhibitGridFit&&((Be=new Nr("glyf",A.instructions)).gZone=Be.z0=Be.z1=Be.z2=ee,Be.contours=le,ee.push(new zn(0,0),new zn(Math.round(A.advanceWidth*N),0)),d.DEBUG&&(console.log("---EXEC COMPOSITE---"),Be.step=-1),ci(Be),ee.length-=2)}else Be=new Nr("glyf",A.instructions),d.DEBUG&&(console.log("---EXEC GLYPH---"),Be.step=-1),xl(A,Be,N,B),ee=Be.gZone;return ee},xl=function(A,T,N,B){for(var W,$,ee,le=A.points||[],ye=le.length,me=T.gZone=T.z0=T.z1=T.z2=[],Te=T.contours=[],Be=0;Be<ye;Be++)W=le[Be],me[Be]=new zn(W.x*N,W.y*B,W.lastPointOfContour,W.onCurve);for(var Ie=0;Ie<ye;Ie++)W=me[Ie],$||($=W,Te.push(Ie)),W.lastPointOfContour?((W.nextPointOnContour=$).prevPointOnContour=W,$=void 0):(ee=me[Ie+1],(W.nextPointOnContour=ee).prevPointOnContour=W);if(!T.inhibitGridFit){if(d.DEBUG){console.log("PROCESSING GLYPH",T.stack);for(var we=0;we<ye;we++)console.log(we,me[we].x,me[we].y)}if(me.push(new zn(0,0),new zn(Math.round(A.advanceWidth*N),0)),ci(T),me.length-=2,d.DEBUG){console.log("FINISHED GLYPH",T.stack);for(var $e=0;$e<ye;$e++)console.log($e,me[$e].x,me[$e].y)}}},ci=function(A){var T=A.prog;if(T){var N,B=T.length;for(A.ip=0;A.ip<B;A.ip++){if(d.DEBUG&&A.step++,!(N=_l[T[A.ip]]))throw new Error("unknown instruction: 0x"+Number(T[A.ip]).toString(16));N(A)}}},_l=[si.bind(void 0,Kn),si.bind(void 0,en),fl.bind(void 0,Kn),fl.bind(void 0,en),wo.bind(void 0,Kn),wo.bind(void 0,en),So.bind(void 0,0),So.bind(void 0,1),li.bind(void 0,0),li.bind(void 0,1),function(A){var T=(N=A.stack).pop(),N=N.pop();d.DEBUG&&console.log(A.step,"SPVFS[]",T,N),A.pv=A.dpv=oi(N,T)},function(A){var T=(N=A.stack).pop(),N=N.pop();d.DEBUG&&console.log(A.step,"SPVFS[]",T,N),A.fv=oi(N,T)},function(A){var T=A.stack,N=A.pv;d.DEBUG&&console.log(A.step,"GPV[]"),T.push(16384*N.x),T.push(16384*N.y)},function(A){var T=A.stack,N=A.fv;d.DEBUG&&console.log(A.step,"GFV[]"),T.push(16384*N.x),T.push(16384*N.y)},function(A){A.fv=A.pv,d.DEBUG&&console.log(A.step,"SFVTPV[]")},function(T){var N=(ee=T.stack).pop(),B=ee.pop(),W=ee.pop(),$=ee.pop(),ee=ee.pop(),ye=T.z0,Te=T.z1,le=ye[N],ye=ye[B],me=Te[W],Te=Te[$],T=T.z2[ee],N=(d.DEBUG&&console.log("ISECT[], ",N,B,W,$,ee),le.x),B=le.y,W=ye.x,$=ye.y,ee=me.x,le=me.y,ye=Te.x,me=Te.y,Te=(N-W)*(le-me)-(B-$)*(ee-ye),Be=N*$-B*W,Ie=ee*me-le*ye;T.x=(Be*(ee-ye)-Ie*(N-W))/Te,T.y=(Be*(le-me)-Ie*(B-$))/Te},function(A){A.rp0=A.stack.pop(),d.DEBUG&&console.log(A.step,"SRP0[]",A.rp0)},function(A){A.rp1=A.stack.pop(),d.DEBUG&&console.log(A.step,"SRP1[]",A.rp1)},function(A){A.rp2=A.stack.pop(),d.DEBUG&&console.log(A.step,"SRP2[]",A.rp2)},function(A){var T=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"SZP0[]",T),A.zp0=T){case 0:A.tZone||aa(A),A.z0=A.tZone;break;case 1:A.z0=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){var T=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"SZP1[]",T),A.zp1=T){case 0:A.tZone||aa(A),A.z1=A.tZone;break;case 1:A.z1=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){var T=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"SZP2[]",T),A.zp2=T){case 0:A.tZone||aa(A),A.z2=A.tZone;break;case 1:A.z2=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){var T=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"SZPS[]",T),A.zp0=A.zp1=A.zp2=T){case 0:A.tZone||aa(A),A.z0=A.z1=A.z2=A.tZone;break;case 1:A.z0=A.z1=A.z2=A.gZone;break;default:throw new Error("Invalid zone pointer")}},function(A){A.loop=A.stack.pop(),d.DEBUG&&console.log(A.step,"SLOOP[]",A.loop)},function(A){d.DEBUG&&console.log(A.step,"RTG[]"),A.round=ss},function(A){d.DEBUG&&console.log(A.step,"RTHG[]"),A.round=ul},function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"SMD[]",T),A.minDis=T/64},function(A){d.DEBUG&&console.log(A.step,"ELSE[]"),Xi(A,!1)},function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"JMPR[]",T),A.ip+=T-1},function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"SCVTCI[]",T),A.cvCutIn=T/64},void 0,void 0,function(A){var T=A.stack;d.DEBUG&&console.log(A.step,"DUP[]"),T.push(T[T.length-1])},ui,function(A){d.DEBUG&&console.log(A.step,"CLEAR[]"),A.stack.length=0},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"SWAP[]"),T.push(N),T.push(B)},function(A){var T=A.stack;d.DEBUG&&console.log(A.step,"DEPTH[]"),T.push(T.length)},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"CINDEX[]",N),T.push(T[T.length-N])},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"MINDEX[]",N),T.push(T.splice(T.length-N,1)[0])},void 0,void 0,void 0,function(A){var T=(B=A.stack).pop(),N=B.pop(),B=(d.DEBUG&&console.log(A.step,"LOOPCALL[]",T,N),A.ip),W=A.prog;A.prog=A.funcs[T];for(var $=0;$<N;$++)ci(A),d.DEBUG&&console.log(++A.step,$+1<N?"next loopcall":"done loopcall",$);A.ip=B,A.prog=W},function(A){var T=A.stack.pop(),N=(d.DEBUG&&console.log(A.step,"CALL[]",T),A.ip),B=A.prog;A.prog=A.funcs[T],ci(A),A.ip=N,A.prog=B,d.DEBUG&&console.log(++A.step,"returning from",T)},function(A){if(A.env!=="fpgm")throw new Error("FDEF not allowed here");var B=A.stack,T=A.prog,N=A.ip,B=B.pop(),W=N;for(d.DEBUG&&console.log(A.step,"FDEF[]",B);T[++N]!==45;);A.ip=N,A.funcs[B]=T.slice(W+1,N)},void 0,cs.bind(void 0,0),cs.bind(void 0,1),dl.bind(void 0,Kn),dl.bind(void 0,en),hl.bind(void 0,0),hl.bind(void 0,1),pl.bind(void 0,0),pl.bind(void 0,1),Eo.bind(void 0,0),Eo.bind(void 0,1),function(A){for(var T=A.stack,N=A.loop,B=A.fv,W=T.pop()/64,$=A.z2;N--;){var ee=T.pop(),le=$[ee];d.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-N)+": ":"")+"SHPIX[]",ee,W),B.setRelative(le,le,W),B.touch(le)}A.loop=1},function(A){for(var T=A.stack,N=A.rp1,B=A.rp2,W=A.loop,$=A.z0[N],ee=A.z1[B],le=A.fv,ye=A.dpv,me=A.z2;W--;){var Te=T.pop(),Be=me[Te];d.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-W)+": ":"")+"IP[]",Te,N,"<->",B),le.interpolate(Be,$,ee,ye),le.touch(Be)}A.loop=1},ml.bind(void 0,0),ml.bind(void 0,1),function(A){for(var T=A.stack,N=A.rp0,B=A.z0[N],W=A.loop,$=A.fv,ee=A.pv,le=A.z1;W--;){var ye=T.pop(),me=le[ye];d.DEBUG&&console.log(A.step,(1<A.loop?"loop "+(A.loop-W)+": ":"")+"ALIGNRP[]",ye),$.setRelative(me,B,0,ee),$.touch(me)}A.loop=1},function(A){d.DEBUG&&console.log(A.step,"RTDG[]"),A.round=ls},yl.bind(void 0,0),yl.bind(void 0,1),function(A){var T=A.prog,N=A.ip,B=A.stack,W=T[++N];d.DEBUG&&console.log(A.step,"NPUSHB[]",W);for(var $=0;$<W;$++)B.push(T[++N]);A.ip=N},function(A){var T=A.ip,N=A.prog,B=A.stack,W=N[++T];d.DEBUG&&console.log(A.step,"NPUSHW[]",W);for(var $=0;$<W;$++){var ee=N[++T]<<8|N[++T];32768&ee&&(ee=-(1+(65535^ee))),B.push(ee)}A.ip=T},function(A){var B=A.stack,T=(T=A.store)||(A.store=[]),N=B.pop(),B=B.pop();d.DEBUG&&console.log(A.step,"WS",N,B),T[B]=N},function(W){var T=W.stack,N=W.store,B=T.pop(),W=(d.DEBUG&&console.log(W.step,"RS",B),N&&N[B]||0);T.push(W)},function(A){var T=(N=A.stack).pop(),N=N.pop();d.DEBUG&&console.log(A.step,"WCVTP",T,N),A.cvt[N]=T/64},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"RCVT",N),T.push(64*A.cvt[N])},gl.bind(void 0,0),gl.bind(void 0,1),void 0,vl.bind(void 0,0),vl.bind(void 0,1),function(A){d.DEBUG&&console.log(A.step,"MPPEM[]"),A.stack.push(A.ppem)},void 0,function(A){d.DEBUG&&console.log(A.step,"FLIPON[]"),A.autoFlip=!0},void 0,void 0,function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"LT[]",N,B),T.push(B<N?1:0)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"LTEQ[]",N,B),T.push(B<=N?1:0)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"GT[]",N,B),T.push(N<B?1:0)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"GTEQ[]",N,B),T.push(N<=B?1:0)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"EQ[]",N,B),T.push(N===B?1:0)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"NEQ[]",N,B),T.push(N!==B?1:0)},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"ODD[]",N),T.push(Math.trunc(N)%2?1:0)},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"EVEN[]",N),T.push(Math.trunc(N)%2?0:1)},function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"IF[]",T),T||(Xi(A,!0),d.DEBUG&&console.log(A.step,"EIF[]"))},function(A){d.DEBUG&&console.log(A.step,"EIF[]")},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"AND[]",N,B),T.push(N&&B?1:0)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"OR[]",N,B),T.push(N||B?1:0)},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"NOT[]",N),T.push(N?0:1)},fs.bind(void 0,1),function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"SDB[]",T),A.deltaBase=T},function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"SDS[]",T),A.deltaShift=Math.pow(.5,T)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"ADD[]",N,B),T.push(B+N)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"SUB[]",N,B),T.push(B-N)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"DIV[]",N,B),T.push(64*B/N)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"MUL[]",N,B),T.push(B*N/64)},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"ABS[]",N),T.push(Math.abs(N))},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"NEG[]",N),T.push(-N)},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"FLOOR[]",N),T.push(64*Math.floor(N/64))},function(A){var T=A.stack,N=T.pop();d.DEBUG&&console.log(A.step,"CEILING[]",N),T.push(64*Math.ceil(N/64))},Wi.bind(void 0,0),Wi.bind(void 0,1),Wi.bind(void 0,2),Wi.bind(void 0,3),void 0,void 0,void 0,void 0,function(A){var T=(N=A.stack).pop(),N=N.pop();d.DEBUG&&console.log(A.step,"WCVTF[]",T,N),A.cvt[N]=T*A.ppem/A.font.unitsPerEm},fs.bind(void 0,2),fs.bind(void 0,3),ds.bind(void 0,1),ds.bind(void 0,2),ds.bind(void 0,3),function(A){var T,N=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"SROUND[]",N),A.round=ii,192&N){case 0:T=.5;break;case 64:T=1;break;case 128:T=2;break;default:throw new Error("invalid SROUND value")}switch(A.srPeriod=T,48&N){case 0:A.srPhase=0;break;case 16:A.srPhase=.25*T;break;case 32:A.srPhase=.5*T;break;case 48:A.srPhase=.75*T;break;default:throw new Error("invalid SROUND value")}A.srThreshold=(N&=15)===0?0:(N/8-.5)*T},function(A){var T,N=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"S45ROUND[]",N),A.round=ii,192&N){case 0:T=Math.sqrt(2)/2;break;case 64:T=Math.sqrt(2);break;case 128:T=2*Math.sqrt(2);break;default:throw new Error("invalid S45ROUND value")}switch(A.srPeriod=T,48&N){case 0:A.srPhase=0;break;case 16:A.srPhase=.25*T;break;case 32:A.srPhase=.5*T;break;case 48:A.srPhase=.75*T;break;default:throw new Error("invalid S45ROUND value")}A.srThreshold=(N&=15)===0?0:(N/8-.5)*T},void 0,void 0,function(A){d.DEBUG&&console.log(A.step,"ROFF[]"),A.round=ai},void 0,function(A){d.DEBUG&&console.log(A.step,"RUTG[]"),A.round=Hi},function(A){d.DEBUG&&console.log(A.step,"RDTG[]"),A.round=us},ui,ui,void 0,void 0,void 0,void 0,void 0,function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"SCANCTRL[]",T)},bl.bind(void 0,0),bl.bind(void 0,1),function(A){var T=A.stack,N=T.pop(),B=0;d.DEBUG&&console.log(A.step,"GETINFO[]",N),1&N&&(B=35),32&N&&(B|=4096),T.push(B)},void 0,function(A){var T=A.stack,N=T.pop(),B=T.pop(),W=T.pop();d.DEBUG&&console.log(A.step,"ROLL[]"),T.push(B),T.push(N),T.push(W)},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"MAX[]",N,B),T.push(Math.max(B,N))},function(A){var T=A.stack,N=T.pop(),B=T.pop();d.DEBUG&&console.log(A.step,"MIN[]",N,B),T.push(Math.min(B,N))},function(A){var T=A.stack.pop();d.DEBUG&&console.log(A.step,"SCANTYPE[]",T)},function(A){var T=A.stack.pop(),N=A.stack.pop();switch(d.DEBUG&&console.log(A.step,"INSTCTRL[]",T,N),T){case 1:return void(A.inhibitGridFit=!!N);case 2:return void(A.ignoreCvt=!!N);default:throw new Error("invalid INSTCTRL[] selector")}},void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,void 0,Oa.bind(void 0,1),Oa.bind(void 0,2),Oa.bind(void 0,3),Oa.bind(void 0,4),Oa.bind(void 0,5),Oa.bind(void 0,6),Oa.bind(void 0,7),Oa.bind(void 0,8),Ma.bind(void 0,1),Ma.bind(void 0,2),Ma.bind(void 0,3),Ma.bind(void 0,4),Ma.bind(void 0,5),Ma.bind(void 0,6),Ma.bind(void 0,7),Ma.bind(void 0,8),xt.bind(void 0,0,0,0,0,0),xt.bind(void 0,0,0,0,0,1),xt.bind(void 0,0,0,0,0,2),xt.bind(void 0,0,0,0,0,3),xt.bind(void 0,0,0,0,1,0),xt.bind(void 0,0,0,0,1,1),xt.bind(void 0,0,0,0,1,2),xt.bind(void 0,0,0,0,1,3),xt.bind(void 0,0,0,1,0,0),xt.bind(void 0,0,0,1,0,1),xt.bind(void 0,0,0,1,0,2),xt.bind(void 0,0,0,1,0,3),xt.bind(void 0,0,0,1,1,0),xt.bind(void 0,0,0,1,1,1),xt.bind(void 0,0,0,1,1,2),xt.bind(void 0,0,0,1,1,3),xt.bind(void 0,0,1,0,0,0),xt.bind(void 0,0,1,0,0,1),xt.bind(void 0,0,1,0,0,2),xt.bind(void 0,0,1,0,0,3),xt.bind(void 0,0,1,0,1,0),xt.bind(void 0,0,1,0,1,1),xt.bind(void 0,0,1,0,1,2),xt.bind(void 0,0,1,0,1,3),xt.bind(void 0,0,1,1,0,0),xt.bind(void 0,0,1,1,0,1),xt.bind(void 0,0,1,1,0,2),xt.bind(void 0,0,1,1,0,3),xt.bind(void 0,0,1,1,1,0),xt.bind(void 0,0,1,1,1,1),xt.bind(void 0,0,1,1,1,2),xt.bind(void 0,0,1,1,1,3),xt.bind(void 0,1,0,0,0,0),xt.bind(void 0,1,0,0,0,1),xt.bind(void 0,1,0,0,0,2),xt.bind(void 0,1,0,0,0,3),xt.bind(void 0,1,0,0,1,0),xt.bind(void 0,1,0,0,1,1),xt.bind(void 0,1,0,0,1,2),xt.bind(void 0,1,0,0,1,3),xt.bind(void 0,1,0,1,0,0),xt.bind(void 0,1,0,1,0,1),xt.bind(void 0,1,0,1,0,2),xt.bind(void 0,1,0,1,0,3),xt.bind(void 0,1,0,1,1,0),xt.bind(void 0,1,0,1,1,1),xt.bind(void 0,1,0,1,1,2),xt.bind(void 0,1,0,1,1,3),xt.bind(void 0,1,1,0,0,0),xt.bind(void 0,1,1,0,0,1),xt.bind(void 0,1,1,0,0,2),xt.bind(void 0,1,1,0,0,3),xt.bind(void 0,1,1,0,1,0),xt.bind(void 0,1,1,0,1,1),xt.bind(void 0,1,1,0,1,2),xt.bind(void 0,1,1,0,1,3),xt.bind(void 0,1,1,1,0,0),xt.bind(void 0,1,1,1,0,1),xt.bind(void 0,1,1,1,0,2),xt.bind(void 0,1,1,1,0,3),xt.bind(void 0,1,1,1,1,0),xt.bind(void 0,1,1,1,1,1),xt.bind(void 0,1,1,1,1,2),xt.bind(void 0,1,1,1,1,3)],Pu=Array.from||function(A){return A.match(/[\uD800-\uDBFF][\uDC00-\uDFFF]?|[^\uD800-\uDFFF]|./g)||[]};function hr(A){(A=A||{}).empty||(Ua(A.familyName,"When creating a new Font object, familyName is required."),Ua(A.styleName,"When creating a new Font object, styleName is required."),Ua(A.unitsPerEm,"When creating a new Font object, unitsPerEm is required."),Ua(A.ascender,"When creating a new Font object, ascender is required."),Ua(A.descender,"When creating a new Font object, descender is required."),Ua(A.descender<0,"Descender should be negative (e.g. -512)."),this.names={fontFamily:{en:A.familyName||" "},fontSubfamily:{en:A.styleName||" "},fullName:{en:A.fullName||A.familyName+" "+A.styleName},postScriptName:{en:A.postScriptName||(A.familyName+A.styleName).replace(/\s/g,"")},designer:{en:A.designer||" "},designerURL:{en:A.designerURL||" "},manufacturer:{en:A.manufacturer||" "},manufacturerURL:{en:A.manufacturerURL||" "},license:{en:A.license||" "},licenseURL:{en:A.licenseURL||" "},version:{en:A.version||"Version 0.1"},description:{en:A.description||" "},copyright:{en:A.copyright||" "},trademark:{en:A.trademark||" "}},this.unitsPerEm=A.unitsPerEm||1e3,this.ascender=A.ascender,this.descender=A.descender,this.createdTimestamp=A.createdTimestamp,this.tables={os2:{usWeightClass:A.weightClass||this.usWeightClasses.MEDIUM,usWidthClass:A.widthClass||this.usWidthClasses.MEDIUM,fsSelection:A.fsSelection||this.fsSelectionValues.REGULAR}}),this.supported=!0,this.glyphs=new bt.GlyphSet(this,A.glyphs||[]),this.encoding=new Re(this),this.position=new zi(this),this.substitution=new _n(this),this.tables=this.tables||{},Object.defineProperty(this,"hinting",{get:function(){return this._hinting||(this.outlinesFormat==="truetype"?this._hinting=new Ga(this):void 0)}})}function wl(A,T){var N,B=JSON.stringify(A),W=256;for(N in T){var $=parseInt(N);if($&&!($<256)){if(JSON.stringify(T[N])===B)return $;W<=$&&(W=$+1)}}return T[W]=A,W}hr.prototype.hasChar=function(A){return this.encoding.charToGlyphIndex(A)!==null},hr.prototype.charToGlyphIndex=function(A){return this.encoding.charToGlyphIndex(A)},hr.prototype.charToGlyph=function(A){return A=this.charToGlyphIndex(A),this.glyphs.get(A)||this.glyphs.get(0)},hr.prototype.stringToGlyphs=function(A,T){T=T||this.defaultRenderOptions;for(var N=Pu(A),B=[],W=0;W<N.length;W+=1){var $=N[W];B.push(this.charToGlyphIndex($))}var ee=B.length;if(T.features){var A=T.script||this.substitution.getDefaultScriptName(),le=[];T.features.liga&&(le=le.concat(this.substitution.getFeature("liga",A,T.language))),T.features.rlig&&(le=le.concat(this.substitution.getFeature("rlig",A,T.language)));for(var ye=0;ye<ee;ye+=1)for(var me=0;me<le.length;me++){for(var Te=le[me],Be=Te.sub,Ie=Be.length,we=0;we<Ie&&Be[we]===B[ye+we];)we++;we===Ie&&(B.splice(ye,Ie,Te.by),ee=ee-Ie+1)}}for(var $e=new Array(ee),He=this.glyphs.get(0),Ye=0;Ye<ee;Ye+=1)$e[Ye]=this.glyphs.get(B[Ye])||He;return $e},hr.prototype.nameToGlyphIndex=function(A){return this.glyphNames.nameToGlyphIndex(A)},hr.prototype.nameToGlyph=function(A){return A=this.nameToGlyphIndex(A),this.glyphs.get(A)||this.glyphs.get(0)},hr.prototype.glyphIndexToName=function(A){return this.glyphNames.glyphIndexToName?this.glyphNames.glyphIndexToName(A):""},hr.prototype.getKerningValue=function(A,T){A=A.index||A,T=T.index||T;var N=this.position.defaultKerningTables;return N?this.position.getKerningValue(N,A,T):this.kerningPairs[A+","+T]||0},hr.prototype.defaultRenderOptions={kerning:!0,features:{liga:!0,rlig:!0}},hr.prototype.forEachGlyph=function(A,T,N,B,W,$){T=T!==void 0?T:0,N=N!==void 0?N:0,W=W||this.defaultRenderOptions;var ee,le=1/this.unitsPerEm*(B=B!==void 0?B:72),ye=this.stringToGlyphs(A,W);W.kerning&&(A=W.script||this.position.getDefaultScriptName(),ee=this.position.getKerningTables(A,W.language));for(var me=0;me<ye.length;me+=1){var Te=ye[me];$.call(this,Te,T,N,B,W),Te.advanceWidth&&(T+=Te.advanceWidth*le),W.kerning&&me<ye.length-1&&(T+=(ee?this.position.getKerningValue(ee,Te.index,ye[me+1].index):this.getKerningValue(Te,ye[me+1]))*le),W.letterSpacing?T+=W.letterSpacing*B:W.tracking&&(T+=W.tracking/1e3*B)}return T},hr.prototype.getPath=function(A,T,N,B,W){var $=new te;return this.forEachGlyph(A,T,N,B,W,function(ee,le,ye,me){ee=ee.getPath(le,ye,me,W,this),$.extend(ee)}),$},hr.prototype.getPaths=function(A,T,N,B,W){var $=[];return this.forEachGlyph(A,T,N,B,W,function(ee,le,ye,me){ee=ee.getPath(le,ye,me,W,this),$.push(ee)}),$},hr.prototype.getAdvanceWidth=function(A,T,N){return this.forEachGlyph(A,0,0,T,N,function(){})},hr.prototype.draw=function(A,T,N,B,W,$){this.getPath(T,N,B,W,$).draw(A)},hr.prototype.drawPoints=function(A,T,N,B,W,$){this.forEachGlyph(T,N,B,W,$,function(ee,le,ye,me){ee.drawPoints(A,le,ye,me)})},hr.prototype.drawMetrics=function(A,T,N,B,W,$){this.forEachGlyph(T,N,B,W,$,function(ee,le,ye,me){ee.drawMetrics(A,le,ye,me)})},hr.prototype.getEnglishName=function(A){if(A=this.names[A],A)return A.en},hr.prototype.validate=function(){var A=this;function T(N){N=A.getEnglishName(N),N&&N.trim().length}T("fontFamily"),T("weightName"),T("manufacturer"),T("copyright"),T("version"),this.unitsPerEm},hr.prototype.toTables=function(){return ns.fontToTable(this)},hr.prototype.toBuffer=function(){return console.warn("Font.toBuffer is deprecated. Use Font.toArrayBuffer instead."),this.toArrayBuffer()},hr.prototype.toArrayBuffer=function(){for(var A=this.toTables().encode(),T=new ArrayBuffer(A.length),N=new Uint8Array(T),B=0;B<A.length;B++)N[B]=A[B];return T},hr.prototype.download=function(A){var T=this.getEnglishName("fontFamily"),N=this.getEnglishName("fontSubfamily"),B=(A=A||T.replace(/\s/g,"")+"-"+N+".otf",this.toArrayBuffer());typeof window<"u"?(window.requestFileSystem=window.requestFileSystem||window.webkitRequestFileSystem,window.requestFileSystem(window.TEMPORARY,B.byteLength,function(W){W.root.getFile(A,{create:!0},function($){$.createWriter(function(ee){var le=new DataView(B),le=new Blob([le],{type:"font/opentype"});ee.write(le),ee.addEventListener("writeend",function(){location.href=$.toURL()},!1)})})},function(W){throw new Error(W.name+": "+W.message)})):(T=t("fs"),N=function(W){for(var $=new o(W.byteLength),ee=new Uint8Array(W),le=0;le<$.length;++le)$[le]=ee[le];return $}(B),T.writeFileSync(A,N))},hr.prototype.fsSelectionValues={ITALIC:1,UNDERSCORE:2,NEGATIVE:4,OUTLINED:8,STRIKEOUT:16,BOLD:32,REGULAR:64,USER_TYPO_METRICS:128,WWS:256,OBLIQUE:512},hr.prototype.usWidthClasses={ULTRA_CONDENSED:1,EXTRA_CONDENSED:2,CONDENSED:3,SEMI_CONDENSED:4,MEDIUM:5,SEMI_EXPANDED:6,EXPANDED:7,EXTRA_EXPANDED:8,ULTRA_EXPANDED:9},hr.prototype.usWeightClasses={THIN:100,EXTRA_LIGHT:200,LIGHT:300,NORMAL:400,MEDIUM:500,SEMI_BOLD:600,BOLD:700,EXTRA_BOLD:800,BLACK:900};var Bu={make:function(A,T){var N=new Fe.Table("fvar",[{name:"version",type:"ULONG",value:65536},{name:"offsetToData",type:"USHORT",value:0},{name:"countSizePairs",type:"USHORT",value:2},{name:"axisCount",type:"USHORT",value:A.axes.length},{name:"axisSize",type:"USHORT",value:20},{name:"instanceCount",type:"USHORT",value:A.instances.length},{name:"instanceSize",type:"USHORT",value:4+4*A.axes.length}]);N.offsetToData=N.sizeOf();for(var B,W,$,ee=0;ee<A.axes.length;ee++)N.fields=N.fields.concat((B=ee,W=A.axes[ee],$=T,$=wl(W.name,T),[{name:"tag_"+B,type:"TAG",value:W.tag},{name:"minValue_"+B,type:"FIXED",value:W.minValue<<16},{name:"defaultValue_"+B,type:"FIXED",value:W.defaultValue<<16},{name:"maxValue_"+B,type:"FIXED",value:W.maxValue<<16},{name:"flags_"+B,type:"USHORT",value:0},{name:"nameID_"+B,type:"USHORT",value:$}]));for(var le=0;le<A.instances.length;le++)N.fields=N.fields.concat(function(ye,me,Te,Be){for(var Ie=[{name:"nameID_"+ye,type:"USHORT",value:wl(me.name,Be)},{name:"flags_"+ye,type:"USHORT",value:0}],we=0;we<Te.length;++we){var $e=Te[we].tag;Ie.push({name:"axis_"+ye+" "+$e,type:"FIXED",value:me.coordinates[$e]<<16})}return Ie}(le,A.instances[le],A.axes,T));return N},parse:function(A,T,N){for(var B,W,$,ee,le=new Pe.Parser(A,T),ye=le.parseULong(),me=(U.argument(ye===65536,"Unsupported fvar table version."),le.parseOffset16()),Te=(le.skip("uShort",1),le.parseUShort()),Be=le.parseUShort(),Ie=le.parseUShort(),we=le.parseUShort(),$e=[],He=0;He<Te;He++)$e.push((B=A,W=T+me+He*Be,$=N,ee={},B=new Pe.Parser(B,W),ee.tag=B.parseTag(),ee.minValue=B.parseFixed(),ee.defaultValue=B.parseFixed(),ee.maxValue=B.parseFixed(),B.skip("uShort",1),ee.name=$[B.parseUShort()]||{},ee));for(var Ye=[],Ue=T+me+Te*Be,Ge=0;Ge<Ie;Ge++)Ye.push(function(_t,kt,St,jt){var Ft={},vr=new Pe.Parser(_t,kt);Ft.name=jt[vr.parseUShort()]||{},vr.skip("uShort",1),Ft.coordinates={};for(var Zt=0;Zt<St.length;++Zt)Ft.coordinates[St[Zt].tag]=vr.parseFixed();return Ft}(A,Ue+Ge*we,$e,N));return{axes:$e,instances:Ye}}},Qn=new Array(10);Qn[1]=function(){var A=this.offset+this.relativeOffset,T=this.parseUShort();return T===1?{posFormat:1,coverage:this.parsePointer(Me.coverage),value:this.parseValueRecord()}:T===2?{posFormat:2,coverage:this.parsePointer(Me.coverage),values:this.parseValueRecordList()}:void U.assert(!1,"0x"+A.toString(16)+": GPOS lookup type 1 format must be 1 or 2.")},Qn[2]=function(){var A,T,N,B,$=this.offset+this.relativeOffset,W=this.parseUShort(),$=(U.assert(W===1||W===2,"0x"+$.toString(16)+": GPOS lookup type 2 format must be 1 or 2."),this.parsePointer(Me.coverage)),ee=this.parseUShort(),le=this.parseUShort();return W===1?{posFormat:W,coverage:$,valueFormat1:ee,valueFormat2:le,pairSets:this.parseList(Me.pointer(Me.list(function(){return{secondGlyph:this.parseUShort(),value1:this.parseValueRecord(ee),value2:this.parseValueRecord(le)}})))}:W===2?(A=this.parsePointer(Me.classDef),T=this.parsePointer(Me.classDef),N=this.parseUShort(),B=this.parseUShort(),{posFormat:W,coverage:$,valueFormat1:ee,valueFormat2:le,classDef1:A,classDef2:T,class1Count:N,class2Count:B,classRecords:this.parseList(N,Me.list(B,function(){return{value1:this.parseValueRecord(ee),value2:this.parseValueRecord(le)}}))}):void 0},Qn[3]=function(){return{error:"GPOS Lookup 3 not supported"}},Qn[4]=function(){return{error:"GPOS Lookup 4 not supported"}},Qn[5]=function(){return{error:"GPOS Lookup 5 not supported"}},Qn[6]=function(){return{error:"GPOS Lookup 6 not supported"}},Qn[7]=function(){return{error:"GPOS Lookup 7 not supported"}},Qn[8]=function(){return{error:"GPOS Lookup 8 not supported"}},Qn[9]=function(){return{error:"GPOS Lookup 9 not supported"}};var Fu=new Array(10),Uu={parse:function(A,T){return T=(A=new Me(A,T=T||0)).parseVersion(1),U.argument(T===1||T===1.1,"Unsupported GPOS table version "+T),T===1?{version:T,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(Qn)}:{version:T,scripts:A.parseScriptList(),features:A.parseFeatureList(),lookups:A.parseLookupList(Qn),variations:A.parseFeatureVariationsList()}},make:function(A){return new Fe.Table("GPOS",[{name:"version",type:"ULONG",value:65536},{name:"scripts",type:"TABLE",value:new Fe.ScriptList(A.scripts)},{name:"features",type:"TABLE",value:new Fe.FeatureList(A.features)},{name:"lookups",type:"TABLE",value:new Fe.LookupList(A.lookups,Fu)}])}},Gu={parse:function(A,T){if(A=new Pe.Parser(A,T),(T=A.parseUShort())===0){var N=A,B={},Be=(N.skip("uShort"),N.parseUShort()),W=(U.argument(Be===0,"Unsupported kern sub-table version."),N.skip("uShort",2),N.parseUShort());N.skip("uShort",3);for(var $=0;$<W;$+=1){var ee=N.parseUShort(),le=N.parseUShort(),ye=N.parseShort();B[ee+","+le]=ye}return B}if(T!==1)throw new Error("Unsupported kern table version ("+T+").");var me=A,Te={},Be=(me.skip("uShort"),1<me.parseULong()&&console.warn("Only the first kern subtable is supported."),me.skip("uLong"),255&me.parseUShort());if(me.skip("uShort"),Be==0){var Ie=me.parseUShort();me.skip("uShort",3);for(var we=0;we<Ie;we+=1){var $e=me.parseUShort(),He=me.parseUShort(),Ye=me.parseShort();Te[$e+","+He]=Ye}}return Te}},zu={parse:function(A,T,N,B){for(var W=new Pe.Parser(A,T),$=B?W.parseUShort:W.parseULong,ee=[],le=0;le<N+1;le+=1){var ye=$.call(W);B&&(ye*=2),ee.push(ye)}return ee}};function hs(A,T){t("fs").readFile(A,function(N,B){if(N)return T(N.message);T(null,as(B))})}function qi(A,T){var N=new XMLHttpRequest;N.open("get",A,!0),N.responseType="arraybuffer",N.onload=function(){return N.response?T(null,N.response):T("Font could not be loaded: "+N.statusText)},N.onerror=function(){T("Font could not be loaded")},N.send()}function Sl(A,T){for(var N=[],B=12,W=0;W<T;W+=1){var $=Pe.getTag(A,B),ee=Pe.getULong(A,B+4),le=Pe.getULong(A,B+8),ye=Pe.getULong(A,B+12);N.push({tag:$,checksum:ee,offset:le,length:ye,compression:!1}),B+=16}return N}function Lr(N,T){if(T.compression!=="WOFF")return{data:N,offset:T.offset};var N=new Uint8Array(N.buffer,T.offset+2,T.compressedLength-2),B=new Uint8Array(T.length);if(Z(N,B),B.byteLength!==T.length)throw new Error("Decompression error: "+T.tag+" decompressed length doesn't match recorded length");return{data:new DataView(B.buffer,0),offset:0}}function Ao(Ge){var T,N,B,W,$,ee,le,ye,me,Te,Be,Ie,we,$e,He=new hr({empty:!0}),Ye=new DataView(Ge,0),Ue=[],Ge=Pe.getTag(Ye,0);if(Ge==="\0\0\0"||Ge==="true"||Ge==="typ1")He.outlinesFormat="truetype",Ue=Sl(Ye,B=Pe.getUShort(Ye,4));else if(Ge==="OTTO")He.outlinesFormat="cff",Ue=Sl(Ye,B=Pe.getUShort(Ye,4));else{if(Ge!=="wOFF")throw new Error("Unsupported OpenType signature "+Ge);var _t=Pe.getTag(Ye,4);if(_t==="\0\0\0")He.outlinesFormat="truetype";else{if(_t!=="OTTO")throw new Error("Unsupported OpenType flavor "+Ge);He.outlinesFormat="cff"}Ue=function(pr,ar){for(var dn=[],ur=44,Hr=0;Hr<ar;Hr+=1){var ir=Pe.getTag(pr,ur),Fr=Pe.getULong(pr,ur+4),fi=Pe.getULong(pr,ur+8),Hn=Pe.getULong(pr,ur+12),za=void 0,za=fi<Hn&&"WOFF";dn.push({tag:ir,offset:Fr,compression:za,compressedLength:fi,length:Hn}),ur+=20}return dn}(Ye,B=Pe.getUShort(Ye,12))}for(var kt=0;kt<B;kt+=1){var St=Ue[kt],jt=void 0;switch(St.tag){case"cmap":jt=Lr(Ye,St),He.tables.cmap=oe.parse(jt.data,jt.offset),He.encoding=new Ve(He.tables.cmap);break;case"cvt ":jt=Lr(Ye,St),$e=new Pe.Parser(jt.data,jt.offset),He.tables.cvt=$e.parseShortList(St.length/2);break;case"fvar":$=St;break;case"fpgm":jt=Lr(Ye,St),$e=new Pe.Parser(jt.data,jt.offset),He.tables.fpgm=$e.parseByteList(St.length);break;case"head":jt=Lr(Ye,St),He.tables.head=Pi.parse(jt.data,jt.offset),He.unitsPerEm=He.tables.head.unitsPerEm,T=He.tables.head.indexToLocFormat;break;case"hhea":jt=Lr(Ye,St),He.tables.hhea=Se.parse(jt.data,jt.offset),He.ascender=He.tables.hhea.ascender,He.descender=He.tables.hhea.descender,He.numberOfHMetrics=He.tables.hhea.numberOfHMetrics;break;case"hmtx":me=St;break;case"ltag":jt=Lr(Ye,St),N=pt.parse(jt.data,jt.offset);break;case"maxp":jt=Lr(Ye,St),He.tables.maxp=nt.parse(jt.data,jt.offset),He.numGlyphs=He.tables.maxp.numGlyphs;break;case"name":Ie=St;break;case"OS/2":jt=Lr(Ye,St),He.tables.os2=Yr.parse(jt.data,jt.offset);break;case"post":jt=Lr(Ye,St),He.tables.post=Bi.parse(jt.data,jt.offset),He.glyphNames=new lt(He.tables.post);break;case"prep":jt=Lr(Ye,St),$e=new Pe.Parser(jt.data,jt.offset),He.tables.prep=$e.parseByteList(St.length);break;case"glyf":ee=St;break;case"loca":Be=St;break;case"CFF ":W=St;break;case"kern":Te=St;break;case"GPOS":le=St;break;case"GSUB":ye=St;break;case"meta":we=St}}if(_t=Lr(Ye,Ie),He.tables.name=Tn.parse(_t.data,_t.offset,N),He.names=He.tables.name,ee&&Be)Ge=T===0,_t=Lr(Ye,Be),_t=zu.parse(_t.data,_t.offset,He.numGlyphs,Ge),Ge=Lr(Ye,ee),He.glyphs=_o.parse(Ge.data,Ge.offset,_t,He);else{if(!W)throw new Error("Font doesn't contain TrueType or CFF outlines.");Ge=Lr(Ye,W),Ba.parse(Ge.data,Ge.offset,He)}for(var _t=Lr(Ye,me),Ft=(it.parse(_t.data,_t.offset,He.numberOfHMetrics,He.numGlyphs,He.glyphs),He),vr=Ft.tables.cmap.glyphIndexMap,Zt=Object.keys(vr),Ar=0;Ar<Zt.length;Ar+=1){var tn,rn=Zt[Ar],Vn=vr[rn];(tn=Ft.glyphs.get(Vn)).addUnicode(parseInt(rn))}for(var lr=0;lr<Ft.glyphs.length;lr+=1)tn=Ft.glyphs.get(lr),Ft.cffEncoding?Ft.isCIDFont?tn.name="gid"+lr:tn.name=Ft.cffEncoding.charset[lr]:Ft.glyphNames.names&&(tn.name=Ft.glyphNames.glyphIndexToName(lr));return Te?(Ge=Lr(Ye,Te),He.kerningPairs=Gu.parse(Ge.data,Ge.offset)):He.kerningPairs={},le&&(_t=Lr(Ye,le),He.tables.gpos=Uu.parse(_t.data,_t.offset),He.position.init()),ye&&(Ge=Lr(Ye,ye),He.tables.gsub=rs.parse(Ge.data,Ge.offset)),$&&(_t=Lr(Ye,$),He.tables.fvar=Bu.parse(_t.data,_t.offset,He.names)),we&&(Ge=Lr(Ye,we),He.tables.meta=ol.parse(Ge.data,Ge.offset),He.metas=He.tables.meta),He}d.Font=hr,d.Glyph=ht,d.Path=te,d.BoundingBox=Y,d._parse=Pe,d.parse=Ao,d.load=function(A,T){(typeof window>"u"?hs:qi)(A,function(N,B){if(N)return T(N);var W;try{W=Ao(B)}catch($){return T($,null)}return T(null,W)})},d.loadSync=function(A){return Ao(as(t("fs").readFileSync(A)))},Object.defineProperty(d,"__esModule",{value:!0})},c(typeof s=="object"&&l!==void 0?s:u.opentype={})}).call(this,t("buffer").Buffer)},{buffer:4,fs:2}],258:[function(t,l,s){(function(o){function u(g,y){for(var h=0,p=g.length-1;0<=p;p--){var m=g[p];m==="."?g.splice(p,1):m===".."?(g.splice(p,1),h++):h&&(g.splice(p,1),h--)}if(y)for(;h--;)g.unshift("..");return g}function c(g,y){if(g.filter)return g.filter(y);for(var h=[],p=0;p<g.length;p++)y(g[p],p,g)&&h.push(g[p]);return h}s.resolve=function(){for(var g="",y=!1,h=arguments.length-1;-1<=h&&!y;h--){var p=0<=h?arguments[h]:o.cwd();if(typeof p!="string")throw new TypeError("Arguments to path.resolve must be strings");p&&(g=p+"/"+g,y=p.charAt(0)==="/")}return(y?"/":"")+(g=u(c(g.split("/"),function(m){return!!m}),!y).join("/"))||"."},s.normalize=function(g){var y=s.isAbsolute(g),h=d(g,-1)==="/";return(g=(g=u(c(g.split("/"),function(p){return!!p}),!y).join("/"))||y?g:".")&&h&&(g+="/"),(y?"/":"")+g},s.isAbsolute=function(g){return g.charAt(0)==="/"},s.join=function(){var g=Array.prototype.slice.call(arguments,0);return s.normalize(c(g,function(y,h){if(typeof y!="string")throw new TypeError("Arguments to path.join must be strings");return y}).join("/"))},s.relative=function(g,y){function h(E){for(var S=0;S<E.length&&E[S]==="";S++);for(var C=E.length-1;0<=C&&E[C]==="";C--);return C<S?[]:E.slice(S,C-S+1)}g=s.resolve(g).substr(1),y=s.resolve(y).substr(1);for(var p=h(g.split("/")),m=h(y.split("/")),v=Math.min(p.length,m.length),_=v,x=0;x<v;x++)if(p[x]!==m[x]){_=x;break}for(var b=[],x=_;x<p.length;x++)b.push("..");return(b=b.concat(m.slice(_))).join("/")},s.sep="/",s.delimiter=":",s.dirname=function(g){if(typeof g!="string"&&(g+=""),g.length===0)return".";for(var y=g.charCodeAt(0)===47,h=-1,p=!0,m=g.length-1;1<=m;--m)if(g.charCodeAt(m)===47){if(!p){h=m;break}}else p=!1;return h===-1?y?"/":".":y&&h===1?"/":g.slice(0,h)},s.basename=function(g,y){return g=function(h){typeof h!="string"&&(h+="");for(var p=0,m=-1,v=!0,_=h.length-1;0<=_;--_)if(h.charCodeAt(_)===47){if(!v){p=_+1;break}}else m===-1&&(v=!1,m=_+1);return m===-1?"":h.slice(p,m)}(g),g=y&&g.substr(-1*y.length)===y?g.substr(0,g.length-y.length):g},s.extname=function(g){typeof g!="string"&&(g+="");for(var y=-1,h=0,p=-1,m=!0,v=0,_=g.length-1;0<=_;--_){var x=g.charCodeAt(_);if(x===47){if(m)continue;h=_+1;break}p===-1&&(m=!1,p=_+1),x===46?y===-1?y=_:v!==1&&(v=1):y!==-1&&(v=-1)}return y===-1||p===-1||v===0||v===1&&y===p-1&&y===h+1?"":g.slice(y,p)};var d="ab".substr(-1)==="b"?function(g,y,h){return g.substr(y,h)}:function(g,y,h){return y<0&&(y=g.length+y),g.substr(y,h)}}).call(this,t("_process"))},{_process:259}],259:[function(t,c,s){var o,u,c=c.exports={};function d(){throw new Error("setTimeout has not been defined")}function g(){throw new Error("clearTimeout has not been defined")}try{o=typeof setTimeout=="function"?setTimeout:d}catch{o=d}try{u=typeof clearTimeout=="function"?clearTimeout:g}catch{u=g}function y(S){if(o===setTimeout)return setTimeout(S,0);if((o===d||!o)&&setTimeout)return(o=setTimeout)(S,0);try{return o(S,0)}catch{try{return o.call(null,S,0)}catch{return o.call(this,S,0)}}}var h,p=[],m=!1,v=-1;function _(){m&&h&&(m=!1,h.length?p=h.concat(p):v=-1,p.length&&x())}function x(){if(!m){for(var S=y(_),C=(m=!0,p.length);C;){for(h=p,p=[];++v<C;)h&&h[v].run();v=-1,C=p.length}h=null,m=!1,function(D){if(u===clearTimeout)return clearTimeout(D);if((u===g||!u)&&clearTimeout)return(u=clearTimeout)(D);try{u(D)}catch{try{return u.call(null,D)}catch{return u.call(this,D)}}}(S)}}function b(S,C){this.fun=S,this.array=C}function E(){}c.nextTick=function(S){var C=new Array(arguments.length-1);if(1<arguments.length)for(var D=1;D<arguments.length;D++)C[D-1]=arguments[D];p.push(new b(S,C)),p.length!==1||m||y(x)},b.prototype.run=function(){this.fun.apply(null,this.array)},c.title="browser",c.browser=!0,c.env={},c.argv=[],c.version="",c.versions={},c.on=E,c.addListener=E,c.once=E,c.off=E,c.removeListener=E,c.removeAllListeners=E,c.emit=E,c.prependListener=E,c.prependOnceListener=E,c.listeners=function(S){return[]},c.binding=function(S){throw new Error("process.binding is not supported")},c.cwd=function(){return"/"},c.chdir=function(S){throw new Error("process.chdir is not supported")},c.umask=function(){return 0}},{}],260:[function(t,l,s){l=function(o){var u,c=Object.prototype,d=c.hasOwnProperty,M=typeof Symbol=="function"?Symbol:{},g=M.iterator||"@@iterator",y=M.asyncIterator||"@@asyncIterator",h=M.toStringTag||"@@toStringTag";function p(J,q,K,Q){var te,ue,O,U,q=q&&q.prototype instanceof S?q:S,q=Object.create(q.prototype),Q=new X(Q||[]);return q._invoke=(te=J,ue=K,O=Q,U=v,function(ae,ie){if(U===x)throw new Error("Generator is already running");if(U===b){if(ae==="throw")throw ie;return H()}for(O.method=ae,O.arg=ie;;){var he=O.delegate;if(he&&(he=function ge(fe,ve){var xe=fe.iterator[ve.method];if(xe===u){if(ve.delegate=null,ve.method==="throw"){if(fe.iterator.return&&(ve.method="return",ve.arg=u,ge(fe,ve),ve.method==="throw"))return E;ve.method="throw",ve.arg=new TypeError("The iterator does not provide a 'throw' method")}return E}if(xe=m(xe,fe.iterator,ve.arg),xe.type==="throw")return ve.method="throw",ve.arg=xe.arg,ve.delegate=null,E;if(xe=xe.arg,!xe)return ve.method="throw",ve.arg=new TypeError("iterator result is not an object"),ve.delegate=null,E;{if(!xe.done)return xe;ve[fe.resultName]=xe.value,ve.next=fe.nextLoc,ve.method!=="return"&&(ve.method="next",ve.arg=u)}return ve.delegate=null,E}(he,O),he)){if(he===E)continue;return he}if(O.method==="next")O.sent=O._sent=O.arg;else if(O.method==="throw"){if(U===v)throw U=b,O.arg;O.dispatchException(O.arg)}else O.method==="return"&&O.abrupt("return",O.arg);if(U=x,he=m(te,ue,O),he.type==="normal"){if(U=O.done?b:_,he.arg!==E)return{value:he.arg,done:O.done}}else he.type==="throw"&&(U=b,O.method="throw",O.arg=he.arg)}}),q}function m(J,Z,K){try{return{type:"normal",arg:J.call(Z,K)}}catch(Y){return{type:"throw",arg:Y}}}o.wrap=p;var v="suspendedStart",_="suspendedYield",x="executing",b="completed",E={};function S(){}function C(){}function D(){}var M={},R=(M[g]=function(){return this},Object.getPrototypeOf),R=R&&R(R(V([]))),L=(R&&R!==c&&d.call(R,g)&&(M=R),D.prototype=S.prototype=Object.create(M));function F(J){["next","throw","return"].forEach(function(Z){J[Z]=function(K){return this._invoke(Z,K)}})}function I(J){var Z;this._invoke=function(K,Y){function te(){return new Promise(function(ue,O){(function U(ge,Q,ae,ie){var he,ge=m(J[ge],J,Q);if(ge.type!=="throw")return(Q=(he=ge.arg).value)&&typeof Q=="object"&&d.call(Q,"__await")?Promise.resolve(Q.__await).then(function(fe){U("next",fe,ae,ie)},function(fe){U("throw",fe,ae,ie)}):Promise.resolve(Q).then(function(fe){he.value=fe,ae(he)},function(fe){return U("throw",fe,ae,ie)});ie(ge.arg)})(K,Y,ue,O)})}return Z=Z?Z.then(te,te):te()}}function G(J){var Z={tryLoc:J[0]};1 in J&&(Z.catchLoc=J[1]),2 in J&&(Z.finallyLoc=J[2],Z.afterLoc=J[3]),this.tryEntries.push(Z)}function P(J){var Z=J.completion||{};Z.type="normal",delete Z.arg,J.completion=Z}function X(J){this.tryEntries=[{tryLoc:"root"}],J.forEach(G,this),this.reset(!0)}function V(J){if(J){var Z,K=J[g];if(K)return K.call(J);if(typeof J.next=="function")return J;if(!isNaN(J.length))return Z=-1,(K=function Y(){for(;++Z<J.length;)if(d.call(J,Z))return Y.value=J[Z],Y.done=!1,Y;return Y.value=u,Y.done=!0,Y}).next=K}return{next:H}}function H(){return{value:u,done:!0}}return(C.prototype=L.constructor=D).constructor=C,D[h]=C.displayName="GeneratorFunction",o.isGeneratorFunction=function(J){return J=typeof J=="function"&&J.constructor,!!J&&(J===C||(J.displayName||J.name)==="GeneratorFunction")},o.mark=function(J){return Object.setPrototypeOf?Object.setPrototypeOf(J,D):(J.__proto__=D,h in J||(J[h]="GeneratorFunction")),J.prototype=Object.create(L),J},o.awrap=function(J){return{__await:J}},F(I.prototype),I.prototype[y]=function(){return this},o.AsyncIterator=I,o.async=function(J,Z,K,Y){var te=new I(p(J,Z,K,Y));return o.isGeneratorFunction(Z)?te:te.next().then(function(ue){return ue.done?ue.value:te.next()})},F(L),L[h]="Generator",L[g]=function(){return this},L.toString=function(){return"[object Generator]"},o.keys=function(J){var Z,K=[];for(Z in J)K.push(Z);return K.reverse(),function Y(){for(;K.length;){var te=K.pop();if(te in J)return Y.value=te,Y.done=!1,Y}return Y.done=!0,Y}},o.values=V,X.prototype={constructor:X,reset:function(J){if(this.prev=0,this.next=0,this.sent=this._sent=u,this.done=!1,this.delegate=null,this.method="next",this.arg=u,this.tryEntries.forEach(P),!J)for(var Z in this)Z.charAt(0)==="t"&&d.call(this,Z)&&!isNaN(+Z.slice(1))&&(this[Z]=u)},stop:function(){this.done=!0;var J=this.tryEntries[0].completion;if(J.type==="throw")throw J.arg;return this.rval},dispatchException:function(J){if(this.done)throw J;var Z=this;function K(q,Q){return ue.type="throw",ue.arg=J,Z.next=q,Q&&(Z.method="next",Z.arg=u),!!Q}for(var Y=this.tryEntries.length-1;0<=Y;--Y){var te=this.tryEntries[Y],ue=te.completion;if(te.tryLoc==="root")return K("end");if(te.tryLoc<=this.prev){var O=d.call(te,"catchLoc"),U=d.call(te,"finallyLoc");if(O&&U){if(this.prev<te.catchLoc)return K(te.catchLoc,!0);if(this.prev<te.finallyLoc)return K(te.finallyLoc)}else if(O){if(this.prev<te.catchLoc)return K(te.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<te.finallyLoc)return K(te.finallyLoc)}}}},abrupt:function(J,Z){for(var K=this.tryEntries.length-1;0<=K;--K){var Y=this.tryEntries[K];if(Y.tryLoc<=this.prev&&d.call(Y,"finallyLoc")&&this.prev<Y.finallyLoc){var te=Y;break}}var ue=(te=te&&(J==="break"||J==="continue")&&te.tryLoc<=Z&&Z<=te.finallyLoc?null:te)?te.completion:{};return ue.type=J,ue.arg=Z,te?(this.method="next",this.next=te.finallyLoc,E):this.complete(ue)},complete:function(J,Z){if(J.type==="throw")throw J.arg;return J.type==="break"||J.type==="continue"?this.next=J.arg:J.type==="return"?(this.rval=this.arg=J.arg,this.method="return",this.next="end"):J.type==="normal"&&Z&&(this.next=Z),E},finish:function(J){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var K=this.tryEntries[Z];if(K.finallyLoc===J)return this.complete(K.completion,K.afterLoc),P(K),E}},catch:function(J){for(var Z=this.tryEntries.length-1;0<=Z;--Z){var K,Y,te=this.tryEntries[Z];if(te.tryLoc===J)return(K=te.completion).type==="throw"&&(Y=K.arg,P(te)),Y}throw new Error("illegal catch attempt")},delegateYield:function(J,Z,K){return this.delegate={iterator:V(J),resultName:Z,nextLoc:K},this.method==="next"&&(this.arg=u),E}},o}(typeof l=="object"?l.exports:{});try{regeneratorRuntime=l}catch{Function("r","regeneratorRuntime = r")(l)}},{}],261:[function(t,l,s){(function(o){var u,c,d,g,y,h,p,m,v,_;function x(P){if(typeof P!="string"&&(P=String(P)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(P))throw new TypeError("Invalid character in header field name");return P.toLowerCase()}function b(P){return P=typeof P!="string"?String(P):P}function E(P){var X={next:function(){var V=P.shift();return{done:V===void 0,value:V}}};return c&&(X[Symbol.iterator]=function(){return X}),X}function S(P){this.map={},P instanceof S?P.forEach(function(X,V){this.append(V,X)},this):Array.isArray(P)?P.forEach(function(X){this.append(X[0],X[1])},this):P&&Object.getOwnPropertyNames(P).forEach(function(X){this.append(X,P[X])},this)}function C(P){if(P.bodyUsed)return Promise.reject(new TypeError("Already read"));P.bodyUsed=!0}function D(P){return new Promise(function(X,V){P.onload=function(){X(P.result)},P.onerror=function(){V(P.error)}})}function M(P){var X=new FileReader,V=D(X);return X.readAsArrayBuffer(P),V}function R(P){var X;return P.slice?P.slice(0):((X=new Uint8Array(P.byteLength)).set(new Uint8Array(P)),X.buffer)}function L(){return this.bodyUsed=!1,this._initBody=function(P){if(this._bodyInit=P)if(typeof P=="string")this._bodyText=P;else if(d&&Blob.prototype.isPrototypeOf(P))this._bodyBlob=P;else if(g&&FormData.prototype.isPrototypeOf(P))this._bodyFormData=P;else if(u&&URLSearchParams.prototype.isPrototypeOf(P))this._bodyText=P.toString();else if(y&&d&&p(P))this._bodyArrayBuffer=R(P.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!y||!ArrayBuffer.prototype.isPrototypeOf(P)&&!m(P))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=R(P)}else this._bodyText="";this.headers.get("content-type")||(typeof P=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):u&&URLSearchParams.prototype.isPrototypeOf(P)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},d&&(this.blob=function(){var P=C(this);if(P)return P;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?C(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(M)}),this.text=function(){var P,X,V=C(this);if(V)return V;if(this._bodyBlob)return V=this._bodyBlob,P=new FileReader,X=D(P),P.readAsText(V),X;if(this._bodyArrayBuffer)return Promise.resolve(function(H){for(var J=new Uint8Array(H),Z=new Array(J.length),K=0;K<J.length;K++)Z[K]=String.fromCharCode(J[K]);return Z.join("")}(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},g&&(this.formData=function(){return this.text().then(I)}),this.json=function(){return this.text().then(JSON.parse)},this}function F(P,X){var V,H=(X=X||{}).body;if(P instanceof F){if(P.bodyUsed)throw new TypeError("Already read");this.url=P.url,this.credentials=P.credentials,X.headers||(this.headers=new S(P.headers)),this.method=P.method,this.mode=P.mode,H||P._bodyInit==null||(H=P._bodyInit,P.bodyUsed=!0)}else this.url=String(P);if(this.credentials=X.credentials||this.credentials||"omit",!X.headers&&this.headers||(this.headers=new S(X.headers)),this.method=(P=X.method||this.method||"GET",V=P.toUpperCase(),-1<v.indexOf(V)?V:P),this.mode=X.mode||this.mode||null,this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&H)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(H)}function I(P){var X=new FormData;return P.trim().split("&").forEach(function(V){var H;V&&(H=(V=V.split("=")).shift().replace(/\+/g," "),V=V.join("=").replace(/\+/g," "),X.append(decodeURIComponent(H),decodeURIComponent(V)))}),X}function G(P,X){X=X||{},this.type="default",this.status=X.status===void 0?200:X.status,this.ok=200<=this.status&&this.status<300,this.statusText="statusText"in X?X.statusText:"OK",this.headers=new S(X.headers),this.url=X.url||"",this._initBody(P)}o.fetch||(u="URLSearchParams"in o,c="Symbol"in o&&"iterator"in Symbol,d="FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),g="FormData"in o,(y="ArrayBuffer"in o)&&(h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],p=function(P){return P&&DataView.prototype.isPrototypeOf(P)},m=ArrayBuffer.isView||function(P){return P&&-1<h.indexOf(Object.prototype.toString.call(P))}),S.prototype.append=function(P,X){P=x(P),X=b(X);var V=this.map[P];this.map[P]=V?V+","+X:X},S.prototype.delete=function(P){delete this.map[x(P)]},S.prototype.get=function(P){return P=x(P),this.has(P)?this.map[P]:null},S.prototype.has=function(P){return this.map.hasOwnProperty(x(P))},S.prototype.set=function(P,X){this.map[x(P)]=b(X)},S.prototype.forEach=function(P,X){for(var V in this.map)this.map.hasOwnProperty(V)&&P.call(X,this.map[V],V,this)},S.prototype.keys=function(){var P=[];return this.forEach(function(X,V){P.push(V)}),E(P)},S.prototype.values=function(){var P=[];return this.forEach(function(X){P.push(X)}),E(P)},S.prototype.entries=function(){var P=[];return this.forEach(function(X,V){P.push([V,X])}),E(P)},c&&(S.prototype[Symbol.iterator]=S.prototype.entries),v=["DELETE","GET","HEAD","OPTIONS","POST","PUT"],F.prototype.clone=function(){return new F(this,{body:this._bodyInit})},L.call(F.prototype),L.call(G.prototype),G.prototype.clone=function(){return new G(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new S(this.headers),url:this.url})},G.error=function(){var P=new G(null,{status:0,statusText:""});return P.type="error",P},_=[301,302,303,307,308],G.redirect=function(P,X){if(_.indexOf(X)===-1)throw new RangeError("Invalid status code");return new G(null,{status:X,headers:{location:P}})},o.Headers=S,o.Request=F,o.Response=G,o.fetch=function(P,X){return new Promise(function(V,H){var J=new F(P,X),Z=new XMLHttpRequest;Z.onload=function(){var K,Y={status:Z.status,statusText:Z.statusText,headers:(Y=Z.getAllResponseHeaders()||"",K=new S,Y.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(O){var O=O.split(":"),U=O.shift().trim();U&&(O=O.join(":").trim(),K.append(U,O))}),K)},te=(Y.url="responseURL"in Z?Z.responseURL:Y.headers.get("X-Request-URL"),"response"in Z?Z.response:Z.responseText);V(new G(te,Y))},Z.onerror=function(){H(new TypeError("Network request failed"))},Z.ontimeout=function(){H(new TypeError("Network request failed"))},Z.open(J.method,J.url,!0),J.credentials==="include"?Z.withCredentials=!0:J.credentials==="omit"&&(Z.withCredentials=!1),"responseType"in Z&&d&&(Z.responseType="blob"),J.headers.forEach(function(K,Y){Z.setRequestHeader(Y,K)}),Z.send(J._bodyInit===void 0?null:J._bodyInit)})},o.fetch.polyfill=!0)})(typeof self<"u"?self:this)},{}],262:[function(t,l,s){t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o,u=d(t("../core/main")),c=d(t("../color/color_conversion"));function d(h){return h&&h.__esModule?h:{default:h}}var g=[{h:0,s:0,b:.8275,name:"gray"},{h:0,s:0,b:.8627,name:"gray"},{h:0,s:0,b:.7529,name:"gray"},{h:.0167,s:.1176,b:1,name:"light pink"}],y=[{h:0,s:0,b:0,name:"black"},{h:0,s:0,b:.5,name:"gray"},{h:0,s:0,b:1,name:"white"},{h:0,s:.5,b:.5,name:"dark maroon"},{h:0,s:.5,b:1,name:"salmon pink"},{h:0,s:1,b:0,name:"black"},{h:0,s:1,b:.5,name:"dark red"},{h:0,s:1,b:1,name:"red"},{h:5,s:0,b:1,name:"very light peach"},{h:5,s:.5,b:.5,name:"brown"},{h:5,s:.5,b:1,name:"peach"},{h:5,s:1,b:.5,name:"brick red"},{h:5,s:1,b:1,name:"crimson"},{h:10,s:0,b:1,name:"light peach"},{h:10,s:.5,b:.5,name:"brown"},{h:10,s:.5,b:1,name:"light orange"},{h:10,s:1,b:.5,name:"brown"},{h:10,s:1,b:1,name:"orange"},{h:15,s:0,b:1,name:"very light yellow"},{h:15,s:.5,b:.5,name:"olive green"},{h:15,s:.5,b:1,name:"light yellow"},{h:15,s:1,b:0,name:"dark olive green"},{h:15,s:1,b:.5,name:"olive green"},{h:15,s:1,b:1,name:"yellow"},{h:20,s:0,b:1,name:"very light yellow"},{h:20,s:.5,b:.5,name:"olive green"},{h:20,s:.5,b:1,name:"light yellow green"},{h:20,s:1,b:0,name:"dark olive green"},{h:20,s:1,b:.5,name:"dark yellow green"},{h:20,s:1,b:1,name:"yellow green"},{h:25,s:.5,b:.5,name:"dark yellow green"},{h:25,s:.5,b:1,name:"light green"},{h:25,s:1,b:.5,name:"dark green"},{h:25,s:1,b:1,name:"green"},{h:30,s:.5,b:1,name:"light green"},{h:30,s:1,b:.5,name:"dark green"},{h:30,s:1,b:1,name:"green"},{h:35,s:0,b:.5,name:"light green"},{h:35,s:0,b:1,name:"very light green"},{h:35,s:.5,b:.5,name:"dark green"},{h:35,s:.5,b:1,name:"light green"},{h:35,s:1,b:0,name:"very dark green"},{h:35,s:1,b:.5,name:"dark green"},{h:35,s:1,b:1,name:"green"},{h:40,s:0,b:1,name:"very light green"},{h:40,s:.5,b:.5,name:"dark green"},{h:40,s:.5,b:1,name:"light green"},{h:40,s:1,b:.5,name:"dark green"},{h:40,s:1,b:1,name:"green"},{h:45,s:.5,b:1,name:"light turquoise"},{h:45,s:1,b:.5,name:"dark turquoise"},{h:45,s:1,b:1,name:"turquoise"},{h:50,s:0,b:1,name:"light sky blue"},{h:50,s:.5,b:.5,name:"dark cyan"},{h:50,s:.5,b:1,name:"light cyan"},{h:50,s:1,b:.5,name:"dark cyan"},{h:50,s:1,b:1,name:"cyan"},{h:55,s:0,b:1,name:"light sky blue"},{h:55,s:.5,b:1,name:"light sky blue"},{h:55,s:1,b:.5,name:"dark blue"},{h:55,s:1,b:1,name:"sky blue"},{h:60,s:0,b:.5,name:"gray"},{h:60,s:0,b:1,name:"very light blue"},{h:60,s:.5,b:.5,name:"blue"},{h:60,s:.5,b:1,name:"light blue"},{h:60,s:1,b:.5,name:"navy blue"},{h:60,s:1,b:1,name:"blue"},{h:65,s:0,b:1,name:"lavender"},{h:65,s:.5,b:.5,name:"navy blue"},{h:65,s:.5,b:1,name:"light purple"},{h:65,s:1,b:.5,name:"dark navy blue"},{h:65,s:1,b:1,name:"blue"},{h:70,s:0,b:1,name:"lavender"},{h:70,s:.5,b:.5,name:"navy blue"},{h:70,s:.5,b:1,name:"lavender blue"},{h:70,s:1,b:.5,name:"dark navy blue"},{h:70,s:1,b:1,name:"blue"},{h:75,s:.5,b:1,name:"lavender"},{h:75,s:1,b:.5,name:"dark purple"},{h:75,s:1,b:1,name:"purple"},{h:80,s:.5,b:1,name:"pinkish purple"},{h:80,s:1,b:.5,name:"dark purple"},{h:80,s:1,b:1,name:"purple"},{h:85,s:0,b:1,name:"light pink"},{h:85,s:.5,b:.5,name:"purple"},{h:85,s:.5,b:1,name:"light fuchsia"},{h:85,s:1,b:.5,name:"dark fuchsia"},{h:85,s:1,b:1,name:"fuchsia"},{h:90,s:.5,b:.5,name:"dark fuchsia"},{h:90,s:.5,b:1,name:"hot pink"},{h:90,s:1,b:.5,name:"dark fuchsia"},{h:90,s:1,b:1,name:"fuchsia"},{h:95,s:0,b:1,name:"pink"},{h:95,s:.5,b:1,name:"light pink"},{h:95,s:1,b:.5,name:"dark magenta"},{h:95,s:1,b:1,name:"magenta"}];u.default.prototype._rgbColorName=function(v){var p,m,v=c.default._rgbaToHSBA(v),_=[(o=v)[0],v[1],v[2]];_[0]!==0&&(_[0]=Math.round(100*_[0]),(v=_[0].toString().split(""))[m=v.length-1]=parseInt(v[m]),v[m]<2.5?v[m]=0:2.5<=v[m]&&v[m]<7.5&&(v[m]=5),v.length===2?(v[0]=parseInt(v[0]),7.5<=v[m]&&(v[m]=0,v[0]=v[0]+1),_[0]=10*v[0]+v[1]):7.5<=v[m]?_[0]=10:_[0]=v[m]),_[2]=_[2]/255;for(var x=_.length-1;1<=x;x--)_[x]<=.25?_[x]=0:.25<_[x]&&_[x]<.75?_[x]=.5:_[x]=1;if(_[0]===0&&_[1]===0&&_[2]===1){for(var b=2;0<=b;b--)o[b]=Math.round(1e4*o[b])/1e4;for(var E=0;E<g.length;E++){if(g[E].h===o[0]&&g[E].s===o[1]&&g[E].b===o[2]){p=g[E].name;break}p="white"}}else for(var S=0;S<y.length;S++)if(y[S].h===_[0]&&y[S].s===_[1]&&y[S].b===_[2]){p=y[S].name;break}return p},t=u.default,s.default=t},{"../color/color_conversion":268,"../core/main":283,"core-js/modules/es.function.name":174,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206}],263:[function(t,l,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t},u="_Description",c="_fallbackDesc",d="_fallbackTable",g="_Label",y="_labelDesc",h="_labelTable";function p(m){if(m==="label"||m==="fallback")throw new Error("description should not be LABEL or FALLBACK");return m.endsWith(".")||m.endsWith(";")||m.endsWith(",")||m.endsWith("?")||m.endsWith("!")||(m+="."),m}o.default.prototype.describe=function(m,v){var _;o.default._validateParameters("describe",arguments),typeof m=="string"&&(_=this.canvas.id,m=p(m),this.dummyDOM||(this.dummyDOM=document.getElementById(_).parentNode),this.descriptions||(this.descriptions={}),this.descriptions.fallback?this.descriptions.fallback.innerHTML!==m&&(this.descriptions.fallback.innerHTML=m):this._describeHTML("fallback",m),v===this.LABEL&&(this.descriptions.label?this.descriptions.label.innerHTML!==m&&(this.descriptions.label.innerHTML=m):this._describeHTML("label",m)))},o.default.prototype.describeElement=function(m,v,_){var x,b;o.default._validateParameters("describeElement",arguments),typeof v=="string"&&typeof m=="string"&&(x=this.canvas.id,v=p(v),b=function(E){if(E==="label"||E==="fallback")throw new Error("element name should not be LABEL or FALLBACK");return E.endsWith(".")||E.endsWith(";")||E.endsWith(",")?E=E.replace(/.$/,":"):E.endsWith(":")||(E+=":"),E}(m),m=m.replace(/[^a-zA-Z0-9]/g,""),b='<th scope="row">'.concat(b,"</th><td>").concat(v,"</td>"),this.dummyDOM||(this.dummyDOM=document.getElementById(x).parentNode),this.descriptions?this.descriptions.fallbackElements||(this.descriptions.fallbackElements={}):this.descriptions={fallbackElements:{}},this.descriptions.fallbackElements[m]?this.descriptions.fallbackElements[m].innerHTML!==b&&(this.descriptions.fallbackElements[m].innerHTML=b):this._describeElementHTML("fallback",m,b),_===this.LABEL&&(this.descriptions.labelElements||(this.descriptions.labelElements={}),this.descriptions.labelElements[m]?this.descriptions.labelElements[m].innerHTML!==b&&(this.descriptions.labelElements[m].innerHTML=b):this._describeElementHTML("label",m,b)))},o.default.prototype._describeHTML=function(m,v){var _,x=this.canvas.id;m==="fallback"?(this.dummyDOM.querySelector("#".concat(x+u))?this.dummyDOM.querySelector("#"+x+d).insertAdjacentHTML("beforebegin",'<p id="'.concat(x+c,'"></p>')):(_='<div id="'.concat(x).concat(u,'" role="region" aria-label="Canvas Description"><p id="').concat(x).concat(c,'"></p></div>'),this.dummyDOM.querySelector("#".concat(x,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutput")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#".concat(x)).innerHTML=_),this.descriptions.fallback=this.dummyDOM.querySelector("#".concat(x).concat(c)),this.descriptions.fallback.innerHTML=v):m==="label"&&(this.dummyDOM.querySelector("#".concat(x+g))?this.dummyDOM.querySelector("#".concat(x+h))&&this.dummyDOM.querySelector("#".concat(x+h)).insertAdjacentHTML("beforebegin",'<p id="'.concat(x).concat(y,'"></p>')):(_='<div id="'.concat(x).concat(g,'" class="p5Label"><p id="').concat(x).concat(y,'"></p></div>'),this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(x,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",_):this.dummyDOM.querySelector("#"+x).insertAdjacentHTML("afterend",_)),this.descriptions.label=this.dummyDOM.querySelector("#"+x+y),this.descriptions.label.innerHTML=v)},o.default.prototype._describeElementHTML=function(m,v,_){var x,b=this.canvas.id;m==="fallback"?(this.dummyDOM.querySelector("#".concat(b+u))?this.dummyDOM.querySelector("#"+b+d)||this.dummyDOM.querySelector("#"+b+c).insertAdjacentHTML("afterend",'<table id="'.concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table>')):(x='<div id="'.concat(b).concat(u,'" role="region" aria-label="Canvas Description"><table id="').concat(b).concat(d,'"><caption>Canvas elements and their descriptions</caption></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutput"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutput")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#"+b).innerHTML=x),(x=document.createElement("tr")).id=b+"_fte_"+v,this.dummyDOM.querySelector("#"+b+d).appendChild(x),this.descriptions.fallbackElements[v]=this.dummyDOM.querySelector("#".concat(b).concat("_fte_").concat(v)),this.descriptions.fallbackElements[v].innerHTML=_):m==="label"&&(this.dummyDOM.querySelector("#".concat(b+g))?this.dummyDOM.querySelector("#".concat(b+h))||this.dummyDOM.querySelector("#"+b+y).insertAdjacentHTML("afterend",'<table id="'.concat(b+h,'"></table>')):(x='<div id="'.concat(b).concat(g,'" class="p5Label"><table id="').concat(b).concat(h,'"></table></div>'),this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel"))?this.dummyDOM.querySelector("#".concat(b,"accessibleOutputLabel")).insertAdjacentHTML("beforebegin",x):this.dummyDOM.querySelector("#"+b).insertAdjacentHTML("afterend",x)),(m=document.createElement("tr")).id=b+"_lte_"+v,this.dummyDOM.querySelector("#"+b+h).appendChild(m),this.descriptions.labelElements[v]=this.dummyDOM.querySelector("#".concat(b).concat("_lte_").concat(v)),this.descriptions.labelElements[v].innerHTML=_)},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.replace":204}],264:[function(t,l,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.map"),t("core-js/modules/es.string.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateGridOutput=function(o){var u,c,d,g;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(u=this._accessibleOutputs[o],d=function(y,h,p,m){return h="".concat(h," canvas, ").concat(p," by ").concat(m," pixels, contains ").concat(y[0]),h=(y[0]===1?"".concat(h," shape: "):"".concat(h," shapes: ")).concat(y[1]),h}((c=function(y,h){var p,m="",v="",_=0;for(p in h){var x,b=0;for(x in h[p]){var E='<li id="'.concat(y,"shape").concat(_,'">').concat(h[p][x].color," ").concat(p,",");p==="line"?E+=" location = ".concat(h[p][x].pos,", length = ").concat(h[p][x].length," pixels"):(E+=" location = ".concat(h[p][x].pos),p!=="point"&&(E+=", area = ".concat(h[p][x].area," %")),E+="</li>"),m+=E,b++,_++}v=1<b?"".concat(v," ").concat(b," ").concat(p,"s"):"".concat(v," ").concat(b," ").concat(p)}return{numShapes:[_,v],details:m}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),g=function(y,h){var p,m,v=0,_="",x=Array.from(Array(10),function(){return Array(10)});for(p in h)for(var b in h[p]){var E=void 0;E=p!=="line"?'<a href="#'.concat(y,"shape").concat(v,'">').concat(h[p][b].color," ").concat(p,"</a>"):'<a href="#'.concat(y,"shape").concat(v,'">').concat(h[p][b].color," ").concat(p," midpoint</a>"),h[p][b].loc.locY<x.length&&h[p][b].loc.locX<x[h[p][b].loc.locY].length&&(x[h[p][b].loc.locY][h[p][b].loc.locX]?x[h[p][b].loc.locY][h[p][b].loc.locX]=x[h[p][b].loc.locY][h[p][b].loc.locX]+"  "+E:x[h[p][b].loc.locY][h[p][b].loc.locX]=E,v++)}for(m in x){var S,C="<tr>";for(S in x[m])C+="<td>",x[m][S]!==void 0&&(C+=x[m][S]),C+="</td>";_=_+C+"</tr>"}return _}(o,this.ingredients.shapes),d!==u.summary.innerHTML&&(u.summary.innerHTML=d),g!==u.map.innerHTML&&(u.map.innerHTML=g),c.details!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=c.details),this._accessibleOutputs[o]=u)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.map":168,"core-js/modules/es.string.iterator":200}],265:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.to-fixed"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d){return function(g){if(Array.isArray(g)){for(var y=0,h=new Array(g.length);y<g.length;y++)h[y]=g[y];return h}}(d)||function(g){if(Symbol.iterator in Object(g)||Object.prototype.toString.call(g)==="[object Arguments]")return Array.from(g)}(d)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function c(d,g,y){return g=Math.floor(d[0]/g*10),d=Math.floor(d[1]/y*10),g===10&&(g-=1),d===10&&(d-=1),{locX:g,locY:d}}o.default.prototype.textOutput=function(d){o.default._validateParameters("textOutput",arguments),this._accessibleOutputs.text||(this._accessibleOutputs.text=!0,this._createOutput("textOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.textLabel=!0,this._createOutput("textOutput","Label")))},o.default.prototype.gridOutput=function(d){o.default._validateParameters("gridOutput",arguments),this._accessibleOutputs.grid||(this._accessibleOutputs.grid=!0,this._createOutput("gridOutput","Fallback"),d===this.LABEL&&(this._accessibleOutputs.gridLabel=!0,this._createOutput("gridOutput","Label")))},o.default.prototype._addAccsOutput=function(){return this._accessibleOutputs||(this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1}),this._accessibleOutputs.grid||this._accessibleOutputs.text},o.default.prototype._createOutput=function(d,g){var y,h,p,m=this.canvas.id,v=(this.ingredients||(this.ingredients={shapes:{},colors:{background:"white",fill:"white",stroke:"black"},pShapes:"",pBackground:""}),this.dummyDOM||(this.dummyDOM=document.getElementById(m).parentNode),"");g==="Fallback"?(y=m+d,this.dummyDOM.querySelector("#".concat(h=m+"accessibleOutput"))||(this.dummyDOM.querySelector("#".concat(m,"_Description"))?this.dummyDOM.querySelector("#".concat(m,"_Description")).insertAdjacentHTML("afterend",'<div id="'.concat(h,'" role="region" aria-label="Canvas Outputs"></div>')):this.dummyDOM.querySelector("#".concat(m)).innerHTML='<div id="'.concat(h,'" role="region" aria-label="Canvas Outputs"></div>'))):g==="Label"&&(y=m+d+(v=g),this.dummyDOM.querySelector("#".concat(h=m+"accessibleOutput"+g))||(this.dummyDOM.querySelector("#".concat(m,"_Label"))?this.dummyDOM.querySelector("#".concat(m,"_Label")):this.dummyDOM.querySelector("#".concat(m))).insertAdjacentHTML("afterend",'<div id="'.concat(h,'"></div>'))),this._accessibleOutputs[y]={},d==="textOutput"?(v="#".concat(m,"gridOutput").concat(v),p='<div id="'.concat(y,'">Text Output<div id="').concat(y,'Summary" aria-label="text output summary"><p id="').concat(y,'_summary"></p><ul id="').concat(y,'_list"></ul></div><table id="').concat(y,'_shapeDetails" summary="text output shape details"></table></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("beforebegin",p):this.dummyDOM.querySelector("#".concat(h)).innerHTML=p,this._accessibleOutputs[y].list=this.dummyDOM.querySelector("#".concat(y,"_list"))):d==="gridOutput"&&(v="#".concat(m,"textOutput").concat(v),p='<div id="'.concat(y,'">Grid Output<p id="').concat(y,'_summary" aria-label="grid output summary"><table id="').concat(y,'_map" summary="grid output content"></table><ul id="').concat(y,'_shapeDetails" aria-label="grid output shape details"></ul></div>'),this.dummyDOM.querySelector(v)?this.dummyDOM.querySelector(v).insertAdjacentHTML("afterend",p):this.dummyDOM.querySelector("#".concat(h)).innerHTML=p,this._accessibleOutputs[y].map=this.dummyDOM.querySelector("#".concat(y,"_map"))),this._accessibleOutputs[y].shapeDetails=this.dummyDOM.querySelector("#".concat(y,"_shapeDetails")),this._accessibleOutputs[y].summary=this.dummyDOM.querySelector("#".concat(y,"_summary"))},o.default.prototype._updateAccsOutput=function(){var d=this.canvas.id;JSON.stringify(this.ingredients.shapes)===this.ingredients.pShapes&&this.ingredients.colors.background===this.ingredients.pBackground||(this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this._accessibleOutputs.text&&this._updateTextOutput(d+"textOutput"),this._accessibleOutputs.grid&&this._updateGridOutput(d+"gridOutput"),this._accessibleOutputs.textLabel&&this._updateTextOutput(d+"textOutputLabel"),this._accessibleOutputs.gridLabel&&this._updateGridOutput(d+"gridOutputLabel"))},o.default.prototype._accsBackground=function(d){this.ingredients.pShapes=JSON.stringify(this.ingredients.shapes),this.ingredients.pBackground=this.ingredients.colors.background,this.ingredients.shapes={},this.ingredients.colors.backgroundRGBA!==d&&(this.ingredients.colors.backgroundRGBA=d,this.ingredients.colors.background=this._rgbColorName(d))},o.default.prototype._accsCanvasColors=function(d,g){d==="fill"?this.ingredients.colors.fillRGBA!==g&&(this.ingredients.colors.fillRGBA=g,this.ingredients.colors.fill=this._rgbColorName(g)):d==="stroke"&&this.ingredients.colors.strokeRGBA!==g&&(this.ingredients.colors.strokeRGBA=g,this.ingredients.colors.stroke=this._rgbColorName(g))},o.default.prototype._accsOutput=function(d,g){d==="ellipse"&&g[2]===g[3]?d="circle":d==="rectangle"&&g[2]===g[3]&&(d="square");var y,h,p={},m=!0,v=function(x,b){var E;return x=x==="rectangle"||x==="ellipse"||x==="arc"||x==="circle"||x==="square"?(E=Math.round(b[0]+b[2]/2),Math.round(b[1]+b[3]/2)):x==="triangle"?(E=(b[0]+b[2]+b[4])/3,(b[1]+b[3]+b[5])/3):x==="quadrilateral"?(E=(b[0]+b[2]+b[4]+b[6])/4,(b[1]+b[3]+b[5]+b[7])/4):x==="line"?(E=(b[0]+b[2])/2,(b[1]+b[3])/2):(E=b[0],b[1]),[E,x]}(d,g);if(d==="line"?(p.color=this.ingredients.colors.stroke,p.length=Math.round(this.dist(g[0],g[1],g[2],g[3])),y=this._getPos(g[0],[1]),h=this._getPos(g[2],[3]),p.loc=c(v,this.width,this.height),p.pos=y===h?"at ".concat(y):"from ".concat(y," to ").concat(h)):(d==="point"?p.color=this.ingredients.colors.stroke:(p.color=this.ingredients.colors.fill,p.area=this._getArea(d,g)),p.pos=this._getPos.apply(this,u(v)),p.loc=c(v,this.width,this.height)),this.ingredients.shapes[d]){if(this.ingredients.shapes[d]!==[p]){for(var _ in this.ingredients.shapes[d])JSON.stringify(this.ingredients.shapes[d][_])===JSON.stringify(p)&&(m=!1);m===!0&&this.ingredients.shapes[d].push(p)}}else this.ingredients.shapes[d]=[p]},o.default.prototype._getPos=function(h,y){var h=new DOMPointReadOnly(h,y),y=this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform(),h=h.matrixTransform(y),y=h.x,h=h.y,p=this.width*this._pixelDensity,m=this.height*this._pixelDensity;return y<.4*p?h<.4*m?"top left":.6*m<h?"bottom left":"mid left":.6*p<y?h<.4*m?"top right":.6*m<h?"bottom right":"mid right":h<.4*m?"top middle":.6*m<h?"bottom middle":"middle"},o.default.prototype._getArea=function(d,g){var y,h,p=0,m=(d==="arc"?(p=(y=((g[5]-g[4])%(2*Math.PI)+2*Math.PI)%(2*Math.PI))*g[2]*g[3]/8,g[6]!=="open"&&g[6]!=="chord"||(h=g[0],b=g[1],m=g[0]+g[2]/2*Math.cos(g[4]).toFixed(2),E=g[1]+g[3]/2*Math.sin(g[4]).toFixed(2),_=g[0]+g[2]/2*Math.cos(g[5]).toFixed(2),v=g[1]+g[3]/2*Math.sin(g[5]).toFixed(2),h=Math.abs(h*(E-v)+m*(v-b)+_*(b-E))/2,y>Math.PI?p+=h:p-=h)):d==="ellipse"||d==="circle"?p=3.14*g[2]/2*g[3]/2:d==="line"||d==="point"?p=0:d==="quadrilateral"?p=Math.abs((g[6]+g[0])*(g[7]-g[1])+(g[0]+g[2])*(g[1]-g[3])+(g[2]+g[4])*(g[3]-g[5])+(g[4]+g[6])*(g[5]-g[7]))/2:d==="rectangle"||d==="square"?p=g[2]*g[3]:d==="triangle"&&(p=Math.abs(g[0]*(g[3]-g[5])+g[2]*(g[5]-g[1])+g[4]*(g[1]-g[3]))/2),this.width*this._pixelDensity),v=this.height*this._pixelDensity,_=[new DOMPoint(0,0),new DOMPoint(m,0),new DOMPoint(m,v),new DOMPoint(0,v)],x=(this._renderer.isP3D?new DOMMatrix(this._renderer.uMVMatrix.mat4):this.drawingContext.getTransform()).inverse(),b=_.map(function(S){return S.matrixTransform(x)}),E=Math.abs((b[3].x+b[0].x)*(b[3].y-b[0].y)+(b[0].x+b[1].x)*(b[0].y-b[1].y)+(b[1].x+b[2].x)*(b[1].y-b[2].y)+(b[2].x+b[3].x)*(b[2].y-b[3].y))/2;return Math.round(100*p/E)},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],266:[function(t,l,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.concat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype._updateTextOutput=function(o){var u,c,d,g;this.dummyDOM.querySelector("#".concat(o,"_summary"))&&(u=this._accessibleOutputs[o],d=function(y,h,p,m){return p="Your output is a, ".concat(p," by ").concat(m," pixels, ").concat(h," canvas containing the following"),p=y===1?"".concat(p," shape:"):"".concat(p," ").concat(y," shapes:"),p}((c=function(y,h){var p,m="",v=0;for(p in h)for(var _ in h[p]){var x='<li><a href="#'.concat(y,"shape").concat(v,'">').concat(h[p][_].color," ").concat(p,"</a>");p==="line"?x+=", ".concat(h[p][_].pos,", ").concat(h[p][_].length," pixels long.</li>"):(x+=", at ".concat(h[p][_].pos),p!=="point"&&(x+=", covering ".concat(h[p][_].area,"% of the canvas")),x+=".</li>"),m+=x,v++}return{numShapes:v,listShapes:m}}(o,this.ingredients.shapes)).numShapes,this.ingredients.colors.background,this.width,this.height),g=function(y,h){var p,m="",v=0;for(p in h)for(var _ in h[p]){var x='<tr id="'.concat(y,"shape").concat(v,'"><th>').concat(h[p][_].color," ").concat(p,"</th>");p==="line"?x+="<td>location = ".concat(h[p][_].pos,"</td><td>length = ").concat(h[p][_].length," pixels</td></tr>"):(x+="<td>location = ".concat(h[p][_].pos,"</td>"),p!=="point"&&(x+="<td> area = ".concat(h[p][_].area,"%</td>")),x+="</tr>"),m+=x,v++}return m}(o,this.ingredients.shapes),d!==u.summary.innerHTML&&(u.summary.innerHTML=d),c.listShapes!==u.list.innerHTML&&(u.list.innerHTML=c.listShapes),g!==u.shapeDetails.innerHTML&&(u.shapeDetails.innerHTML=g),this._accessibleOutputs[o]=u)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153}],267:[function(t,l,s){var o=(o=t("./core/main"))&&o.__esModule?o:{default:o};t("./core/constants"),t("./core/environment"),t("./core/friendly_errors/stacktrace"),t("./core/friendly_errors/validate_params"),t("./core/friendly_errors/file_errors"),t("./core/friendly_errors/fes_core"),t("./core/friendly_errors/sketch_reader"),t("./core/helpers"),t("./core/legacy"),t("./core/preload"),t("./core/p5.Element"),t("./core/p5.Graphics"),t("./core/p5.Renderer"),t("./core/p5.Renderer2D"),t("./core/rendering"),t("./core/shim"),t("./core/structure"),t("./core/transform"),t("./core/shape/2d_primitives"),t("./core/shape/attributes"),t("./core/shape/curves"),t("./core/shape/vertex"),t("./accessibility/outputs"),t("./accessibility/textOutput"),t("./accessibility/gridOutput"),t("./accessibility/color_namer"),t("./color/color_conversion"),t("./color/creating_reading"),t("./color/p5.Color"),t("./color/setting"),t("./data/p5.TypedDict"),t("./data/local_storage.js"),t("./dom/dom"),t("./accessibility/describe"),t("./events/acceleration"),t("./events/keyboard"),t("./events/mouse"),t("./events/touch"),t("./image/filters"),t("./image/image"),t("./image/loading_displaying"),t("./image/p5.Image"),t("./image/pixels"),t("./io/files"),t("./io/p5.Table"),t("./io/p5.TableRow"),t("./io/p5.XML"),t("./math/calculation"),t("./math/math"),t("./math/noise"),t("./math/p5.Vector"),t("./math/random"),t("./math/trigonometry"),t("./typography/attributes"),t("./typography/loading_displaying"),t("./typography/p5.Font"),t("./utilities/array_functions"),t("./utilities/conversion"),t("./utilities/string_functions"),t("./utilities/time_date"),t("./webgl/3d_primitives"),t("./webgl/interaction"),t("./webgl/light"),t("./webgl/loading"),t("./webgl/material"),t("./webgl/p5.Camera"),t("./webgl/p5.DataArray"),t("./webgl/p5.Geometry"),t("./webgl/p5.Matrix"),t("./webgl/p5.Quat"),t("./webgl/p5.RendererGL.Immediate"),t("./webgl/p5.RendererGL"),t("./webgl/p5.RendererGL.Retained"),t("./webgl/p5.Framebuffer"),t("./webgl/p5.Shader"),t("./webgl/p5.RenderBuffer"),t("./webgl/p5.Texture"),t("./webgl/text"),t("./core/init"),l.exports=o.default},{"./accessibility/color_namer":262,"./accessibility/describe":263,"./accessibility/gridOutput":264,"./accessibility/outputs":265,"./accessibility/textOutput":266,"./color/color_conversion":268,"./color/creating_reading":269,"./color/p5.Color":270,"./color/setting":271,"./core/constants":272,"./core/environment":273,"./core/friendly_errors/fes_core":274,"./core/friendly_errors/file_errors":275,"./core/friendly_errors/sketch_reader":276,"./core/friendly_errors/stacktrace":277,"./core/friendly_errors/validate_params":278,"./core/helpers":279,"./core/init":280,"./core/legacy":282,"./core/main":283,"./core/p5.Element":284,"./core/p5.Graphics":285,"./core/p5.Renderer":286,"./core/p5.Renderer2D":287,"./core/preload":288,"./core/rendering":289,"./core/shape/2d_primitives":290,"./core/shape/attributes":291,"./core/shape/curves":292,"./core/shape/vertex":293,"./core/shim":294,"./core/structure":295,"./core/transform":296,"./data/local_storage.js":297,"./data/p5.TypedDict":298,"./dom/dom":299,"./events/acceleration":300,"./events/keyboard":301,"./events/mouse":302,"./events/touch":303,"./image/filters":304,"./image/image":305,"./image/loading_displaying":306,"./image/p5.Image":307,"./image/pixels":308,"./io/files":309,"./io/p5.Table":310,"./io/p5.TableRow":311,"./io/p5.XML":312,"./math/calculation":313,"./math/math":314,"./math/noise":315,"./math/p5.Vector":316,"./math/random":317,"./math/trigonometry":318,"./typography/attributes":319,"./typography/loading_displaying":320,"./typography/p5.Font":321,"./utilities/array_functions":322,"./utilities/conversion":323,"./utilities/string_functions":324,"./utilities/time_date":325,"./webgl/3d_primitives":326,"./webgl/interaction":328,"./webgl/light":329,"./webgl/loading":330,"./webgl/material":331,"./webgl/p5.Camera":332,"./webgl/p5.DataArray":333,"./webgl/p5.Framebuffer":334,"./webgl/p5.Geometry":335,"./webgl/p5.Matrix":336,"./webgl/p5.Quat":337,"./webgl/p5.RenderBuffer":338,"./webgl/p5.RendererGL":341,"./webgl/p5.RendererGL.Immediate":339,"./webgl/p5.RendererGL.Retained":340,"./webgl/p5.Shader":342,"./webgl/p5.Texture":343,"./webgl/text":344}],268:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.ColorConversion={_hsbaToHSLA:function(o){var u=o[0],c=o[1],d=o[2],g=(2-c)*d/2;return g!=0&&(g==1?c=0:g<.5?c/=2-c:c=c*d/(2-2*g)),[u,c,g,o[3]]},_hsbaToRGBA:function(o){var u,c,d,g,y,h=6*o[0],p=o[1],m=o[2];return p===0?[m,m,m,o[3]]:(c=m*(1-p),d=m*(1-p*(h-(u=Math.floor(h)))),p=m*(1-p*(1+u-h)),h=u===1?(g=d,y=m,c):u===2?(g=c,y=m,p):u===3?(g=c,y=d,m):u===4?(g=p,y=c,m):u===5?(g=m,y=c,d):(g=m,y=p,c),[g,y,h,o[3]])},_hslaToHSBA:function(o){var u=o[0],c=o[1],d=o[2],g=d<.5?(1+c)*d:d+c-d*c;return[u,c=2*(g-d)/g,g,o[3]]},_hslaToRGBA:function(o){var u,c=6*o[0],d=o[1],g=o[2];return d===0?[g,g,g,o[3]]:[(u=function(y,h,p){return y<0?y+=6:6<=y&&(y-=6),y<1?h+(p-h)*y:y<3?p:y<4?h+(p-h)*(4-y):h})(2+c,d=2*g-(g=g<.5?(1+d)*g:g+d-g*d),g),u(c,d,g),u(c-2,d,g),o[3]]},_rgbaToHSBA:function(o){var u,c,d=o[0],g=o[1],y=o[2],h=Math.max(d,g,y),p=h-Math.min(d,g,y);return p==0?c=u=0:(c=p/h,d===h?u=(g-y)/p:g===h?u=2+(y-d)/p:y===h&&(u=4+(d-g)/p),u<0?u+=6:6<=u&&(u-=6)),[u/6,c,h,o[3]]},_rgbaToHSLA:function(o){var u,c,d=o[0],g=o[1],y=o[2],h=Math.max(d,g,y),m=Math.min(d,g,y),p=h+m,m=h-m;return m==0?c=u=0:(c=p<1?m/p:m/(2-p),d===h?u=(g-y)/m:g===h?u=2+(y-d)/m:y===h&&(u=4+(d-g)/m),u<0?u+=6:6<=u&&(u-=6)),[u/6,c,p/2,o[3]]}},t=t.default.ColorConversion,s.default=t},{"../core/main":283}],269:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=g();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function g(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,g=function(){return h},h)}t("./p5.Color"),t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.alpha=function(h){return c.default._validateParameters("alpha",arguments),this.color(h)._getAlpha()},c.default.prototype.blue=function(h){return c.default._validateParameters("blue",arguments),this.color(h)._getBlue()},c.default.prototype.brightness=function(h){return c.default._validateParameters("brightness",arguments),this.color(h)._getBrightness()},c.default.prototype.color=function(){for(var h,p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return c.default._validateParameters("color",m),m[0]instanceof c.default.Color?m[0]:(h=Array.isArray(m[0])?m[0]:m,new c.default.Color(this,h))},c.default.prototype.green=function(h){return c.default._validateParameters("green",arguments),this.color(h)._getGreen()},c.default.prototype.hue=function(h){return c.default._validateParameters("hue",arguments),this.color(h)._getHue()},c.default.prototype.lerpColor=function(h,p,m){c.default._validateParameters("lerpColor",arguments),h instanceof c.default.Color||(h=color(h)),p instanceof c.default.Color||(p=color(p));var v,_,x,b=this._colorMode,E=this._colorMaxes;if(b===d.RGB)_=h.levels.map(function(S){return S/255}),x=p.levels.map(function(S){return S/255});else if(b===d.HSB)h._getBrightness(),p._getBrightness(),_=h.hsba,x=p.hsba;else{if(b!==d.HSL)throw new Error("".concat(b," cannot be used for interpolation."));h._getLightness(),p._getLightness(),_=h.hsla,x=p.hsla}return m=Math.max(Math.min(m,1),0),this.lerp===void 0&&(this.lerp=function(S,C,D){return D*(C-S)+S}),b===d.RGB?v=this.lerp(_[0],x[0],m):(.5<Math.abs(_[0]-x[0])&&(_[0]>x[0]?x[0]+=1:_[0]+=1),1<=(v=this.lerp(_[0],x[0],m))&&--v),h=this.lerp(_[1],x[1],m),p=this.lerp(_[2],x[2],m),_=this.lerp(_[3],x[3],m),v*=E[b][0],h*=E[b][1],p*=E[b][2],_*=E[b][3],this.color(v,h,p,_)},c.default.prototype.paletteLerp=function(h,p){var m=h[0];if(p<m[1])return this.color(m[0]);for(var v=1;v<h.length;v++){var _,x=h[v];if(p<x[1])return _=h[v-1],this.lerpColor(this.color(_[0]),this.color(x[0]),(p-_[1])/(x[1]-_[1]))}return this.color(h[h.length-1][0])},c.default.prototype.lightness=function(h){return c.default._validateParameters("lightness",arguments),this.color(h)._getLightness()},c.default.prototype.red=function(h){return c.default._validateParameters("red",arguments),this.color(h)._getRed()},c.default.prototype.saturation=function(h){return c.default._validateParameters("saturation",arguments),this.color(h)._getSaturation()};var y=c.default;s.default=y},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],270:[function(v,l,s){function o(S){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(S)}function u(S){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(C){return o(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":o(C)})(S)}v("core-js/modules/es.symbol"),v("core-js/modules/es.symbol.description"),v("core-js/modules/es.symbol.iterator"),v("core-js/modules/es.array.includes"),v("core-js/modules/es.array.iterator"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.map"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.object.get-own-property-descriptor"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.regexp.constructor"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.includes"),v("core-js/modules/es.string.iterator"),v("core-js/modules/es.string.trim"),v("core-js/modules/es.weak-map"),v("core-js/modules/web.dom-collections.iterator"),v("core-js/modules/es.array.includes"),v("core-js/modules/es.array.join"),v("core-js/modules/es.array.map"),v("core-js/modules/es.array.slice"),v("core-js/modules/es.object.to-string"),v("core-js/modules/es.regexp.constructor"),v("core-js/modules/es.regexp.exec"),v("core-js/modules/es.regexp.to-string"),v("core-js/modules/es.string.includes"),v("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=h(v("../core/main")),d=function(S){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var C=y();if(C&&C.has(S))return C.get(S);var D,M={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in S){var L;Object.prototype.hasOwnProperty.call(S,D)&&((L=R?Object.getOwnPropertyDescriptor(S,D):null)&&(L.get||L.set)?Object.defineProperty(M,D,L):M[D]=S[D])}return M.default=S,C&&C.set(S,M),M}(v("../core/constants")),g=h(v("./color_conversion"));function y(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,y=function(){return S},S)}function h(S){return S&&S.__esModule?S:{default:S}}function p(S,C){for(var D=0;D<C.length;D++){var M=C[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}var m={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",rebeccapurple:"#663399",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"},v=/\s*/,E=/(\d{1,3})/,_=/((?:\d+(?:\.\d+)?)|(?:\.\d+))/,x=new RegExp("".concat(_.source,"%")),b={HEX3:/^#([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX4:/^#([a-f0-9])([a-f0-9])([a-f0-9])([a-f0-9])$/i,HEX6:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,HEX8:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/i,RGB:new RegExp(["^rgb\\(",E.source,",",E.source,",",E.source,"\\)$"].join(v.source),"i"),RGB_PERCENT:new RegExp(["^rgb\\(",x.source,",",x.source,",",x.source,"\\)$"].join(v.source),"i"),RGBA:new RegExp(["^rgba\\(",E.source,",",E.source,",",E.source,",",_.source,"\\)$"].join(v.source),"i"),RGBA_PERCENT:new RegExp(["^rgba\\(",x.source,",",x.source,",",x.source,",",_.source,"\\)$"].join(v.source),"i"),HSL:new RegExp(["^hsl\\(",E.source,",",x.source,",",x.source,"\\)$"].join(v.source),"i"),HSLA:new RegExp(["^hsla\\(",E.source,",",x.source,",",x.source,",",_.source,"\\)$"].join(v.source),"i"),HSB:new RegExp(["^hsb\\(",E.source,",",x.source,",",x.source,"\\)$"].join(v.source),"i"),HSBA:new RegExp(["^hsba\\(",E.source,",",x.source,",",x.source,",",_.source,"\\)$"].join(v.source),"i")},E=(c.default.Color=function(){function S(R,L){if(!(this instanceof S))throw new TypeError("Cannot call a class as a function");if(this._storeModeAndMaxes(R._colorMode,R._colorMaxes),![d.RGB,d.HSL,d.HSB].includes(this.mode))throw new Error("".concat(this.mode," is an invalid colorMode."));this._array=S._parseInputs.apply(this,L),this._calculateLevels()}var C,D,M;return C=S,M=[{key:"_parseInputs",value:function(R,L,F,I){var G,P=arguments.length,X=this.mode,V=this.maxes[X],H=[];if(3<=P){for(H[0]=R/V[0],H[1]=L/V[1],H[2]=F/V[2],H[3]=typeof I=="number"?I/V[3]:1,G=H.length-1;0<=G;--G){var J=H[G];J<0?H[G]=0:1<J&&(H[G]=1)}return X===d.HSL?g.default._hslaToRGBA(H):X===d.HSB?g.default._hsbaToRGBA(H):H}if(P===1&&typeof R=="string"){if(F=R.trim().toLowerCase(),m[F])return S._parseInputs.call(this,m[F]);if(b.HEX3.test(F))return(H=b.HEX3.exec(F).slice(1).map(function(Z){return parseInt(Z+Z,16)/255}))[3]=1,H;if(b.HEX6.test(F))return(H=b.HEX6.exec(F).slice(1).map(function(Z){return parseInt(Z,16)/255}))[3]=1,H;if(b.HEX4.test(F))return H=b.HEX4.exec(F).slice(1).map(function(Z){return parseInt(Z+Z,16)/255});if(b.HEX8.test(F))return H=b.HEX8.exec(F).slice(1).map(function(Z){return parseInt(Z,16)/255});if(b.RGB.test(F))return(H=b.RGB.exec(F).slice(1).map(function(Z){return Z/255}))[3]=1,H;if(b.RGB_PERCENT.test(F))return(H=b.RGB_PERCENT.exec(F).slice(1).map(function(Z){return parseFloat(Z)/100}))[3]=1,H;if(b.RGBA.test(F))return H=b.RGBA.exec(F).slice(1).map(function(Z,K){return K===3?parseFloat(Z):Z/255});if(b.RGBA_PERCENT.test(F))return H=b.RGBA_PERCENT.exec(F).slice(1).map(function(Z,K){return K===3?parseFloat(Z):parseFloat(Z)/100});if(b.HSL.test(F)?(H=b.HSL.exec(F).slice(1).map(function(Z,K){return K===0?parseInt(Z,10)/360:parseInt(Z,10)/100}))[3]=1:b.HSLA.test(F)&&(H=b.HSLA.exec(F).slice(1).map(function(Z,K){return K===0?parseInt(Z,10)/360:K===3?parseFloat(Z):parseInt(Z,10)/100})),(H=H.map(function(Z){return Math.max(Math.min(Z,1),0)})).length)return g.default._hslaToRGBA(H);if(b.HSB.test(F)?(H=b.HSB.exec(F).slice(1).map(function(Z,K){return K===0?parseInt(Z,10)/360:parseInt(Z,10)/100}))[3]=1:b.HSBA.test(F)&&(H=b.HSBA.exec(F).slice(1).map(function(Z,K){return K===0?parseInt(Z,10)/360:K===3?parseFloat(Z):parseInt(Z,10)/100})),H.length){for(G=H.length-1;0<=G;--G)H[G]=Math.max(Math.min(H[G],1),0);return g.default._hsbaToRGBA(H)}H=[1,1,1,1]}else{if(P!==1&&P!==2||typeof R!="number")throw new Error("".concat(arguments,"is not a valid color representation."));H[0]=R/V[2],H[1]=R/V[2],H[2]=R/V[2],H[3]=typeof L=="number"?L/V[3]:1,H=H.map(function(Z){return Math.max(Math.min(Z,1),0)})}return H}}],(D=[{key:"toString",value:function(R){var L=this.levels,F=this._array,I=F[3];switch(R){case"#rrggbb":return"#".concat(L[0]<16?"0".concat(L[0].toString(16)):L[0].toString(16),L[1]<16?"0".concat(L[1].toString(16)):L[1].toString(16),L[2]<16?"0".concat(L[2].toString(16)):L[2].toString(16));case"#rrggbbaa":return"#".concat(L[0]<16?"0".concat(L[0].toString(16)):L[0].toString(16),L[1]<16?"0".concat(L[1].toString(16)):L[1].toString(16),L[2]<16?"0".concat(L[2].toString(16)):L[2].toString(16),L[3]<16?"0".concat(L[3].toString(16)):L[3].toString(16));case"#rgb":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16));case"#rgba":return"#".concat(Math.round(15*F[0]).toString(16),Math.round(15*F[1]).toString(16),Math.round(15*F[2]).toString(16),Math.round(15*F[3]).toString(16));case"rgb":return"rgb(".concat(L[0],", ",L[1],", ",L[2],")");case"rgb%":return"rgb(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%)");case"rgba%":return"rgba(".concat((100*F[0]).toPrecision(3),"%, ",(100*F[1]).toPrecision(3),"%, ",(100*F[2]).toPrecision(3),"%, ",(100*F[3]).toPrecision(3),"%)");case"hsb":case"hsv":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsb(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],")");case"hsb%":case"hsv%":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsb(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%)");case"hsba":case"hsva":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsba(".concat(this.hsba[0]*this.maxes[d.HSB][0],", ",this.hsba[1]*this.maxes[d.HSB][1],", ",this.hsba[2]*this.maxes[d.HSB][2],", ",I,")");case"hsba%":case"hsva%":return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),"hsba(".concat((100*this.hsba[0]).toPrecision(3),"%, ",(100*this.hsba[1]).toPrecision(3),"%, ",(100*this.hsba[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");case"hsl":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsl(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],")");case"hsl%":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%)");case"hsla":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsla(".concat(this.hsla[0]*this.maxes[d.HSL][0],", ",this.hsla[1]*this.maxes[d.HSL][1],", ",this.hsla[2]*this.maxes[d.HSL][2],", ",I,")");case"hsla%":return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),"hsl(".concat((100*this.hsla[0]).toPrecision(3),"%, ",(100*this.hsla[1]).toPrecision(3),"%, ",(100*this.hsla[2]).toPrecision(3),"%, ",(100*I).toPrecision(3),"%)");default:return"rgba(".concat(L[0],",",L[1],",",L[2],",",I,")")}}},{key:"setRed",value:function(R){this._array[0]=R/this.maxes[d.RGB][0],this._calculateLevels()}},{key:"setGreen",value:function(R){this._array[1]=R/this.maxes[d.RGB][1],this._calculateLevels()}},{key:"setBlue",value:function(R){this._array[2]=R/this.maxes[d.RGB][2],this._calculateLevels()}},{key:"setAlpha",value:function(R){this._array[3]=R/this.maxes[this.mode][3],this._calculateLevels()}},{key:"_calculateLevels",value:function(){for(var R=this._array,L=this.levels=new Array(R.length),F=R.length-1;0<=F;--F)L[F]=Math.round(255*R[F]);this.hsla=null,this.hsba=null}},{key:"_getAlpha",value:function(){return this._array[3]*this.maxes[this.mode][3]}},{key:"_storeModeAndMaxes",value:function(R,L){this.mode=R,this.maxes=L}},{key:"_getMode",value:function(){return this.mode}},{key:"_getMaxes",value:function(){return this.maxes}},{key:"_getBlue",value:function(){return this._array[2]*this.maxes[d.RGB][2]}},{key:"_getBrightness",value:function(){return this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),this.hsba[2]*this.maxes[d.HSB][2]}},{key:"_getGreen",value:function(){return this._array[1]*this.maxes[d.RGB][1]}},{key:"_getHue",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),this.hsba[0]*this.maxes[d.HSB][0]):(this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),this.hsla[0]*this.maxes[d.HSL][0])}},{key:"_getLightness",value:function(){return this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),this.hsla[2]*this.maxes[d.HSL][2]}},{key:"_getRed",value:function(){return this._array[0]*this.maxes[d.RGB][0]}},{key:"_getSaturation",value:function(){return this.mode===d.HSB?(this.hsba||(this.hsba=g.default._rgbaToHSBA(this._array)),this.hsba[1]*this.maxes[d.HSB][1]):(this.hsla||(this.hsla=g.default._rgbaToHSLA(this._array)),this.hsla[1]*this.maxes[d.HSL][1])}}])&&p(C.prototype,D),M&&p(C,M),S}(),c.default.Color);s.default=E},{"../core/constants":272,"../core/main":283,"./color_conversion":268,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],271:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.fill"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=g();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function g(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,g=function(){return h},h)}t("./p5.Color"),c.default.prototype.beginClip=function(){this._renderer.beginClip(0<arguments.length&&arguments[0]!==void 0?arguments[0]:{})},c.default.prototype.endClip=function(){this._renderer.endClip()},c.default.prototype.clip=function(h,p){this._renderer.beginClip(p),h(),this._renderer.endClip(p)},c.default.prototype.background=function(){var h;return(h=this._renderer).background.apply(h,arguments),this},c.default.prototype.clear=function(){return this._renderer.clear((arguments.length<=0?void 0:arguments[0])||0,(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0,(arguments.length<=3?void 0:arguments[3])||0),this},c.default.prototype.colorMode=function(h,p,m,v,_){return c.default._validateParameters("colorMode",arguments),h!==d.RGB&&h!==d.HSB&&h!==d.HSL||(this._colorMode=h,h=this._colorMaxes[h],arguments.length===2?(h[0]=p,h[1]=p,h[2]=p,h[3]=p):arguments.length===4?(h[0]=p,h[1]=m,h[2]=v):arguments.length===5&&(h[0]=p,h[1]=m,h[2]=v,h[3]=_)),this},c.default.prototype.fill=function(){var h;return this._renderer._setProperty("_fillSet",!0),this._renderer._setProperty("_doFill",!0),(h=this._renderer).fill.apply(h,arguments),this},c.default.prototype.noFill=function(){return this._renderer._setProperty("_doFill",!1),this},c.default.prototype.noStroke=function(){return this._renderer._setProperty("_doStroke",!1),this},c.default.prototype.stroke=function(){var h;return this._renderer._setProperty("_strokeSet",!0),this._renderer._setProperty("_doStroke",!0),(h=this._renderer).stroke.apply(h,arguments),this},c.default.prototype.erase=function(){return this._renderer.erase(0<arguments.length&&arguments[0]!==void 0?arguments[0]:255,1<arguments.length&&arguments[1]!==void 0?arguments[1]:255),this},c.default.prototype.noErase=function(){return this._renderer.noErase(),this};var y=c.default;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.Color":270,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],272:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.QUADRATIC=s.LINEAR=s._CTX_MIDDLE=s._DEFAULT_LEADMULT=s._DEFAULT_TEXT_FILL=s.WORD=s.CHAR=s.BOLDITALIC=s.BOLD=s.ITALIC=s.NORMAL=s.BLUR=s.ERODE=s.DILATE=s.POSTERIZE=s.INVERT=s.OPAQUE=s.GRAY=s.THRESHOLD=s.BURN=s.DODGE=s.SOFT_LIGHT=s.HARD_LIGHT=s.OVERLAY=s.REPLACE=s.SCREEN=s.MULTIPLY=s.EXCLUSION=s.SUBTRACT=s.DIFFERENCE=s.LIGHTEST=s.DARKEST=s.ADD=s.REMOVE=s.BLEND=s.UP_ARROW=s.TAB=s.SHIFT=s.RIGHT_ARROW=s.RETURN=s.OPTION=s.LEFT_ARROW=s.ESCAPE=s.ENTER=s.DOWN_ARROW=s.DELETE=s.CONTROL=s.BACKSPACE=s.ALT=s.AUTO=s.HSL=s.HSB=s.RGB=s.MITER=s.BEVEL=s.ROUND=s.SQUARE=s.PROJECT=s.PIE=s.CHORD=s.OPEN=s.CLOSE=s.TESS=s.QUAD_STRIP=s.QUADS=s.TRIANGLE_STRIP=s.TRIANGLE_FAN=s.TRIANGLES=s.LINE_LOOP=s.LINE_STRIP=s.LINES=s.POINTS=s.BASELINE=s.BOTTOM=s.TOP=s.CENTER=s.LEFT=s.RIGHT=s.RADIUS=s.CORNERS=s.CORNER=s.RAD_TO_DEG=s.DEG_TO_RAD=s.RADIANS=s.DEGREES=s.TWO_PI=s.TAU=s.QUARTER_PI=s.PI=s.HALF_PI=s.WAIT=s.TEXT=s.MOVE=s.HAND=s.CROSS=s.ARROW=s.WEBGL2=s.WEBGL=s.P2D=s.VERSION=void 0,s.RGBA=s.HALF_FLOAT=s.FLOAT=s.UNSIGNED_INT=s.UNSIGNED_BYTE=s.COVER=s.CONTAIN=s.FALLBACK=s.LABEL=s.AXES=s.GRID=s._DEFAULT_FILL=s._DEFAULT_STROKE=s.PORTRAIT=s.LANDSCAPE=s.SMOOTH=s.FLAT=s.MIRROR=s.CLAMP=s.REPEAT=s.NEAREST=s.IMAGE=s.IMMEDIATE=s.TEXTURE=s.FILL=s.STROKE=s.CURVE=s.BEZIER=void 0;var o=Math.PI,u=(s.VERSION="1.11.3",s.P2D="p2d",s.WEBGL="webgl",s.WEBGL2="webgl2",s.ARROW="default",s.CROSS="crosshair",s.HAND="pointer",s.MOVE="move",s.TEXT="text",s.WAIT="wait",o/2),u=(s.HALF_PI=u,o),u=(s.PI=u,o/4),u=(s.QUARTER_PI=u,2*o),u=(s.TAU=u,2*o),u=(s.TWO_PI=u,s.DEGREES="degrees",s.RADIANS="radians",o/180),u=(s.DEG_TO_RAD=u,180/o);s.RAD_TO_DEG=u,s.CORNER="corner",s.CORNERS="corners",s.RADIUS="radius",s.RIGHT="right",s.LEFT="left",s.CENTER="center",s.TOP="top",s.BOTTOM="bottom",s.BASELINE="alphabetic",s.POINTS=0,s.LINES=1,s.LINE_STRIP=3,s.LINE_LOOP=2,s.TRIANGLES=4,s.TRIANGLE_FAN=6,s.TRIANGLE_STRIP=5,s.QUADS="quads",s.QUAD_STRIP="quad_strip",s.TESS="tess",s.CLOSE="close",s.OPEN="open",s.CHORD="chord",s.PIE="pie",s.PROJECT="square",s.SQUARE="butt",s.ROUND="round",s.BEVEL="bevel",s.MITER="miter",s.RGB="rgb",s.HSB="hsb",s.HSL="hsl",s.AUTO="auto",s.ALT=18,s.BACKSPACE=8,s.CONTROL=17,s.DELETE=46,s.DOWN_ARROW=40,s.ENTER=13,s.ESCAPE=27,s.LEFT_ARROW=37,s.OPTION=18,s.RETURN=13,s.RIGHT_ARROW=39,s.SHIFT=16,s.TAB=9,s.UP_ARROW=38,s.BLEND="source-over",s.REMOVE="destination-out",s.ADD="lighter",s.DARKEST="darken",s.LIGHTEST="lighten",s.DIFFERENCE="difference",s.SUBTRACT="subtract",s.EXCLUSION="exclusion",s.MULTIPLY="multiply",s.SCREEN="screen",s.REPLACE="copy",s.OVERLAY="overlay",s.HARD_LIGHT="hard-light",s.SOFT_LIGHT="soft-light",s.DODGE="color-dodge",s.BURN="color-burn",s.THRESHOLD="threshold",s.GRAY="gray",s.OPAQUE="opaque",s.INVERT="invert",s.POSTERIZE="posterize",s.DILATE="dilate",s.ERODE="erode",s.BLUR="blur",s.NORMAL="normal",s.ITALIC="italic",s.BOLD="bold",s.BOLDITALIC="bold italic",s.CHAR="CHAR",s.WORD="WORD",s._DEFAULT_TEXT_FILL="#000000",s._DEFAULT_LEADMULT=1.25,s._CTX_MIDDLE="middle",s.LINEAR="linear",s.QUADRATIC="quadratic",s.BEZIER="bezier",s.CURVE="curve",s.STROKE="stroke",s.FILL="fill",s.TEXTURE="texture",s.IMMEDIATE="immediate",s.IMAGE="image",s.NEAREST="nearest",s.REPEAT="repeat",s.CLAMP="clamp",s.MIRROR="mirror",s.FLAT="flat",s.SMOOTH="smooth",s.LANDSCAPE="landscape",s.PORTRAIT="portrait",s._DEFAULT_STROKE="#000000",s._DEFAULT_FILL="#FFFFFF",s.GRID="grid",s.AXES="axes",s.LABEL="label",s.FALLBACK="fallback",s.CONTAIN="contain",s.COVER="cover",s.UNSIGNED_BYTE="unsigned-byte",s.UNSIGNED_INT="unsigned-int",s.FLOAT="float",s.HALF_FLOAT="half-float",s.RGBA="rgba"},{}],273:[function(t,l,s){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}function u(_){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.search"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(d=t("./main"))&&d.__esModule?d:{default:d},d=function(_){if(_&&_.__esModule)return _;if(_===null||u(_)!=="object"&&typeof _!="function")return{default:_};var x=g();if(x&&x.has(_))return x.get(_);var b,E={},S=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(b in _){var C;Object.prototype.hasOwnProperty.call(_,b)&&((C=S?Object.getOwnPropertyDescriptor(_,b):null)&&(C.get||C.set)?Object.defineProperty(E,b,C):E[b]=_[b])}return E.default=_,x&&x.set(_,E),E}(t("./constants"));function g(){var _;return typeof WeakMap!="function"?null:(_=new WeakMap,g=function(){return _},_)}var y=[d.ARROW,d.CROSS,d.HAND,d.MOVE,d.TEXT,d.WAIT],h=(c.default.prototype._frameRate=0,c.default.prototype._lastFrameTime=window.performance.now(),c.default.prototype._targetFrameRate=60,window.print),p=!1;function m(){return window.innerWidth||document.documentElement&&document.documentElement.clientWidth||document.body&&document.body.clientWidth||0}function v(){return window.innerHeight||document.documentElement&&document.documentElement.clientHeight||document.body&&document.body.clientHeight||0}c.default.prototype.print=function(){var _;arguments.length?(_=console).log.apply(_,arguments):p||(h(),window.confirm("You just tried to print the webpage. Do you want to prevent this from running again?")&&(p=!0))},c.default.prototype.frameCount=0,c.default.prototype.deltaTime=0,c.default.prototype.focused=document.hasFocus(),c.default.prototype.cursor=function(_,x,b){var E,S="auto",C=this._curElement.elt;y.includes(_)?S=_:typeof _=="string"&&(E="",x&&b&&typeof x=="number"&&typeof b=="number"&&(E="".concat(x," ").concat(b)),S=_.substring(0,7)==="http://"||_.substring(0,8)==="https://"||/\.(cur|jpg|jpeg|gif|png|CUR|JPG|JPEG|GIF|PNG)$/.test(_)?"url(".concat(_,") ").concat(E,", auto"):_),C.style.cursor=S},c.default.prototype.frameRate=function(_){return c.default._validateParameters("frameRate",arguments),typeof _!="number"||_<0?this._frameRate:(this._setProperty("_targetFrameRate",_),_===0&&this._setProperty("_frameRate",_),this)},c.default.prototype.getFrameRate=function(){return this.frameRate()},c.default.prototype.setFrameRate=function(_){return this.frameRate(_)},c.default.prototype.getTargetFrameRate=function(){return this._targetFrameRate},c.default.prototype.noCursor=function(){this._curElement.elt.style.cursor="none"},c.default.prototype.webglVersion=d.P2D,c.default.prototype.displayWidth=screen.width,c.default.prototype.displayHeight=screen.height,c.default.prototype.windowWidth=0,c.default.prototype.windowHeight=0,c.default.prototype._onresize=function(_){this._setProperty("windowWidth",m()),this._setProperty("windowHeight",v());var x=this._isGlobal?window:this;typeof x.windowResized!="function"||(x=x.windowResized(_))===void 0||x||_.preventDefault()},c.default.prototype._updateWindowSize=function(){this._setProperty("windowWidth",m()),this._setProperty("windowHeight",v())},c.default.prototype.width=0,c.default.prototype.height=0,c.default.prototype.fullscreen=function(_){if(c.default._validateParameters("fullscreen",arguments),_===void 0)return document.fullscreenElement||document.webkitFullscreenElement||document.mozFullScreenElement||document.msFullscreenElement;if(_){if(_=document.documentElement,!(document.fullscreenEnabled||document.webkitFullscreenEnabled||document.mozFullScreenEnabled||document.msFullscreenEnabled))throw new Error("Fullscreen not enabled in this browser.");_.requestFullscreen?_.requestFullscreen():_.mozRequestFullScreen?_.mozRequestFullScreen():_.webkitRequestFullscreen?_.webkitRequestFullscreen():_.msRequestFullscreen&&_.msRequestFullscreen()}else document.exitFullscreen?document.exitFullscreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitExitFullscreen?document.webkitExitFullscreen():document.msExitFullscreen&&document.msExitFullscreen()},c.default.prototype.pixelDensity=function(_){var x;return c.default._validateParameters("pixelDensity",arguments),typeof _=="number"?(_!==this._pixelDensity&&(this._pixelDensity=this._maxAllowedPixelDimensions=_),(x=this).resizeCanvas(this.width,this.height,!0)):x=this._pixelDensity,x},c.default.prototype.displayDensity=function(){return window.devicePixelRatio},c.default.prototype.getURL=function(){return location.href},c.default.prototype.getURLPath=function(){return location.pathname.split("/").filter(function(_){return _!==""})},c.default.prototype.getURLParams=function(){for(var _,x=/[?&]([^&=]+)(?:[&=])([^&=]+)/gim,b={};(_=x.exec(location.search))!=null;)_.index===x.lastIndex&&x.lastIndex++,b[_[1]]=_[2];return b},t=c.default,s.default=t},{"./constants":272,"./main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.search":205,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],274:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.starts-with"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(y=t("../main"))&&y.__esModule?y:{default:y};t("../internationalization");function u(h,p){p=p||console.log.bind(console),c||g(),c.some(function(m){var v;if(h.message&&h.message.match("\\W?".concat(m.name,"\\W"))!==null)return v=m.type==="function"?"".concat(m.name,"()"):m.name,p("Did you just try to use p5.js's ".concat(v," ").concat(m.type,`? If so, you may want to move it into your sketch's setup() function.

For more details, see: `).concat(d)),!0})}var c=null,g=null,d=(o.default._friendlyError=o.default._checkForUserDefinedFunctions=o.default._fesErrorMonitor=function(){},c=null,"https://github.com/processing/p5.js/wiki/p5.js-overview#why-cant-i-assign-variables-using-p5-functions-and-variables-before-setup"),g=function(){function h(m){return Object.getOwnPropertyNames(m).filter(function(v){return v[0]!=="_"&&!(v in p)&&(p[v]=!0)}).map(function(v){var _=typeof m[v]=="function"?"function":v===v.toUpperCase()?"constant":"variable";return{name:v,type:_}})}var p={};(c=[].concat(h(o.default.prototype),h(t("../constants")))).sort(function(m,v){return v.name.length-m.name.length})},y=(o.default.prototype._helpForMisusedAtTopLevelCode=u,document.readyState!=="complete"&&(window.addEventListener("error",u,!1),window.addEventListener("load",function(){window.removeEventListener("error",u,!1)})),o.default);s.default=y},{"../constants":272,"../internationalization":281,"../main":283,"./browser_errors":void 0,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.starts-with":207,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],275:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(o=t("../main"))&&o.__esModule?o:{default:o};t("../internationalization"),o.default._friendlyFileLoadError=function(){},t=o.default,s.default=t},{"../internationalization":281,"../main":283}],276:[function(t,l,s){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function u(p){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=y(t("../main"));t("../internationalization"),g(t("../constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}function g(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var m=d();if(m&&m.has(p))return m.get(p);var v,_,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p)Object.prototype.hasOwnProperty.call(p,v)&&((_=b?Object.getOwnPropertyDescriptor(p,v):null)&&(_.get||_.set)?Object.defineProperty(x,v,_):x[v]=p[v]);return x.default=p,m&&m.set(p,x),x}function y(p){return p&&p.__esModule?p:{default:p}}c.default._fesCodeReader=function(){};var h=c.default;s.default=h},{"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],277:[function(t,l,s){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../main"))&&t.__esModule?t:{default:t};function o(){var u=/(^|@)\S+:\d+/,c=/^\s*at .*(\S+:\d+|\(native\))/m,d=/^(eval@)?(\[native code])?$/;return{parse:function(g){return g.stacktrace!==void 0||g["opera#sourceloc"]!==void 0?this.parseOpera(g):g.stack&&g.stack.match(c)?this.parseV8OrIE(g):g.stack?this.parseFFOrSafari(g):void 0},extractLocation:function(g){return g.indexOf(":")===-1?[g]:[(g=/(.+?)(?::(\d+))?(?::(\d+))?$/.exec(g.replace(/[()]/g,"")))[1],g[2]||void 0,g[3]||void 0]},parseV8OrIE:function(g){return g.stack.split(`
`).filter(function(y){return!!y.match(c)},this).map(function(y){var h=(y=-1<y.indexOf("(eval ")?y.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""):y).replace(/^\s+/,"").replace(/\(eval code/g,"("),p=h.match(/ (\((.+):(\d+):(\d+)\)$)/),h=(h=p?h.replace(p[0],""):h).split(/\s+/).slice(1),p=this.extractLocation(p?p[1]:h.pop());return{functionName:h.join(" ")||void 0,fileName:-1<["eval","<anonymous>"].indexOf(p[0])?void 0:p[0],lineNumber:p[1],columnNumber:p[2],source:y}},this)},parseFFOrSafari:function(g){return g.stack.split(`
`).filter(function(y){return!y.match(d)},this).map(function(y){var h,p;return(y=-1<y.indexOf(" > eval")?y.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1"):y).indexOf("@")===-1&&y.indexOf(":")===-1?{functionName:y}:{functionName:(p=y.match(h=/((.*".+"[^@]*)?[^@]*)(?:@)/))&&p[1]?p[1]:void 0,fileName:(p=this.extractLocation(y.replace(h,"")))[0],lineNumber:p[1],columnNumber:p[2],source:y}},this)},parseOpera:function(g){return!g.stacktrace||-1<g.message.indexOf(`
`)&&g.message.split(`
`).length>g.stacktrace.split(`
`).length?this.parseOpera9(g):g.stack?this.parseOpera11(g):this.parseOpera10(g)},parseOpera9:function(g){for(var y=/Line (\d+).*script (?:in )?(\S+)/i,h=g.message.split(`
`),p=[],m=2,v=h.length;m<v;m+=2){var _=y.exec(h[m]);_&&p.push({fileName:_[2],lineNumber:_[1],source:h[m]})}return p},parseOpera10:function(g){for(var y=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,h=g.stacktrace.split(`
`),p=[],m=0,v=h.length;m<v;m+=2){var _=y.exec(h[m]);_&&p.push({functionName:_[3]||void 0,fileName:_[2],lineNumber:_[1],source:h[m]})}return p},parseOpera11:function(g){return g.stack.split(`
`).filter(function(y){return!!y.match(u)&&!y.match(/^Error created at/)},this).map(function(y){var h,m=y.split("@"),p=this.extractLocation(m.pop()),m=m.shift()||"";return{functionName:m.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,args:(h=m.match(/\(([^)]*)\)/)?m.replace(/^[^(]+\(([^)]*)\)$/,"$1"):h)===void 0||h==="[arguments not available]"?void 0:h.split(","),fileName:p[0],lineNumber:p[1],columnNumber:p[2],source:y}},this)}}}t.default._getErrorStackParser=function(){return new o},t=t.default,s.default=t},{"../main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],278:[function(t,l,s){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(u=t("../main"))&&u.__esModule?u:{default:u};(function(g){if(!(g&&g.__esModule)&&!(g===null||d(g)!=="object"&&typeof g!="function")){var y=c();if(y&&y.has(g))return y.get(g);var h,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in g){var v;Object.prototype.hasOwnProperty.call(g,h)&&((v=m?Object.getOwnPropertyDescriptor(g,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=g[h])}p.default=g,y&&y.set(g,p)}})(t("../constants")),t("../internationalization");function c(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,c=function(){return g},g)}function d(g){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(g)}u.default._validateParameters=u.default._clearValidateParamsCache=function(){},t=u.default,s.default=t},{"../../../docs/parameterData.json":void 0,"../constants":272,"../internationalization":281,"../main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],279:[function(t,l,s){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}function u(g){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=function(g){if(g&&g.__esModule)return g;if(g===null||u(g)!=="object"&&typeof g!="function")return{default:g};var y=d();if(y&&y.has(g))return y.get(g);var h,p={},m=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(h in g){var v;Object.prototype.hasOwnProperty.call(g,h)&&((v=m?Object.getOwnPropertyDescriptor(g,h):null)&&(v.get||v.set)?Object.defineProperty(p,h,v):p[h]=g[h])}return p.default=g,y&&y.set(g,p),p}(t("./constants"));function d(){var g;return typeof WeakMap!="function"?null:(g=new WeakMap,d=function(){return g},g)}s.default={modeAdjust:function(g,y,h,p,m){var v;return m===c.CORNER?v={x:g,y,w:Math.abs(h),h:Math.abs(p)}:m===c.CORNERS?v={x:Math.min(g,h),y:Math.min(y,p),w:Math.abs(h-g),h:Math.abs(p-y)}:m===c.RADIUS?v={x:g-(h=Math.abs(h)),y:y-(p=Math.abs(p)),w:2*h,h:2*p}:m===c.CENTER&&(v={x:g-.5*(h=Math.abs(h)),y:y-.5*(p=Math.abs(p)),w:h,h:p}),v}}},{"./constants":272,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],280:[function(t,l,s){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(u=t("../core/main"))&&u.__esModule?u:{default:u};t("./internationalization");var u=Promise.resolve();Promise.all([new Promise(function(c,d){document.readyState==="complete"?c():window.addEventListener("load",c,!1)}),u]).then(function(){var c;window._setupDone!==void 0?console.warn("p5.js seems to have been imported multiple times. Please remove the duplicate import"):window.mocha||(c=new Event("p5Ready"),window.dispatchEvent(c),(window.setup&&typeof window.setup=="function"||window.draw&&typeof window.draw=="function")&&!o.default.instance&&new o.default)})},{"../core/main":283,"./internationalization":281,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/web.dom-collections.iterator":246}],281:[function(t,l,s){t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.setTranslatorLanguage=s.currentTranslatorLanguage=s.availableTranslatorLanguages=s.initialize=s.translator=void 0;var o,u,c=g(t("i18next")),d=g(t("i18next-browser-languagedetector"));function g(p){return p&&p.__esModule?p:{default:p}}function y(p,m){for(var v=0;v<m.length;v++){var _=m[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}var h=function(){function p(_,x){if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this.init(_,x)}var m,v;return m=p,(v=[{key:"fetchWithTimeout",value:function(_,x){var b=2<arguments.length&&arguments[2]!==void 0?arguments[2]:2e3;return Promise.race([fetch(_,x),new Promise(function(E,S){return setTimeout(function(){return S(new Error("timeout"))},b)})])}},{key:"init",value:function(_){var x=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};this.services=_,this.options=x}},{key:"read",value:function(_,x,b){var E=this.options.loadPath;_===this.options.fallback?b(null,o[_][x]):u.includes(_)?(E=this.services.interpolator.interpolate(E,{lng:_,ns:x}),this.loadUrl(E,b)):b("Not found",!1)}},{key:"loadUrl",value:function(_,x){this.fetchWithTimeout(_).then(function(b){if(b.ok)return b.json();throw new Error("failed loading ".concat(_))},function(){throw new Error("failed loading ".concat(_))}).then(function(b){return x(null,b)}).catch(x)}}])&&y(m.prototype,v),p}();h.type="backend",s.translator=function(p,m){console.debug("p5.js translator called before translations were loaded"),c.default.t(p,m)},s.initialize=function(){return c.default.use(d.default).use(h).init({fallbackLng:"en",nestingPrefix:"$tr(",nestingSuffix:")",defaultNS:"translation",returnEmptyString:!1,interpolation:{escapeValue:!1},detection:{checkWhitelist:!1,order:["querystring","navigator","htmlTag","path","subdomain"],caches:[]},backend:{fallback:"en",loadPath:"https://cdn.jsdelivr.net/npm/p5/translations/{{lng}}/{{ns}}.json"},partialBundledLanguages:!0,resources:o}).then(function(p){s.translator=p},function(p){return console.debug("Translations failed to load (".concat(p,")"))})},s.availableTranslatorLanguages=function(){return c.default.languages},s.currentTranslatorLanguage=function(p){return c.default.language},s.setTranslatorLanguage=function(p){return c.default.changeLanguage(p||void 0,function(m){return console.debug("Translations failed to load (".concat(m,")"))})}},{"../../translations":void 0,"../../translations/dev":void 0,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246,i18next:3,"i18next-browser-languagedetector":3}],282:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.pushStyle=function(){throw new Error("pushStyle() not used, see push()")},t.default.prototype.popStyle=function(){throw new Error("popStyle() not used, see pop()")},t.default.prototype.popMatrix=function(){throw new Error("popMatrix() not used, see pop()")},t.default.prototype.pushMatrix=function(){throw new Error("pushMatrix() not used, see push()")},t=t.default,s.default=t},{"./main":283}],283:[function(t,l,s){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function u(p){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-names"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("./shim");var c=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var m=d();if(m&&m.has(p))return m.get(p);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=x?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(_,v,b):_[v]=p[v])}return _.default=p,m&&m.set(p,_),_}(t("./constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}function g(p,m){for(var v=0;v<m.length;v++){var _=m[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}var y,h=function(){function p(_,E){var b=this;if(!(this instanceof p))throw new TypeError("Cannot call a class as a function");this._setupDone=!1,this._preloadDone=!1,this._pixelDensity=Math.ceil(window.devicePixelRatio)||1,this._maxAllowedPixelDimensions=0,this._userNode=E,this._curElement=null,this._elements=[],this._glAttributes=null,this._requestAnimId=0,this._preloadCount=0,this._isGlobal=!1,this._loop=!0,this._startListener=null,this._initializeInstanceVariables(),this._defaultCanvasSize={width:100,height:100},this._events={mousemove:null,mousedown:null,mouseup:null,dragend:null,dragover:null,click:null,dblclick:null,mouseover:null,mouseout:null,keydown:null,keyup:null,keypress:null,touchstart:null,touchmove:null,touchend:null,resize:null,blur:null},this._millisStart=-1,this._recording=!1,this.touchstart=!1,this.touchend=!1,this._lcg_random_state=null,this._gaussian_previous=!1,this._events.wheel=null,this._loadingScreenId="p5_loading",this._registeredMethods={};var E=Object.getOwnPropertyNames(p.prototype._registeredMethods),S=!0,C=!1,D=void 0;try{for(var M,R=E[Symbol.iterator]();!(S=(M=R.next()).done);S=!0){var L=M.value;this._registeredMethods[L]=p.prototype._registeredMethods[L].slice()}}catch(Z){C=!0,D=Z}finally{try{S||R.return==null||R.return()}finally{if(C)throw D}}window.DeviceOrientationEvent&&(this._events.deviceorientation=null),window.DeviceMotionEvent&&!window._isNodeWebkit&&(this._events.devicemotion=null),p.prototype.callRegisteredHooksFor=function(Z){var K=this||p.prototype,Y=this._isGlobal?window:this;if(K._registeredMethods.hasOwnProperty(Z)){var K=K._registeredMethods[Z],te=!0,Z=!1,ue=void 0;try{for(var O,U=K[Symbol.iterator]();!(te=(O=U.next()).done);te=!0){var q=O.value;typeof q=="function"&&q.call(Y)}}catch(ie){Z=!0,ue=ie}finally{try{te||U.return==null||U.return()}finally{if(Z)throw ue}}}},this._start=function(){b._userNode&&typeof b._userNode=="string"&&(b._userNode=document.getElementById(b._userNode));var Z=b._isGlobal?window:b;if(Z.preload){b.callRegisteredHooksFor("beforePreload");var K,Y=document.getElementById(b._loadingScreenId),te=(Y||((Y=document.createElement("div")).innerHTML="Loading...",Y.style.position="absolute",Y.id=b._loadingScreenId,(b._userNode||document.body).appendChild(Y)),b._preloadMethods);for(K in te){te[K]=te[K]||p;var ue=te[K];ue!==p.prototype&&ue!==p||(b._isGlobal&&(window[K]=b._wrapPreload(b,K)),ue=b),b._registeredPreloadMethods[K]=ue[K],ue[K]=b._wrapPreload(ue,K)}Z.preload(),b._runIfPreloadsAreDone()}else b._setup(),b._recording||b._draw()},this._runIfPreloadsAreDone=function(){var Z,K=this._isGlobal?window:this;K._preloadCount===0&&((Z=document.getElementById(K._loadingScreenId))&&Z.parentNode.removeChild(Z),this.callRegisteredHooksFor("afterPreload"),this._setupDone||(this._lastTargetFrameTime=window.performance.now(),this._lastRealFrameTime=window.performance.now(),K._setup(),this._recording||K._draw()))},this._decrementPreload=function(){var Z=this._isGlobal?window:this;Z._preloadDone||typeof Z.preload!="function"||(Z._setProperty("_preloadCount",Z._preloadCount-1),Z._runIfPreloadsAreDone())},this._wrapPreload=function(Z,K){var Y=this;return function(){Y._incrementPreload();for(var te=arguments.length,ue=new Array(te),O=0;O<te;O++)ue[O]=arguments[O];return Y._registeredPreloadMethods[K].apply(Z,ue)}},this._incrementPreload=function(){var Z=this._isGlobal?window:this;Z._preloadDone||Z._setProperty("_preloadCount",Z._preloadCount+1)},this._setup=function(){b.callRegisteredHooksFor("beforeSetup"),b.createCanvas(b._defaultCanvasSize.width,b._defaultCanvasSize.height,"p2d");var Z=b._isGlobal?window:b;if(typeof Z.preload=="function")for(var K in b._preloadMethods)Z[K]=b._preloadMethods[K][K],Z[K]&&b&&(Z[K]=Z[K].bind(b));b._millisStart=window.performance.now(),Z._preloadDone=!0,typeof Z.setup=="function"&&Z.setup();var Y=document.getElementsByTagName("canvas"),te=!0,ue=!1,O=void 0;try{for(var U,q=Y[Symbol.iterator]();!(te=(U=q.next()).done);te=!0){var Q=U.value;Q.dataset.hidden==="true"&&(Q.style.visibility="",delete Q.dataset.hidden)}}catch(ae){ue=!0,O=ae}finally{try{te||q.return==null||q.return()}finally{if(ue)throw O}}b._lastTargetFrameTime=window.performance.now(),b._lastRealFrameTime=window.performance.now(),b._setupDone=!0,(b._accessibleOutputs.grid||b._accessibleOutputs.text)&&b._updateAccsOutput(),b.callRegisteredHooksFor("afterSetup")},this._draw=function(K){var K=K||window.performance.now(),Y=K-b._lastTargetFrameTime,te=1e3/b._targetFrameRate;(!b._loop||te-5<=Y)&&(b.deltaTime=K-b._lastRealFrameTime,b._setProperty("deltaTime",b.deltaTime),b._frameRate=1e3/b.deltaTime,b.redraw(),b._lastTargetFrameTime=Math.max(b._lastTargetFrameTime+te,K),b._lastRealFrameTime=K,b._updateMouseCoords!==void 0&&(b._updateMouseCoords(),b._setProperty("movedX",0),b._setProperty("movedY",0))),b._loop&&(b._requestAnimId=window.requestAnimationFrame(b._draw))},this._setProperty=function(Z,K){b[Z]=K,b._isGlobal&&(window[Z]=K)},this.remove=function(){b._startListener&&window.removeEventListener("load",b._startListener,!1);var Z=document.getElementById(b._loadingScreenId);if(Z&&(Z.parentNode.removeChild(Z),b._incrementPreload()),b._curElement){for(var K in b._loop=!1,b._requestAnimId&&window.cancelAnimationFrame(b._requestAnimId),b._events)window.removeEventListener(K,b._events[K]);var Y=!0,Z=!1,te=void 0;try{for(var ue,O=b._elements[Symbol.iterator]();!(Y=(ue=O.next()).done);Y=!0){var U,q=ue.value;for(U in q.elt&&q.elt.parentNode&&q.elt.parentNode.removeChild(q.elt),q._events)q.elt.removeEventListener(U,q._events[U])}}catch(ge){Z=!0,te=ge}finally{try{Y||O.return==null||O.return()}finally{if(Z)throw te}}var Q=b;b._registeredMethods.remove.forEach(function(ge){ge!==void 0&&ge.call(Q)})}if(b._isGlobal){for(var ae in p.prototype)try{delete window[ae]}catch{window[ae]=void 0}for(var ie in b)if(b.hasOwnProperty(ie))try{delete window[ie]}catch{window[ie]=void 0}p.instance=null}},this._updateWindowSize(),this._registeredMethods.init.forEach(function(Z){Z!==void 0&&Z.call(this)},this),this._setupPromisePreloads();var F,I,G=this._createFriendlyGlobalFunctionBinder();if(_)_(this),p._checkForUserDefinedFunctions(this);else{for(var P in this._isGlobal=!0,p.instance=this,p.prototype)typeof p.prototype[P]=="function"?(F=P.substring(2),this._events.hasOwnProperty(F)||(Math.hasOwnProperty(P)&&Math[P]===p.prototype[P]?G(P,p.prototype[P]):G(P,p.prototype[P].bind(this)))):G(P,p.prototype[P]);for(var X in this)this.hasOwnProperty(X)&&G(X,this[X])}for(I in this._events){var V=this["_on".concat(I)];V&&(V=V.bind(this),window.addEventListener(I,V,{passive:!1}),this._events[I]=V)}function H(){b._setProperty("focused",!0)}function J(){b._setProperty("focused",!1)}window.addEventListener("focus",H),window.addEventListener("blur",J),this.registerMethod("remove",function(){window.removeEventListener("focus",H),window.removeEventListener("blur",J)}),document.readyState==="complete"?this._start():(this._startListener=this._start.bind(this),window.addEventListener("load",this._startListener,!1))}var m,v;return m=p,(v=[{key:"_initializeInstanceVariables",value:function(){this._accessibleOutputs={text:!1,grid:!1,textLabel:!1,gridLabel:!1},this._styles=[],this._bezierDetail=20,this._curveDetail=20,this._colorMode=c.RGB,this._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},this._downKeys={}}},{key:"registerPreloadMethod",value:function(_,x){p.prototype._preloadMethods.hasOwnProperty(_)||(p.prototype._preloadMethods[_]=x)}},{key:"registerMethod",value:function(_,x){var b=this||p.prototype;b._registeredMethods.hasOwnProperty(_)||(b._registeredMethods[_]=[]),b._registeredMethods[_].push(x)}},{key:"unregisterMethod",value:function(_,x){var b=this||p.prototype;if(b._registeredMethods.hasOwnProperty(_)){for(var E=b._registeredMethods[_],S=[],C=0;C<E.length;C++)E[C]===x&&S.push(C);for(var D=S.length-1;0<=D;D--)E.splice(S[D],1)}}},{key:"_createFriendlyGlobalFunctionBinder",value:function(){var _=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},x=_.globalObject||window;return _.log||console.log.bind(console),function(b,E){p.disableFriendlyErrors,x[b]=E}}}])&&g(m.prototype,v),p}();for(y in h.instance=null,h.disableFriendlyErrors=!1,c)h.prototype[y]=c[y];h.VERSION=c.VERSION,h.prototype._preloadMethods={loadJSON:h.prototype,loadImage:h.prototype,loadStrings:h.prototype,loadXML:h.prototype,loadBytes:h.prototype,loadTable:h.prototype,loadFont:h.prototype,loadModel:h.prototype,loadShader:h.prototype},h.prototype._registeredMethods={init:[],pre:[],post:[],remove:[]},h.prototype._registeredPreloadMethods={},s.default=h},{"./constants":272,"./shim":294,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-own-property-names":187,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],284:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function u(c,d){for(var g=0;g<d.length;g++){var y=d[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}o.default.Element=function(){function c(h,p){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.elt=h,this._pInst=this._pixelsState=p,this._events={},this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight}var d,g,y;return d=c,y=[{key:"_adjustListener",value:function(h,p,m){return p===!1?o.default.Element._detachListener(h,m):o.default.Element._attachListener(h,p,m),this}},{key:"_attachListener",value:function(h,p,m){m._events[h]&&o.default.Element._detachListener(h,m),p=p.bind(m),m.elt.addEventListener(h,p,!1),m._events[h]=p}},{key:"_detachListener",value:function(h,p){var m=p._events[h];p.elt.removeEventListener(h,m,!1),p._events[h]=null}}],(g=[{key:"parent",value:function(h){return h===void 0?this.elt.parentNode:(typeof h=="string"?(h[0]==="#"&&(h=h.substring(1)),h=document.getElementById(h)):h instanceof o.default.Element&&(h=h.elt),h.appendChild(this.elt),this)}},{key:"id",value:function(h){return h===void 0?this.elt.id:(this.elt.id=h,this.width=this.elt.offsetWidth,this.height=this.elt.offsetHeight,this)}},{key:"class",value:function(h){return h===void 0?this.elt.className:(this.elt.className=h,this)}},{key:"mousePressed",value:function(h){return o.default.Element._adjustListener("mousedown",function(p){return this._pInst._setProperty("mouseIsPressed",!0),this._pInst._setMouseButton(p),h.call(this,p)},this),this}},{key:"doubleClicked",value:function(h){return o.default.Element._adjustListener("dblclick",h,this),this}},{key:"mouseWheel",value:function(h){return o.default.Element._adjustListener("wheel",h,this),this}},{key:"mouseReleased",value:function(h){return o.default.Element._adjustListener("mouseup",h,this),this}},{key:"mouseClicked",value:function(h){return o.default.Element._adjustListener("click",h,this),this}},{key:"mouseMoved",value:function(h){return o.default.Element._adjustListener("mousemove",h,this),this}},{key:"mouseOver",value:function(h){return o.default.Element._adjustListener("mouseover",h,this),this}},{key:"mouseOut",value:function(h){return o.default.Element._adjustListener("mouseout",h,this),this}},{key:"touchStarted",value:function(h){return o.default.Element._adjustListener("touchstart",h,this),this}},{key:"touchMoved",value:function(h){return o.default.Element._adjustListener("touchmove",h,this),this}},{key:"touchEnded",value:function(h){return o.default.Element._adjustListener("touchend",h,this),this}},{key:"dragOver",value:function(h){return o.default.Element._adjustListener("dragover",h,this),this}},{key:"dragLeave",value:function(h){return o.default.Element._adjustListener("dragleave",h,this),this}},{key:"_setProperty",value:function(h,p){this[h]=p}}])&&u(d.prototype,g),y&&u(d,y),c}(),t=o.default.Element,s.default=t},{"./main":283}],285:[function(t,l,s){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(b)}function u(b){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.get-prototype-of"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(x=t("./main"))&&x.__esModule?x:{default:x},d=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var E=g();if(E&&E.has(b))return E.get(b);var S,C={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var M;Object.prototype.hasOwnProperty.call(b,S)&&((M=D?Object.getOwnPropertyDescriptor(b,S):null)&&(M.get||M.set)?Object.defineProperty(C,S,M):C[S]=b[S])}return C.default=b,E&&E.set(b,C),C}(t("./constants"));function g(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,g=function(){return b},b)}function y(b,E){for(var S=0;S<E.length;S++){var C=E[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function h(b,E){return(h=Object.setPrototypeOf||function(S,C){return S.__proto__=C,S})(b,E)}function p(b){return function(){var E,S=_(b);return m(this,function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=_(this).constructor,Reflect.construct(S,arguments,E)):S.apply(this,arguments))}}function m(b,E){return!E||u(E)!=="object"&&typeof E!="function"?v(b):E}function v(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function _(b){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(b)}c.default.Graphics=function(b){var E=C;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),b&&h(E,b);var S=p(C);function C(D,M,X,L,F){var I;if(!(this instanceof C))throw new TypeError("Cannot call a class as a function");P=F||document.createElement("canvas"),(I=S.call(this,P,L)).canvas=P;var G,P=X||d.P2D,X=L._userNode||document.body;for(G in F||X.appendChild(I.canvas),c.default.prototype)I[G]||(typeof c.default.prototype[G]=="function"?I[G]=c.default.prototype[G].bind(v(I)):I[G]=c.default.prototype[G]);return c.default.prototype._initializeInstanceVariables.apply(v(I)),I.width=D,I.height=M,I._pixelDensity=L._pixelDensity,P===d.WEBGL?(I._renderer=new c.default.RendererGL(I.canvas,v(I),!1),D=(F=I._renderer._adjustDimensions(D,M)).adjustedWidth,M=F.adjustedHeight):I._renderer=new c.default.Renderer2D(I.canvas,v(I),!1),L._elements.push(v(I)),Object.defineProperty(v(I),"deltaTime",{get:function(){return this._pInst.deltaTime}}),I._renderer.resize(D,M),I._renderer._applyDefaults(),m(I,v(I))}return E=C,(b=[{key:"reset",value:function(){this._renderer.resetMatrix(),this._renderer.isP3D&&this._renderer._update()}},{key:"remove",value:function(){this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt);var D,M=this._pInst._elements.indexOf(this);for(D in M!==-1&&this._pInst._elements.splice(M,1),this._events)this.elt.removeEventListener(D,this._events[D]);this._renderer=void 0,this.canvas=void 0,this.elt=void 0}},{key:"createFramebuffer",value:function(D){return new c.default.Framebuffer(this,D)}}])&&y(E.prototype,b),C}(c.default.Element);var x=c.default.Graphics;s.default=x},{"./constants":272,"./main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],286:[function(t,l,s){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(_=t("./main"))&&_.__esModule?_:{default:_},c=function(b){if(b&&b.__esModule)return b;if(b===null||g(b)!=="object"&&typeof b!="function")return{default:b};var E=d();if(E&&E.has(b))return E.get(b);var S,C={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var M;Object.prototype.hasOwnProperty.call(b,S)&&((M=D?Object.getOwnPropertyDescriptor(b,S):null)&&(M.get||M.set)?Object.defineProperty(C,S,M):C[S]=b[S])}return C.default=b,E&&E.set(b,C),C}(t("../core/constants"));function d(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,d=function(){return b},b)}function g(b){return(g=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(b)}function y(b,E){for(var S=0;S<E.length;S++){var C=E[S];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(b,C.key,C)}}function h(b,E){return(h=Object.setPrototypeOf||function(S,C){return S.__proto__=C,S})(b,E)}function p(b){return function(){var E,S,C=v(b);return E=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(E=v(this).constructor,Reflect.construct(C,arguments,E)):C.apply(this,arguments),C=this,!(S=E)||g(S)!=="object"&&typeof S!="function"?m(C):S}}function m(b){if(b===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}function v(b){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(E){return E.__proto__||Object.getPrototypeOf(E)})(b)}var _=function(b){var E=C;if(typeof b!="function"&&b!==null)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(b&&b.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),b&&h(E,b);var S=p(C);function C(D,M,R){var L;if(this instanceof C)return(L=S.call(this,D,M)).canvas=D,L._pixelsState=M,R?(L._isMainCanvas=!0,L._pInst._setProperty("_curElement",m(L)),L._pInst._setProperty("canvas",L.canvas),L._pInst._setProperty("width",L.width),L._pInst._setProperty("height",L.height)):(L.canvas.style.display="none",L._styles=[]),L._clipping=!1,L._clipInvert=!1,L._textSize=12,L._textLeading=15,L._textFont="sans-serif",L._textStyle=c.NORMAL,L._textAscent=null,L._textDescent=null,L._textAlign=c.LEFT,L._textBaseline=c.BASELINE,L._textWrap=c.WORD,L._rectMode=c.CORNER,L._ellipseMode=c.CENTER,L._curveTightness=0,L._imageMode=c.CORNER,L._tint=null,L._doStroke=!0,L._doFill=!0,L._strokeSet=!1,L._fillSet=!1,L._leadingSet=!1,L._pushPopDepth=0,L;throw new TypeError("Cannot call a class as a function")}return E=C,(b=[{key:"push",value:function(){return this._pushPopDepth++,{properties:{_doStroke:this._doStroke,_strokeSet:this._strokeSet,_doFill:this._doFill,_fillSet:this._fillSet,_tint:this._tint,_imageMode:this._imageMode,_rectMode:this._rectMode,_ellipseMode:this._ellipseMode,_textFont:this._textFont,_textLeading:this._textLeading,_leadingSet:this._leadingSet,_textSize:this._textSize,_textAlign:this._textAlign,_textBaseline:this._textBaseline,_textStyle:this._textStyle,_textWrap:this._textWrap}}}},{key:"pop",value:function(D){this._pushPopDepth--,D.properties&&Object.assign(this,D.properties)}},{key:"beginClip",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{};if(this._clipping)throw new Error("It looks like you're trying to clip while already in the middle of clipping. Did you forget to endClip()?");this._clipping=!0,this._clipInvert=D.invert}},{key:"endClip",value:function(){if(!this._clipping)throw new Error("It looks like you've called endClip() without beginClip(). Did you forget to call beginClip() first?");this._clipping=!1}},{key:"resize",value:function(D,M){this.width=D,this.height=M,this.elt.width=D*this._pInst._pixelDensity,this.elt.height=M*this._pInst._pixelDensity,this.elt.style.width="".concat(D,"px"),this.elt.style.height="".concat(M,"px"),this._isMainCanvas&&(this._pInst._setProperty("width",this.width),this._pInst._setProperty("height",this.height))}},{key:"get",value:function(D,M,R,L){var F=this._pixelsState,I=F._pixelDensity,G=this.canvas;if(D===void 0&&M===void 0)D=M=0,R=F.width,L=F.height;else if(D*=I,M*=I,R===void 0&&L===void 0)return D<0||M<0||D>=G.width||M>=G.height?[0,0,0,0]:this._getPixel(D,M);return F=new u.default.Image(R*I,L*I),F.pixelDensity(I),F.canvas.getContext("2d").drawImage(G,D,M,R*I,L*I,0,0,R*I,L*I),F}},{key:"textLeading",value:function(D){return typeof D=="number"?(this._setProperty("_leadingSet",!0),this._setProperty("_textLeading",D),this._pInst):this._textLeading}},{key:"textStyle",value:function(D){return D?(D!==c.NORMAL&&D!==c.ITALIC&&D!==c.BOLD&&D!==c.BOLDITALIC||this._setProperty("_textStyle",D),this._applyTextProperties()):this._textStyle}},{key:"textAscent",value:function(){return this._textAscent===null&&this._updateTextMetrics(),this._textAscent}},{key:"textDescent",value:function(){return this._textDescent===null&&this._updateTextMetrics(),this._textDescent}},{key:"textAlign",value:function(D,M){return D!==void 0?(this._setProperty("_textAlign",D),M!==void 0&&this._setProperty("_textBaseline",M),this._applyTextProperties()):{horizontal:this._textAlign,vertical:this._textBaseline}}},{key:"textWrap",value:function(D){return this._setProperty("_textWrap",D),this._textWrap}},{key:"text",value:function(D,M,R,L,F){var I,G,P,X,V=this._pInst,H=this._textWrap,J=Number.MAX_VALUE,Z=R;if((this._doFill||this._doStroke)&&D!==void 0){if(I=(D=(D=typeof D!="string"?D.toString():D).replace(/(\t)/g,"  ")).split(`
`),L!==void 0){switch(this._rectMode===c.CENTER&&(M-=L/2),this._textAlign){case c.CENTER:M+=L/2;break;case c.RIGHT:M+=L}if(F!==void 0){this._rectMode===c.CENTER&&(R-=F/2,Z-=F/2);var D=R,K=V.textAscent();switch(this._textBaseline){case c.BOTTOM:X=R+F,R=Math.max(X,R),Z+=K;break;case c.CENTER:X=R+F/2,R=Math.max(X,R),Z+=K/2}J=R+F-K,this._textBaseline===c.CENTER&&(J=D+F-K/2)}else this._textBaseline!==c.BOTTOM&&this._textBaseline!==c.CENTER||(Z=R-(D=V.textSize()*this._textLeading)/2,J=R+D/2);if(H===c.WORD){for(var Y=[],te=0;te<I.length;te++){for(var ue="",O=I[te].split(" "),U=0;U<O.length;U++)G="".concat(ue+O[U])+" ",ue=L<(P=this.textWidth(G))&&0<ue.length?(Y.push(ue),"".concat(O[U])+" "):G;Y.push(ue)}var q=0;this._textBaseline===c.CENTER?q=(Y.length-1)*V.textLeading()/2:this._textBaseline===c.BOTTOM&&(q=(Y.length-1)*V.textLeading());for(var Q=0;Q<I.length;Q++){ue="",O=I[Q].split(" ");for(var ae=0;ae<O.length;ae++)G="".concat(ue+O[ae])+" ",L<(P=this.textWidth(G))&&0<ue.length?(this._renderText(V,ue.trim(),M,R-q,J,Z),ue="".concat(O[ae])+" ",R+=V.textLeading()):ue=G;this._renderText(V,ue.trim(),M,R-q,J,Z),R+=V.textLeading()}}else{for(var ie=[],he=0;he<I.length;he++)for(var ge=I[he].split(ue=""),fe=0;fe<ge.length;fe++)G="".concat(ue+ge[fe]),(P=this.textWidth(G))<=L?ue+=ge[fe]:L<P&&0<ue.length&&(ie.push(ue),ue="".concat(ge[fe]));ie.push(ue);var ve=0;this._textBaseline===c.CENTER?ve=(ie.length-1)*V.textLeading()/2:this._textBaseline===c.BOTTOM&&(ve=(ie.length-1)*V.textLeading());for(var xe=0;xe<I.length;xe++){ge=I[xe].split(ue="");for(var se=0;se<ge.length;se++)G="".concat(ue+ge[se]),(P=this.textWidth(G))<=L?ue+=ge[se]:L<P&&0<ue.length&&(this._renderText(V,ue.trim(),M,R-ve,J,Z),R+=V.textLeading(),ue="".concat(ge[se]))}this._renderText(V,ue.trim(),M,R-ve,J,Z),R+=V.textLeading()}}else{var be=0;this._textBaseline===c.CENTER?be=(I.length-1)*V.textLeading()/2:this._textBaseline===c.BOTTOM&&(be=(I.length-1)*V.textLeading());for(var Ae=0;Ae<I.length;Ae++)this._renderText(V,I[Ae],M,R-be,J,Z-be),R+=V.textLeading()}return V}}},{key:"_applyDefaults",value:function(){return this}},{key:"_isOpenType",value:function(){var D=0<arguments.length&&arguments[0]!==void 0?arguments[0]:this._textFont;return g(D)==="object"&&D.font&&D.font.supported}},{key:"_updateTextMetrics",value:function(){var D,M,R,L,F,I;return this._isOpenType()?(this._setProperty("_textAscent",this._textFont._textAscent()),this._setProperty("_textDescent",this._textFont._textDescent())):((D=document.createElement("span")).style.fontFamily=this._textFont,D.style.fontSize="".concat(this._textSize,"px"),D.innerHTML="ABCjgq|",(I=document.createElement("div")).style.display="inline-block",I.style.width="1px",I.style.height="0px",L=((M=document.createElement("div")).appendChild(D),M.appendChild(I),M.style.height="0px",M.style.overflow="hidden",document.body.appendChild(M),I.style.verticalAlign="baseline",x(I)),F=x(D),R=L[1]-F[1],L=(I.style.verticalAlign="bottom",x(I)),F=x(D),I=L[1]-F[1]-R,document.body.removeChild(M),this._setProperty("_textAscent",R),this._setProperty("_textDescent",I)),this}}])&&y(E.prototype,b),C}(u.default.Element);function x(b){var E=0,S=0;if(b.offsetParent)for(;E+=b.offsetLeft,S+=b.offsetTop,b=b.offsetParent;);else E+=b.offsetLeft,S+=b.offsetTop;return[E,S]}_.prototype.textSize=function(b){return typeof b=="number"?(this._setProperty("_textSize",b),this._leadingSet||this._setProperty("_textLeading",b*c._DEFAULT_LEADMULT),this._applyTextProperties()):this._textSize},u.default.Renderer=_,t=u.default.Renderer,s.default=t},{"../core/constants":272,"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],287:[function(b,l,s){function o(E){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(E)}function u(E){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(S){return o(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":o(S)})(E)}b("core-js/modules/es.symbol"),b("core-js/modules/es.symbol.description"),b("core-js/modules/es.symbol.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.iterator"),b("core-js/modules/es.array.join"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.function.name"),b("core-js/modules/es.object.get-own-property-descriptor"),b("core-js/modules/es.object.get-prototype-of"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.reflect.construct"),b("core-js/modules/es.reflect.get"),b("core-js/modules/es.regexp.exec"),b("core-js/modules/es.regexp.to-string"),b("core-js/modules/es.string.iterator"),b("core-js/modules/es.weak-map"),b("core-js/modules/web.dom-collections.iterator"),b("core-js/modules/es.array.concat"),b("core-js/modules/es.array.fill"),b("core-js/modules/es.array.join"),b("core-js/modules/es.array.slice"),b("core-js/modules/es.function.name"),b("core-js/modules/es.object.get-prototype-of"),b("core-js/modules/es.object.to-string"),b("core-js/modules/es.regexp.exec"),b("core-js/modules/es.regexp.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(x=b("./main"))&&x.__esModule?x:{default:x},d=function(E){if(E&&E.__esModule)return E;if(E===null||u(E)!=="object"&&typeof E!="function")return{default:E};var S=g();if(S&&S.has(E))return S.get(E);var C,D={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in E){var R;Object.prototype.hasOwnProperty.call(E,C)&&((R=M?Object.getOwnPropertyDescriptor(E,C):null)&&(R.get||R.set)?Object.defineProperty(D,C,R):D[C]=E[C])}return D.default=E,S&&S.set(E,D),D}(b("./constants"));function g(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,g=function(){return E},E)}function y(E,S){for(var C=0;C<S.length;C++){var D=S[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}function h(E,S,C){return(h=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(L,M,R){var L=function(F,I){for(;!Object.prototype.hasOwnProperty.call(F,I)&&(F=v(F))!==null;);return F}(L,M);if(L)return(L=Object.getOwnPropertyDescriptor(L,M)).get?L.get.call(R):L.value})(E,S,C||E)}function p(E,S){return(p=Object.setPrototypeOf||function(C,D){return C.__proto__=D,C})(E,S)}function m(E){return function(){var S,C=v(E),C=(S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=v(this).constructor,Reflect.construct(C,arguments,S)):C.apply(this,arguments),this);if(!S||u(S)!=="object"&&typeof S!="function"){if(C!==void 0)return C;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return S}}function v(E){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(E)}b("./p5.Renderer");var _="rgba(0,0,0,0)",x=function(E){var S=D;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),E&&p(S,E);var C=m(D);function D(M,R,L){if(this instanceof D)return(M=C.call(this,M,R,L)).drawingContext=M.canvas.getContext("2d"),M._pInst._setProperty("drawingContext",M.drawingContext),M;throw new TypeError("Cannot call a class as a function")}return S=D,(E=[{key:"getFilterGraphicsLayer",value:function(){var M;return this.filterGraphicsLayer||(M=(this._pInst instanceof c.default.Graphics?this._pInst:this)._pInst,this.filterGraphicsLayer=new c.default.Graphics(this.width,this.height,d.WEBGL,M)),this.filterGraphicsLayer.width===this.width&&this.filterGraphicsLayer.height===this.height||this.filterGraphicsLayer.resizeCanvas(this.width,this.height),this.filterGraphicsLayer.pixelDensity()!==this._pInst.pixelDensity()&&this.filterGraphicsLayer.pixelDensity(this._pInst.pixelDensity()),this.filterGraphicsLayer}},{key:"_applyDefaults",value:function(){this._cachedFillStyle=this._cachedStrokeStyle=void 0,this._cachedBlendMode=d.BLEND,this._setFill(d._DEFAULT_FILL),this._setStroke(d._DEFAULT_STROKE),this.drawingContext.lineCap=d.ROUND,this.drawingContext.font="normal 12px sans-serif"}},{key:"resize",value:function(M,R){h(v(D.prototype),"resize",this).call(this,M,R),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity)}},{key:"background",value:function(){var M,R;this.drawingContext.save(),this.resetMatrix(),(arguments.length<=0?void 0:arguments[0])instanceof c.default.Image?0<=(arguments.length<=1?void 0:arguments[1])?(M=arguments.length<=0?void 0:arguments[0],this.drawingContext.globalAlpha=(arguments.length<=1?void 0:arguments[1])/255,this._pInst.image(M,0,0,this.width,this.height)):this._pInst.image(arguments.length<=0?void 0:arguments[0],0,0,this.width,this.height):(M=this._getFill(),R=(R=this._pInst).color.apply(R,arguments),this._pInst._addAccsOutput()&&this._pInst._accsBackground(R.levels),R=R.toString(),this._setFill(R),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.fillRect(0,0,this.width,this.height),this._setFill(M),this._isErasing&&this._pInst.erase()),this.drawingContext.restore()}},{key:"clear",value:function(){this.drawingContext.save(),this.resetMatrix(),this.drawingContext.clearRect(0,0,this.width,this.height),this.drawingContext.restore()}},{key:"fill",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setFill(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("fill",M.levels)}},{key:"stroke",value:function(){var M=(M=this._pInst).color.apply(M,arguments);this._setStroke(M.toString()),this._pInst._addAccsOutput()&&this._pInst._accsCanvasColors("stroke",M.levels)}},{key:"erase",value:function(M,R){this._isErasing||(this._cachedFillStyle=this.drawingContext.fillStyle,M=this._pInst.color(255,M).toString(),this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,M=this._pInst.color(255,R).toString(),this.drawingContext.strokeStyle=M,R=this._cachedBlendMode,this.blendMode(d.REMOVE),this._cachedBlendMode=R,this._isErasing=!0)}},{key:"noErase",value:function(){this._isErasing&&(this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode),this._isErasing=!1)}},{key:"beginClip",value:function(){var M=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},M=(h(v(D.prototype),"beginClip",this).call(this,M),this._cachedFillStyle=this.drawingContext.fillStyle,this._pInst.color(255,0).toString()),M=(this.drawingContext.fillStyle=M,this._cachedStrokeStyle=this.drawingContext.strokeStyle,this._pInst.color(255,0).toString()),M=(this.drawingContext.strokeStyle=M,this._cachedBlendMode);this.blendMode(d.BLEND),this._cachedBlendMode=M,this.drawingContext.beginPath(),this._clipInvert&&(this.drawingContext.moveTo(-2*this.width,-2*this.height),this.drawingContext.lineTo(-2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,2*this.height),this.drawingContext.lineTo(2*this.width,-2*this.height),this.drawingContext.closePath())}},{key:"endClip",value:function(){this._doFillStrokeClose(),this.drawingContext.clip(),h(v(D.prototype),"endClip",this).call(this),this.drawingContext.fillStyle=this._cachedFillStyle,this.drawingContext.strokeStyle=this._cachedStrokeStyle,this.blendMode(this._cachedBlendMode)}},{key:"image",value:function(M,R,L,F,I,G,P,X,V){M.gifProperties&&M._animateGif(this._pInst);try{c.default.MediaElement&&M instanceof c.default.MediaElement&&M._ensureCanvas();var H=(H=this._tint&&M.canvas?this._getTintedImageCanvas(M):H)||M.canvas||M.elt,J=1;M.width&&0<M.width&&(J=H.width/M.width),this._isErasing&&this.blendMode(this._cachedBlendMode),this.drawingContext.drawImage(H,J*R,J*L,J*F,J*I,G,P,X,V),this._isErasing&&this._pInst.erase()}catch(Z){if(Z.name!=="NS_ERROR_NOT_AVAILABLE")throw Z}}},{key:"_getTintedImageCanvas",value:function(M){if(!M.canvas)return M;M.tintCanvas||(M.tintCanvas=document.createElement("canvas")),M.tintCanvas.width!==M.canvas.width&&(M.tintCanvas.width=M.canvas.width),M.tintCanvas.height!==M.canvas.height&&(M.tintCanvas.height=M.canvas.height);var R=M.tintCanvas.getContext("2d");return R.save(),R.clearRect(0,0,M.canvas.width,M.canvas.height),(this._tint[0]<255||this._tint[1]<255||this._tint[2]<255)&&(R.drawImage(M.canvas,0,0),R.globalCompositeOperation="luminosity",R.drawImage(M.canvas,0,0),R.globalCompositeOperation="color",R.drawImage(M.canvas,0,0),R.globalCompositeOperation="multiply",R.fillStyle="rgb(".concat(this._tint.slice(0,3).join(", "),")"),R.fillRect(0,0,M.canvas.width,M.canvas.height),R.globalCompositeOperation="destination-in"),R.globalAlpha=this._tint[3]/255,R.drawImage(M.canvas,0,0),R.restore(),M.tintCanvas}},{key:"blendMode",value:function(M){if(M===d.SUBTRACT)console.warn("blendMode(SUBTRACT) only works in WEBGL mode.");else{if(M!==d.BLEND&&M!==d.REMOVE&&M!==d.DARKEST&&M!==d.LIGHTEST&&M!==d.DIFFERENCE&&M!==d.MULTIPLY&&M!==d.EXCLUSION&&M!==d.SCREEN&&M!==d.REPLACE&&M!==d.OVERLAY&&M!==d.HARD_LIGHT&&M!==d.SOFT_LIGHT&&M!==d.DODGE&&M!==d.BURN&&M!==d.ADD)throw new Error("Mode ".concat(M," not recognized."));this._cachedBlendMode=M,this.drawingContext.globalCompositeOperation=M}}},{key:"blend",value:function(){for(var M=this.drawingContext.globalCompositeOperation,R=arguments.length,L=new Array(R),F=0;F<R;F++)L[F]=arguments[F];var I=L[L.length-1],G=Array.prototype.slice.call(L,0,L.length-1);this.drawingContext.globalCompositeOperation=I,c.default.prototype.copy.apply(this,G),this.drawingContext.globalCompositeOperation=M}},{key:"_getPixel",value:function(M,R){return M=this.drawingContext.getImageData(M,R,1,1).data,[M[0],M[1],M[2],M[3]]}},{key:"loadPixels",value:function(){var M=this._pixelsState,R=M._pixelDensity,L=this.width*R,R=this.height*R,L=this.drawingContext.getImageData(0,0,L,R);M._setProperty("imageData",L),M._setProperty("pixels",L.data)}},{key:"set",value:function(M,R,L){M=Math.floor(M),R=Math.floor(R);var F=this._pixelsState;if(L instanceof c.default.Image)this.drawingContext.save(),this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(F._pixelDensity,F._pixelDensity),this.drawingContext.clearRect(M,R,L.width,L.height),this.drawingContext.drawImage(L.canvas,M,R),this.drawingContext.restore();else{var I=0,G=0,P=0,X=0,V=4*(R*F._pixelDensity*(this.width*F._pixelDensity)+M*F._pixelDensity);if(F.imageData||F.loadPixels(),typeof L=="number")V<F.pixels.length&&(P=G=I=L,X=255);else if(Array.isArray(L)){if(L.length<4)throw new Error("pixel array must be of the form [R, G, B, A]");V<F.pixels.length&&(I=L[0],G=L[1],P=L[2],X=L[3])}else L instanceof c.default.Color&&V<F.pixels.length&&(I=L.levels[0],G=L.levels[1],P=L.levels[2],X=L.levels[3]);for(var H=0;H<F._pixelDensity;H++)for(var J=0;J<F._pixelDensity;J++)V=4*((R*F._pixelDensity+J)*this.width*F._pixelDensity+(M*F._pixelDensity+H)),F.pixels[V]=I,F.pixels[V+1]=G,F.pixels[V+2]=P,F.pixels[V+3]=X}}},{key:"updatePixels",value:function(M,R,L,F){var I=this._pixelsState,G=I._pixelDensity;M===void 0&&R===void 0&&L===void 0&&F===void 0&&(R=M=0,L=this.width,F=this.height),M*=G,R*=G,L*=G,F*=G,this.gifProperties&&(this.gifProperties.frames[this.gifProperties.displayIndex].image=I.imageData),this.drawingContext.putImageData(I.imageData,0,0,M,R,L,F)}},{key:"arc",value:function(V,H,J,Z,I,G,P){var X=this.drawingContext,V=V+J/2,H=H+Z/2,J=J/2,Z=Z/2,K=!(P===d.CHORD||P===d.OPEN||(G-I)%d.TWO_PI==0);return this._doFill&&(this._clipping||X.beginPath(),X.ellipse(V,H,J,Z,0,I,G),K&&X.lineTo(V,H),X.closePath(),this._clipping||X.fill()),this._doStroke&&(this._clipping||X.beginPath(),X.ellipse(V,H,J,Z,0,I,G),P===d.PIE&&K&&X.lineTo(V,H),P!==d.PIE&&P!==d.CHORD||X.closePath(),this._clipping||X.stroke()),this}},{key:"ellipse",value:function(X){var R=this.drawingContext,L=this._doFill,F=this._doStroke,I=parseFloat(X[0]),G=parseFloat(X[1]),P=parseFloat(X[2]),X=parseFloat(X[3]);if(L&&!F){if(this._getFill()===_)return this}else if(!L&&F&&this._getStroke()===_)return this;I+=P/2,G+=X/2,P/=2,X/=2,this._clipping||R.beginPath(),R.ellipse(I,G,P,X,0,0,2*Math.PI),R.closePath(),!this._clipping&&L&&R.fill(),!this._clipping&&F&&R.stroke()}},{key:"line",value:function(M,R,L,F){var I=this.drawingContext;return this._doStroke&&this._getStroke()!==_&&(this._clipping||I.beginPath(),I.moveTo(M,R),I.lineTo(L,F),I.stroke()),this}},{key:"point",value:function(M,R){var L,F,I=this.drawingContext;return!this._doStroke||this._getStroke()===_?this:(L=this._getStroke(),F=this._getFill(),this._clipping||this._setFill(L),this._clipping||I.beginPath(),I.arc(M,R,I.lineWidth/2,0,d.TWO_PI,!1),void(this._clipping||(I.fill(),this._setFill(F))))}},{key:"quad",value:function(M,R,L,F,I,G,P,X){var V=this.drawingContext,H=this._doFill,J=this._doStroke;if(H&&!J){if(this._getFill()===_)return this}else if(!H&&J&&this._getStroke()===_)return this;return this._clipping||V.beginPath(),V.moveTo(M,R),V.lineTo(L,F),V.lineTo(I,G),V.lineTo(P,X),V.closePath(),!this._clipping&&H&&V.fill(),!this._clipping&&J&&V.stroke(),this}},{key:"rect",value:function(J){var R,L,F=J[0],I=J[1],G=J[2],P=J[3],X=J[4],V=J[5],H=J[6],J=J[7],Z=this.drawingContext,K=this._doFill,Y=this._doStroke;if(K&&!Y){if(this._getFill()===_)return this}else if(!K&&Y&&this._getStroke()===_)return this;return this._clipping||Z.beginPath(),X===void 0?Z.rect(F,I,G,P):(V===void 0&&(V=X),H===void 0&&(H=V),J===void 0&&(J=H),Y=(K=Math.abs(G))/2,L=(R=Math.abs(P))/2,Z.roundRect(F,I,G,P,[X=R<2*(X=K<2*X?Y:X)?L:X,V=R<2*(V=K<2*V?Y:V)?L:V,H=R<2*(H=K<2*H?Y:H)?L:H,J=R<2*(J=K<2*J?Y:J)?L:J])),!this._clipping&&this._doFill&&Z.fill(),!this._clipping&&this._doStroke&&Z.stroke(),this}},{key:"triangle",value:function(H){var R=this.drawingContext,L=this._doFill,F=this._doStroke,I=H[0],G=H[1],P=H[2],X=H[3],V=H[4],H=H[5];if(L&&!F){if(this._getFill()===_)return this}else if(!L&&F&&this._getStroke()===_)return this;this._clipping||R.beginPath(),R.moveTo(I,G),R.lineTo(P,X),R.lineTo(V,H),R.closePath(),!this._clipping&&L&&R.fill(),!this._clipping&&F&&R.stroke()}},{key:"endShape",value:function(M,R,L,F,I,G,P){if(R.length!==0&&(this._doStroke||this._doFill)){var X,V,H,J=M===d.CLOSE,Z=(J&&!G&&R.push(R[0]),R.length);if(L&&P===null){if(3<Z){var K=[],Y=1-this._curveTightness;for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[1][0],R[1][1]),V=1;V+2<Z;V++)X=R[V],K[0]=[X[0],X[1]],K[1]=[X[0]+(Y*R[V+1][0]-Y*R[V-1][0])/6,X[1]+(Y*R[V+1][1]-Y*R[V-1][1])/6],K[2]=[R[V+1][0]+(Y*R[V][0]-Y*R[V+2][0])/6,R[V+1][1]+(Y*R[V][1]-Y*R[V+2][1])/6],K[3]=[R[V+1][0],R[V+1][1]],this.drawingContext.bezierCurveTo(K[1][0],K[1][1],K[2][0],K[2][1],K[3][0],K[3][1]);J&&this.drawingContext.lineTo(R[V+1][0],R[V+1][1]),this._doFillStrokeClose(J)}}else if(F&&P===null){for(this._clipping||this.drawingContext.beginPath(),V=0;V<Z;V++)R[V].isVert?R[V].moveTo?this.drawingContext.moveTo(R[V][0],R[V][1]):this.drawingContext.lineTo(R[V][0],R[V][1]):this.drawingContext.bezierCurveTo(R[V][0],R[V][1],R[V][2],R[V][3],R[V][4],R[V][5]);this._doFillStrokeClose(J)}else if(I&&P===null){for(this._clipping||this.drawingContext.beginPath(),V=0;V<Z;V++)R[V].isVert?R[V].moveTo?this.drawingContext.moveTo(R[V][0],R[V][1]):this.drawingContext.lineTo(R[V][0],R[V][1]):this.drawingContext.quadraticCurveTo(R[V][0],R[V][1],R[V][2],R[V][3]);this._doFillStrokeClose(J)}else if(P===d.POINTS)for(V=0;V<Z;V++)X=R[V],this._doStroke&&this._pInst.stroke(X[6]),this._pInst.point(X[0],X[1]);else if(P===d.LINES)for(V=0;V+1<Z;V+=2)X=R[V],this._doStroke&&this._pInst.stroke(R[V+1][6]),this._pInst.line(X[0],X[1],R[V+1][0],R[V+1][1]);else if(P===d.TRIANGLES)for(V=0;V+2<Z;V+=3)X=R[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(X[0],X[1]),this.drawingContext.lineTo(R[V+1][0],R[V+1][1]),this.drawingContext.lineTo(R[V+2][0],R[V+2][1]),this.drawingContext.closePath(),!this._clipping&&this._doFill&&(this._pInst.fill(R[V+2][5]),this.drawingContext.fill()),!this._clipping&&this._doStroke&&(this._pInst.stroke(R[V+2][6]),this.drawingContext.stroke());else if(P===d.TRIANGLE_STRIP)for(V=0;V+1<Z;V++)X=R[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[V+1][0],R[V+1][1]),this.drawingContext.lineTo(X[0],X[1]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+1][6]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+1][5]),V+2<Z&&(this.drawingContext.lineTo(R[V+2][0],R[V+2][1]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+2][6]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+2][5])),this._doFillStrokeClose(J);else if(P===d.TRIANGLE_FAN){if(2<Z){for(this._clipping||this.drawingContext.beginPath(),V=2;V<Z;V++)X=R[V],this.drawingContext.moveTo(R[0][0],R[0][1]),this.drawingContext.lineTo(R[V-1][0],R[V-1][1]),this.drawingContext.lineTo(X[0],X[1]),this.drawingContext.lineTo(R[0][0],R[0][1]),V<Z-1&&(this._doFill&&X[5]!==R[V+1][5]||this._doStroke&&X[6]!==R[V+1][6])&&(!this._clipping&&this._doFill&&(this._pInst.fill(X[5]),this.drawingContext.fill(),this._pInst.fill(R[V+1][5])),!this._clipping&&this._doStroke&&(this._pInst.stroke(X[6]),this.drawingContext.stroke(),this._pInst.stroke(R[V+1][6])),this.drawingContext.closePath(),this._clipping||this.drawingContext.beginPath());this._doFillStrokeClose(J)}}else if(P===d.QUADS)for(V=0;V+3<Z;V+=4){for(X=R[V],this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(X[0],X[1]),H=1;H<4;H++)this.drawingContext.lineTo(R[V+H][0],R[V+H][1]);this.drawingContext.lineTo(X[0],X[1]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+3][6]),this._doFillStrokeClose(J)}else if(P===d.QUAD_STRIP){if(3<Z)for(V=0;V+1<Z;V+=2)X=R[V],this._clipping||this.drawingContext.beginPath(),V+3<Z?(this.drawingContext.moveTo(R[V+2][0],R[V+2][1]),this.drawingContext.lineTo(X[0],X[1]),this.drawingContext.lineTo(R[V+1][0],R[V+1][1]),this.drawingContext.lineTo(R[V+3][0],R[V+3][1]),!this._clipping&&this._doFill&&this._pInst.fill(R[V+3][5]),!this._clipping&&this._doStroke&&this._pInst.stroke(R[V+3][6])):(this.drawingContext.moveTo(X[0],X[1]),this.drawingContext.lineTo(R[V+1][0],R[V+1][1])),this._doFillStrokeClose(J)}else{for(this._clipping||this.drawingContext.beginPath(),this.drawingContext.moveTo(R[0][0],R[0][1]),V=1;V<Z;V++)(X=R[V]).isVert&&(X.moveTo?(J&&this.drawingContext.closePath(),this.drawingContext.moveTo(X[0],X[1])):this.drawingContext.lineTo(X[0],X[1]));this._doFillStrokeClose(J)}G=I=F=L=!1,J&&R.pop()}return this}},{key:"strokeCap",value:function(M){return M!==d.ROUND&&M!==d.SQUARE&&M!==d.PROJECT||(this.drawingContext.lineCap=M),this}},{key:"strokeJoin",value:function(M){return M!==d.ROUND&&M!==d.BEVEL&&M!==d.MITER||(this.drawingContext.lineJoin=M),this}},{key:"strokeWeight",value:function(M){return this.drawingContext.lineWidth=M===void 0||M===0?1e-4:M,this}},{key:"_getFill",value:function(){return this._cachedFillStyle||(this._cachedFillStyle=this.drawingContext.fillStyle),this._cachedFillStyle}},{key:"_setFill",value:function(M){M!==this._cachedFillStyle&&(this.drawingContext.fillStyle=M,this._cachedFillStyle=M)}},{key:"_getStroke",value:function(){return this._cachedStrokeStyle||(this._cachedStrokeStyle=this.drawingContext.strokeStyle),this._cachedStrokeStyle}},{key:"_setStroke",value:function(M){M!==this._cachedStrokeStyle&&(this.drawingContext.strokeStyle=M,this._cachedStrokeStyle=M)}},{key:"bezier",value:function(M,R,L,F,I,G,P,X){return this._pInst.beginShape(),this._pInst.vertex(M,R),this._pInst.bezierVertex(L,F,I,G,P,X),this._pInst.endShape(),this}},{key:"curve",value:function(M,R,L,F,I,G,P,X){return this._pInst.beginShape(),this._pInst.curveVertex(M,R),this._pInst.curveVertex(L,F),this._pInst.curveVertex(I,G),this._pInst.curveVertex(P,X),this._pInst.endShape(),this}},{key:"_doFillStrokeClose",value:function(M){M&&this.drawingContext.closePath(),!this._clipping&&this._doFill&&this.drawingContext.fill(),!this._clipping&&this._doStroke&&this.drawingContext.stroke()}},{key:"applyMatrix",value:function(M,R,L,F,I,G){this.drawingContext.transform(M,R,L,F,I,G)}},{key:"resetMatrix",value:function(){return this.drawingContext.setTransform(1,0,0,1,0,0),this.drawingContext.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),this}},{key:"rotate",value:function(M){this.drawingContext.rotate(M)}},{key:"scale",value:function(M,R){return this.drawingContext.scale(M,R),this}},{key:"translate",value:function(M,R){return M instanceof c.default.Vector&&(R=M.y,M=M.x),this.drawingContext.translate(M,R),this}},{key:"_renderText",value:function(M,R,L,F,I,G){if(!(F<G||I<=F))return M.push(),this._isOpenType()?this._textFont._renderPath(R,L,F,{renderer:this}):(this._doStroke&&this._strokeSet&&this.drawingContext.strokeText(R,L,F),!this._clipping&&this._doFill&&(this._fillSet||this._setFill(d._DEFAULT_TEXT_FILL),this.drawingContext.fillText(R,L,F))),M.pop(),M}},{key:"textWidth",value:function(M){return this._isOpenType()?this._textFont._textWidth(M,this._textSize):this.drawingContext.measureText(M).width}},{key:"_applyTextProperties",value:function(){var M=this._pInst,R=(this._setProperty("_textAscent",null),this._setProperty("_textDescent",null),R=this._textFont,this._isOpenType()&&(R=this._textFont.font.familyName,this._setProperty("_textStyle",this._textFont.font.styleName)),R||"sans-serif");return/\s/.exec(R)&&(R='"'.concat(R,'"')),this.drawingContext.font="".concat(this._textStyle||"normal"," ").concat(this._textSize||12,"px ").concat(R),this.drawingContext.textAlign=this._textAlign,this._textBaseline===d.CENTER?this.drawingContext.textBaseline=d._CTX_MIDDLE:this.drawingContext.textBaseline=this._textBaseline,M}},{key:"push",value:function(){return this.drawingContext.save(),h(v(D.prototype),"push",this).call(this)}},{key:"pop",value:function(M){this.drawingContext.restore(),this._cachedFillStyle=this.drawingContext.fillStyle,this._cachedStrokeStyle=this.drawingContext.strokeStyle,h(v(D.prototype),"pop",this).call(this,M)}}])&&y(S.prototype,E),D}(c.default.Renderer),b=(x.prototype.text=function(E,S,C,L,M){L!==void 0&&this.drawingContext.textBaseline===d.BASELINE&&(R=!0,this.drawingContext.textBaseline=d.TOP);var R,L=c.default.Renderer.prototype.text.apply(this,arguments);return R&&(this.drawingContext.textBaseline=d.BASELINE),L},c.default.Renderer2D=x,c.default.Renderer2D);s.default=b},{"./constants":272,"./main":283,"./p5.Renderer":286,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.function.name":174,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],288:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator");var o=(t=t("./main"))&&t.__esModule?t:{default:t};o.default.prototype._promisePreloads=[];function u(){return{}}var c=!(o.default.prototype.registerPromisePreload=function(d){o.default.prototype._promisePreloads.push(d)});o.default.prototype._setupPromisePreloads=function(){var d=!0,g=!1,y=void 0;try{for(var h,p=this._promisePreloads[Symbol.iterator]();!(d=(h=p.next()).done);d=!0){var m=h.value,v=this,_=m.method,x=m.addCallbacks,b=m.legacyPreloadSetup,E=m.target||this,S=E[_].bind(E);if(E===o.default.prototype){if(c)continue;v=null,S=E[_]}E[_]=this._wrapPromisePreload(v,S,x),b&&(E[b.method]=this._legacyPreloadGenerator(v,b,E[_]))}}catch(C){g=!0,y=C}finally{try{d||p.return==null||p.return()}finally{if(g)throw y}}c=!0},o.default.prototype._wrapPromisePreload=function(d,g,y){var h=function(){for(var p=this,m=(this._incrementPreload(),null),v=null,_=arguments.length,x=new Array(_),b=0;b<_;b++)x[b]=arguments[b];if(y)for(var E=x.length-1;0<=E&&!v&&typeof x[E]=="function";E--)v=m,m=x.pop();var S=Promise.resolve(g.apply(this,x));return m&&S.then(m),v&&S.catch(v),S.then(function(){return p._decrementPreload()}),S};return h=d?h.bind(d):h},o.default.prototype._legacyPreloadGenerator=function(d,p,y){var h=p.createBaseObject||u,p=function(){var m=this;this._incrementPreload();for(var v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];var b=h.apply(this,_);return y.apply(this,_).then(function(E){Object.assign(b,E),m._decrementPreload()}),b};return p=d?p.bind(d):p}},{"./main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],289:[function(t,l,s){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(h=t("./main"))&&h.__esModule?h:{default:h},c=function(p){if(p&&p.__esModule)return p;if(p===null||g(p)!=="object"&&typeof p!="function")return{default:p};var m=d();if(m&&m.has(p))return m.get(p);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=x?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(_,v,b):_[v]=p[v])}return _.default=p,m&&m.set(p,_),_}(t("./constants"));function d(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,d=function(){return p},p)}function g(p){return(g=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}t("./p5.Graphics"),t("./p5.Renderer2D"),t("../webgl/p5.RendererGL");var y="defaultCanvas0",h=(u.default.prototype.createCanvas=function(p,m,v,_){var x,b,E;if(u.default._validateParameters("createCanvas",arguments),arguments[2]instanceof HTMLCanvasElement?(v=c.P2D,_=arguments[2]):x=v||c.P2D,_)(E=document.getElementById(y))&&E.parentNode.removeChild(E),E=_,this._defaultGraphicsCreated=!1;else{if(x===c.WEBGL)(E=document.getElementById(y))&&(E.parentNode.removeChild(E),b=this._renderer,this._elements=this._elements.filter(function(C){return C!==b})),(E=document.createElement("canvas")).id=y,E.classList.add("p5Canvas");else if(this._defaultGraphicsCreated)E=this.canvas;else{E=_||document.createElement("canvas");for(var S=0;document.getElementById("defaultCanvas".concat(S));)S++;y="defaultCanvas".concat(S),E.id=y,E.classList.add("p5Canvas")}this._setupDone||(E.dataset.hidden=!0,E.style.visibility="hidden"),(this._userNode||(document.getElementsByTagName("main").length===0&&(v=document.createElement("main"),document.body.appendChild(v)),document.getElementsByTagName("main")[0])).appendChild(E)}return x===c.WEBGL?(this._setProperty("_renderer",new u.default.RendererGL(E,this,!0)),this._elements.push(this._renderer),p=(_=this._renderer._adjustDimensions(p,m)).adjustedWidth,m=_.adjustedHeight):this._defaultGraphicsCreated||(this._setProperty("_renderer",new u.default.Renderer2D(E,this,!0)),this._defaultGraphicsCreated=!0,this._elements.push(this._renderer)),this._renderer.resize(p,m),this._renderer._applyDefaults(),this._renderer},u.default.prototype.resizeCanvas=function(p,m,v){if(u.default._validateParameters("resizeCanvas",arguments),this._renderer){var _,x,b,E={};for(_ in this.drawingContext){var S=this.drawingContext[_];g(S)!=="object"&&typeof S!="function"&&(E[_]=S)}for(b in this._renderer instanceof u.default.RendererGL&&(p=(x=this._renderer._adjustDimensions(p,m)).adjustedWidth,m=x.adjustedHeight),this.width=p,this.height=m,this._renderer.resize(p,m),E)try{this.drawingContext[b]=E[b]}catch{}v||this.redraw()}this._addAccsOutput()&&this._updateAccsOutput()},u.default.prototype.noCanvas=function(){this.canvas&&this.canvas.parentNode.removeChild(this.canvas)},u.default.prototype.createGraphics=function(p,m){for(var v=arguments.length,_=new Array(2<v?v-2:0),x=2;x<v;x++)_[x-2]=arguments[x];return _[0]instanceof HTMLCanvasElement&&(_[1]=_[0],_[0]=c.P2D),u.default._validateParameters("createGraphics",arguments),new u.default.Graphics(p,m,_[0],this,_[1])},u.default.prototype.createFramebuffer=function(p){return new u.default.Framebuffer(this,p)},u.default.prototype.clearDepth=function(p){this._assert3d("clearDepth"),this._renderer.clearDepth(p)},u.default.prototype.blendMode=function(p){u.default._validateParameters("blendMode",arguments),p===c.NORMAL&&(console.warn("NORMAL has been deprecated for use in blendMode. defaulting to BLEND instead."),p=c.BLEND),this._renderer.blendMode(p)},u.default);s.default=h},{"../webgl/p5.RendererGL":341,"./constants":272,"./main":283,"./p5.Graphics":285,"./p5.Renderer2D":287,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],290:[function(t,l,s){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function u(m){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=h(t("../main")),d=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var v=y();if(v&&v.has(m))return v.get(m);var _,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in m){var E;Object.prototype.hasOwnProperty.call(m,_)&&((E=b?Object.getOwnPropertyDescriptor(m,_):null)&&(E.get||E.set)?Object.defineProperty(x,_,E):x[_]=m[_])}return x.default=m,v&&v.set(m,x),x}(t("../constants")),g=h(t("../helpers"));function y(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,y=function(){return m},m)}function h(m){return m&&m.__esModule?m:{default:m}}function p(m){return function(v){if(Array.isArray(v)){for(var _=0,x=new Array(v.length);_<v.length;_++)x[_]=v[_];return x}}(m)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),c.default.prototype._normalizeArcAngles=function(m,v,_,x,b){var E;return m-=d.TWO_PI*Math.floor(m/d.TWO_PI),v-=d.TWO_PI*Math.floor(v/d.TWO_PI),E=Math.min(Math.abs(m-v),d.TWO_PI-Math.abs(m-v)),b&&(m=m<=d.HALF_PI?Math.atan(_/x*Math.tan(m)):m>d.HALF_PI&&m<=3*d.HALF_PI?Math.atan(_/x*Math.tan(m))+d.PI:Math.atan(_/x*Math.tan(m))+d.TWO_PI,v=v<=d.HALF_PI?Math.atan(_/x*Math.tan(v)):v>d.HALF_PI&&v<=3*d.HALF_PI?Math.atan(_/x*Math.tan(v))+d.PI:Math.atan(_/x*Math.tan(v))+d.TWO_PI),v<m&&(v+=d.TWO_PI),{start:m,stop:v,correspondToSamePoint:E<1e-5}},c.default.prototype.arc=function(m,v,_,x,b,E,S,C){return c.default._validateParameters("arc",arguments),(this._renderer._doStroke||this._renderer._doFill)&&b!==E&&(b=this._toRadians(b),E=this._toRadians(E),m=g.default.modeAdjust(m,v,_,x,this._renderer._ellipseMode),(v=this._normalizeArcAngles(b,E,m.w,m.h,!0)).correspondToSamePoint?this._renderer.ellipse([m.x,m.y,m.w,m.h,C]):(this._renderer.arc(m.x,m.y,m.w,m.h,v.start,v.stop,S,C),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("arc",[m.x,m.y,m.w,m.h,v.start,v.stop,S]))),this},c.default.prototype.ellipse=function(m,v,_,x,b){return c.default._validateParameters("ellipse",arguments),this._renderEllipse.apply(this,arguments)},c.default.prototype.circle=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];c.default._validateParameters("circle",v);var x=v.slice(0,2);return x.push(v[2],v[2]),this._renderEllipse.apply(this,p(x))},c.default.prototype._renderEllipse=function(m,v,_,x,b){return(this._renderer._doStroke||this._renderer._doFill)&&(m=g.default.modeAdjust(m,v,_,x=x===void 0?_:x,this._renderer._ellipseMode),this._renderer.ellipse([m.x,m.y,m.w,m.h,b]),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("ellipse",[m.x,m.y,m.w,m.h])),this},c.default.prototype.line=function(){for(var m,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return c.default._validateParameters("line",_),this._renderer._doStroke&&(m=this._renderer).line.apply(m,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("line",_),this},c.default.prototype.point=function(){for(var m,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return c.default._validateParameters("point",_),this._renderer._doStroke&&(_.length===1&&_[0]instanceof c.default.Vector?this._renderer.point.call(this._renderer,_[0].x,_[0].y,_[0].z):((m=this._renderer).point.apply(m,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("point",_))),this},c.default.prototype.quad=function(){for(var m,v=arguments.length,_=new Array(v),x=0;x<v;x++)_[x]=arguments[x];return c.default._validateParameters("quad",_),(this._renderer._doStroke||this._renderer._doFill)&&(this._renderer.isP3D&&_.length<12?this._renderer.quad.call(this._renderer,_[0],_[1],0,_[2],_[3],0,_[4],_[5],0,_[6],_[7],0,_[8],_[9]):((m=this._renderer).quad.apply(m,_),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("quadrilateral",_))),this},c.default.prototype.rect=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];return c.default._validateParameters("rect",v),this._renderRect.apply(this,v)},c.default.prototype.square=function(m,v,_,x,b,E,S){return c.default._validateParameters("square",arguments),this._renderRect.call(this,m,v,_,_,x,b,E,S)},c.default.prototype._renderRect=function(){if(this._renderer._doStroke||this._renderer._doFill){arguments.length===3&&(arguments[3]=arguments[2]);for(var m=g.default.modeAdjust(arguments[0],arguments[1],arguments[2],arguments[3],this._renderer._rectMode),v=(this._renderer._rectMode===d.CORNER&&(m.w=arguments[2],m.h=arguments[3]),[m.x,m.y,m.w,m.h]),_=4;_<arguments.length;_++)v[_]=arguments[_];this._renderer.rect(v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("rectangle",[m.x,m.y,m.w,m.h])}return this},c.default.prototype.triangle=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];return c.default._validateParameters("triangle",v),(this._renderer._doStroke||this._renderer._doFill)&&this._renderer.triangle(v),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._accsOutput("triangle",v),this},t=c.default,s.default=t},{"../constants":272,"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../helpers":279,"../main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],291:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(y=t("../main"))&&y.__esModule?y:{default:y},d=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=g();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../constants"));function g(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,g=function(){return h},h)}c.default.prototype.ellipseMode=function(h){return c.default._validateParameters("ellipseMode",arguments),h!==d.CORNER&&h!==d.CORNERS&&h!==d.RADIUS&&h!==d.CENTER||(this._renderer._ellipseMode=h),this},c.default.prototype.noSmooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!1):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!1),this},c.default.prototype.rectMode=function(h){return c.default._validateParameters("rectMode",arguments),h!==d.CORNER&&h!==d.CORNERS&&h!==d.RADIUS&&h!==d.CENTER||(this._renderer._rectMode=h),this},c.default.prototype.smooth=function(){return this._renderer.isP3D?this.setAttributes("antialias",!0):"imageSmoothingEnabled"in this.drawingContext&&(this.drawingContext.imageSmoothingEnabled=!0),this},c.default.prototype.strokeCap=function(h){return c.default._validateParameters("strokeCap",arguments),h!==d.ROUND&&h!==d.SQUARE&&h!==d.PROJECT||this._renderer.strokeCap(h),this},c.default.prototype.strokeJoin=function(h){return c.default._validateParameters("strokeJoin",arguments),h!==d.ROUND&&h!==d.BEVEL&&h!==d.MITER||this._renderer.strokeJoin(h),this},c.default.prototype.strokeWeight=function(h){return c.default._validateParameters("strokeWeight",arguments),this._renderer.strokeWeight(h),this};var y=c.default;s.default=y},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],292:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(u=t("../main"))&&u.__esModule?u:{default:u};t("../friendly_errors/fes_core"),t("../friendly_errors/file_errors"),t("../friendly_errors/validate_params"),o.default.prototype.bezier=function(){for(var c,d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return o.default._validateParameters("bezier",g),(this._renderer._doStroke||this._renderer._doFill)&&(c=this._renderer).bezier.apply(c,g),this},o.default.prototype.bezierDetail=function(c){return o.default._validateParameters("bezierDetail",arguments),this._bezierDetail=c,this},o.default.prototype.bezierPoint=function(c,d,g,y,h){o.default._validateParameters("bezierPoint",arguments);var p=1-h;return Math.pow(p,3)*c+3*Math.pow(p,2)*h*d+3*p*Math.pow(h,2)*g+Math.pow(h,3)*y},o.default.prototype.bezierTangent=function(c,d,g,y,h){o.default._validateParameters("bezierTangent",arguments);var p=1-h;return 3*y*Math.pow(h,2)-3*g*Math.pow(h,2)+6*g*p*h-6*d*p*h+3*d*Math.pow(p,2)-3*c*Math.pow(p,2)},o.default.prototype.curve=function(){for(var c,d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return o.default._validateParameters("curve",g),this._renderer._doStroke&&(c=this._renderer).curve.apply(c,g),this},o.default.prototype.curveDetail=function(c){return o.default._validateParameters("curveDetail",arguments),this._curveDetail=c<3?3:c,this},o.default.prototype.curveTightness=function(c){return o.default._validateParameters("curveTightness",arguments),this._renderer._curveTightness=c,this},o.default.prototype.curvePoint=function(c,d,g,y,h){o.default._validateParameters("curvePoint",arguments);var p=this._renderer._curveTightness,m=h*h*h,v=h*h;return c*((p-1)/2*m+(1-p)*v+(p-1)/2*h)+d*((p+3)/2*m+(-5-p)/2*v+1)+g*((-3-p)/2*m+(p+2)*v+(1-p)/2*h)+y*((1-p)/2*m+(p-1)/2*v)},o.default.prototype.curveTangent=function(c,d,g,y,v){o.default._validateParameters("curveTangent",arguments);var p=this._renderer._curveTightness,m=v*v*3,v=2*v;return c*((p-1)/2*m+(1-p)*v+(p-1)/2)+d*((p+3)/2*m+(-5-p)/2*v)+g*((-3-p)/2*m+(p+2)*v+(1-p)/2)+y*((1-p)/2*m+(p-1)/2*v)};var u=o.default;s.default=u},{"../friendly_errors/fes_core":274,"../friendly_errors/file_errors":275,"../friendly_errors/validate_params":278,"../main":283}],293:[function(t,l,s){function o(S){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(S)}function u(S){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(C){return o(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":o(C)})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(E=t("../main"))&&E.__esModule?E:{default:E},d=function(S){if(S&&S.__esModule)return S;if(S===null||u(S)!=="object"&&typeof S!="function")return{default:S};var C=g();if(C&&C.has(S))return C.get(S);var D,M={},R=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(D in S){var L;Object.prototype.hasOwnProperty.call(S,D)&&((L=R?Object.getOwnPropertyDescriptor(S,D):null)&&(L.get||L.set)?Object.defineProperty(M,D,L):M[D]=S[D])}return M.default=S,C&&C.set(S,M),M}(t("../constants"));function g(){var S;return typeof WeakMap!="function"?null:(S=new WeakMap,g=function(){return S},S)}var y=null,h=[],p=[],m=!1,v=!1,_=!1,x=!1,b=!0,E=(c.default.prototype.beginContour=function(){return this._renderer.isP3D?this._renderer.beginContour():(p=[],x=!0),this},c.default.prototype.beginShape=function(S){var C;return c.default._validateParameters("beginShape",arguments),this._renderer.isP3D?(C=this._renderer).beginShape.apply(C,arguments):(y=S===d.POINTS||S===d.LINES||S===d.TRIANGLES||S===d.TRIANGLE_FAN||S===d.TRIANGLE_STRIP||S===d.QUADS||S===d.QUAD_STRIP?S:null,h=[],p=[]),this},c.default.prototype.bezierVertex=function(){for(var S,C=arguments.length,D=new Array(C),M=0;M<C;M++)D[M]=arguments[M];if(c.default._validateParameters("bezierVertex",D),this._renderer.isP3D)(S=this._renderer).bezierVertex.apply(S,D);else if(h.length===0)c.default._friendlyError("vertex() must be used once before calling bezierVertex()","bezierVertex");else{m=!0;for(var R=[],L=0;L<D.length;L++)R[L]=D[L];R.isVert=!1,(x?p:h).push(R)}return this},c.default.prototype.curveVertex=function(){for(var S,C=arguments.length,D=new Array(C),M=0;M<C;M++)D[M]=arguments[M];return c.default._validateParameters("curveVertex",D),this._renderer.isP3D?(S=this._renderer).curveVertex.apply(S,D):(v=!0,this.vertex(D[0],D[1])),this},c.default.prototype.endContour=function(){if(!this._renderer.isP3D){var S=p[0].slice();S.isVert=p[0].isVert,S.moveTo=!1,p.push(S),b&&(h.push(h[0]),b=!1);for(var C=0;C<p.length;C++)h.push(p[C])}return this},c.default.prototype.endShape=function(S){var C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(c.default._validateParameters("endShape",arguments),C<1&&(console.log(" p5.js says: You can not have less than one instance"),C=1),this._renderer.isP3D)this._renderer.endShape(S,v,m,_,x,y,C);else{if(C!==1&&console.log(" p5.js says: Instancing is only supported in WebGL2 mode"),h.length===0)return this;if(!this._renderer._doStroke&&!this._renderer._doFill)return this;C=S===d.CLOSE,C&&!x&&h.push(h[0]),this._renderer.endShape(S,h,v,m,_,x,y),b=!(x=_=m=v=!1),C&&h.pop()}return this},c.default.prototype.quadraticVertex=function(){for(var S,C=arguments.length,D=new Array(C),M=0;M<C;M++)D[M]=arguments[M];if(c.default._validateParameters("quadraticVertex",D),this._renderer.isP3D)(S=this._renderer).quadraticVertex.apply(S,D);else{if(this._contourInited)return(S={}).x=D[0],S.y=D[1],S.x3=D[2],S.y3=D[3],S.type=d.QUADRATIC,this._contourVertices.push(S),this;if(0<h.length){_=!0;for(var R=[],L=0;L<D.length;L++)R[L]=D[L];R.isVert=!1,(x?p:h).push(R)}else c.default._friendlyError("vertex() must be used once before calling quadraticVertex()","quadraticVertex")}return this},c.default.prototype.vertex=function(S,C,D,M,R){var L;return this._renderer.isP3D?(L=this._renderer).vertex.apply(L,arguments):((L=[]).isVert=!0,L[0]=S,L[1]=C,L[2]=0,L[3]=0,L[4]=0,L[5]=this._renderer._getFill(),L[6]=this._renderer._getStroke(),D&&(L.moveTo=D),(x?(p.length===0&&(L.moveTo=!0),p):h).push(L)),this},c.default.prototype.normal=function(S,C,D){var M;return this._assert3d("normal"),c.default._validateParameters("normal",arguments),(M=this._renderer).normal.apply(M,arguments),this},c.default);s.default=E},{"../constants":272,"../main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],294:[function(t,l,s){},{}],295:[function(t,l,s){t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("./main"))&&t.__esModule?t:{default:t},t.default.prototype.noLoop=function(){this._loop=!1},t.default.prototype.loop=function(){this._loop||(this._loop=!0,this._setupDone&&this._draw())},t.default.prototype.isLooping=function(){return this._loop},t.default.prototype.push=function(){this._styles.push({props:{_colorMode:this._colorMode},renderer:this._renderer.push()})},t.default.prototype.pop=function(){var o=this._styles.pop();o?(this._renderer.pop(o.renderer),Object.assign(this,o.props)):console.warn("pop() was called without matching push()")},t.default.prototype.redraw=function(o){if(!this._inUserDraw&&this._setupDone){var u=parseInt(o),c=((isNaN(u)||u<1)&&(u=1),this._isGlobal?window:this);if(typeof c.draw=="function"){c.setup===void 0&&c.scale(c._pixelDensity,c._pixelDensity);for(var d=0;d<u;d++){c.resetMatrix(),(this._accessibleOutputs.grid||this._accessibleOutputs.text)&&this._updateAccsOutput(),c._renderer.isP3D&&c._renderer._update(),c._setProperty("frameCount",c.frameCount+1),this.callRegisteredHooksFor("pre"),this._inUserDraw=!0;try{c.draw()}finally{this._inUserDraw=!1}this.callRegisteredHooksFor("post")}}}},t=t.default,s.default=t},{"./main":283,"core-js/modules/es.object.assign":183}],296:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("./main"))&&t.__esModule?t:{default:t};function u(c){return function(d){if(Array.isArray(d)){for(var g=0,y=new Array(d.length);g<d.length;g++)y[g]=d[g];return y}}(c)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.applyMatrix=function(){var c=(arguments.length<=0?void 0:arguments[0])instanceof Object.getPrototypeOf(Uint8Array);return Array.isArray(arguments.length<=0?void 0:arguments[0])||c?(c=this._renderer).applyMatrix.apply(c,u(arguments.length<=0?void 0:arguments[0])):(c=this._renderer).applyMatrix.apply(c,arguments),this},o.default.prototype.resetMatrix=function(){return this._renderer.resetMatrix(),this},o.default.prototype.rotate=function(c,d){return o.default._validateParameters("rotate",arguments),this._renderer.rotate(this._toRadians(c),d),this},o.default.prototype.rotateX=function(c){return this._assert3d("rotateX"),o.default._validateParameters("rotateX",arguments),this._renderer.rotateX(this._toRadians(c)),this},o.default.prototype.rotateY=function(c){return this._assert3d("rotateY"),o.default._validateParameters("rotateY",arguments),this._renderer.rotateY(this._toRadians(c)),this},o.default.prototype.rotateZ=function(c){return this._assert3d("rotateZ"),o.default._validateParameters("rotateZ",arguments),this._renderer.rotateZ(this._toRadians(c)),this},o.default.prototype.scale=function(c,d,g){var y;return o.default._validateParameters("scale",arguments),c instanceof o.default.Vector?(c=(y=c).x,d=y.y,g=y.z):Array.isArray(c)&&(c=(y=c)[0],d=y[1],g=y[2]||1),isNaN(d)?d=g=c:isNaN(g)&&(g=1),this._renderer.scale(c,d,g),this},o.default.prototype.shearX=function(c){return o.default._validateParameters("shearX",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,0,Math.tan(c),1,0,0),this},o.default.prototype.shearY=function(c){return o.default._validateParameters("shearY",arguments),c=this._toRadians(c),this._renderer.applyMatrix(1,Math.tan(c),0,1,0,0),this},o.default.prototype.translate=function(c,d,g){return o.default._validateParameters("translate",arguments),this._renderer.isP3D?this._renderer.translate(c,d,g):this._renderer.translate(c,d),this},t=o.default,s.default=t},{"./main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246}],297:[function(t,l,s){function o(g){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(g)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.ends-with"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator");var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(g){return function(y){if(Array.isArray(y)){for(var h=0,p=new Array(y.length);h<y.length;h++)p[h]=y[h];return p}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(g){return(d=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(y){return o(y)}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":o(y)})(g)}u.default.prototype.storeItem=function(g,y){typeof g!="string"&&console.log("The argument that you passed to storeItem() - ".concat(g," is not a string.")),g.endsWith("p5TypeID")&&console.log("The argument that you passed to storeItem() - ".concat(g," must not end with 'p5TypeID'.")),y===void 0&&console.log("You cannot store undefined variables using storeItem().");var h=d(y);switch(h){case"number":case"boolean":y=y.toString();break;case"object":y instanceof u.default.Color?h="p5.Color":y instanceof u.default.Vector&&(h="p5.Vector",y=[y.x,y.y,y.z]),y=JSON.stringify(y)}localStorage.setItem(g,y),g="".concat(g,"p5TypeID"),localStorage.setItem(g,h)},u.default.prototype.getItem=function(g){var y=localStorage.getItem(g),h=localStorage.getItem("".concat(g,"p5TypeID"));if(h===void 0)console.log("Unable to determine type of item stored under ".concat(g,"in local storage. Did you save the item with something other than setItem()?"));else if(y!==null)switch(h){case"number":y=parseFloat(y);break;case"boolean":y=y==="true";break;case"object":y=JSON.parse(y);break;case"p5.Color":y=JSON.parse(y),y=this.color.apply(this,c(y.levels));break;case"p5.Vector":y=JSON.parse(y),y=this.createVector.apply(this,c(y))}return y},u.default.prototype.clearStorage=function(){var g=this;Object.keys(localStorage).forEach(function(y){y.endsWith("p5TypeID")&&g.removeItem(y.replace("p5TypeID",""))})},u.default.prototype.removeItem=function(g){typeof g!="string"&&console.log("The argument that you passed to removeItem() - ".concat(g," is not a string.")),localStorage.removeItem(g),localStorage.removeItem("".concat(g,"p5TypeID"))}},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.ends-with":198,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],298:[function(t,l,s){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}function u(_){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.object.keys"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(t=t("../core/main"))&&t.__esModule?t:{default:t};function d(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Super expression must either be null or a function");_.prototype=Object.create(x&&x.prototype,{constructor:{value:_,writable:!0,configurable:!0}}),x&&g(_,x)}function g(_,x){return(g=Object.setPrototypeOf||function(b,E){return b.__proto__=E,b})(_,x)}function y(_){return function(){var x,b=h(_),b=(x=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(x=h(this).constructor,Reflect.construct(b,arguments,x)):b.apply(this,arguments),this);if(!x||u(x)!=="object"&&typeof x!="function"){if(b!==void 0)return b;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return x}}function h(_){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)})(_)}function p(_,x){if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function")}function m(_,x){for(var b=0;b<x.length;b++){var E=x[b];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(_,E.key,E)}}function v(_,x,b){x&&m(_.prototype,x)}c.default.prototype.createStringDict=function(_,x){return c.default._validateParameters("createStringDict",arguments),new c.default.StringDict(_,x)},c.default.prototype.createNumberDict=function(_,x){return c.default._validateParameters("createNumberDict",arguments),new c.default.NumberDict(_,x)},c.default.TypedDict=function(){function _(x,b){return p(this,_),x instanceof Object?this.data=x:(this.data={},this.data[x]=b),this}return v(_,[{key:"size",value:function(){return Object.keys(this.data).length}},{key:"hasKey",value:function(x){return this.data.hasOwnProperty(x)}},{key:"get",value:function(x){if(this.data.hasOwnProperty(x))return this.data[x];console.log("".concat(x," does not exist in this Dictionary"))}},{key:"set",value:function(x,b){this._validate(b)?this.data[x]=b:console.log("Those values dont work for this dictionary type.")}},{key:"_addObj",value:function(x){for(var b in x)this.set(b,x[b])}},{key:"create",value:function(x,b){x instanceof Object&&b===void 0?this._addObj(x):x!==void 0?this.set(x,b):console.log("In order to create a new Dictionary entry you must pass an object or a key, value pair")}},{key:"clear",value:function(){this.data={}}},{key:"remove",value:function(x){if(!this.data.hasOwnProperty(x))throw new Error("".concat(x," does not exist in this Dictionary"));delete this.data[x]}},{key:"print",value:function(){for(var x in this.data)console.log("key:".concat(x," value:").concat(this.data[x]))}},{key:"saveTable",value:function(x){var b,E="";for(b in this.data)E+="".concat(b,",").concat(this.data[b],`
`);var S=new Blob([E],{type:"text/csv"});c.default.prototype.downloadFile(S,x||"mycsv","csv")}},{key:"saveJSON",value:function(x,b){c.default.prototype.saveJSON(this.data,x,b)}},{key:"_validate",value:function(x){return!0}}]),_}(),c.default.StringDict=function(){d(x,c.default.TypedDict);var _=y(x);function x(){p(this,x);for(var b=arguments.length,E=new Array(b),S=0;S<b;S++)E[S]=arguments[S];return _.call.apply(_,[this].concat(E))}return v(x,[{key:"_validate",value:function(b){return typeof b=="string"}}]),x}(),c.default.NumberDict=function(){d(x,c.default.TypedDict);var _=y(x);function x(){p(this,x);for(var b=arguments.length,E=new Array(b),S=0;S<b;S++)E[S]=arguments[S];return _.call.apply(_,[this].concat(E))}return v(x,[{key:"_validate",value:function(b){return typeof b=="number"}},{key:"add",value:function(b,E){this.data.hasOwnProperty(b)?this.data[b]+=E:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"sub",value:function(b,E){this.add(b,-E)}},{key:"mult",value:function(b,E){this.data.hasOwnProperty(b)?this.data[b]*=E:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"div",value:function(b,E){this.data.hasOwnProperty(b)?this.data[b]/=E:console.log("The key - ".concat(b," does not exist in this dictionary."))}},{key:"_valueTest",value:function(b){if(Object.keys(this.data).length===0)throw new Error("Unable to search for a minimum or maximum value on an empty NumberDict");if(Object.keys(this.data).length===1)return this.data[Object.keys(this.data)[0]];var E,S=this.data[Object.keys(this.data)[0]];for(E in this.data)this.data[E]*b<S*b&&(S=this.data[E]);return S}},{key:"minValue",value:function(){return this._valueTest(1)}},{key:"maxValue",value:function(){return this._valueTest(-1)}},{key:"_keyTest",value:function(b){if(Object.keys(this.data).length===0)throw new Error("Unable to use minValue on an empty NumberDict");if(Object.keys(this.data).length===1)return Object.keys(this.data)[0];for(var E=Object.keys(this.data)[0],S=1;S<Object.keys(this.data).length;S++)Object.keys(this.data)[S]*b<E*b&&(E=Object.keys(this.data)[S]);return E}},{key:"minKey",value:function(){return this._keyTest(1)}},{key:"maxKey",value:function(){return this._keyTest(-1)}}]),x}(),t=c.default.TypedDict,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],299:[function(t,l,s){function o(S){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(C){return typeof C}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":typeof C})(S)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(t=t("../core/main"))&&t.__esModule?t:{default:t};function c(S,C){for(var D=0;D<C.length;D++){var M=C[D];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}function d(S,C,D){C&&c(S.prototype,C),D&&c(S,D)}function g(S,C){return(g=Object.setPrototypeOf||function(D,M){return D.__proto__=M,D})(S,C)}function y(S){return function(){var C,D,M=p(S);return C=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(C=p(this).constructor,Reflect.construct(M,arguments,C)):M.apply(this,arguments),M=this,!(D=C)||v(D)!=="object"&&typeof D!="function"?h(M):D}}function h(S){if(S===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return S}function p(S){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(C){return C.__proto__||Object.getPrototypeOf(C)})(S)}function m(S,C){if(!(S instanceof C))throw new TypeError("Cannot call a class as a function")}function v(S){return(v=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(C){return o(C)}:function(C){return C&&typeof Symbol=="function"&&C.constructor===Symbol&&C!==Symbol.prototype?"symbol":o(C)})(S)}function _(S,C,D){return(C._userNode||document.body).appendChild(S),D=new(D?u.default.MediaElement:u.default.Element)(S,C),C._elements.push(D),D}u.default.prototype.select=function(S,C){return u.default._validateParameters("select",arguments),C=this._getContainer(C).querySelector(S),C?this._wrapElement(C):null},u.default.prototype.selectAll=function(S,C){u.default._validateParameters("selectAll",arguments);var D=[],M=this._getContainer(C).querySelectorAll(S);if(M)for(var R=0;R<M.length;R++){var L=this._wrapElement(M[R]);D.push(L)}return D},u.default.prototype._getContainer=function(S){var C=document;return typeof S=="string"?C=document.querySelector(S)||document:S instanceof u.default.Element?C=S.elt:S instanceof HTMLElement&&(C=S),C},u.default.prototype._wrapElement=function(S){var C,D=Array.prototype.slice.call(S.children);return S.tagName==="INPUT"&&S.type==="checkbox"?((C=new u.default.Element(S,this)).checked=function(){return arguments.length===0?this.elt.checked:(this.elt.checked=!(arguments.length<=0||!arguments[0]),this)},C):S.tagName==="VIDEO"||S.tagName==="AUDIO"?new u.default.MediaElement(S,this):S.tagName==="SELECT"?this.createSelect(new u.default.Element(S,this)):0<D.length&&D.every(function(M){return M.tagName==="INPUT"||M.tagName==="LABEL"})&&(S.tagName==="DIV"||S.tagName==="SPAN")?this.createRadio(new u.default.Element(S,this)):new u.default.Element(S,this)},u.default.prototype.removeElements=function(S){u.default._validateParameters("removeElements",arguments),this._elements.filter(function(C){return!(C.elt instanceof HTMLCanvasElement)}).map(function(C){return C.remove()})},u.default.Element.prototype.changed=function(S){return u.default.Element._adjustListener("change",S,this),this},u.default.Element.prototype.input=function(S){return u.default.Element._adjustListener("input",S,this),this},u.default.prototype.createDiv=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("div");return C.innerHTML=S,_(C,this)},u.default.prototype.createP=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("p");return C.innerHTML=S,_(C,this)},u.default.prototype.createSpan=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=document.createElement("span");return C.innerHTML=S,_(C,this)},u.default.prototype.createImg=function(){u.default._validateParameters("createImg",arguments);var S,C=document.createElement("img"),D=arguments;return 1<D.length&&typeof D[1]=="string"&&(C.alt=D[1]),2<D.length&&typeof D[2]=="string"&&(C.crossOrigin=D[2]),C.src=D[0],S=_(C,this),C.addEventListener("load",function(){S.width=C.offsetWidth||C.width,S.height=C.offsetHeight||C.height;var M=D[D.length-1];typeof M=="function"&&M(S)}),S},u.default.prototype.createA=function(S,C,D){u.default._validateParameters("createA",arguments);var M=document.createElement("a");return M.href=S,M.innerHTML=C,D&&(M.target=D),_(M,this)},u.default.prototype.createSlider=function(S,C,D,M){u.default._validateParameters("createSlider",arguments);var R=document.createElement("input");return R.type="range",R.min=S,R.max=C,M===0?R.step=1e-18:M&&(R.step=M),typeof D=="number"&&(R.value=D),_(R,this)},u.default.prototype.createButton=function(S,C){u.default._validateParameters("createButton",arguments);var D=document.createElement("button");return D.innerHTML=S,C&&(D.value=C),_(D,this)},u.default.prototype.createCheckbox=function(){for(var S=arguments.length,C=new Array(S),D=0;D<S;D++)C[D]=arguments[D];u.default._validateParameters("createCheckbox",C);var M=document.createElement("div"),R=document.createElement("input"),L=(R.type="checkbox",document.createElement("label")),F=(L.appendChild(R),M.appendChild(L),_(M,this));return F.checked=function(){var I=F.elt.firstElementChild.getElementsByTagName("input")[0];if(I){if(arguments.length===0)return I.checked;I.checked=!(arguments.length<=0||!arguments[0])}return F},this.value=function(I){return F.value=I,this},C[0]&&(F.value(C[0]),(M=document.createElement("span")).innerHTML=C[0],L.appendChild(M)),C[1]&&(R.checked=!0),F},u.default.prototype.createSelect=function(){for(var S,C=arguments.length,D=new Array(C),M=0;M<C;M++)D[M]=arguments[M];u.default._validateParameters("createSelect",D);var R,L=D[0];return L instanceof u.default.Element&&L.elt instanceof HTMLSelectElement?this.elt=(S=L).elt:L instanceof HTMLSelectElement?(S=_(L,this),this.elt=L):(R=document.createElement("select"),L&&typeof L=="boolean"&&R.setAttribute("multiple","true"),S=_(R,this),this.elt=R),S.option=function(F,I){var G;if(F!==void 0){for(var P,X=0;X<this.elt.length;X+=1)if(this.elt[X].textContent===F){G=X;break}G!==void 0?I===!1?this.elt.remove(G):this.elt[G].value=I:((P=document.createElement("option")).textContent=F,P.value=I===void 0?F:I,this.elt.appendChild(P),this._pInst._elements.push(P))}},S.selected=function(F){if(F!==void 0){for(var I=0;I<this.elt.length;I+=1)this.elt[I].value.toString()===F.toString()&&(this.elt.selectedIndex=I);return this}if(this.elt.getAttribute("multiple")){var G=[],P=!0,X=!1,V=void 0;try{for(var H,J=this.elt.selectedOptions[Symbol.iterator]();!(P=(H=J.next()).done);P=!0){var Z=H.value;G.push(Z.value)}}catch(K){X=!0,V=K}finally{try{P||J.return==null||J.return()}finally{if(X)throw V}}return G}return this.elt.value},S.disable=function(F){if(typeof F=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===F&&(this.elt[I].disabled=!0,this.elt[I].selected=!1);else this.elt.disabled=!0;return this},S.enable=function(F){if(typeof F=="string")for(var I=0;I<this.elt.length;I++)this.elt[I].value.toString()===F&&(this.elt[I].disabled=!1,this.elt[I].selected=!1);else{this.elt.disabled=!1;for(var G=0;G<this.elt.length;G++)this.elt[G].disabled=!1,this.elt[G].selected=!1}return this},S};var x=0;function b(S,F,D,M){var R=document.createElement(F),L=(typeof(D=D||"")=="string"&&(D=[D]),!0),F=!1,I=void 0;try{for(var G,P=D[Symbol.iterator]();!(L=(G=P.next()).done);L=!0){var X=G.value,V=document.createElement("source");V.setAttribute("src",X),R.appendChild(V)}}catch(J){F=!0,I=J}finally{try{L||P.return==null||P.return()}finally{if(F)throw I}}typeof M=="function"&&R.addEventListener("canplaythrough",function J(){M(),R.removeEventListener("canplaythrough",J)});var H=_(R,S,!0);return H.loadedmetadata=!1,R.addEventListener("loadedmetadata",function(){H.width=R.videoWidth,H.height=R.videoHeight,H.elt.width===0&&(H.elt.width=R.videoWidth),H.elt.height===0&&(H.elt.height=R.videoHeight),H.presetPlaybackRate&&(H.elt.playbackRate=H.presetPlaybackRate,delete H.presetPlaybackRate),H.loadedmetadata=!0}),H}u.default.prototype.createRadio=function(){function S(F){return F instanceof HTMLInputElement&&F.type==="radio"}function C(F){return F instanceof HTMLLabelElement}var D,M,R,L=arguments.length<=0?void 0:arguments[0];return L instanceof u.default.Element&&(L.elt instanceof HTMLDivElement||L.elt instanceof HTMLSpanElement)?(D=L,this.elt=L.elt):L instanceof HTMLDivElement||L instanceof HTMLSpanElement?(D=_(L,this),M=this.elt=L,typeof(arguments.length<=1?void 0:arguments[1])=="string"&&(R=arguments.length<=1?void 0:arguments[1])):(typeof L=="string"&&(R=L),M=document.createElement("div"),D=_(M,this),this.elt=M),D._name=R||"radioOption_".concat(x++),D._getOptionsArray=function(){return Array.from(this.elt.children).filter(function(F){return S(F)||C(F)&&S(F.firstElementChild)}).map(function(F){return S(F)?F:F.firstElementChild})},D.option=function(F,I){var G,P,X,V=!0,H=!1,J=void 0;try{for(var Z,K=D._getOptionsArray()[Symbol.iterator]();!(V=(Z=K.next()).done);V=!0){var Y=Z.value;if(Y.value===F){G=Y;break}}}catch(te){H=!0,J=te}finally{try{V||K.return==null||K.return()}finally{if(H)throw J}}return G===void 0&&((G=document.createElement("input")).setAttribute("type","radio"),G.setAttribute("value",F)),G.setAttribute("name",D._name),C(G.parentElement)?P=G.parentElement:(P=document.createElement("label")).insertAdjacentElement("afterbegin",G),P.lastElementChild instanceof HTMLSpanElement?X=P.lastElementChild:(X=document.createElement("span"),G.insertAdjacentElement("afterend",X)),X.innerHTML=I===void 0?F:I,this.elt.appendChild(P),G},D.remove=function(F){var I=!0,G=!1,P=void 0;try{for(var X,V=D._getOptionsArray()[Symbol.iterator]();!(I=(X=V.next()).done);I=!0){var H=X.value;if(H.value===F)return void(C(H.parentElement)?H.parentElement:H).remove()}}catch(J){G=!0,P=J}finally{try{I||V.return==null||V.return()}finally{if(G)throw P}}},D.value=function(){var F="",I=!0,G=!1,P=void 0;try{for(var X,V=D._getOptionsArray()[Symbol.iterator]();!(I=(X=V.next()).done);I=!0){var H=X.value;if(H.checked){F=H.value;break}}}catch(J){G=!0,P=J}finally{try{I||V.return==null||V.return()}finally{if(G)throw P}}return F},D.selected=function(F){var I=null;if(F===void 0){var G=!0,P=!1,X=void 0;try{for(var V,H=D._getOptionsArray()[Symbol.iterator]();!(G=(V=H.next()).done);G=!0){var J=V.value;if(J.checked){I=J;break}}}catch(ue){P=!0,X=ue}finally{try{G||H.return==null||H.return()}finally{if(P)throw X}}}else{D._getOptionsArray().forEach(function(U){U.checked=!1,U.removeAttribute("checked")});var Z=!0,P=!1,X=void 0;try{for(var K,Y=D._getOptionsArray()[Symbol.iterator]();!(Z=(K=Y.next()).done);Z=!0){var te=K.value;te.value===F&&(te.setAttribute("checked",!0),te.checked=!0,I=te)}}catch(U){P=!0,X=U}finally{try{Z||Y.return==null||Y.return()}finally{if(P)throw X}}}return I},D.disable=function(){var F=!(0<arguments.length&&arguments[0]!==void 0)||arguments[0],I=!0,G=!1,P=void 0;try{for(var X,V=D._getOptionsArray()[Symbol.iterator]();!(I=(X=V.next()).done);I=!0)X.value.setAttribute("disabled",F)}catch(H){G=!0,P=H}finally{try{I||V.return==null||V.return()}finally{if(G)throw P}}},D},u.default.prototype.createColorPicker=function(S){u.default._validateParameters("createColorPicker",arguments);var C=document.createElement("input");return C.type="color",S?S instanceof u.default.Color?C.value=S.toString("#rrggbb"):(u.default.prototype._colorMode="rgb",u.default.prototype._colorMaxes={rgb:[255,255,255,255],hsb:[360,100,100,1],hsl:[360,100,100,1]},C.value=u.default.prototype.color(S).toString("#rrggbb")):C.value="#000000",(C=_(C,this)).color=function(){return S&&(S.mode&&(u.default.prototype._colorMode=S.mode),S.maxes&&(u.default.prototype._colorMaxes=S.maxes)),u.default.prototype.color(this.elt.value)},C},u.default.prototype.createInput=function(){var S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"",C=1<arguments.length&&arguments[1]!==void 0?arguments[1]:"text",D=(u.default._validateParameters("createInput",arguments),document.createElement("input"));return D.setAttribute("value",S),D.setAttribute("type",C),_(D,this)},u.default.prototype.createFileInput=function(S){var C,D=1<arguments.length&&arguments[1]!==void 0&&arguments[1];if(u.default._validateParameters("createFileInput",arguments),window.File&&window.FileReader&&window.FileList&&window.Blob)return(C=document.createElement("input")).setAttribute("type","file"),D&&C.setAttribute("multiple",!0),C.addEventListener("change",function(M){var R=!0,L=!1,F=void 0;try{for(var I,G=M.target.files[Symbol.iterator]();!(R=(I=G.next()).done);R=!0){var P=I.value;u.default.File._load(P,S)}}catch(X){L=!0,F=X}finally{try{R||G.return==null||G.return()}finally{if(L)throw F}}},!1),_(C,this);console.log("The File APIs are not fully supported in this browser. Cannot create element.")},u.default.prototype.createVideo=function(S,C){return u.default._validateParameters("createVideo",arguments),b(this,"video",S,C)},u.default.prototype.createAudio=function(S,C){return u.default._validateParameters("createAudio",arguments),b(this,"audio",S,C)},u.default.prototype.VIDEO="video",u.default.prototype.AUDIO="audio",navigator.mediaDevices===void 0&&(navigator.mediaDevices={}),navigator.mediaDevices.getUserMedia===void 0&&(navigator.mediaDevices.getUserMedia=function(S){var C=navigator.webkitGetUserMedia||navigator.mozGetUserMedia;return C?new Promise(function(D,M){C.call(navigator,S,D,M)}):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}),u.default.prototype.createCapture=function(){for(var S=arguments.length,C=new Array(S),D=0;D<S;D++)C[D]=arguments[D];if(u.default._validateParameters("createCapture",C),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new DOMException("getUserMedia not supported in this browser");for(var M,R=!0,L=!0,F=!1,I=0,G=C;I<G.length;I++){var P=G[I];P===u.default.prototype.VIDEO?L=!1:P===u.default.prototype.AUDIO?R=!1:v(P)==="object"?(P.flipped!==void 0&&(F=P.flipped,delete P.flipped),X=Object.assign({},X,P)):typeof P=="function"&&(M=P)}var X=Object.assign({},{video:R,audio:L},X),V=document.createElement("video"),H=(V.setAttribute("playsinline",""),navigator.mediaDevices.getUserMedia(X).then(function(J){try{"srcObject"in V?V.srcObject=J:V.src=window.URL.createObjectURL(J)}catch{V.src=J}}).catch(function(J){J.name==="NotFoundError"&&u.default._friendlyError("No webcam found on this device","createCapture"),J.name==="NotAllowedError"&&u.default._friendlyError("Access to the camera was denied","createCapture"),console.error(J)}),_(V,this,!0));return H.loadedmetadata=!1,V.addEventListener("loadedmetadata",function(){V.play(),V.width?(H.width=V.width,H.height=V.height,F&&(H.elt.style.transform="scaleX(-1)")):(H.width=H.elt.width=V.videoWidth,H.height=H.elt.height=V.videoHeight),H.loadedmetadata=!0,M&&M(V.srcObject)}),H.flipped=F,H},u.default.prototype.createElement=function(S,C){return u.default._validateParameters("createElement",arguments),S=document.createElement(S),C!==void 0&&(S.innerHTML=C),_(S,this)},u.default.Element.prototype.addClass=function(S){return this.elt.className?this.hasClass(S)||(this.elt.className=this.elt.className+" "+S):this.elt.className=S,this},u.default.Element.prototype.removeClass=function(S){return this.elt.classList.remove(S),this},u.default.Element.prototype.hasClass=function(S){return this.elt.classList.contains(S)},u.default.Element.prototype.toggleClass=function(S){return this.elt.classList.contains(S)?this.elt.classList.remove(S):this.elt.classList.add(S),this},u.default.Element.prototype.child=function(S){return S===void 0?this.elt.childNodes:(typeof S=="string"?(S[0]==="#"&&(S=S.substring(1)),S=document.getElementById(S)):S instanceof u.default.Element&&(S=S.elt),S instanceof HTMLElement&&this.elt.appendChild(S),this)},u.default.Element.prototype.center=function(S){var C=this.elt.style.display,D=this.elt.style.display==="none",M=this.parent().style.display==="none",R={x:this.elt.offsetLeft,y:this.elt.offsetTop},L=(D&&this.show(),M&&this.parent().show(),this.elt.style.display="block",this.position(0,0),Math.abs(this.parent().offsetWidth-this.elt.offsetWidth)),F=Math.abs(this.parent().offsetHeight-this.elt.offsetHeight);return S==="both"||S===void 0?this.position(L/2+this.parent().offsetLeft,F/2+this.parent().offsetTop):S==="horizontal"?this.position(L/2+this.parent().offsetLeft,R.y):S==="vertical"&&this.position(R.x,F/2+this.parent().offsetTop),this.style("display",C),D&&this.hide(),M&&this.parent().hide(),this},u.default.Element.prototype.html=function(){return arguments.length===0?this.elt.innerHTML:(arguments.length<=1||!arguments[1]?this.elt.innerHTML=arguments.length<=0?void 0:arguments[0]:this.elt.insertAdjacentHTML("beforeend",arguments.length<=0?void 0:arguments[0]),this)},u.default.Element.prototype.position=function(){return arguments.length===0?{x:this.elt.offsetLeft,y:this.elt.offsetTop}:(this.elt.style.position=(arguments.length<=2?void 0:arguments[2])!=="static"&&(arguments.length<=2?void 0:arguments[2])!=="fixed"&&(arguments.length<=2?void 0:arguments[2])!=="relative"&&(arguments.length<=2?void 0:arguments[2])!=="sticky"&&(arguments.length<=2?void 0:arguments[2])!=="initial"&&(arguments.length<=2?void 0:arguments[2])!=="inherit"?"absolute":arguments.length<=2?void 0:arguments[2],this.elt.style.left=(arguments.length<=0?void 0:arguments[0])+"px",this.elt.style.top=(arguments.length<=1?void 0:arguments[1])+"px",this.x=arguments.length<=0?void 0:arguments[0],this.y=arguments.length<=1?void 0:arguments[1],this)},u.default.Element.prototype._translate=function(){this.elt.style.position="absolute";var S="";return this.elt.style.transform&&(S=(S=this.elt.style.transform.replace(/translate3d\(.*\)/g,"")).replace(/translate[X-Z]?\(.*\)/g,"")),arguments.length===2?this.elt.style.transform="translate("+(arguments.length<=0?void 0:arguments[0])+"px, "+(arguments.length<=1?void 0:arguments[1])+"px)":2<arguments.length&&(this.elt.style.transform="translate3d("+(arguments.length<=0?void 0:arguments[0])+"px,"+(arguments.length<=1?void 0:arguments[1])+"px,"+(arguments.length<=2?void 0:arguments[2])+"px)",this.elt.parentElement.style.perspective=arguments.length===3?"1000px":(arguments.length<=3?void 0:arguments[3])+"px"),this.elt.style.transform+=S,this},u.default.Element.prototype._rotate=function(){var S="";return this.elt.style.transform&&(S=(S=this.elt.style.transform.replace(/rotate3d\(.*\)/g,"")).replace(/rotate[X-Z]?\(.*\)/g,"")),arguments.length===1?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg)":arguments.length===2?this.elt.style.transform="rotate("+(arguments.length<=0?void 0:arguments[0])+"deg, "+(arguments.length<=1?void 0:arguments[1])+"deg)":arguments.length===3&&(this.elt.style.transform="rotateX("+(arguments.length<=0?void 0:arguments[0])+"deg)",this.elt.style.transform+="rotateY("+(arguments.length<=1?void 0:arguments[1])+"deg)",this.elt.style.transform+="rotateZ("+(arguments.length<=2?void 0:arguments[2])+"deg)"),this.elt.style.transform+=S,this},u.default.Element.prototype.style=function(S,C){if((C=C instanceof u.default.Color?"rgba("+C.levels[0]+","+C.levels[1]+","+C.levels[2]+","+C.levels[3]/255+")":C)===void 0){if(S.indexOf(":")===-1)return window.getComputedStyle(this.elt).getPropertyValue(S);for(var D=S.split(";"),M=0;M<D.length;M++){var R=D[M].split(":");R[0]&&R[1]&&(this.elt.style[R[0].trim()]=R[1].trim())}}else this.elt.style[S]=C,S!=="width"&&S!=="height"&&S!=="left"&&S!=="top"||(C=window.getComputedStyle(this.elt).getPropertyValue(S).replace(/[^\d.]/g,""),this[S]=Math.round(parseFloat(C,10)));return this},u.default.Element.prototype.attribute=function(S,C){if(this.elt.firstChild==null||this.elt.firstChild.type!=="checkbox"&&this.elt.firstChild.type!=="radio")return C===void 0?this.elt.getAttribute(S):(this.elt.setAttribute(S,C),this);if(C===void 0)return this.elt.firstChild.getAttribute(S);for(var D=0;D<this.elt.childNodes.length;D++)this.elt.childNodes[D].setAttribute(S,C)},u.default.Element.prototype.removeAttribute=function(S){if(this.elt.firstChild!=null&&(this.elt.firstChild.type==="checkbox"||this.elt.firstChild.type==="radio"))for(var C=0;C<this.elt.childNodes.length;C++)this.elt.childNodes[C].removeAttribute(S);return this.elt.removeAttribute(S),this},u.default.Element.prototype.value=function(){return 0<arguments.length?(this.elt.value=arguments.length<=0?void 0:arguments[0],this):this.elt.type==="range"?parseFloat(this.elt.value):this.elt.value},u.default.Element.prototype.show=function(){return this.elt.style.display="block",this},u.default.Element.prototype.hide=function(){return this.elt.style.display="none",this},u.default.Element.prototype.size=function(S,C){if(arguments.length===0)return{width:this.elt.offsetWidth,height:this.elt.offsetHeight};var D=S,M=C,R=u.default.prototype.AUTO;if(D!==R||M!==R){if(D===R?D=C*this.width/this.height:M===R&&(M=S*this.height/this.width),this.elt instanceof HTMLCanvasElement){var L,F={},I=this.elt.getContext("2d");for(L in I)F[L]=I[L];for(L in this.elt.setAttribute("width",D*this._pInst._pixelDensity),this.elt.setAttribute("height",M*this._pInst._pixelDensity),this.elt.style.width=D+"px",this.elt.style.height=M+"px",this._pInst.scale(this._pInst._pixelDensity,this._pInst._pixelDensity),F)this.elt.getContext("2d")[L]=F[L]}else this.elt.style.width=D+"px",this.elt.style.height=M+"px",this.elt.width=D,this.elt.height=M;this.width=D,this.height=M,this._pInst&&this._pInst._curElement&&this._pInst._curElement.elt===this.elt&&(this._pInst._setProperty("width",D),this._pInst._setProperty("height",M))}return this},u.default.Element.prototype.remove=function(){this instanceof u.default.MediaElement&&(this.stop(),(C=this.elt.srcObject)!==null&&C.getTracks().forEach(function(D){D.stop()}));var S,C=this._pInst._elements.indexOf(this);for(S in C!==-1&&this._pInst._elements.splice(C,1),this._events)this.elt.removeEventListener(S,this._events[S]);this.elt&&this.elt.parentNode&&this.elt.parentNode.removeChild(this.elt)},u.default.Element.prototype.drop=function(S,C){var D;return window.File&&window.FileReader&&window.FileList&&window.Blob?(this._dragDisabled||(this._dragDisabled=!0,this.elt.addEventListener("dragover",D=function(M){M.preventDefault()}),this.elt.addEventListener("dragleave",D)),u.default.Element._attachListener("drop",function(R){R.preventDefault(),typeof C=="function"&&C.call(this,R);var R=R.dataTransfer.files,L=!0,F=!1,I=void 0;try{for(var G,P=R[Symbol.iterator]();!(L=(G=P.next()).done);L=!0){var X=G.value;u.default.File._load(X,S)}}catch(V){F=!0,I=V}finally{try{L||P.return==null||P.return()}finally{if(F)throw I}}},this)):console.log("The File APIs are not fully supported in this browser."),this},u.default.Element.prototype.draggable=function(S){var C,D="ontouchstart"in window,M=0,R=0,L=0,F=0,I=D?"touchend":"mouseup",G=D?"touchmove":"mousemove";function P(V){var H;V=V||window.event,F=D?(H=V.changedTouches,M=L-parseInt(H[0].clientX),R=F-parseInt(H[0].clientY),L=parseInt(H[0].clientX),parseInt(H[0].clientY)):(M=L-parseInt(V.clientX),R=F-parseInt(V.clientY),L=parseInt(V.clientX),parseInt(V.clientY)),S.style.left=S.offsetLeft-M+"px",S.style.top=S.offsetTop-R+"px"}function X(){document.removeEventListener(I,X,!1),document.removeEventListener(G,P,!1)}return S===void 0?C=S=this.elt:S!==this.elt&&S.elt!==this.elt&&(S=S.elt,C=this.elt),C.addEventListener(D?"touchstart":"mousedown",function(V){{var H;V=V||window.event,F=D?(H=V.changedTouches,L=parseInt(H[0].clientX),parseInt(H[0].clientY)):(L=parseInt(V.clientX),parseInt(V.clientY))}return document.addEventListener(I,X,!1),document.addEventListener(G,P,!1),!1},!1),C.style.cursor="move",this};function E(S,C,D,M){m(this,E),this.callback=S,this.time=C,this.id=D,this.val=M}t=function(S){var C=M;if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(S&&S.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),S&&g(C,S);var D=y(M);function M(R,L){m(this,M);var F=h(L=D.call(this,R,L));return L.elt.crossOrigin="anonymous",L._prevTime=0,L._cueIDCounter=0,L._cues=[],L.pixels=[],L._pixelsState=h(L),L._pixelDensity=1,L._modified=!1,L._frameOnCanvas=-1,Object.defineProperty(F,"src",{get:function(){var I=F.elt.children[0].src,G=F.elt.src===window.location.href?"":F.elt.src;return I===window.location.href?G:I},set:function(I){for(var G=0;G<F.elt.children.length;G++)F.elt.removeChild(F.elt.children[G]);var P=document.createElement("source");P.src=I,R.appendChild(P),F.elt.src=I,F.modified=!0}}),F._onended=function(){},F.elt.onended=function(){F._onended(F)},L}return d(M,[{key:"play",value:function(){var R;return this.elt.currentTime===this.elt.duration&&(this.elt.currentTime=0),1<this.elt.readyState||this.elt.load(),(R=this.elt.play())&&R.catch&&R.catch(function(L){L.name==="NotAllowedError"?console.error(L):console.error("Media play method encountered an unexpected error",L)}),this}},{key:"stop",value:function(){return this.elt.pause(),this.elt.currentTime=0,this}},{key:"pause",value:function(){return this.elt.pause(),this}},{key:"loop",value:function(){return this.elt.setAttribute("loop",!0),this.play(),this}},{key:"noLoop",value:function(){return this.elt.removeAttribute("loop"),this}},{key:"_setupAutoplayFailDetection",value:function(){var R=setTimeout(function(){console.error(e)},500);this.elt.addEventListener("play",function(){return clearTimeout(R)},{passive:!0,once:!0})}},{key:"autoplay",value:function(R){var L=this,F=this.elt.getAttribute("autoplay");return this.elt.setAttribute("autoplay",R),R&&!F&&(R=function(){return L._setupAutoplayFailDetection()},this.elt.readyState===4?R():this.elt.addEventListener("canplay",R,{passive:!0,once:!0})),this}},{key:"volume",value:function(R){if(R===void 0)return this.elt.volume;this.elt.volume=R}},{key:"speed",value:function(R){if(R===void 0)return this.presetPlaybackRate||this.elt.playbackRate;this.loadedmetadata?this.elt.playbackRate=R:this.presetPlaybackRate=R}},{key:"time",value:function(R){return R===void 0?this.elt.currentTime:(this.elt.currentTime=R,this)}},{key:"duration",value:function(){return this.elt.duration}},{key:"_ensureCanvas",value:function(){this.canvas||(this.canvas=document.createElement("canvas"),this.drawingContext=this.canvas.getContext("2d"),this.setModified(!0));var R=this._frameOnCanvas!==this._pInst.frameCount;this.loadedmetadata&&R&&(this.canvas.width!==this.elt.width&&(this.canvas.width=this.elt.width,this.canvas.height=this.elt.height,this.width=this.canvas.width,this.height=this.canvas.height),this.drawingContext.clearRect(0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&(this.drawingContext.save(),this.drawingContext.scale(-1,1),this.drawingContext.translate(-this.canvas.width,0)),this.drawingContext.drawImage(this.elt,0,0,this.canvas.width,this.canvas.height),this.flipped===!0&&this.drawingContext.restore(),this.setModified(!0),this._frameOnCanvas=this._pInst.frameCount)}},{key:"loadPixels",value:function(){this._ensureCanvas();for(var R=arguments.length,L=new Array(R),F=0;F<R;F++)L[F]=arguments[F];return u.default.Renderer2D.prototype.loadPixels.apply(this,L)}},{key:"updatePixels",value:function(R,L,F,I){return this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.updatePixels.call(this,R,L,F,I)),this.setModified(!0),this}},{key:"get",value:function(){this._ensureCanvas();for(var R=arguments.length,L=new Array(R),F=0;F<R;F++)L[F]=arguments[F];return u.default.Renderer2D.prototype.get.apply(this,L)}},{key:"_getPixel",value:function(){this.loadPixels();for(var R=arguments.length,L=new Array(R),F=0;F<R;F++)L[F]=arguments[F];return u.default.Renderer2D.prototype._getPixel.apply(this,L)}},{key:"set",value:function(R,L,F){this.loadedmetadata&&(this._ensureCanvas(),u.default.Renderer2D.prototype.set.call(this,R,L,F),this.setModified(!0))}},{key:"copy",value:function(){this._ensureCanvas();for(var R=arguments.length,L=new Array(R),F=0;F<R;F++)L[F]=arguments[F];u.default.prototype.copy.apply(this,L)}},{key:"mask",value:function(){this.loadPixels(),this.setModified(!0);for(var R=arguments.length,L=new Array(R),F=0;F<R;F++)L[F]=arguments[F];u.default.Image.prototype.mask.apply(this,L)}},{key:"isModified",value:function(){return this._modified}},{key:"setModified",value:function(R){this._modified=R}},{key:"onended",value:function(R){return this._onended=R,this}},{key:"connect",value:function(R){var L,F;if(typeof u.default.prototype.getAudioContext=="function")L=u.default.prototype.getAudioContext(),F=u.default.soundOut.input;else try{F=(L=R.context).destination}catch{throw"connect() is meant to be used with Web Audio API or p5.sound.js"}this.audioSourceNode||(this.audioSourceNode=L.createMediaElementSource(this.elt),this.audioSourceNode.connect(F)),R?R.input?this.audioSourceNode.connect(R.input):this.audioSourceNode.connect(R):this.audioSourceNode.connect(F)}},{key:"disconnect",value:function(){if(!this.audioSourceNode)throw"nothing to disconnect";this.audioSourceNode.disconnect()}},{key:"showControls",value:function(){this.elt.style["text-align"]="inherit",this.elt.controls=!0}},{key:"hideControls",value:function(){this.elt.controls=!1}},{key:"addCue",value:function(R,G,F){var I=this._cueIDCounter++,G=new E(G,R,I,F);return this._cues.push(G),this.elt.ontimeupdate||(this.elt.ontimeupdate=this._onTimeUpdate.bind(this)),I}},{key:"removeCue",value:function(R){for(var L=0;L<this._cues.length;L++)this._cues[L].id===R&&(console.log(R),this._cues.splice(L,1));this._cues.length===0&&(this.elt.ontimeupdate=null)}},{key:"clearCues",value:function(){this._cues=[],this.elt.ontimeupdate=null}},{key:"_onTimeUpdate",value:function(){for(var R=this.time(),L=0;L<this._cues.length;L++){var F=this._cues[L].time,I=this._cues[L].val;this._prevTime<F&&F<=R&&this._cues[L].callback(I)}this._prevTime=R}}]),M}(u.default.Element),u.default.MediaElement=t,t=function(){function S(C,D){m(this,S),this.file=C,this._pInst=D,D=C.type.split("/"),this.type=D[0],this.subtype=D[1],this.name=C.name,this.size=C.size,this.data=void 0}return d(S,null,[{key:"_createLoader",value:function(C,D){var M=new FileReader;return M.onload=function(R){var L,F=new u.default.File(C);F.file.type==="application/json"?F.data=JSON.parse(R.target.result):F.file.type==="text/xml"?(L=new DOMParser().parseFromString(R.target.result,"text/xml"),F.data=new u.default.XML(L.documentElement)):F.data=R.target.result,D(F)},M}},{key:"_load",value:function(C,D){var M;/^text\//.test(C.type)||C.type==="application/json"?u.default.File._createLoader(C,D).readAsText(C):/^(video|audio)\//.test(C.type)?((M=new u.default.File(C)).data=URL.createObjectURL(C),D(M)):u.default.File._createLoader(C,D).readAsDataURL(C)}}]),S}(),u.default.File=t,t=u.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248}],300:[function(v,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(v=v("../core/main"))&&v.__esModule?v:{default:v};o.default.prototype.deviceOrientation=1<window.innerWidth/window.innerHeight?"landscape":"portrait",o.default.prototype.accelerationX=0,o.default.prototype.accelerationY=0,o.default.prototype.accelerationZ=0,o.default.prototype.pAccelerationX=0,o.default.prototype.pAccelerationY=0,o.default.prototype.pAccelerationZ=0,o.default.prototype._updatePAccelerations=function(){this._setProperty("pAccelerationX",this.accelerationX),this._setProperty("pAccelerationY",this.accelerationY),this._setProperty("pAccelerationZ",this.accelerationZ)},o.default.prototype.rotationX=0,o.default.prototype.rotationY=0,o.default.prototype.rotationZ=0,o.default.prototype.pRotationX=0,o.default.prototype.pRotationY=0;var u=o.default.prototype.pRotationZ=0,c=0,d=0,g="clockwise",y="clockwise",h="clockwise",p=(o.default.prototype.pRotateDirectionX=void 0,o.default.prototype.pRotateDirectionY=void 0,o.default.prototype.pRotateDirectionZ=void 0,o.default.prototype._updatePRotations=function(){this._setProperty("pRotationX",this.rotationX),this._setProperty("pRotationY",this.rotationY),this._setProperty("pRotationZ",this.rotationZ)},o.default.prototype.turnAxis=void 0,.5),m=30,v=(o.default.prototype.setMoveThreshold=function(_){o.default._validateParameters("setMoveThreshold",arguments),p=_},o.default.prototype.setShakeThreshold=function(_){o.default._validateParameters("setShakeThreshold",arguments),m=_},o.default.prototype._ondeviceorientation=function(_){this._updatePRotations(),this._setProperty("rotationX",this._fromDegrees(_.beta)),this._setProperty("rotationY",this._fromDegrees(_.gamma)),this._setProperty("rotationZ",this._fromDegrees(_.alpha)),this._handleMotion()},o.default.prototype._ondevicemotion=function(_){this._updatePAccelerations(),this._setProperty("accelerationX",2*_.acceleration.x),this._setProperty("accelerationY",2*_.acceleration.y),this._setProperty("accelerationZ",2*_.acceleration.z),this._handleMotion()},o.default.prototype._handleMotion=function(){window.orientation===90||window.orientation===-90?this._setProperty("deviceOrientation","landscape"):window.orientation===0?this._setProperty("deviceOrientation","portrait"):window.orientation===void 0&&this._setProperty("deviceOrientation","undefined");var _,x,b,E,S,C=this._isGlobal?window:this;typeof C.deviceMoved=="function"&&(Math.abs(this.accelerationX-this.pAccelerationX)>p||Math.abs(this.accelerationY-this.pAccelerationY)>p||Math.abs(this.accelerationZ-this.pAccelerationZ)>p)&&C.deviceMoved(),typeof C.deviceTurned=="function"&&(x=this._toDegrees(this.rotationX)+180,b=this._toDegrees(this.pRotationX)+180,_=u+180,0<x-b&&x-b<270||x-b<-270?g="clockwise":(x-b<0||270<x-b)&&(g="counter-clockwise"),g!==this.pRotateDirectionX&&(_=x),90<Math.abs(x-_)&&Math.abs(x-_)<270&&(_=x,this._setProperty("turnAxis","X"),C.deviceTurned()),this.pRotateDirectionX=g,u=_-180,b=this._toDegrees(this.rotationY)+180,x=this._toDegrees(this.pRotationY)+180,_=c+180,0<b-x&&b-x<270||b-x<-270?y="clockwise":(b-x<0||270<b-this.pRotationY)&&(y="counter-clockwise"),y!==this.pRotateDirectionY&&(_=b),90<Math.abs(b-_)&&Math.abs(b-_)<270&&(_=b,this._setProperty("turnAxis","Y"),C.deviceTurned()),this.pRotateDirectionY=y,c=_-180,0<(x=this._toDegrees(this.rotationZ))-(b=this._toDegrees(this.pRotationZ))&&x-b<270||x-b<-270?h="clockwise":(x-b<0||270<x-b)&&(h="counter-clockwise"),h!==this.pRotateDirectionZ&&(d=x),90<Math.abs(x-d)&&Math.abs(x-d)<270&&(d=x,this._setProperty("turnAxis","Z"),C.deviceTurned()),this.pRotateDirectionZ=h,this._setProperty("turnAxis",void 0)),typeof C.deviceShaken=="function"&&(this.pAccelerationX!==null&&(E=Math.abs(this.accelerationX-this.pAccelerationX),S=Math.abs(this.accelerationY-this.pAccelerationY)),m<E+S&&C.deviceShaken())},o.default);s.default=v},{"../core/main":283}],301:[function(t,l,s){t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.string.repeat"),t("core-js/modules/web.dom-collections.for-each"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.isKeyPressed=!1,o.default.prototype.keyIsPressed=!1,o.default.prototype.key="",o.default.prototype.keyCode=0,o.default.prototype._onkeydown=function(u){var c;u.repeat||(this._setProperty("isKeyPressed",!0),this._setProperty("keyIsPressed",!0),this._setProperty("keyCode",u.which),this._downKeys[u.which]=!0,this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),u.metaKey&&(this._metaKeys||(this._metaKeys=[]),this._metaKeys.push(u.which)),typeof(c=this._isGlobal?window:this).keyPressed!="function"||u.charCode||c.keyPressed(u)===!1&&u.preventDefault())},o.default.prototype._onkeyup=function(u){var c=this,d=(this._setProperty("isKeyPressed",!1),this._setProperty("keyIsPressed",!1),this._setProperty("_lastKeyCodePressed",this._keyCode),this._downKeys[u.which]=!1,u.key==="Meta"&&this._metaKeys&&(this._metaKeys.forEach(function(g){c._downKeys[g]=!1}),this._metaKeys=[]),this._isGlobal?window:this);typeof d.keyReleased=="function"&&d.keyReleased(u)===!1&&u.preventDefault()},o.default.prototype._onkeypress=function(u){var c;u.which!==this._lastKeyCodeTyped&&(this._setProperty("_lastKeyCodeTyped",u.which),this._setProperty("key",u.key||String.fromCharCode(u.which)||u.which),typeof(c=this._isGlobal?window:this).keyTyped=="function"&&c.keyTyped(u)===!1&&u.preventDefault())},o.default.prototype._onblur=function(u){this._downKeys={}},o.default.prototype.keyIsDown=function(u){return o.default._validateParameters("keyIsDown",arguments),this._downKeys[u]||!1},o.default.prototype._areDownKeys=function(){for(var u in this._downKeys)if(this._downKeys.hasOwnProperty(u)&&this._downKeys[u]===!0)return!0;return!1},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.string.repeat":203,"core-js/modules/web.dom-collections.for-each":245}],302:[function(t,l,s){function o(y){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(y)}function u(y){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(h){return o(h)}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":o(h)})(y)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(c=t("../core/main"))&&c.__esModule?c:{default:c},d=function(y){if(y&&y.__esModule)return y;if(y===null||u(y)!=="object"&&typeof y!="function")return{default:y};var h=g();if(h&&h.has(y))return h.get(y);var p,m={},v=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(p in y){var _;Object.prototype.hasOwnProperty.call(y,p)&&((_=v?Object.getOwnPropertyDescriptor(y,p):null)&&(_.get||_.set)?Object.defineProperty(m,p,_):m[p]=y[p])}return m.default=y,h&&h.set(y,m),m}(t("../core/constants"));function g(){var y;return typeof WeakMap!="function"?null:(y=new WeakMap,g=function(){return y},y)}c.default.prototype.movedX=0,c.default.prototype.movedY=0,c.default.prototype._hasMouseInteracted=!1,c.default.prototype.mouseX=0,c.default.prototype.mouseY=0,c.default.prototype.pmouseX=0,c.default.prototype.pmouseY=0,c.default.prototype.winMouseX=0,c.default.prototype.winMouseY=0,c.default.prototype.pwinMouseX=0,c.default.prototype.pwinMouseY=0,c.default.prototype.mouseButton=0,c.default.prototype.mouseIsPressed=!1,c.default.prototype._updateNextMouseCoords=function(y){var h,p,m,v,_;this._curElement!==null&&(!y.touches||0<y.touches.length)&&(h=this._curElement.elt,p=this.width,m=this.height,(v=y)&&!v.clientX&&(v.touches?v=v.touches[0]:v.changedTouches&&(v=v.changedTouches[0])),_=h.getBoundingClientRect(),p=h.scrollWidth/p||1,h=h.scrollHeight/m||1,m={x:(v.clientX-_.left)/p,y:(v.clientY-_.top)/h,winX:v.clientX,winY:v.clientY,id:v.identifier},this._setProperty("movedX",y.movementX),this._setProperty("movedY",y.movementY),this._setProperty("mouseX",m.x),this._setProperty("mouseY",m.y),this._setProperty("winMouseX",m.winX),this._setProperty("winMouseY",m.winY)),this._hasMouseInteracted||(this._updateMouseCoords(),this._setProperty("_hasMouseInteracted",!0))},c.default.prototype._updateMouseCoords=function(){this._setProperty("pmouseX",this.mouseX),this._setProperty("pmouseY",this.mouseY),this._setProperty("pwinMouseX",this.winMouseX),this._setProperty("pwinMouseY",this.winMouseY),this._setProperty("_pmouseWheelDeltaY",this._mouseWheelDeltaY)},c.default.prototype._setMouseButton=function(y){y.button===1?this._setProperty("mouseButton",d.CENTER):y.button===2?this._setProperty("mouseButton",d.RIGHT):this._setProperty("mouseButton",d.LEFT)},c.default.prototype._onmousemove=function(y){var h=this._isGlobal?window:this;this._updateNextMouseCoords(y),this.mouseIsPressed?typeof h.mouseDragged=="function"?h.mouseDragged(y)===!1&&y.preventDefault():typeof h.touchMoved=="function"&&h.touchMoved(y)===!1&&y.preventDefault():typeof h.mouseMoved=="function"&&h.mouseMoved(y)===!1&&y.preventDefault()},c.default.prototype._onmousedown=function(y){var h=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._setMouseButton(y),this._updateNextMouseCoords(y),this.touchstart||(typeof h.mousePressed=="function"?h.mousePressed(y)===!1&&y.preventDefault():typeof h.touchStarted=="function"&&h.touchStarted(y)===!1&&y.preventDefault(),this.touchstart=!1)},c.default.prototype._onmouseup=function(y){var h=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!1),this.touchend||(typeof h.mouseReleased=="function"?h.mouseReleased(y)===!1&&y.preventDefault():typeof h.touchEnded=="function"&&h.touchEnded(y)===!1&&y.preventDefault(),this.touchend=!1)},c.default.prototype._ondragend=c.default.prototype._onmouseup,c.default.prototype._ondragover=c.default.prototype._onmousemove,c.default.prototype._onclick=function(y){var h=this._isGlobal?window:this;typeof h.mouseClicked=="function"&&h.mouseClicked(y)===!1&&y.preventDefault()},c.default.prototype._ondblclick=function(y){var h=this._isGlobal?window:this;typeof h.doubleClicked=="function"&&h.doubleClicked(y)===!1&&y.preventDefault()},c.default.prototype._mouseWheelDeltaY=0,c.default.prototype._pmouseWheelDeltaY=0,c.default.prototype._onwheel=function(y){var h=this._isGlobal?window:this;this._setProperty("_mouseWheelDeltaY",y.deltaY),typeof h.mouseWheel=="function"&&(y.delta=y.deltaY,h.mouseWheel(y)===!1&&y.preventDefault())},c.default.prototype.requestPointerLock=function(){var y=this._curElement.elt;return y.requestPointerLock=y.requestPointerLock||y.mozRequestPointerLock,y.requestPointerLock?(y.requestPointerLock(),!0):(console.log("requestPointerLock is not implemented in this browser"),!1)},c.default.prototype.exitPointerLock=function(){document.exitPointerLock()},t=c.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],303:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.touches=[],t.default.prototype._updateTouchCoords=function(o){if(this._curElement!==null){for(var u=[],c=0;c<o.touches.length;c++)u[c]=function(_,v,x,h){var p=4<arguments.length&&arguments[4]!==void 0?arguments[4]:0,m=_.getBoundingClientRect(),v=_.scrollWidth/v||1,_=_.scrollHeight/x||1,x=h.touches[p]||h.changedTouches[p];return{x:(x.clientX-m.left)/v,y:(x.clientY-m.top)/_,winX:x.clientX,winY:x.clientY,id:x.identifier}}(this._curElement.elt,this.width,this.height,o,c);this._setProperty("touches",u)}},t.default.prototype._ontouchstart=function(o){var u=this._isGlobal?window:this;this._setProperty("mouseIsPressed",!0),this._updateTouchCoords(o),this._updateNextMouseCoords(o),this._updateMouseCoords(),typeof u.touchStarted=="function"&&(u.touchStarted(o)===!1&&o.preventDefault(),this.touchstart=!0)},t.default.prototype._ontouchmove=function(o){var u=this._isGlobal?window:this;this._updateTouchCoords(o),this._updateNextMouseCoords(o),typeof u.touchMoved=="function"?u.touchMoved(o)===!1&&o.preventDefault():typeof u.mouseDragged=="function"&&u.mouseDragged(o)===!1&&o.preventDefault()},t.default.prototype._ontouchend=function(o){this._setProperty("mouseIsPressed",!1),this._updateTouchCoords(o),this._updateNextMouseCoords(o);var u=this._isGlobal?window:this;typeof u.touchEnded=="function"&&(u.touchEnded(o)===!1&&o.preventDefault(),this.touchend=!0)},t=t.default,s.default=t},{"../core/main":283}],304:[function(t,l,s){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.int32-array"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o,u,c,d,g={_toPixels:function(y){var h,p;return y instanceof ImageData?y.data:y.getContext("2d")?y.getContext("2d").getImageData(0,0,y.width,y.height).data:y.getContext("webgl")?(p=(h=y.getContext("webgl")).drawingBufferWidth*h.drawingBufferHeight*4,p=new Uint8Array(p),h.readPixels(0,0,y.width,y.height,h.RGBA,h.UNSIGNED_BYTE,p),p):void 0},_getARGB:function(y,h){return h*=4,y[3+h]<<24&4278190080|y[h]<<16&16711680|y[1+h]<<8&65280|255&y[2+h]},_setPixels:function(y,h){for(var p,m=0,v=y.length;m<v;m++)y[0+(p=4*m)]=(16711680&h[m])>>>16,y[1+p]=(65280&h[m])>>>8,y[2+p]=255&h[m],y[3+p]=(4278190080&h[m])>>>24},_toImageData:function(y){return y instanceof ImageData?y:y.getContext("2d").getImageData(0,0,y.width,y.height)},_createImageData:function(y,h){return g._tmpCanvas=document.createElement("canvas"),g._tmpCtx=g._tmpCanvas.getContext("2d"),this._tmpCtx.createImageData(y,h)},apply:function(y,_,p){var m=y.getContext("2d"),v=m.getImageData(0,0,y.width,y.height),_=_(v,p);_ instanceof ImageData?m.putImageData(_,0,0,0,0,y.width,y.height):m.putImageData(v,0,0,0,0,y.width,y.height)},threshold:function(y){for(var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:.5,p=g._toPixels(y),m=Math.floor(255*h),v=0;v<p.length;v+=4){var _=void 0,_=m<=.2126*p[v]+.7152*p[v+1]+.0722*p[v+2]?255:0;p[v]=p[v+1]=p[v+2]=_}},gray:function(y){for(var h=g._toPixels(y),p=0;p<h.length;p+=4){var m=h[p],v=h[p+1],_=h[p+2];h[p]=h[p+1]=h[p+2]=.2126*m+.7152*v+.0722*_}},opaque:function(y){for(var h=g._toPixels(y),p=0;p<h.length;p+=4)h[p+3]=255;return h},invert:function(y){for(var h=g._toPixels(y),p=0;p<h.length;p+=4)h[p]=255-h[p],h[p+1]=255-h[p+1],h[p+2]=255-h[p+2]},posterize:function(y){var h=1<arguments.length&&arguments[1]!==void 0?arguments[1]:4,p=g._toPixels(y);if(h<2||255<h)throw new Error("Level must be greater than 2 and less than 255 for posterize");for(var m=h-1,v=0;v<p.length;v+=4){var _=p[v],x=p[v+1],b=p[v+2];p[v]=255*(_*h>>8)/m,p[v+1]=255*(x*h>>8)/m,p[v+2]=255*(b*h>>8)/m}},dilate:function(y){for(var h,p,m,v,_,x,b,E,S,C=g._toPixels(y),D=0,M=C.length?C.length/4:0,R=new Int32Array(M);D<M;)for(p=(h=D)+y.width;D<p;)v=m=g._getARGB(C,D),(S=D-1)<h&&(S=D),p<=(E=D+1)&&(E=D),(_=D-y.width)<0&&(_=0),M<=(x=D+y.width)&&(x=D),_=g._getARGB(C,_),S=g._getARGB(C,S),x=g._getARGB(C,x),(v=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))<(b=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))&&(m=S,v=b),v<(b=77*((S=g._getARGB(C,E))>>16&255)+151*(S>>8&255)+28*(255&S))&&(m=S,v=b),v<(E=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))&&(m=_,v=E),v<(S=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))&&(m=x,v=S),R[D++]=m;g._setPixels(C,R)},erode:function(y){for(var h,p,m,v,_,x,b,E,S,C=g._toPixels(y),D=0,M=C.length?C.length/4:0,R=new Int32Array(M);D<M;)for(p=(h=D)+y.width;D<p;)v=m=g._getARGB(C,D),(S=D-1)<h&&(S=D),p<=(E=D+1)&&(E=D),(_=D-y.width)<0&&(_=0),M<=(x=D+y.width)&&(x=D),_=g._getARGB(C,_),S=g._getARGB(C,S),x=g._getARGB(C,x),(b=77*(S>>16&255)+151*(S>>8&255)+28*(255&S))<(v=77*(v>>16&255)+151*(v>>8&255)+28*(255&v))&&(m=S,v=b),(b=77*((S=g._getARGB(C,E))>>16&255)+151*(S>>8&255)+28*(255&S))<v&&(m=S,v=b),(E=77*(_>>16&255)+151*(_>>8&255)+28*(255&_))<v&&(m=_,v=E),(S=77*(x>>16&255)+151*(x>>8&255)+28*(255&x))<v&&(m=x,v=S),R[D++]=m;g._setPixels(C,R)},blur:function(y,h){for(var p,m,v,_,x,b,E,S,C,D,M=g._toPixels(y),R=y.width,L=y.height,F=R*L,I=new Int32Array(F),G=0;G<F;G++)I[G]=g._getARGB(M,G);var P,X,V,H,J,Z,K,Y,te=new Int32Array(F),ue=new Int32Array(F),O=new Int32Array(F),U=new Int32Array(F),q=0,Q=3.5*h|0;if(o!==(Q=Q<1?1:Q<248?Q:248)){u=1+(o=Q)<<1,c=new Int32Array(u),d=new Array(u);for(var ae=0;ae<u;ae++)d[ae]=new Int32Array(256);for(var ie=1,he=Q-1;ie<Q;ie++){c[Q+ie]=c[he]=Z=he*he,K=d[Q+ie],Y=d[he--];for(var ge=0;ge<256;ge++)K[ge]=Y[ge]=Z*ge}J=c[Q]=Q*Q,K=d[Q];for(var fe=0;fe<256;fe++)K[fe]=J*fe}for(X=0;X<L;X++){for(P=0;P<R;P++){if(_=v=m=x=p=0,(b=P-o)<0)D=-b,b=0;else{if(R<=b)break;D=0}for(V=D;V<u&&!(R<=b);V++){var ve=I[b+q];H=d[V],x+=H[(-16777216&ve)>>>24],m+=H[(16711680&ve)>>16],v+=H[(65280&ve)>>8],_+=H[255&ve],p+=c[V],b++}te[E=q+P]=x/p,ue[E]=m/p,O[E]=v/p,U[E]=_/p}q+=R}for(C=(S=-o)*R,X=q=0;X<L;X++){for(P=0;P<R;P++){if(_=v=m=x=p=0,S<0)D=E=-S,b=P;else{if(L<=S)break;D=0,E=S,b=P+C}for(V=D;V<u&&!(L<=E);V++)H=d[V],x+=H[te[b]],m+=H[ue[b]],v+=H[O[b]],_+=H[U[b]],p+=c[V],E++,b+=R;I[P+q]=x/p<<24|m/p<<16|v/p<<8|_/p}q+=R,C+=R,S++}g._setPixels(M,I)}};s.default=g},{"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int32-array":225,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242}],305:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=c(t("../core/main")),u=c(t("omggif"));function c(g){return g&&g.__esModule?g:{default:g}}function d(g){return function(y){if(Array.isArray(y)){for(var h=0,p=new Array(y.length);h<y.length;h++)p[h]=y[h];return p}}(g)||function(y){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]")return Array.from(y)}(g)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.createImage=function(g,y){return o.default._validateParameters("createImage",arguments),new o.default.Image(g,y)},o.default.prototype.saveCanvas=function(){for(var g,y,h,p,m,v,_=arguments.length,x=new Array(_),b=0;b<_;b++)x[b]=arguments[b];switch(o.default._validateParameters("saveCanvas",x),x[0]instanceof HTMLCanvasElement?(g=x[0],x.shift()):x[0]instanceof o.default.Element?(g=x[0].elt,x.shift()):x[0]instanceof o.default.Framebuffer?(p=x[0],(m=this.createGraphics(p.width,p.height)).pixelDensity(pixelDensity()),p.loadPixels(),m.loadPixels(),m.pixels.set(p.pixels),m.updatePixels(),g=m.elt,x.shift()):g=this._curElement&&this._curElement.elt,1<=x.length&&(y=x[0]),h=(h=2<=x.length?x[1]:h)||o.default.prototype._checkFileExtension(y,h)[1]||"png"){default:v="image/png";break;case"webp":v="image/webp";break;case"jpeg":case"jpg":v="image/jpeg"}g.toBlob(function(E){o.default.prototype.downloadFile(E,y,h),m&&m.remove()},v)},o.default.prototype.encodeAndDownloadGif=function(g,y){for(var h=g.gifProperties,p=h.loopLimit,m=(p===1?p=null:p===null&&(p=0),new Uint8Array(g.width*g.height*h.numFrames)),v=[],_={},x=0;x<h.numFrames;x++){for(var b=new Set,E=h.frames[x].image.data,S=E.length,C=new Uint32Array(g.width*g.height),D=0,M=0;D<S;D+=4,M++){var R=E[D+0]<<16|E[D+1]<<8|E[D+2]<<0;b.add(R),C[M]=R}var L=d(b).sort().toString();_[L]===void 0?_[L]={freq:1,frames:[x]}:(_[L].freq+=1,_[L].frames.push(x)),v.push(C)}for(var G=[],F=Object.keys(_).sort(function(O,U){return _[U].freq-_[O].freq}),I=F[0].split(",").map(function(O){return parseInt(O)}),G=G.concat(_[I].frames),P=new Set(I),X=1;X<F.length;X++){var V=F[X].split(",").map(function(O){return parseInt(O)}).filter(function(O){return!P.has(O)});if(I.length+V.length<=256){for(var H=0;H<V.length;H++)I.push(V[H]),P.add(V[H]);G=G.concat(_[F[X]].frames)}}G=new Set(G);for(var J={},Z=0;Z<I.length;Z++)J[I[Z]]||(J[I[Z]]=Z);for(var K=1;K<I.length;)K<<=1;I.length=K;for(var p={loop:p,palette:new Uint32Array(I)},Y=new u.default.GifWriter(m,g.width,g.height,p),te={},ue=0;ue<h.numFrames;ue++)(function(U){var q=!G.has(U),Q=q?[]:I,ae=new Uint8Array(g.width*g.height),ie={},he=new Set,ge=(v[U].forEach(function(be,Ae){q?(ie[be]===void 0&&(ie[be]=Q.length,Q.push(be)),ae[Ae]=ie[be]):ae[Ae]=J[be],0<U&&v[U-1][Ae]!==be&&he.add(be)}),{}),fe=Q.filter(function(be){return!he.has(be)});if(0<fe.length){var fe=fe[0],ve=(q?ie:J)[fe];if(0<U){for(var xe=0;xe<v[U].length;xe++)v[U-1][xe]===v[U][xe]&&(ae[xe]=ve);ge.transparent=ve,te.frameOpts.disposal=1}}if(ge.delay=h.frames[U].delay/10,q){for(var se=1;se<Q.length;)se<<=1;Q.length=se,ge.palette=new Uint32Array(Q)}0<U&&Y.addFrame(0,0,g.width,g.height,te.pixelPaletteIndex,te.frameOpts),te={pixelPaletteIndex:ae,frameOpts:ge}})(ue);te.frameOpts.disposal=1,Y.addFrame(0,0,g.width,g.height,te.pixelPaletteIndex,te.frameOpts),p=new Blob([m.slice(0,Y.end())],{type:"image/gif"}),o.default.prototype.downloadFile(p,y,"gif")},o.default.prototype.saveFrames=function(g,y,h,v,m){o.default._validateParameters("saveFrames",arguments),h=o.default.prototype.constrain(h=h||3,0,15),h*=1e3;var v=o.default.prototype.constrain(v||15,0,22),_=0,x=o.default.prototype._makeFrame,b=this._curElement.elt,E=[],S=setInterval(function(){E.push(x(g+_,y,b)),_++},1e3/v);setTimeout(function(){if(clearInterval(S),m)m(E);else for(var C=0,D=E;C<D.length;C++){var M=D[C];o.default.prototype.downloadFile(M.imageData,M.filename,M.ext)}E=[]},.01+h)},o.default.prototype._makeFrame=function(g,y,m){var p,m=this?this._curElement.elt:m;if(y)switch(y.toLowerCase()){case"png":p="image/png";break;case"jpeg":case"jpg":p="image/jpeg";break;default:p="image/png"}else y="png",p="image/png";var m=(m=m.toDataURL(p)).replace(p,"image/octet-stream"),v={};return v.imageData=m,v.filename=g,v.ext=y,v},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246,omggif:256}],306:[function(t,l,s){function o(b){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(E){return typeof E}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":typeof E})(b)}function u(b){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(E){return o(E)}:function(E){return E&&typeof Symbol=="function"&&E.constructor===Symbol&&E!==Symbol.prototype?"symbol":o(E)})(b)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.copy-within"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.uint8-clamped-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var c=m(t("../core/main")),d=m(t("../core/helpers")),g=function(b){if(b&&b.__esModule)return b;if(b===null||u(b)!=="object"&&typeof b!="function")return{default:b};var E=p();if(E&&E.has(b))return E.get(b);var S,C={},D=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(S in b){var M;Object.prototype.hasOwnProperty.call(b,S)&&((M=D?Object.getOwnPropertyDescriptor(b,S):null)&&(M.get||M.set)?Object.defineProperty(C,S,M):C[S]=b[S])}return C.default=b,E&&E.set(b,C),C}(t("../core/constants")),y=m(t("omggif")),h=t("gifenc");function p(){var b;return typeof WeakMap!="function"?null:(b=new WeakMap,p=function(){return b},b)}function m(b){return b&&b.__esModule?b:{default:b}}function v(b,E,S,C,D,M,R){try{var L=b[M](R),F=L.value}catch(I){return void S(I)}L.done?E(F):Promise.resolve(F).then(C,D)}function _(b,E,S,C,D,M,R,L,F,I,G){var P,X,V,H,J,Z,K,Y,te;return b===g.COVER&&(P=E,V=S,K=M,Y=R,Z=L,te=F,X=I,H=G,J=Math.max(K/X,Y/H),K/=J,Y/=J,J=Z,Z=te,P===g.CENTER?J+=(X-K)/2:P===g.RIGHT&&(J+=X-K),V===g.CENTER?Z+=(H-Y)/2:V===g.BOTTOM&&(Z+=H-Y),L=(te={x:J,y:Z,w:K,h:Y}).x,F=te.y,I=te.w,G=te.h),b===g.CONTAIN&&(P=E,X=S,V=C,H=D,J=M,Z=R,K=I,Y=G,te=Math.max(K/J,Y/Z),K/=te,Y/=te,te=V,V=H,P===g.CENTER?te+=(J-K)/2:P===g.RIGHT&&(te+=J-K),X===g.CENTER?V+=(Z-Y)/2:X===g.BOTTOM&&(V+=Z-Y),C=(b={x:te,y:V,w:K,h:Y}).x,D=b.y,M=b.w,R=b.h),{sx:L,sy:F,sw:I,sh:G,dx:C,dy:D,dw:M,dh:R}}function x(b,E){return 0<b&&b<E?b:E}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadImage=function(b,E,S){c.default._validateParameters("loadImage",arguments);var C=new c.default.Image(1,1,this),D=this,M=new Request(b,{method:"GET",mode:"cors"});return fetch(b,M).then(function(R){var L,F=R.headers.get("content-type");F===null&&console.warn("The image you loaded does not have a Content-Type header. If you are using the online editor consider reuploading the asset."),F&&F.includes("image/gif")?R.arrayBuffer().then(function(I){if(I){for(var I=new Uint8Array(I),G=C,P=E,X=S,V=(function(q){D._decrementPreload()}).bind(D),H=new y.default.GifReader(I),J=(G.width=G.canvas.width=H.width,G.height=G.canvas.height=H.height,[]),Z=H.numFrames(),K=new Uint8ClampedArray(G.width*G.height*4),Y=0;Y<Z;Y++){var te=H.frameInfo(Y),ue=G.drawingContext.getImageData(0,0,G.width,G.height),O=(K=ue.data.slice(),function(q,Q){try{Q.decodeAndBlitFrameRGBA(q,K)}catch(ae){c.default._friendlyFileLoadError(8,G.src),typeof X=="function"?X(ae):console.error(ae)}}(Y,H),new ImageData(K,G.width,G.height)),O=(G.drawingContext.putImageData(O,0,0),te.delay);O===0&&(O=10),J.push({image:G.drawingContext.getImageData(0,0,G.width,G.height),delay:10*O}),te.disposal===2?G.drawingContext.clearRect(te.x,te.y,te.width,te.height):te.disposal===3&&G.drawingContext.putImageData(ue,0,0,te.x,te.y,te.width,te.height)}(I=H.loopCount())===null?I=1:I===0&&(I=null),G.drawingContext.putImageData(J[0].image,0,0),1<J.length&&(G.gifProperties={displayIndex:0,loopLimit:I,loopCount:0,frames:J,numFrames:Z,playing:!0,timeDisplayed:0,lastChangeTime:0}),typeof P=="function"&&P(G),V()}},function(I){typeof S=="function"?(S(I),D._decrementPreload()):console.error(I)}):((L=new Image).onload=function(){C.width=C.canvas.width=L.width,C.height=C.canvas.height=L.height,C.drawingContext.drawImage(L,0,0),C.modified=!0,typeof E=="function"&&E(C),D._decrementPreload()},L.onerror=function(I){c.default._friendlyFileLoadError(0,L.src),typeof S=="function"?(S(I),D._decrementPreload()):console.error(I)},b.indexOf("data:image/")!==0&&(L.crossOrigin="Anonymous"),L.src=b),C.modified=!0}).catch(function(R){c.default._friendlyFileLoadError(0,b),typeof S=="function"?(S(R),D._decrementPreload()):console.error(R)}),C},c.default.prototype.saveGif=function(){b=regeneratorRuntime.mark(function S(C,D){var M,R,L,F,I,G,P,X,V,H,J,Z,K,Y,te,ue,O,U,q,Q,ae,ie,he,ge,fe,ve,xe=arguments;return regeneratorRuntime.wrap(function(se){for(;;)switch(se.prev=se.next){case 0:if(M=2<xe.length&&xe[2]!==void 0?xe[2]:{delay:0,units:"seconds",silent:!1,notificationDuration:0,notificationID:"progressBar"},typeof C!="string")throw TypeError("fileName parameter must be a string");se.next=3;break;case 3:if(typeof D!="number")throw TypeError("Duration parameter must be a number");se.next=5;break;case 5:if(R=M&&M.delay||0,L=M&&M.units||"seconds",F=M&&M.silent||!1,I=M&&M.notificationDuration||0,G=M&&M.notificationID||"progressBar",typeof R!="number")throw TypeError("Delay parameter must be a number");se.next=12;break;case 12:if(L!=="seconds"&&L!=="frames")throw TypeError('Units parameter must be either "frames" or "seconds"');se.next=14;break;case 14:if(typeof F!="boolean")throw TypeError("Silent parameter must be a boolean");se.next=16;break;case 16:if(typeof I!="number")throw TypeError("Notification duration parameter must be a number");se.next=18;break;case 18:if(typeof G!="string")throw TypeError("Notification ID parameter must be a string");se.next=20;break;case 20:return this._recording=!0,H=this._targetFrameRate,P=(P=1/(H=H!==1/0&&H!==void 0&&H!==0?H:60)*1e3)<20?20:P,V=(X=L==="seconds"?D*H:D)+(H=L==="seconds"?R*H:R),H=H,this.frameCount=H,J=this._pixelDensity,this.pixelDensity(1),Z=[],document.getElementById(G)!==null&&document.getElementById(G).remove(),F||((K=this.createP("")).id(G),K.style("font-size","16px"),K.style("font-family","Montserrat"),K.style("background-color","#ffffffa0"),K.style("padding","8px"),K.style("border-radius","10px"),K.position(0,0)),this._renderer instanceof c.default.RendererGL&&(te=this.drawingContext,Y=new Uint8Array(te.drawingBufferWidth*te.drawingBufferHeight*4)),this.noLoop(),se.next=39,Promise.resolve();case 39:if(H<V)return this.redraw(),ge=void 0,ge=this._renderer instanceof c.default.RendererGL?(Y=new Uint8Array(te.drawingBufferWidth*te.drawingBufferHeight*4),te.readPixels(0,0,te.drawingBufferWidth,te.drawingBufferHeight,te.RGBA,te.UNSIGNED_BYTE,Y),function(be,Ae,De){for(var je=parseInt(De/2),Oe=4*Ae,ke=new Uint8Array(4*Ae),tt=0;tt<je;++tt){var Fe=tt*Oe,vt=(De-tt-1)*Oe;ke.set(be.subarray(Fe,Fe+Oe)),be.copyWithin(Fe,vt,vt+Oe),be.set(ke,vt)}return be}(Y,this.width,this.height)):this.drawingContext.getImageData(0,0,this.width,this.height).data,Z.push(ge),H++,F||K.html("Saved frame <b>"+Z.length.toString()+"</b> out of "+X.toString()),se.next=48,new Promise(function(be){return setTimeout(be,0)});se.next=50;break;case 48:se.next=39;break;case 50:F||K.html("Frames processed, generating color palette..."),this.loop(),this.pixelDensity(J),ue=(0,h.GIFEncoder)(),O=function(be){for(var Ae=new Uint8Array(be.length*be[0].length),De=0;De<be.length;De++)Ae.set(be[De],De*be[0].length);var je=(0,h.quantize)(Ae,256,{format:"rgba4444",oneBitAlpha:!0});return je.length===256?je[je.length-1]=[255*Math.random(),255*Math.random(),255*Math.random(),0]:je.push([255*Math.random(),255*Math.random(),255*Math.random(),0]),je}(Z),U={},q=function(be){for(var Ae=be.length/4,De=new Uint8Array(Ae),je=0;je<Ae;je++){var Oe=be[4*je]<<24|be[4*je+1]<<16|be[4*je+2]<<8|be[4*je+3];U[Oe]===void 0&&(U[Oe]=(0,h.nearestColorIndex)(O,be.slice(4*je,4*(je+1)))),De[je]=U[Oe]}return De},Q=O.length-1,ae=[],ie=0;case 60:if(!(ie<Z.length)){se.next=71;break}if(he=q(Z[ie]),ge=he.slice(),ie===0)ue.writeFrame(he,this.width,this.height,{palette:O,delay:P,dispose:1});else{for(fe=0;fe<he.length;fe++)he[fe]===ae[fe]&&(he[fe]=Q);ue.writeFrame(he,this.width,this.height,{delay:P,transparent:!0,transparentIndex:Q,dispose:1})}return ae=ge,F||K.html("Rendered frame <b>"+ie.toString()+"</b> out of "+X.toString()),se.next=68,new Promise(function(be){return setTimeout(be,0)});case 68:ie++,se.next=60;break;case 71:ue.finish(),ve=ue.bytesView(),ve=new Blob([ve],{type:"image/gif"}),Z=[],this._recording=!1,this.loop(),F||(K.html("Done. Downloading your gif!"),0<I&&setTimeout(function(){return K.remove()},1e3*I)),c.default.prototype.downloadFile(ve,C,"gif");case 80:case"end":return se.stop()}},S,this)});var b,E=function(){var S=this,C=arguments;return new Promise(function(D,M){var R=b.apply(S,C);function L(I){v(R,D,M,L,F,"next",I)}function F(I){v(R,D,M,L,F,"throw",I)}L(void 0)})};return function(S,C){return E.apply(this,arguments)}}(),c.default.prototype.image=function(b,E,S,C,H,J,Z,K,te,I,G,P){c.default._validateParameters("image",arguments);var Y=b.width,X=b.height,V=(P=P||g.CENTER,G=G||g.CENTER,b.elt&&(Y=Y!==void 0?Y:b.elt.width,X=X!==void 0?X:b.elt.height),b.elt&&b.elt.videoWidth&&!b.canvas&&(Y=Y!==void 0?Y:b.elt.videoWidth,X=X!==void 0?X:b.elt.videoHeight),C||Y),H=H||X,J=J||0,Z=Z||0,K=x(K!==void 0?K:Y,Y),Y=x(te!==void 0?te:X,X),te=1;b.elt&&!b.canvas&&b.elt.style.width&&(te=b.elt.videoWidth&&!C?b.elt.videoWidth:b.elt.width,te/=parseInt(b.elt.style.width,10)),J*=te,Z*=te,Y*=te,K*=te,X=_(I,G,P,(X=d.default.modeAdjust(E,S,V,H,this._renderer._imageMode)).x,X.y,X.w,X.h,J,Z,K,Y),this._renderer.image(b,X.sx,X.sy,X.sw,X.sh,X.dx,X.dy,X.dw,X.dh)},c.default.prototype.tint=function(){for(var b=arguments.length,E=new Array(b),S=0;S<b;S++)E[S]=arguments[S];c.default._validateParameters("tint",E);var C=this.color.apply(this,E);this._renderer._tint=C.levels},c.default.prototype.noTint=function(){this._renderer._tint=null},c.default.prototype._getTintedImageCanvas=c.default.Renderer2D.prototype._getTintedImageCanvas,c.default.prototype.imageMode=function(b){c.default._validateParameters("imageMode",arguments),b!==g.CORNER&&b!==g.CORNERS&&b!==g.CENTER||(this._renderer._imageMode=b)},t=c.default,s.default=t},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/helpers":279,"../core/main":283,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,gifenc:253,omggif:256,"regenerator-runtime/runtime":260}],307:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=c(t("../core/main")),u=c(t("./filters"));function c(g){return g&&g.__esModule?g:{default:g}}function d(g,y){for(var h=0;h<y.length;h++){var p=y[h];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(g,p.key,p)}}o.default.Image=function(){function g(p,m){if(!(this instanceof g))throw new TypeError("Cannot call a class as a function");this.width=p,this.height=m,this.canvas=document.createElement("canvas"),this.canvas.width=this.width,this.canvas.height=this.height,this.drawingContext=this.canvas.getContext("2d"),(this._pixelsState=this)._pixelDensity=1,this.gifProperties=null,this._modified=!1,this.pixels=[]}var y,h;return y=g,(h=[{key:"pixelDensity",value:function(p){return p!==void 0?(p<=0&&(o.default._friendlyParamError({type:"INVALID_VALUE",format:{types:["Number"]},position:1},"pixelDensity"),p=1),this._pixelDensity=p,this.width/=p,this.height/=p,this):this._pixelDensity}},{key:"_animateGif",value:function(_){var m,v=this.gifProperties,_=_._lastRealFrameTime||window.performance.now();v.lastChangeTime===0&&(v.lastChangeTime=_),v.playing&&(v.timeDisplayed=_-v.lastChangeTime,m=v.frames[v.displayIndex].delay,v.timeDisplayed>=m&&(m=Math.floor(v.timeDisplayed/m),v.timeDisplayed=0,v.lastChangeTime=_,v.displayIndex+=m,v.loopCount=Math.floor(v.displayIndex/v.numFrames),v.loopLimit!==null&&v.loopCount>=v.loopLimit?v.playing=!1:(_=v.displayIndex%v.numFrames,this.drawingContext.putImageData(v.frames[_].image,0,0),v.displayIndex=_,this.setModified(!0))))}},{key:"_setProperty",value:function(p,m){this[p]=m,this.setModified(!0)}},{key:"loadPixels",value:function(){o.default.Renderer2D.prototype.loadPixels.call(this),this.setModified(!0)}},{key:"updatePixels",value:function(p,m,v,_){o.default.Renderer2D.prototype.updatePixels.call(this,p,m,v,_),this.setModified(!0)}},{key:"get",value:function(p,m,v,_){return o.default._validateParameters("p5.Image.get",arguments),o.default.Renderer2D.prototype.get.apply(this,arguments)}},{key:"_getPixel",value:function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];return o.default.Renderer2D.prototype._getPixel.apply(this,m)}},{key:"set",value:function(p,m,v){o.default.Renderer2D.prototype.set.call(this,p,m,v),this.setModified(!0)}},{key:"resize",value:function(p,m){p===0&&m===0?(p=this.canvas.width,m=this.canvas.height):p===0?p=this.canvas.width*m/this.canvas.height:m===0&&(m=this.canvas.height*p/this.canvas.width),p=Math.floor(p),m=Math.floor(m);var v=document.createElement("canvas");if(v.width=p,v.height=m,this.gifProperties)for(var _=this.gifProperties,x=0;x<_.numFrames;x++){for(var b=this.drawingContext.createImageData(p,m),E=(R=R=M=D=C=void 0,_.frames[x].image),S=b,C=0,D=0;D<S.height;D++)for(var M=0;M<S.width;M++){var R=Math.floor(M*E.width/S.width),R=4*(Math.floor(D*E.height/S.height)*E.width+R);S.data[C++]=E.data[R++],S.data[C++]=E.data[R++],S.data[C++]=E.data[R++],S.data[C++]=E.data[+R]}_.frames[x].image=b}v.getContext("2d").drawImage(this.canvas,0,0,this.canvas.width,this.canvas.height,0,0,v.width,v.height),this.canvas.width=this.width=p,this.canvas.height=this.height=m,this.drawingContext.drawImage(v,0,0,p,m,0,0,p,m),0<this.pixels.length&&this.loadPixels(),this.setModified(!0)}},{key:"copy",value:function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];o.default.prototype.copy.apply(this,m)}},{key:"mask",value:function(p){var m=this.drawingContext.globalCompositeOperation,v=this._pixelDensity,_=1,x=[p=p===void 0?this:p,0,0,(_=p instanceof o.default.Renderer?p._pInst._pixelDensity:_)*p.width,_*p.height,0,0,v*this.width,v*this.height];if(this.drawingContext.globalCompositeOperation="destination-in",this.gifProperties){for(var b=0;b<this.gifProperties.frames.length;b++)this.drawingContext.putImageData(this.gifProperties.frames[b].image,0,0),this.copy.apply(this,x),this.gifProperties.frames[b].image=this.drawingContext.getImageData(0,0,v*this.width,v*this.height);this.drawingContext.putImageData(this.gifProperties.frames[this.gifProperties.displayIndex].image,0,0)}else this.copy.apply(this,x);this.drawingContext.globalCompositeOperation=m,this.setModified(!0)}},{key:"filter",value:function(p,m){u.default.apply(this.canvas,u.default[p],m),this.setModified(!0)}},{key:"blend",value:function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];o.default._validateParameters("p5.Image.blend",arguments),o.default.prototype.blend.apply(this,m),this.setModified(!0)}},{key:"setModified",value:function(p){this._modified=p}},{key:"isModified",value:function(){return this._modified}},{key:"save",value:function(p,m){this.gifProperties?o.default.prototype.encodeAndDownloadGif(this,p):o.default.prototype.saveCanvas(this.canvas,p,m)}},{key:"reset",value:function(){var p;this.gifProperties&&((p=this.gifProperties).playing=!0,p.timeSinceStart=0,p.timeDisplayed=0,p.lastChangeTime=0,p.loopCount=0,p.displayIndex=0,this.drawingContext.putImageData(p.frames[0].image,0,0))}},{key:"getCurrentFrame",value:function(){var p;if(this.gifProperties)return(p=this.gifProperties).displayIndex%p.numFrames}},{key:"setFrame",value:function(p){var m;this.gifProperties&&(p<(m=this.gifProperties).numFrames&&0<=p?(m.timeDisplayed=0,m.lastChangeTime=0,m.displayIndex=p,this.drawingContext.putImageData(m.frames[p].image,0,0)):console.log("Cannot set GIF to a frame number that is higher than total number of frames or below zero."))}},{key:"numFrames",value:function(){if(this.gifProperties)return this.gifProperties.numFrames}},{key:"play",value:function(){this.gifProperties&&(this.gifProperties.playing=!0)}},{key:"pause",value:function(){this.gifProperties&&(this.gifProperties.playing=!1)}},{key:"delay",value:function(p,m){if(this.gifProperties){var v=this.gifProperties;if(m<v.numFrames&&0<=m)v.frames[m].delay=p;else{var _=!0,m=!1,x=void 0;try{for(var b,E=v.frames[Symbol.iterator]();!(_=(b=E.next()).done);_=!0)b.value.delay=p}catch(C){m=!0,x=C}finally{try{_||E.return==null||E.return()}finally{if(m)throw x}}}}}}])&&d(y.prototype,h),g}(),t=o.default.Image,s.default=t},{"../core/main":283,"./filters":304,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],308:[function(t,l,s){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=c(t("../core/main")),u=c(t("./filters"));function c(d){return d&&d.__esModule?d:{default:d}}t("../color/p5.Color"),o.default.prototype.pixels=[],o.default.prototype.blend=function(){for(var d,g=arguments.length,y=new Array(g),h=0;h<g;h++)y[h]=arguments[h];o.default._validateParameters("blend",y),this._renderer?(d=this._renderer).blend.apply(d,y):o.default.Renderer2D.prototype.blend.apply(this,y)},o.default.prototype.copy=function(){for(var d,g,y,h,p,m,v,_,x,b=arguments.length,E=new Array(b),S=0;S<b;S++)E[S]=arguments[S];if(o.default._validateParameters("copy",E),E.length===9)d=E[0],g=E[1],y=E[2],h=E[3],p=E[4],m=E[5],v=E[6],_=E[7],x=E[8];else{if(E.length!==8)throw new Error("Signature not supported");d=this,g=E[0],y=E[1],h=E[2],p=E[3],m=E[4],v=E[5],_=E[6],x=E[7]}o.default.prototype._copyHelper(this,d,g,y,h,p,m,v,_,x)},o.default.prototype._copyHelper=function(d,g,y,h,p,m,v,_,x,b){var E=g.canvas.width/g.width,S=0,C=0;g._renderer&&g._renderer.isP3D&&(S=g.width/2,C=g.height/2),d._renderer&&d._renderer.isP3D?(d.push(),d.resetMatrix(),d.noLights(),d.blendMode(d.BLEND),d.imageMode(d.CORNER),o.default.RendererGL.prototype.image.call(d._renderer,g,y+S,h+C,p,m,v,_,x,b),d.pop()):d.drawingContext.drawImage(g.canvas,E*(y+S),E*(h+C),E*p,E*m,v,_,x,b)},o.default.prototype.getFilterGraphicsLayer=function(){return this._renderer.getFilterGraphicsLayer()},o.default.prototype.filter=function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];o.default._validateParameters("filter",g);var v=(function(){var _,x={shader:void 0,operation:void 0,value:void 0,useWebGL:!0};return(arguments.length<=0?void 0:arguments[0])instanceof o.default.Shader?x.shader=arguments.length<=0?void 0:arguments[0]:(x.operation=arguments.length<=0?void 0:arguments[0],1<arguments.length&&typeof(arguments.length<=1?void 0:arguments[1])=="number"&&(x.value=arguments.length<=1?void 0:arguments[1]),((_=arguments.length-1)<0||arguments.length<=_?void 0:arguments[_])===!1&&(x.useWebGL=!1)),x}).apply(void 0,g),h=v.shader,p=v.operation,m=v.value,v=v.useWebGL;this._renderer.isP3D&&h?o.default.RendererGL.prototype.filter.call(this._renderer,h):v||this._renderer.isP3D?(!v&&this._renderer.isP3D&&console.warn("filter() with useWebGL=false is not supported in WEBGL"),this._renderer.isP3D?o.default.RendererGL.prototype.filter.call(this._renderer,p,m):((h=this.getFilterGraphicsLayer()).copy(this._renderer,0,0,this.width,this.height,-this.width/2,-this.height/2,this.width,this.height),this._renderer.clear(),this._renderer.resetMatrix(),h.filter.apply(h,g),this.copy(h._renderer,0,0,this.width,this.height,0,0,this.width,this.height),h.clear())):this.canvas!==void 0?u.default.apply(this.canvas,u.default[p],m):u.default.apply(this.elt,u.default[p],m)},o.default.prototype.get=function(d,g,y,h){var p;return o.default._validateParameters("get",arguments),(p=this._renderer).get.apply(p,arguments)},o.default.prototype.loadPixels=function(){for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];o.default._validateParameters("loadPixels",g),this._renderer.loadPixels()},o.default.prototype.set=function(d,g,y){this._renderer.set(d,g,y)},o.default.prototype.updatePixels=function(d,g,y,h){o.default._validateParameters("updatePixels",arguments),this.pixels.length!==0&&this._renderer.updatePixels(d,g,y,h)},t=o.default,s.default=t},{"../color/p5.Color":270,"../core/main":283,"./filters":304,"core-js/modules/es.array.filter":157}],309:[function(t,l,s){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/web.url"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=g(t("../core/main")),c=(t("whatwg-fetch"),t("es6-promise/auto"),g(t("fetch-jsonp"))),d=g(t("file-saver"));function g(m){return m&&m.__esModule?m:{default:m}}function y(m){return(y=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(m)}function h(m){return m.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;")}function p(m,v){v&&v!==!0&&v!=="true"||(v="");var _="";return(m=m||"untitled")&&m.includes(".")&&(_=m.split(".").pop()),v&&_!==v&&(_=v,m="".concat(m,".").concat(_)),[m,_]}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),u.default.prototype.loadJSON=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];u.default._validateParameters("loadJSON",v);for(var x,b,E,S=v[0],C={},D="json",M=1;M<v.length;M++){var R=v[M];typeof R=="string"?R!=="jsonp"&&R!=="json"||(D=R):typeof R=="function"?x?b=R:x=R:y(R)==="object"&&(R.hasOwnProperty("jsonpCallback")||R.hasOwnProperty("jsonpCallbackFunction"))&&(D="jsonp",E=R)}var L=this;return this.httpDo(S,"GET",E,D,function(F){for(var I in F)C[I]=F[I];x!==void 0&&x(F),L._decrementPreload()},function(F){if(u.default._friendlyFileLoadError(5,S),!b)throw F;b(F)}),C},u.default.prototype.loadStrings=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];u.default._validateParameters("loadStrings",v);for(var x,b,E=[],S=1;S<v.length;S++){var C=v[S];typeof C=="function"&&(x===void 0?x=C:b===void 0&&(b=C))}var D=this;return u.default.prototype.httpDo.call(this,v[0],"GET","text",function(M){for(var R=M.replace(/\r\n/g,"\r").replace(/\n/g,"\r").split(/\r/),L=0,F=R.length;L<F;L+=32768)Array.prototype.push.apply(E,R.slice(L,Math.min(L+32768,F)));x!==void 0&&x(E),D._decrementPreload()},function(M){if(u.default._friendlyFileLoadError(3,M),!b)throw M;b(M)}),E},u.default.prototype.loadTable=function(m){var v,_,x,b=!1,E=m.substring(m.lastIndexOf(".")+1,m.length);E==="csv"?x=",":E==="ssv"?x=";":E==="tsv"&&(x="	");for(var S=1;S<arguments.length;S++)typeof arguments[S]=="function"?v===void 0?v=arguments[S]:_===void 0&&(_=arguments[S]):typeof arguments[S]=="string"&&(arguments[S]==="header"&&(b=!0),arguments[S]==="csv"?x=",":arguments[S]==="ssv"?x=";":arguments[S]==="tsv"&&(x="	"));var C=new u.default.Table,D=this;return this.httpDo(m,"GET","table",function(M){for(var R,L,F={},I=0,G=[],P=0,X=null,V=function(){F.currentState=I,F.token=""},H=function(){X.push(F.token),V()},J=function(){F.currentState=4,G.push(X),X=null};;){if((R=M[P++])==null){if(F.escaped)throw new Error("Unclosed quote in file.");if(X){H(),J();break}}if(X===null&&(F.escaped=!1,X=[],V()),F.currentState===I){if(R==='"'){F.escaped=!0,F.currentState=1;continue}F.currentState=1}if(F.currentState===1&&F.escaped)if(R==='"')M[P]==='"'?(F.token+='"',P++):(F.escaped=!1,F.currentState=2);else{if(R==="\r")continue;F.token+=R}else R==="\r"?(M[P]===`
`&&P++,H(),J()):R===`
`?(H(),J()):R===x?H():F.currentState===1&&(F.token+=R)}if(b)C.columns=G.shift();else for(var Z=0;Z<G[0].length;Z++)C.columns[Z]="null";for(var K=0;K<G.length;K++)(G[K].length!==1||G[K][0]!=="undefined"&&G[K][0]!=="")&&((L=new u.default.TableRow).arr=G[K],L.obj=function(Y,te){if((te=te||[])===void 0)for(var ue=0;ue<Y.length;ue++)te[ue.toString()]=ue;return Object.fromEntries(te.map(function(O,U){return[O,Y[U]]}))}(G[K],C.columns),C.addRow(L));typeof v=="function"&&v(C),D._decrementPreload()},function(M){u.default._friendlyFileLoadError(2,m),_?_(M):console.error(M)}),C},u.default.prototype.loadXML=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];for(var x,b,E=new u.default.XML,S=1;S<v.length;S++){var C=v[S];typeof C=="function"&&(x===void 0?x=C:b===void 0&&(b=C))}var D=this;return this.httpDo(v[0],"GET","xml",function(M){for(var R in M)E[R]=M[R];x!==void 0&&x(E),D._decrementPreload()},function(M){if(u.default._friendlyFileLoadError(1,M),!b)throw M;b(M)}),E},u.default.prototype.loadBytes=function(m,v,_){var x={},b=this;return this.httpDo(m,"GET","arrayBuffer",function(E){x.bytes=new Uint8Array(E),typeof v=="function"&&v(x),b._decrementPreload()},function(E){if(u.default._friendlyFileLoadError(6,m),!_)throw E;_(E)}),x},u.default.prototype.httpGet=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];return u.default._validateParameters("httpGet",v),v.splice(1,0,"GET"),u.default.prototype.httpDo.apply(this,v)},u.default.prototype.httpPost=function(){for(var m=arguments.length,v=new Array(m),_=0;_<m;_++)v[_]=arguments[_];return u.default._validateParameters("httpPost",v),v.splice(1,0,"POST"),u.default.prototype.httpDo.apply(this,v)},u.default.prototype.httpDo=function(){for(var m,v,_,x={},b=0,E="text/plain",S=arguments.length-1;0<S&&typeof(S<0||arguments.length<=S?void 0:arguments[S])=="function";S--)b++;var C=arguments.length-b,D=arguments.length<=0?void 0:arguments[0];if(C==2&&typeof D=="string"&&y(arguments.length<=1?void 0:arguments[1])==="object")G=new Request(D,arguments.length<=1?void 0:arguments[1]),v=arguments.length<=2?void 0:arguments[2],_=arguments.length<=3?void 0:arguments[3];else{for(var M,R="GET",L=1;L<arguments.length;L++){var F=L<0||arguments.length<=L?void 0:arguments[L];if(typeof F=="string")F==="GET"||F==="POST"||F==="PUT"||F==="DELETE"?R=F:F==="json"||F==="jsonp"||F==="binary"||F==="arrayBuffer"||F==="xml"||F==="text"||F==="table"?m=F:M=F;else if(typeof F=="number")M=F.toString();else if(y(F)==="object")if(F.hasOwnProperty("jsonpCallback")||F.hasOwnProperty("jsonpCallbackFunction"))for(var I in F)x[I]=F[I];else E=F instanceof u.default.XML?(M=F.serialize(),"application/xml"):(M=JSON.stringify(F),"application/json");else typeof F=="function"&&(v?_=F:v=F)}var C=R==="GET"?new Headers:new Headers({"Content-Type":E}),G=new Request(D,{method:R,mode:"cors",body:M,headers:C})}return(C=(C=(m=m||(D.includes("json")?"json":D.includes("xml")?"xml":"text"))==="jsonp"?(0,c.default)(D,x):fetch(G)).then(function(P){if(!P.ok)throw(X=new Error(P.body)).status=P.status,X.ok=!1,X;var X=0;switch((X=m!=="jsonp"?P.headers.get("content-length"):X)&&64e6<X&&u.default._friendlyFileLoadError(7,D),m){case"json":case"jsonp":return P.json();case"binary":return P.blob();case"arrayBuffer":return P.arrayBuffer();case"xml":return P.text().then(function(V){return V=new DOMParser().parseFromString(V,"text/xml"),new u.default.XML(V.documentElement)});default:return P.text()}})).then(v||function(){}),C.catch(_||console.error),C},window.URL=window.URL||window.webkitURL,u.default.prototype._pWriters=[],u.default.prototype.createWriter=function(m,v){var _,x;for(x in u.default.prototype._pWriters)if(u.default.prototype._pWriters[x].name===m)return _=new u.default.PrintWriter(m+this.millis(),v),u.default.prototype._pWriters.push(_),_;return _=new u.default.PrintWriter(m,v),u.default.prototype._pWriters.push(_),_},u.default.PrintWriter=function(m,v){var _=this;this.name=m,this.content="",this.write=function(x){this.content+=x},this.print=function(x){this.content+="".concat(x,`
`)},this.clear=function(){this.content=""},this.close=function(){var x,b=[];for(x in b.push(this.content),u.default.prototype.writeFile(b,m,v),u.default.prototype._pWriters)u.default.prototype._pWriters[x].name===this.name&&u.default.prototype._pWriters.splice(x,1);_.clear(),_={}}},u.default.prototype.save=function(m,v,_){var x=arguments,b=(this._curElement||this).elt;if(x.length===0)u.default.prototype.saveCanvas(b);else if(x[0]instanceof u.default.Renderer||x[0]instanceof u.default.Graphics)u.default.prototype.saveCanvas(x[0].elt,x[1],x[2]);else if(x.length===1&&typeof x[0]=="string")u.default.prototype.saveCanvas(b,x[0]);else switch(p(x[1],x[2])[1]){case"json":return void u.default.prototype.saveJSON(x[0],x[1],x[2]);case"txt":return void u.default.prototype.saveStrings(x[0],x[1],x[2]);default:x[0]instanceof Array?u.default.prototype.saveStrings(x[0],x[1],x[2]):x[0]instanceof u.default.Table?u.default.prototype.saveTable(x[0],x[1],x[2]):x[0]instanceof u.default.Image?u.default.prototype.saveCanvas(x[0].canvas,x[1]):x[0]instanceof u.default.SoundFile&&u.default.prototype.saveSound(x[0],x[1],x[2],x[3])}},u.default.prototype.saveJSON=function(m,v,_){u.default._validateParameters("saveJSON",arguments),_=_?JSON.stringify(m):JSON.stringify(m,void 0,2),this.saveStrings(_.split(`
`),v,"json")},u.default.prototype.saveJSONObject=u.default.prototype.saveJSON,u.default.prototype.saveJSONArray=u.default.prototype.saveJSON,u.default.prototype.saveStrings=function(m,v,_,x){u.default._validateParameters("saveStrings",arguments);for(var b=this.createWriter(v,_||"txt"),E=0;E<m.length;E++)x?b.write(m[E]+`\r
`):b.write(m[E]+`
`);b.close(),b.clear()},u.default.prototype.saveTable=function(m,v,_){u.default._validateParameters("saveTable",arguments),x=_===void 0?v.substring(v.lastIndexOf(".")+1,v.length):_;var x,b=this.createWriter(v,x),E=m.columns,S=x==="tsv"?"	":",";if(x!=="html"){if(E[0]!=="0"){for(var C=0;C<E.length;C++)C<E.length-1?b.write(E[C]+S):b.write(E[C]);b.write(`
`)}for(var D=0;D<m.rows.length;D++){for(var M=void 0,M=0;M<m.rows[D].arr.length;M++)M<m.rows[D].arr.length-1?x==="csv"&&String(m.rows[D].arr[M]).includes(",")?b.write('"'+m.rows[D].arr[M]+'"'+S):b.write(m.rows[D].arr[M]+S):x==="csv"&&String(m.rows[D].arr[M]).includes(",")?b.write('"'+m.rows[D].arr[M]+'"'):b.write(m.rows[D].arr[M]);b.write(`
`)}}else{if(b.print("<html>"),b.print("<head>"),b.print('  <meta http-equiv="content-type" content="text/html;charset=utf-8" />'),b.print("</head>"),b.print("<body>"),b.print("  <table>"),E[0]!=="0"){b.print("    <tr>");for(var R=0;R<E.length;R++){var L=h(E[R]);b.print("      <td>".concat(L)),b.print("      </td>")}b.print("    </tr>")}for(var F=0;F<m.rows.length;F++){b.print("    <tr>");for(var I=0;I<m.columns.length;I++){var G=h(m.rows[F].getString(I));b.print("      <td>".concat(G)),b.print("      </td>")}b.print("    </tr>")}b.print("  </table>"),b.print("</body>"),b.print("</html>")}b.close(),b.clear()},u.default.prototype.writeFile=function(b,v,_){var x="application/octet-stream",b=(u.default.prototype._isSafari()&&(x="text/plain"),new Blob(b,{type:x}));u.default.prototype.downloadFile(b,v,_)},u.default.prototype.downloadFile=function(m,b,E){var x,b=p(b,E),E=b[0];m instanceof Blob?d.default.saveAs(m,E):((x=document.createElement("a")).href=m,x.download=E,x.onclick=function(S){document.body.removeChild(S.target),S.stopPropagation()},x.style.display="none",document.body.appendChild(x),u.default.prototype._isSafari()&&(m=(m=`Hello, Safari user! To download this file...
1. Go to File --> Save As.
2. Choose "Page Source" as the Format.
`)+'3. Name it with this extension: ."'.concat(b[1],'"'),alert(m)),x.click())},u.default.prototype._checkFileExtension=p,u.default.prototype._isSafari=function(){return window.HTMLElement.toString().includes("Constructor")},t=u.default,s.default=t},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/web.dom-collections.iterator":246,"core-js/modules/web.url":248,"es6-promise/auto":249,"fetch-jsonp":251,"file-saver":252,"whatwg-fetch":261}],310:[function(t,l,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.replace"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c,d){for(var g=0;g<d.length;g++){var y=d[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}o.default.Table=function(){function c(){var y=0<arguments.length&&arguments[0]!==void 0?arguments[0]:[],h=this,p=c;if(!(h instanceof p))throw new TypeError("Cannot call a class as a function");this.columns=[],this.rows=y}var d,g;return d=c,(g=[{key:"addRow",value:function(y){if(y=y||new o.default.TableRow,y.arr===void 0||y.obj===void 0)throw new Error("invalid TableRow: ".concat(y));return(y.table=this).rows.push(y),y}},{key:"removeRow",value:function(y){this.rows[y].table=null,y=this.rows.splice(y+1,this.rows.length),this.rows.pop(),this.rows=this.rows.concat(y)}},{key:"getRow",value:function(y){return this.rows[y]}},{key:"getRows",value:function(){return this.rows}},{key:"findRow",value:function(y,h){if(typeof h=="string"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].obj[h]===y)return this.rows[p]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].arr[h]===y)return this.rows[m];return null}},{key:"findRows",value:function(y,h){var p=[];if(typeof h=="string")for(var m=0;m<this.rows.length;m++)this.rows[m].obj[h]===y&&p.push(this.rows[m]);else for(var v=0;v<this.rows.length;v++)this.rows[v].arr[h]===y&&p.push(this.rows[v]);return p}},{key:"matchRow",value:function(y,h){if(typeof h=="number"){for(var p=0;p<this.rows.length;p++)if(this.rows[p].arr[h].match(y))return this.rows[p]}else for(var m=0;m<this.rows.length;m++)if(this.rows[m].obj[h].match(y))return this.rows[m];return null}},{key:"matchRows",value:function(y,h){var p=[];if(typeof h=="number")for(var m=0;m<this.rows.length;m++)this.rows[m].arr[h].match(y)&&p.push(this.rows[m]);else for(var v=0;v<this.rows.length;v++)this.rows[v].obj[h].match(y)&&p.push(this.rows[v]);return p}},{key:"getColumn",value:function(y){var h=[];if(typeof y=="string")for(var p=0;p<this.rows.length;p++)h.push(this.rows[p].obj[y]);else for(var m=0;m<this.rows.length;m++)h.push(this.rows[m].arr[y]);return h}},{key:"clearRows",value:function(){delete this.rows,this.rows=[]}},{key:"addColumn",value:function(y){this.columns.push(y||null)}},{key:"getColumnCount",value:function(){return this.columns.length}},{key:"getRowCount",value:function(){return this.rows.length}},{key:"removeTokens",value:function(y,h){for(var p=[],m=0;m<y.length;m++)p.push(y.charAt(m).replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&"));var v=new RegExp(p.join("|"),"g");if(h===void 0)for(var _=0;_<this.columns.length;_++)for(var x=0;x<this.rows.length;x++){var b=(b=this.rows[x].arr[_]).replace(v,"");this.rows[x].arr[_]=b,this.rows[x].obj[this.columns[_]]=b}else if(typeof h=="string")for(var E=0;E<this.rows.length;E++){var S=(S=this.rows[E].obj[h]).replace(v,""),C=(this.rows[E].obj[h]=S,this.columns.indexOf(h));this.rows[E].arr[C]=S}else for(var D=0;D<this.rows.length;D++){var M=(M=this.rows[D].arr[h]).replace(v,"");this.rows[D].arr[h]=M,this.rows[D].obj[this.columns[h]]=M}}},{key:"trim",value:function(y){var h=new RegExp(" ","g");if(y===void 0)for(var p=0;p<this.columns.length;p++)for(var m=0;m<this.rows.length;m++){var v=(v=this.rows[m].arr[p]).replace(h,"");this.rows[m].arr[p]=v,this.rows[m].obj[this.columns[p]]=v}else if(typeof y=="string")for(var _=0;_<this.rows.length;_++){var x=(x=this.rows[_].obj[y]).replace(h,""),b=(this.rows[_].obj[y]=x,this.columns.indexOf(y));this.rows[_].arr[b]=x}else for(var E=0;E<this.rows.length;E++){var S=(S=this.rows[E].arr[y]).replace(h,"");this.rows[E].arr[y]=S,this.rows[E].obj[this.columns[y]]=S}}},{key:"removeColumn",value:function(m){typeof m=="string"?p=this.columns.indexOf(h=m):h=this.columns[p=m];var h,p,m=this.columns.splice(p+1,this.columns.length);this.columns.pop(),this.columns=this.columns.concat(m);for(var v=0;v<this.rows.length;v++){var _=this.rows[v].arr,x=_.splice(p+1,_.length);_.pop(),this.rows[v].arr=_.concat(x),delete this.rows[v].obj[h]}}},{key:"set",value:function(y,h,p){this.rows[y].set(h,p)}},{key:"setNum",value:function(y,h,p){this.rows[y].setNum(h,p)}},{key:"setString",value:function(y,h,p){this.rows[y].setString(h,p)}},{key:"get",value:function(y,h){return this.rows[y].get(h)}},{key:"getNum",value:function(y,h){return this.rows[y].getNum(h)}},{key:"getString",value:function(y,h){return this.rows[y].getString(h)}},{key:"getObject",value:function(y){for(var h,p={},m=0;m<this.rows.length;m++)if(h=this.rows[m].obj,typeof y=="string"){if(!(0<=this.columns.indexOf(y)))throw new Error('This table has no column named "'.concat(y,'"'));p[h[y]]=h}else p[m]=this.rows[m].obj;return p}},{key:"getArray",value:function(){for(var y=[],h=0;h<this.rows.length;h++)y.push(this.rows[h].arr);return y}}])&&u(d.prototype,g),c}(),t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.join":166,"core-js/modules/es.array.splice":171,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.match":201,"core-js/modules/es.string.replace":204}],311:[function(t,l,s){t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.from-entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}t.default.TableRow=function(){function u(g,y){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");var h=[];g&&(h=g.split(y=y||",")),this.arr=h,this.obj=Object.fromEntries(h.entries()),this.table=null}var c,d;return c=u,(d=[{key:"set",value:function(g,y){if(typeof g=="string"){var h=this.table.columns.indexOf(g);if(!(0<=h))throw new Error('This table has no column named "'.concat(g,'"'));this.obj[g]=y,this.arr[h]=y}else{if(!(g<this.table.columns.length))throw new Error("Column #".concat(g," is out of the range of this table"));this.arr[g]=y,h=this.table.columns[g],this.obj[h]=y}}},{key:"setNum",value:function(g,y){y=parseFloat(y),this.set(g,y)}},{key:"setString",value:function(g,y){y=y.toString(),this.set(g,y)}},{key:"get",value:function(g){return(typeof g=="string"?this.obj:this.arr)[g]}},{key:"getNum",value:function(g){var y=parseFloat(typeof g=="string"?this.obj[g]:this.arr[g]);if(y.toString()==="NaN")throw"Error: ".concat(this.obj[g]," is NaN (Not a Number)");return y}},{key:"getString",value:function(g){return(typeof g=="string"?this.obj:this.arr)[g].toString()}}])&&o(c.prototype,d),u}(),t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.from-entries":185,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.split":206,"core-js/modules/web.dom-collections.iterator":246}],312:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d,g){for(var y=0;y<g.length;y++){var h=g[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}function c(d){for(var g=[],y=0;y<d.length;y++)g.push(new o.default.XML(d[y]));return g}o.default.XML=function(){function d(h){if(!(this instanceof d))throw new TypeError("Cannot call a class as a function");h?this.DOM=h:(h=document.implementation.createDocument(null,"doc"),this.DOM=h.createElement("root"))}var g,y;return g=d,(y=[{key:"getParent",value:function(){return new o.default.XML(this.DOM.parentElement)}},{key:"getName",value:function(){return this.DOM.tagName}},{key:"setName",value:function(h){var p=this.DOM.innerHTML,m=this.DOM.attributes,v=document.implementation.createDocument(null,"default").createElement(h);v.innerHTML=p;for(var _=0;_<m.length;_++)v.setAttribute(m[_].nodeName,m[_].nodeValue);this.DOM=v}},{key:"hasChildren",value:function(){return 0<this.DOM.children.length}},{key:"listChildren",value:function(){for(var h=[],p=0;p<this.DOM.childNodes.length;p++)h.push(this.DOM.childNodes[p].nodeName);return h}},{key:"getChildren",value:function(h){return c(h?this.DOM.getElementsByTagName(h):this.DOM.children)}},{key:"getChild",value:function(h){if(typeof h!="string")return new o.default.XML(this.DOM.children[h]);var p=!0,m=!1,v=void 0;try{for(var _,x=this.DOM.children[Symbol.iterator]();!(p=(_=x.next()).done);p=!0){var b=_.value;if(b.tagName===h)return new o.default.XML(b)}}catch(E){m=!0,v=E}finally{try{p||x.return==null||x.return()}finally{if(m)throw v}}}},{key:"addChild",value:function(h){h instanceof o.default.XML&&this.DOM.appendChild(h.DOM)}},{key:"removeChild",value:function(h){var p=-1;if(typeof h=="string"){for(var m=0;m<this.DOM.children.length;m++)if(this.DOM.children[m].tagName===h){p=m;break}}else p=h;p!==-1&&this.DOM.removeChild(this.DOM.children[p])}},{key:"getAttributeCount",value:function(){return this.DOM.attributes.length}},{key:"listAttributes",value:function(){var h=[],p=!0,m=!1,v=void 0;try{for(var _,x=this.DOM.attributes[Symbol.iterator]();!(p=(_=x.next()).done);p=!0){var b=_.value;h.push(b.nodeName)}}catch(E){m=!0,v=E}finally{try{p||x.return==null||x.return()}finally{if(m)throw v}}return h}},{key:"hasAttribute",value:function(h){var p={},m=!0,v=!1,_=void 0;try{for(var x,b=this.DOM.attributes[Symbol.iterator]();!(m=(x=b.next()).done);m=!0){var E=x.value;p[E.nodeName]=E.nodeValue}}catch(S){v=!0,_=S}finally{try{m||b.return==null||b.return()}finally{if(v)throw _}}return!!p[h]}},{key:"getNum",value:function(h,p){var m={},v=!0,_=!1,x=void 0;try{for(var b,E=this.DOM.attributes[Symbol.iterator]();!(v=(b=E.next()).done);v=!0){var S=b.value;m[S.nodeName]=S.nodeValue}}catch(C){_=!0,x=C}finally{try{v||E.return==null||E.return()}finally{if(_)throw x}}return Number(m[h])||p||0}},{key:"getString",value:function(h,p){var m={},v=!0,_=!1,x=void 0;try{for(var b,E=this.DOM.attributes[Symbol.iterator]();!(v=(b=E.next()).done);v=!0){var S=b.value;m[S.nodeName]=S.nodeValue}}catch(C){_=!0,x=C}finally{try{v||E.return==null||E.return()}finally{if(_)throw x}}return m[h]?String(m[h]):p||null}},{key:"setAttribute",value:function(h,p){this.DOM.setAttribute(h,p)}},{key:"getContent",value:function(h){var p=this.DOM.textContent;return(p=p.replace(/\s\s+/g,","))||h||null}},{key:"setContent",value:function(h){this.DOM.children.length||(this.DOM.textContent=h)}},{key:"serialize",value:function(){return new XMLSerializer().serializeToString(this.DOM)}}])&&u(g.prototype,y),d}(),t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],313:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.string.includes"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c){return function(d){if(Array.isArray(d)){for(var g=0,y=new Array(d.length);g<d.length;g++)y[g]=d[g];return y}}(c)||function(d){if(Symbol.iterator in Object(d)||Object.prototype.toString.call(d)==="[object Arguments]")return Array.from(d)}(c)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}o.default.prototype.abs=Math.abs,o.default.prototype.ceil=Math.ceil,o.default.prototype.constrain=function(c,d,g){return o.default._validateParameters("constrain",arguments),Math.max(Math.min(c,g),d)},o.default.prototype.dist=function(){for(var c=arguments.length,d=new Array(c),g=0;g<c;g++)d[g]=arguments[g];return o.default._validateParameters("dist",d),d.length===4?Math.hypot(d[2]-d[0],d[3]-d[1]):d.length===6?Math.hypot(d[3]-d[0],d[4]-d[1],d[5]-d[2]):void 0},o.default.prototype.exp=Math.exp,o.default.prototype.floor=Math.floor,o.default.prototype.lerp=function(c,d,g){return o.default._validateParameters("lerp",arguments),g*(d-c)+c},o.default.prototype.log=Math.log,o.default.prototype.mag=function(c,d){return o.default._validateParameters("mag",arguments),Math.hypot(c,d)},o.default.prototype.map=function(c,d,g,y,h,p){return o.default._validateParameters("map",arguments),c=(c-d)/(g-d)*(h-y)+y,p?y<h?this.constrain(c,y,h):this.constrain(c,h,y):c},o.default.prototype.max=function(){for(var c=function(h){return Math.max.apply(Math,u(h))},d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return Array.isArray(g[0])?c(g[0]):c(g)},o.default.prototype.min=function(){for(var c=function(h){return Math.min.apply(Math,u(h))},d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return Array.isArray(g[0])?c(g[0]):c(g)},o.default.prototype.norm=function(c,d,g){return o.default._validateParameters("norm",arguments),this.map(c,d,g,0,1)},o.default.prototype.pow=Math.pow,o.default.prototype.round=function(c,d){return d?(d=Math.pow(10,d),Math.round(c*d)/d):Math.round(c)},o.default.prototype.sq=function(c){return c*c},o.default.prototype.sqrt=Math.sqrt,o.default.prototype.fract=function(y){o.default._validateParameters("fract",arguments);var d,g=0,y=Number(y);return isNaN(y)||Math.abs(y)===1/0?y:(y<0&&(y=-y,g=1),String(y).includes(".")&&!String(y).includes("e")?(d=String(y),d=+("0"+d.slice(d.indexOf("."))),Math.abs(g-d)):y<1?Math.abs(g-y):0)},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],314:[function(t,l,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d,g,y){return(u=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?Reflect.construct:function(h,p,m){var v=[null];return v.push.apply(v,p),p=new(Function.bind.apply(h,v)),m&&c(p,m.prototype),p}).apply(null,arguments)}function c(d,g){return(c=Object.setPrototypeOf||function(y,h){return y.__proto__=h,y})(d,g)}o.default.prototype.createVector=function(d,g,y){return this instanceof o.default?u(o.default.Vector,[this._fromRadians.bind(this),this._toRadians.bind(this)].concat(Array.prototype.slice.call(arguments))):new o.default.Vector(d,g,y)},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196}],315:[function(y,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,y=(y=y("../core/main"))&&y.__esModule?y:{default:y};function o(h){return .5*(1-Math.cos(h*Math.PI))}var u,c=4095,d=4,g=.5,y=(y.default.prototype.noise=function(h){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0;if(u==null){u=new Array(4096);for(var v=0;v<4096;v++)u[v]=Math.random()}h<0&&(h=-h),p<0&&(p=-p),m<0&&(m=-m);for(var _,x,b=Math.floor(h),E=Math.floor(p),S=Math.floor(m),C=h-b,D=p-E,M=m-S,R=0,L=.5,F=0;F<d;F++){var I=b+(E<<4)+(S<<8),G=o(C),P=o(D),X=u[I&c];X+=G*(u[I+1&c]-X),_=u[I+16&c],X+=P*((_+=G*(u[I+16+1&c]-_))-X),_=u[(I+=256)&c],_+=G*(u[I+1&c]-_),x=u[I+16&c],_+=P*((x+=G*(u[I+16+1&c]-x))-_),R+=(X+=o(M)*(_-X))*L,L*=g,b<<=1,E<<=1,S<<=1,1<=(C*=2)&&(b++,C--),1<=(D*=2)&&(E++,D--),1<=(M*=2)&&(S++,M--)}return R},y.default.prototype.noiseDetail=function(h,p){0<h&&(d=h),0<p&&(g=p)},y.default.prototype.noiseSeed=function(h){v=4294967296;var p,m,v,_={setSeed:function(b){m=p=(b??Math.random()*v)>>>0},getSeed:function(){return p},rand:function(){return(m=(1664525*m+1013904223)%v)/v}};_.setSeed(h),u=new Array(4096);for(var x=0;x<4096;x++)u[x]=_.rand()},y.default);s.default=y},{"../core/main":283}],316:[function(t,l,s){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function u(p){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.some"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.number.epsilon"),t("core-js/modules/es.number.is-finite"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(h=t("../core/main"))&&h.__esModule?h:{default:h},d=function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var m=g();if(m&&m.has(p))return m.get(p);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=x?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(_,v,b):_[v]=p[v])}return _.default=p,m&&m.set(p,_),_}(t("../core/constants"));function g(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,g=function(){return p},p)}function y(p,m){for(var v=0;v<m.length;v++){var _=m[v];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(p,_.key,_)}}c.default.Vector=function(){function p(){var S=this,x=p;if(!(S instanceof x))throw new TypeError("Cannot call a class as a function");var b,E,S=typeof(arguments.length<=0?void 0:arguments[0])=="function"?(this.isPInst=!0,this._fromRadians=arguments.length<=0?void 0:arguments[0],this._toRadians=arguments.length<=1?void 0:arguments[1],b=(arguments.length<=2?void 0:arguments[2])||0,E=(arguments.length<=3?void 0:arguments[3])||0,(arguments.length<=4?void 0:arguments[4])||0):(b=(arguments.length<=0?void 0:arguments[0])||0,E=(arguments.length<=1?void 0:arguments[1])||0,(arguments.length<=2?void 0:arguments[2])||0);this.x=b,this.y=E,this.z=S}var m,v,_;return m=p,_=[{key:"fromAngle",value:function(x){var b=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;return new c.default.Vector(b*Math.cos(x),b*Math.sin(x),0)}},{key:"fromAngles",value:function(M,C){var E=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,S=Math.cos(C),C=Math.sin(C),D=Math.cos(M),M=Math.sin(M);return new c.default.Vector(E*M*C,-E*D,E*M*S)}},{key:"random2D",value:function(){return this.fromAngle(Math.random()*d.TWO_PI)}},{key:"random3D",value:function(){var x=Math.random()*d.TWO_PI,b=2*Math.random()-1,S=Math.sqrt(1-b*b),E=S*Math.cos(x),S=S*Math.sin(x);return new c.default.Vector(E,S,b)}},{key:"copy",value:function(x){return x.copy(x)}},{key:"add",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return D?D.set(S):(D=S.copy(),b.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.add")),D.add(C),D}},{key:"rem",value:function(x,b){if(x instanceof c.default.Vector&&b instanceof c.default.Vector)return(x=x.copy()).rem(b),x}},{key:"sub",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return D?D.set(S):(D=S.copy(),b.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.sub")),D.sub(C),D}},{key:"mult",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return D?D.set(S):(D=S.copy(),b.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.mult")),D.mult(C),D}},{key:"rotate",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return b.length===2?D=S.copy():(D instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.rotate"),D.set(S)),D.rotate(C),D}},{key:"div",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return D?D.set(S):(D=S.copy(),b.length===3&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.div")),D.div(C),D}},{key:"dot",value:function(x,b){return x.dot(b)}},{key:"cross",value:function(x,b){return x.cross(b)}},{key:"dist",value:function(x,b){return x.dist(b)}},{key:"lerp",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2],M=b[3];return M?M.set(S):(M=S.copy(),b.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.lerp")),M.lerp(C,D),M}},{key:"slerp",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2],M=b[3];return M?M.set(S):(M=S.copy(),b.length===4&&c.default._friendlyError("The target parameter is undefined, it should be of type p5.Vector","p5.Vector.slerp")),M.slerp(C,D),M}},{key:"mag",value:function(x){return x.mag()}},{key:"magSq",value:function(x){return x.magSq()}},{key:"normalize",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1];return b.length<2?C=S.copy():(C instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.normalize"),C.set(S)),C.normalize()}},{key:"limit",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return b.length<3?D=S.copy():(D instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.limit"),D.set(S)),D.limit(C)}},{key:"setMag",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return b.length<3?D=S.copy():(D instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.setMag"),D.set(S)),D.setMag(C)}},{key:"heading",value:function(x){return x.heading()}},{key:"angleBetween",value:function(x,b){return x.angleBetween(b)}},{key:"reflect",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];return b.length<3?D=S.copy():(D instanceof c.default.Vector||c.default._friendlyError("The target parameter should be of type p5.Vector","p5.Vector.reflect"),D.set(S)),D.reflect(C)}},{key:"array",value:function(x){return x.array()}},{key:"equals",value:function(x,b){var E;return x instanceof c.default.Vector?E=x:Array.isArray(x)?E=new c.default.Vector().set(x):c.default._friendlyError("The v1 parameter should be of type Array or p5.Vector","p5.Vector.equals"),E.equals(b)}}],(v=[{key:"toString",value:function(){return"p5.Vector Object : [".concat(this.x,", ").concat(this.y,", ").concat(this.z,"]")}},{key:"set",value:function(x,b,E){return x instanceof c.default.Vector?(this.x=x.x||0,this.y=x.y||0,this.z=x.z||0):Array.isArray(x)?(this.x=x[0]||0,this.y=x[1]||0,this.z=x[2]||0):(this.x=x||0,this.y=b||0,this.z=E||0),this}},{key:"copy",value:function(){return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,this.x,this.y,this.z):new c.default.Vector(this.x,this.y,this.z)}},{key:"add",value:function(x,b,E){return x instanceof c.default.Vector?(this.x+=x.x||0,this.y+=x.y||0,this.z+=x.z||0):Array.isArray(x)?(this.x+=x[0]||0,this.y+=x[1]||0,this.z+=x[2]||0):(this.x+=x||0,this.y+=b||0,this.z+=E||0),this}},{key:"calculateRemainder2D",value:function(x,b){return x!==0&&(this.x=this.x%x),b!==0&&(this.y=this.y%b),this}},{key:"calculateRemainder3D",value:function(x,b,E){return x!==0&&(this.x=this.x%x),b!==0&&(this.y=this.y%b),E!==0&&(this.z=this.z%E),this}},{key:"rem",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S,C,D,M=b[0],R=b[1],L=b[2];if(M instanceof c.default.Vector){if([M.x,M.y,M.z].every(Number.isFinite))return S=parseFloat(M.x),C=parseFloat(M.y),D=parseFloat(M.z),this.calculateRemainder3D(S,C,D)}else if(Array.isArray(M)){if(M.every(Number.isFinite))return M.length===2?this.calculateRemainder2D(M[0],M[1]):M.length===3?this.calculateRemainder3D(M[0],M[1],M[2]):void 0}else if(b.length===1){if(Number.isFinite(M)&&M!==0)return this.x=this.x%M,this.y=this.y%M,this.z=this.z%M,this}else if(b.length===2){if(b.every(Number.isFinite))return this.calculateRemainder2D(M,R)}else if(b.length===3&&b.every(Number.isFinite))return this.calculateRemainder3D(M,R,L)}},{key:"sub",value:function(x,b,E){return x instanceof c.default.Vector?(this.x-=x.x||0,this.y-=x.y||0,this.z-=x.z||0):Array.isArray(x)?(this.x-=x[0]||0,this.y-=x[1]||0,this.z-=x[2]||0):(this.x-=x||0,this.y-=b||0,this.z-=E||0),this}},{key:"mult",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S,C=b[0],D=b[1],M=b[2];return C instanceof c.default.Vector?Number.isFinite(C.x)&&Number.isFinite(C.y)&&Number.isFinite(C.z)&&typeof C.x=="number"&&typeof C.y=="number"&&typeof C.z=="number"?(this.x*=C.x,this.y*=C.y,this.z*=C.z):console.warn("p5.Vector.prototype.mult:","x contains components that are either undefined or not finite numbers"):Array.isArray(C)?C.every(function(R){return Number.isFinite(R)})&&C.every(function(R){return typeof R=="number"})?C.length===1?(this.x*=C[0],this.y*=C[0],this.z*=C[0]):C.length===2?(this.x*=C[0],this.y*=C[1]):C.length===3&&(this.x*=C[0],this.y*=C[1],this.z*=C[2]):console.warn("p5.Vector.prototype.mult:","x contains elements that are either undefined or not finite numbers"):(S=b).every(function(R){return Number.isFinite(R)})&&S.every(function(R){return typeof R=="number"})?(b.length===1&&(this.x*=C,this.y*=C,this.z*=C),b.length===2&&(this.x*=C,this.y*=D),b.length===3&&(this.x*=C,this.y*=D,this.z*=M)):console.warn("p5.Vector.prototype.mult:","x, y, or z arguments are either undefined or not a finite number"),this}},{key:"div",value:function(){for(var x=arguments.length,b=new Array(x),E=0;E<x;E++)b[E]=arguments[E];var S=b[0],C=b[1],D=b[2];if(S instanceof c.default.Vector)if(Number.isFinite(S.x)&&Number.isFinite(S.y)&&Number.isFinite(S.z)&&typeof S.x=="number"&&typeof S.y=="number"&&typeof S.z=="number"){var M=S.z===0&&this.z===0;if(S.x===0||S.y===0||!M&&S.z===0)return console.warn("p5.Vector.prototype.div:","divide by 0"),this;this.x/=S.x,this.y/=S.y,M||(this.z/=S.z)}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(Array.isArray(S))if(S.every(Number.isFinite)&&S.every(function(R){return typeof R=="number"})){if(S.some(function(R){return R===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;S.length===1?(this.x/=S[0],this.y/=S[0],this.z/=S[0]):S.length===2?(this.x/=S[0],this.y/=S[1]):S.length===3&&(this.x/=S[0],this.y/=S[1],this.z/=S[2])}else console.warn("p5.Vector.prototype.div:","x contains components that are either undefined or not finite numbers");else if(b.every(Number.isFinite)&&b.every(function(R){return typeof R=="number"})){if(b.some(function(R){return R===0}))return console.warn("p5.Vector.prototype.div:","divide by 0"),this;b.length===1&&(this.x/=S,this.y/=S,this.z/=S),b.length===2&&(this.x/=S,this.y/=C),b.length===3&&(this.x/=S,this.y/=C,this.z/=D)}else console.warn("p5.Vector.prototype.div:","x, y, or z arguments are either undefined or not a finite number");return this}},{key:"mag",value:function(){return Math.sqrt(this.magSq())}},{key:"magSq",value:function(){var x=this.x,b=this.y,E=this.z;return x*x+b*b+E*E}},{key:"dot",value:function(x,b,E){return x instanceof c.default.Vector?this.dot(x.x,x.y,x.z):this.x*(x||0)+this.y*(b||0)+this.z*(E||0)}},{key:"cross",value:function(S){var b=this.y*S.z-this.z*S.y,E=this.z*S.x-this.x*S.z,S=this.x*S.y-this.y*S.x;return this.isPInst?new c.default.Vector(this._fromRadians,this._toRadians,b,E,S):new c.default.Vector(b,E,S)}},{key:"dist",value:function(x){return x.copy().sub(this).mag()}},{key:"normalize",value:function(){var x=this.mag();return x!==0&&this.mult(1/x),this}},{key:"limit",value:function(x){var b=this.magSq();return x*x<b&&this.div(Math.sqrt(b)).mult(x),this}},{key:"setMag",value:function(x){return this.normalize().mult(x)}},{key:"heading",value:function(){var x=Math.atan2(this.y,this.x);return this.isPInst?this._fromRadians(x):x}},{key:"setHeading",value:function(x){this.isPInst&&(x=this._toRadians(x));var b=this.mag();return this.x=b*Math.cos(x),this.y=b*Math.sin(x),this}},{key:"rotate",value:function(b){var b=this.heading()+b,E=(this.isPInst&&(b=this._toRadians(b)),this.mag());return this.x=Math.cos(b)*E,this.y=Math.sin(b)*E,this}},{key:"angleBetween",value:function(x){var b;return this.magSq()*x.magSq()==0?NaN:(b=this.cross(x),x=Math.atan2(b.mag(),this.dot(x))*Math.sign(b.z||1),this.isPInst?this._fromRadians(x):x)}},{key:"lerp",value:function(x,b,E,S){return x instanceof c.default.Vector?this.lerp(x.x,x.y,x.z,b):(this.x+=(x-this.x)*S||0,this.y+=(b-this.y)*S||0,this.z+=(E-this.z)*S||0,this)}},{key:"slerp",value:function(x,b){if(b!==0){if(b===1)return this.set(x);var E=this.mag(),S=x.mag();if(E*S==0)this.mult(1-b).add(x.x*b,x.y*b,x.z*b);else{var C=this.cross(x),D=C.mag(),M=Math.atan2(D,this.dot(x));if(0<D)C.x/=D,C.y/=D,C.z/=D;else{if(M<.5*Math.PI)return this.mult(1-b).add(x.x*b,x.y*b,x.z*b),this;this.z===0&&x.z===0?C.set(0,0,1):this.x!==0?C.set(this.y,-this.x,0).normalize():C.set(1,0,0)}D=C.cross(this),x=1-b+b*S/E,C=x*Math.cos(b*M),S=x*Math.sin(b*M),this.x=this.x*C+D.x*S,this.y=this.y*C+D.y*S,this.z=this.z*C+D.z*S}}return this}},{key:"reflect",value:function(x){return x=c.default.Vector.normalize(x),this.sub(x.mult(2*this.dot(x)))}},{key:"array",value:function(){return[this.x||0,this.y||0,this.z||0]}},{key:"equals",value:function(D,b,E){var S,C,D=D instanceof c.default.Vector?(S=D.x||0,C=D.y||0,D.z||0):Array.isArray(D)?(S=D[0]||0,C=D[1]||0,D[2]||0):(S=D||0,C=b||0,E||0);return this.x===S&&this.y===C&&this.z===D}},{key:"clampToZero",value:function(){return this.x=this._clampToZero(this.x),this.y=this._clampToZero(this.y),this.z=this._clampToZero(this.z),this}},{key:"_clampToZero",value:function(x){return Math.abs(+(x||0))<=Number.EPSILON?0:x}}])&&y(m.prototype,v),_&&y(m,_),p}();var h=c.default.Vector;s.default=h},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.every":155,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.constructor":179,"core-js/modules/es.number.epsilon":180,"core-js/modules/es.number.is-finite":181,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],317:[function(g,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(g=g("../core/main"))&&g.__esModule?g:{default:g},u="_lcg_random_state",c=4294967296,d=0,g=(o.default.prototype._lcg=function(y){return this[y]=(1664525*this[y]+1013904223)%c,this[y]/c},o.default.prototype._lcgSetSeed=function(y,h){this[y]=(h??Math.random()*c)>>>0},o.default.prototype.randomSeed=function(y){this._lcgSetSeed(u,y),this._gaussian_previous=!1},o.default.prototype.random=function(y,h){var p,m;return o.default._validateParameters("random",arguments),p=this[u]!=null?this._lcg(u):Math.random(),y===void 0?p:h===void 0?Array.isArray(y)?y[Math.floor(p*y.length)]:p*y:(h<y&&(m=y,y=h,h=m),p*(h-y)+y)},o.default.prototype.randomGaussian=function(y){var h,p,m,v,_=1<arguments.length&&arguments[1]!==void 0?arguments[1]:1;if(this._gaussian_previous)h=d,this._gaussian_previous=!1;else{for(;1<=(v=(p=this.random(2)-1)*p+(m=this.random(2)-1)*m););h=p*(v=Math.sqrt(-2*Math.log(v)/v)),d=m*v,this._gaussian_previous=!0}return h*_+(y||0)},o.default);s.default=g},{"../core/main":283}],318:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=g();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function g(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,g=function(){return h},h)}c.default.prototype._angleMode=d.RADIANS,c.default.prototype.acos=function(h){return this._fromRadians(Math.acos(h))},c.default.prototype.asin=function(h){return this._fromRadians(Math.asin(h))},c.default.prototype.atan=function(h){return this._fromRadians(Math.atan(h))},c.default.prototype.atan2=function(h,p){return this._fromRadians(Math.atan2(h,p))},c.default.prototype.cos=function(h){return Math.cos(this._toRadians(h))},c.default.prototype.sin=function(h){return Math.sin(this._toRadians(h))},c.default.prototype.tan=function(h){return Math.tan(this._toRadians(h))},c.default.prototype.degrees=function(h){return h*d.RAD_TO_DEG},c.default.prototype.radians=function(h){return h*d.DEG_TO_RAD},c.default.prototype.angleMode=function(h){if(c.default._validateParameters("angleMode",arguments),h===void 0)return this._angleMode;h!==d.DEGREES&&h!==d.RADIANS||h!==this._angleMode&&(h===d.RADIANS?(this._setProperty("pRotationX",this.pRotationX*d.DEG_TO_RAD),this._setProperty("pRotationY",this.pRotationY*d.DEG_TO_RAD),this._setProperty("pRotationZ",this.pRotationZ*d.DEG_TO_RAD)):(this._setProperty("pRotationX",this.pRotationX*d.RAD_TO_DEG),this._setProperty("pRotationY",this.pRotationY*d.RAD_TO_DEG),this._setProperty("pRotationZ",this.pRotationZ*d.RAD_TO_DEG)),this._angleMode=h)},c.default.prototype._toRadians=function(h){return this._angleMode===d.DEGREES?h*d.DEG_TO_RAD:h},c.default.prototype._toDegrees=function(h){return this._angleMode===d.RADIANS?h*d.RAD_TO_DEG:h},c.default.prototype._fromRadians=function(h){return this._angleMode===d.DEGREES?h*d.RAD_TO_DEG:h},c.default.prototype._fromDegrees=function(h){return this._angleMode===d.RADIANS?h*d.DEG_TO_RAD:h};var y=c.default;s.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],319:[function(t,l,s){t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.textAlign=function(u,c){var d;return o.default._validateParameters("textAlign",arguments),(d=this._renderer).textAlign.apply(d,arguments)},o.default.prototype.textLeading=function(u){var c;return o.default._validateParameters("textLeading",arguments),(c=this._renderer).textLeading.apply(c,arguments)},o.default.prototype.textSize=function(u){var c;return o.default._validateParameters("textSize",arguments),(c=this._renderer).textSize.apply(c,arguments)},o.default.prototype.textStyle=function(u){var c;return o.default._validateParameters("textStyle",arguments),(c=this._renderer).textStyle.apply(c,arguments)},o.default.prototype.textWidth=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];if(c[0]+="",o.default._validateParameters("textWidth",c),c[0].length===0)return 0;for(var g=c[0].replace(/\t/g,"  ").split(/\r?\n|\r|\n/g),y=[],h=0;h<g.length;h++)y.push(this._renderer.textWidth(g[h]));return Math.max.apply(Math,y)},o.default.prototype.textAscent=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return o.default._validateParameters("textAscent",c),this._renderer.textAscent()},o.default.prototype.textDescent=function(){for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return o.default._validateParameters("textDescent",c),this._renderer.textDescent()},o.default.prototype._updateTextMetrics=function(){return this._renderer._updateTextMetrics()},o.default.prototype.textWrap=function(u){return o.default._validateParameters("textWrap",[u]),this._renderer.textWrap(u)},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206}],320:[function(t,l,s){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function u(m){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.split"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=h(t("../core/constants")),g=h(t("opentype.js"));function y(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,y=function(){return m},m)}function h(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var v=y();if(v&&v.has(m))return v.get(m);var _,x,b={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in m)Object.prototype.hasOwnProperty.call(m,_)&&((x=E?Object.getOwnPropertyDescriptor(m,_):null)&&(x.get||x.set)?Object.defineProperty(b,_,x):b[_]=m[_]);return b.default=m,v&&v.set(m,b),b}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),c.default.prototype.loadFont=function(m,v,_){c.default._validateParameters("loadFont",arguments);var x=new c.default.Font(this),b=this;return g.load(m,function(C,D){if(C)return c.default._friendlyFileLoadError(4,m),_!==void 0?_(C):void console.error(C,m);x.font=D,v!==void 0&&v(x),b._decrementPreload();var C=m.split("\\").pop().split("/").pop(),D=C.lastIndexOf("."),M=D<1?null:C.slice(D+1);["ttf","otf","woff","woff2"].includes(M)&&(M=C.slice(0,D!==-1?D:0),(C=document.createElement("style")).appendChild(document.createTextNode(`
@font-face {
font-family: `.concat(M,`;
src: url(`).concat(m,`);
}
`))),document.head.appendChild(C))}),x},c.default.prototype.text=function(m,v,_,x,b){var E;return c.default._validateParameters("text",arguments),this._renderer._doFill||this._renderer._doStroke?(E=this._renderer).text.apply(E,arguments):this},c.default.prototype.textFont=function(m,v){if(c.default._validateParameters("textFont",arguments),arguments.length){if(m)return this._renderer._setProperty("_textFont",m),v&&(this._renderer._setProperty("_textSize",v),this._renderer._leadingSet||this._renderer._setProperty("_textLeading",v*d._DEFAULT_LEADMULT)),this._renderer._applyTextProperties();throw new Error("null font passed to textFont")}return this._renderer._textFont};var p=c.default;s.default=p},{"../core/constants":272,"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.slice":169,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,"opentype.js":257}],321:[function(t,l,s){function o(R){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L})(R)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.function.name"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(u=t("../core/main"))&&u.__esModule?u:{default:u},c=function(R){if(R&&R.__esModule)return R;if(R===null||g(R)!=="object"&&typeof R!="function")return{default:R};var L=d();if(L&&L.has(R))return L.get(R);var F,I={},G=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(F in R){var P;Object.prototype.hasOwnProperty.call(R,F)&&((P=G?Object.getOwnPropertyDescriptor(R,F):null)&&(P.get||P.set)?Object.defineProperty(I,F,P):I[F]=R[F])}return I.default=R,L&&L.set(R,I),I}(t("../core/constants"));function d(){var R;return typeof WeakMap!="function"?null:(R=new WeakMap,d=function(){return R},R)}function g(R){return(g=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(L){return o(L)}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":o(L)})(R)}function y(R,L){for(var F=0;F<L.length;F++){var I=L[F];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(R,I.key,I)}}function h(R,L){var F=R.length;return R[L<0?L%F+F:L%F]}function p(R,L,F,I){var G,P,X;return I?(p.tmpPoint1===void 0&&(p.tmpPoint1=[],p.tmpPoint2=[]),P=p.tmpPoint1,X=p.tmpPoint2,P.x=L.x-R.x,P.y=L.y-R.y,X.x=F.x-L.x,X.y=F.y-L.y,G=P.x*X.x+P.y*X.y,P=Math.sqrt(P.x*P.x+P.y*P.y),X=Math.sqrt(X.x*X.x+X.y*X.y),Math.acos(G/(P*X))<I):(L[0]-R[0])*(F[1]-R[1])-(F[0]-R[0])*(L[1]-R[1])==0}function m(U,Q,q,ae,ie,P,X,V,H){var J=1-H,K=Math.pow(J,3),Y=Math.pow(J,2),O=H*H,te=O*H,Z=K*U+3*Y*H*q+3*J*H*H*ie+te*X,K=K*Q+3*Y*H*ae+3*J*H*H*P+te*V,Y=U+2*H*(q-U)+O*(ie-2*q+U),te=Q+2*H*(ae-Q)+O*(P-2*ae+Q),ue=q+2*H*(ie-q)+O*(X-2*ie+q),O=ae+2*H*(P-ae)+O*(V-2*P+ae),U=J*U+H*q,q=J*Q+H*ae,Q=J*ie+H*X,ae=J*P+H*V,ie=90-180*Math.atan2(Y-ue,te-O)/Math.PI;return(ue<Y||te<O)&&(ie+=180),{x:Z,y:K,m:{x:Y,y:te},n:{x:ue,y:O},start:{x:U,y:q},end:{x:Q,y:ae},alpha:ie}}function v(R,L,F,I,G,P,X,V,H){return H==null?D(R,L,F,I,G,P,X,V):m(R,L,F,I,G,P,X,V,function(J,Z,K,Y,te,ue,O,U,q){if(!(q<0||D(J,Z,K,Y,te,ue,O,U)<q)){var Q,ae=.5,ie=1-ae;for(Q=D(J,Z,K,Y,te,ue,O,U,ie);.01<Math.abs(Q-q);)Q=D(J,Z,K,Y,te,ue,O,U,ie+=(Q<q?1:-1)*(ae/=2));return ie}}(R,L,F,I,G,P,X,V,H))}function _(R,L,F){for(var I,G,P,X,V,H=0,J=0,Z=(R=function(K,Y){function te(je,Oe,ke){var tt,Fe;if(!je)return["C",Oe.x,Oe.y,Oe.x,Oe.y,Oe.x,Oe.y];switch(je[0]in{T:1,Q:1}||(Oe.qx=Oe.qy=null),je[0]){case"M":Oe.X=je[1],Oe.Y=je[2];break;case"A":je=["C"].concat(b.apply(0,[Oe.x,Oe.y].concat(je.slice(1))));break;case"S":Fe=ke==="C"||ke==="S"?(tt=2*Oe.x-Oe.bx,2*Oe.y-Oe.by):(tt=Oe.x,Oe.y),je=["C",tt,Fe].concat(je.slice(1));break;case"T":ke==="Q"||ke==="T"?(Oe.qx=2*Oe.x-Oe.qx,Oe.qy=2*Oe.y-Oe.qy):(Oe.qx=Oe.x,Oe.qy=Oe.y),je=["C"].concat(C(Oe.x,Oe.y,Oe.qx,Oe.qy,je[1],je[2]));break;case"Q":Oe.qx=je[1],Oe.qy=je[2],je=["C"].concat(C(Oe.x,Oe.y,je[1],je[2],je[3],je[4]));break;case"L":je=["C"].concat(S(Oe.x,Oe.y,je[1],je[2]));break;case"H":je=["C"].concat(S(Oe.x,Oe.y,je[1],Oe.y));break;case"V":je=["C"].concat(S(Oe.x,Oe.y,Oe.x,je[1]));break;case"Z":je=["C"].concat(S(Oe.x,Oe.y,Oe.X,Oe.Y))}return je}function ue(je,Oe){if(7<je[Oe].length){je[Oe].shift();for(var ke=je[Oe];ke.length;)he[Oe]="A",Q&&(ge[Oe]="A"),je.splice(Oe++,0,["C"].concat(ke.splice(0,6)));je.splice(Oe,1),U=Math.max(q.length,Q&&Q.length||0)}}function O(je,Oe,ke,tt,Fe){je&&Oe&&je[Fe][0]==="M"&&Oe[Fe][0]!=="M"&&(Oe.splice(Fe,0,["M",tt.x,tt.y]),ke.bx=0,ke.by=0,ke.x=je[Fe][1],ke.y=je[Fe][2],U=Math.max(q.length,Q&&Q.length||0))}var U,q=x(K),Q=Y&&x(Y),ae={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},ie={x:0,y:0,bx:0,by:0,X:0,Y:0,qx:null,qy:null},he=[],ge=[],fe="",ve="";U=Math.max(q.length,Q&&Q.length||0);for(var xe=0;xe<U;xe++){(fe=q[xe]?q[xe][0]:fe)!=="C"&&(he[xe]=fe,xe&&(ve=he[xe-1])),q[xe]=te(q[xe],ae,ve),he[xe]!=="A"&&fe==="C"&&(he[xe]="C"),ue(q,xe),Q&&((fe=Q[xe]?Q[xe][0]:fe)!=="C"&&(ge[xe]=fe,xe&&(ve=ge[xe-1])),Q[xe]=te(Q[xe],ie,ve),ge[xe]!=="A"&&fe==="C"&&(ge[xe]="C"),ue(Q,xe)),O(q,Q,ae,ie,xe),O(Q,q,ie,ae,xe);var se=q[xe],be=Q&&Q[xe],Ae=se.length,De=Q&&be.length;ae.x=se[Ae-2],ae.y=se[Ae-1],ae.bx=parseFloat(se[Ae-4])||ae.x,ae.by=parseFloat(se[Ae-3])||ae.y,ie.bx=Q&&(parseFloat(be[De-4])||ie.x),ie.by=Q&&(parseFloat(be[De-3])||ie.y),ie.x=Q&&be[De-2],ie.y=Q&&be[De-1]}return Q?[q,Q]:q}(R)).length;J<Z;J++){if((P=R[J])[0]==="M")I=+P[1],G=+P[2];else{if(L<H+(X=v(I,G,P[1],P[2],P[3],P[4],P[5],P[6]))&&!F)return{x:(V=v(I,G,P[1],P[2],P[3],P[4],P[5],P[6],L-H)).x,y:V.y,alpha:V.alpha};H+=X,I=+P[5],G=+P[6]}P.shift()}return V=(V=F?H:m(I,G,P[0],P[1],P[2],P[3],P[4],P[5],1)).alpha?{x:V.x,y:V.y,alpha:V.alpha}:V}function x(R){var L=[],F=0,I=0,G=0,P=0,X=0;if(R){R[0][0]==="M"&&(G=F=+R[0][1],P=I=+R[0][2],X++,L[0]=["M",F,I]);for(var V,H,J=R.length===3&&R[0][0]==="M"&&R[1][0].toUpperCase()==="R"&&R[2][0].toUpperCase()==="Z",Z=X,K=R.length;Z<K;Z++){if(L.push(V=[]),(H=R[Z])[0]!==H[0].toUpperCase())switch(V[0]=H[0].toUpperCase(),V[0]){case"A":V[1]=H[1],V[2]=H[2],V[3]=H[3],V[4]=H[4],V[5]=H[5],V[6]=+(H[6]+F),V[7]=+(H[7]+I);break;case"V":V[1]=+H[1]+I;break;case"H":V[1]=+H[1]+F;break;case"R":for(var Y,te=2,ue=(Y=[F,I].concat(H.slice(1))).length;te<ue;te++)Y[te]=+Y[te]+F,Y[++te]=+Y[te]+I;L.pop(),L=L.concat(E(Y,J));break;case"M":G=+H[1]+F,P=+H[2]+I;break;default:for(var O=1,U=H.length;O<U;O++)V[O]=+H[O]+(O%2?F:I)}else if(H[0]==="R")Y=[F,I].concat(H.slice(1)),L.pop(),L=L.concat(E(Y,J)),V=["R"].concat(H.slice(-2));else for(var q=0,Q=H.length;q<Q;q++)V[q]=H[q];switch(V[0]){case"Z":F=G,I=P;break;case"H":F=V[1];break;case"V":I=V[1];break;case"M":G=V[V.length-2],P=V[V.length-1];break;default:F=V[V.length-2],I=V[V.length-1]}}}return L}function b(R,L,F,I,Q,he,ae,V,H,J){function Z(De,je,Oe){return{x:De*Math.cos(Oe)-je*Math.sin(Oe),y:De*Math.sin(Oe)+je*Math.cos(Oe)}}var K,U=Math.PI,q=120*U/180,Y=U/180*(+Q||0),te=[],ue=(J?(xe=J[0],K=J[1],fe=J[2],ve=J[3]):(R=(ie=Z(R,L,-Y)).x,L=ie.y,1<(ue=(O=(R-(V=(ie=Z(V,H,-Y)).x))/2)*O/(F*F)+(ie=(L-(H=ie.y))/2)*ie/(I*I))&&(F*=ue=Math.sqrt(ue),I*=ue),ue=F*F,ge=I*I,fe=(he=(he===ae?-1:1)*Math.sqrt(Math.abs((ue*ge-ue*ie*ie-ge*O*O)/(ue*ie*ie+ge*O*O))))*F*ie/I+(R+V)/2,ve=he*-I*O/F+(L+H)/2,xe=Math.asin(((L-ve)/I).toFixed(9)),K=Math.asin(((H-ve)/I).toFixed(9)),(xe=R<fe?U-xe:xe)<0&&(xe=2*U+xe),(K=V<fe?U-K:K)<0&&(K=2*U+K),ae&&K<xe&&(xe-=2*U),!ae&&xe<K&&(K-=2*U)),K-xe),O=(Math.abs(ue)>q&&(ge=K,ie=V,he=H,K=xe+q*(ae&&xe<K?1:-1),te=b(V=fe+F*Math.cos(K),H=ve+I*Math.sin(K),F,I,Q,0,ae,ie,he,[K,ge,fe,ve])),ue=K-xe,Math.cos(xe)),U=Math.sin(xe),q=Math.cos(K),Q=Math.sin(K),ae=Math.tan(ue/4),ie=4/3*F*ae,he=4/3*I*ae,ge=[R,L],fe=[R+ie*U,L-he*O],ve=[V+ie*Q,H-he*q],xe=[V,H];if(fe[0]=2*ge[0]-fe[0],fe[1]=2*ge[1]-fe[1],J)return[fe,ve,xe].concat(te);for(var se=[],be=0,Ae=(te=[fe,ve,xe].concat(te).join().split(",")).length;be<Ae;be++)se[be]=be%2?Z(te[be-1],te[be],Y).y:Z(te[be],te[be+1],Y).x;return se}function E(R,L){for(var F=[],I=0,G=R.length;I<G-2*!L;I+=2){var P=[{x:+R[I-2],y:+R[I-1]},{x:+R[I],y:+R[I+1]},{x:+R[I+2],y:+R[I+3]},{x:+R[I+4],y:+R[I+5]}];L?I?G-4===I?P[3]={x:+R[0],y:+R[1]}:G-2===I&&(P[2]={x:+R[0],y:+R[1]},P[3]={x:+R[2],y:+R[3]}):P[0]={x:+R[G-2],y:+R[G-1]}:G-4===I?P[3]=P[2]:I||(P[0]={x:+R[I],y:+R[I+1]}),F.push(["C",(-P[0].x+6*P[1].x+P[2].x)/6,(-P[0].y+6*P[1].y+P[2].y)/6,(P[1].x+6*P[2].x-P[3].x)/6,(P[1].y+6*P[2].y-P[3].y)/6,P[2].x,P[2].y])}return F}function S(R,L,F,I){return[R,L,F,I,F,I]}function C(R,L,F,I,G,P){return[1/3*R+2/3*F,1/3*L+2/3*I,1/3*G+2/3*F,1/3*P+2/3*I,G,P]}function D(R,L,F,I,G,P,X,V,H){for(var J=(H=1<(H=H??1)?1:H<0?0:H)/2,Z=[-.1252,.1252,-.3678,.3678,-.5873,.5873,-.7699,.7699,-.9041,.9041,-.9816,.9816],K=0,Y=[.2491,.2491,.2335,.2335,.2032,.2032,.1601,.1601,.1069,.1069,.0472,.0472],te=0;te<12;te++){var O=J*Z[te]+J,ue=M(O,R,F,G,X),O=M(O,L,I,P,V);K+=Y[te]*Math.sqrt(ue*ue+O*O)}return J*K}function M(R,L,F,I,G){return R*(R*(-3*L+9*F-9*I+3*G)+6*L-12*F+6*I)-3*L+3*F}u.default.Font=function(){function R(I){if(!(this instanceof R))throw new TypeError("Cannot call a class as a function");this.parent=I,this.cache={},this.font=void 0}var L,F;return L=R,(F=[{key:"textBounds",value:function(I){var G=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,P=2<arguments.length&&arguments[2]!==void 0?arguments[2]:0,J=3<arguments.length?arguments[3]:void 0,X=4<arguments.length?arguments[4]:void 0,V=X&&X.renderer&&X.renderer._pInst||this.parent,H=V._renderer.drawingContext,J=(H.textAlign||c.LEFT,H.textBaseline||c.BASELINE,J||V._renderer._textSize);if(!ie){for(var Z=[],K=[],Y=[],te=(Y[0]=[],[]),ue=this._scale(J),O=V._renderer.textLeading(),U=0,q=(this.font.forEachGlyph(I,G,P,J,X,function(fe,ve,xe,se){var be=fe.getMetrics();fe.index===0?Y[U+=1]=[]:(Y[U].push(ve+be.xMin*ue),Y[U].push(ve+be.xMax*ue),te.push(xe+U*O+-be.yMin*ue),te.push(xe+U*O+-be.yMax*ue))}),0<Y[U].length&&(Z[U]=Math.min.apply(null,Y[U]),K[U]=Math.max.apply(null,Y[U])),0),Q=0;Q<=U;Q++){Z[Q]=Math.min.apply(null,Y[Q]),K[Q]=Math.max.apply(null,Y[Q]);var ae=K[Q]-Z[Q];q<ae&&(q=ae)}var H=Math.min.apply(null,Z),ie={x:H,y:P=Math.min.apply(null,te),h:Math.max.apply(null,te)-P,w:q,advance:H-G},J=this._handleAlignment(V._renderer,I,ie.x,ie.y,ie.w+ie.advance);ie.x=J.x,ie.y=J.y}return ie}},{key:"textToPoints",value:function(I,G,P,X,V){var H,J=G,Z=[],K=this.parent,Y=I.split(/\r?\n|\r|\n/g);X=X||this.parent._renderer._textSize;for(var te,ue,O,U=0;U<Y.length;U++){var q=0;G=J;for(var Q=(Q=Y[U]).replace("	","  "),ae=this._getGlyphs(Q),ie=0;ie<ae.length;ie++){if(ue=Q,!((O=ae)[te=ie].name&&O[te].name==="space"||ue.length===O.length&&ue[te]===" "))for(var he=function(xe){for(var se,be=[],Ae=0;Ae<xe.length;Ae++)xe[Ae].type==="M"&&(se&&be.push(se),se=[]),se.push(function(De){var je=[De.type];return De.type==="M"||De.type==="L"?je.push(De.x,De.y):De.type==="C"?je.push(De.x1,De.y1,De.x2,De.y2,De.x,De.y):De.type==="Q"&&je.push(De.x1,De.y1,De.x,De.y),je}(xe[Ae]));return be.push(se),be}(ae[ie].getPath(G,P,X).commands),ge=0;ge<he.length;ge++)for(var fe=function(xe,se){for(var se=function(ke,tt){if(g(ke)!=="object")ke=tt;else for(var Fe in tt)ke[Fe]===void 0&&(ke[Fe]=tt[Fe]);return ke}(se,{sampleFactor:.1,simplifyThreshold:0}),be=_(xe,0,1),Ae=be/(be*se.sampleFactor),De=[],je=0;je<be;je+=Ae)De.push(_(xe,je));return se.simplifyThreshold&&function(Oe){for(var ke=1<arguments.length&&arguments[1]!==void 0?arguments[1]:0,tt=0,Fe=Oe.length-1;3<Oe.length&&0<=Fe;--Fe)p(h(Oe,Fe-1),h(Oe,Fe),h(Oe,Fe+1),ke)&&(Oe.splice(Fe%Oe.length,1),tt++)}(De,se.simplifyThreshold),De}(he[ge],V),ve=0;ve<fe.length;ve++)fe[ve].x+=q,H=this._handleAlignment(K._renderer,Q,fe[ve].x,fe[ve].y),fe[ve].x=H.x,fe[ve].y=H.y,Z.push(fe[ve]);q+=ae[ie].advanceWidth*this._scale(X)}P+=this.parent._renderer._textLeading}return Z}},{key:"_getGlyphs",value:function(I){return this.font.stringToGlyphs(I)}},{key:"_getPath",value:function(I,H,P,X){var V=(X&&X.renderer&&X.renderer._pInst||this.parent)._renderer,H=this._handleAlignment(V,I,H,P);return this.font.getPath(I,H.x,H.y,V._textSize,X)}},{key:"_getPathData",value:function(I,G,P,X){var V=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,G,P,X):g(G)==="object"&&(X=G),X&&typeof X.decimals=="number"&&(V=X.decimals),I.toPathData(V)}},{key:"_getSVG",value:function(I,G,P,X){var V=3;return typeof I=="string"&&2<arguments.length?I=this._getPath(I,G,P,X):g(G)==="object"&&(X=G),X&&(typeof X.decimals=="number"&&(V=X.decimals),typeof X.strokeWidth=="number"&&(I.strokeWidth=X.strokeWidth),X.fill!==void 0&&(I.fill=X.fill),X.stroke!==void 0&&(I.stroke=X.stroke)),I.toSVG(V)}},{key:"_renderPath",value:function(J,K,Y,X){var V=X&&X.renderer||this.parent._renderer,H=V.drawingContext,J=(g(J)==="object"&&J.commands?J:this._getPath(J,K,Y,X)).commands,Z=(V._clipping||H.beginPath(),!0),K=!1,Y=void 0;try{for(var te,ue=J[Symbol.iterator]();!(Z=(te=ue.next()).done);Z=!0){var O=te.value;O.type==="M"?H.moveTo(O.x,O.y):O.type==="L"?H.lineTo(O.x,O.y):O.type==="C"?H.bezierCurveTo(O.x1,O.y1,O.x2,O.y2,O.x,O.y):O.type==="Q"?H.quadraticCurveTo(O.x1,O.y1,O.x,O.y):O.type==="Z"&&H.closePath()}}catch(U){K=!0,Y=U}finally{try{Z||ue.return==null||ue.return()}finally{if(K)throw Y}}return V._doStroke&&V._strokeSet&&!V._clipping&&H.stroke(),V._doFill&&!V._clipping&&(V._fillSet||V._setFill(c._DEFAULT_TEXT_FILL),H.fill()),this}},{key:"_textWidth",value:function(I,G){return this.font.getAdvanceWidth(I,G)}},{key:"_textAscent",value:function(I){return this.font.ascender*this._scale(I)}},{key:"_textDescent",value:function(I){return-this.font.descender*this._scale(I)}},{key:"_scale",value:function(I){return 1/this.font.unitsPerEm*(I||this.parent._renderer._textSize)}},{key:"_handleAlignment",value:function(I,G,P,X,V){var H=I._textSize;switch(V===void 0&&(V=this._textWidth(G,H)),I._textAlign){case c.CENTER:P-=V/2;break;case c.RIGHT:P-=V}switch(I._textBaseline){case c.TOP:X+=this._textAscent(H);break;case c.CENTER:X+=this._textAscent(H)/2;break;case c.BOTTOM:X-=this._textDescent(H)}return{x:P,y:X}}}])&&y(L.prototype,F),R}(),t=u.default,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.function.name":174,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],322:[function(t,l,s){t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.object.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.append=function(o,u){return o.push(u),o},t.default.prototype.arrayCopy=function(o,u,c,d,g){var y,h;o=g!==void 0?(h=Math.min(g,o.length),y=d,o.slice(u,h+u)):(h=c!==void 0?(h=c,Math.min(h,o.length)):o.length,c=u,o.slice(y=0,h)),Array.prototype.splice.apply(c,[y,h].concat(o))},t.default.prototype.concat=function(o,u){return o.concat(u)},t.default.prototype.reverse=function(o){return o.reverse()},t.default.prototype.shorten=function(o){return o.pop(),o},t.default.prototype.shuffle=function(o,u){for(var c,d,g=ArrayBuffer&&ArrayBuffer.isView&&ArrayBuffer.isView(o),y=(o=u||g?o:o.slice()).length;1<y;)c=this.random(0,1)*y|0,d=o[--y],o[y]=o[c],o[c]=d;return o},t.default.prototype.sort=function(o,d){var c=d?o.slice(0,Math.min(d,o.length)):o,d=d?o.slice(Math.min(d,o.length)):[];return(c=typeof c[0]=="string"?c.sort():c.sort(function(g,y){return g-y})).concat(d)},t.default.prototype.splice=function(o,u,c){return Array.prototype.splice.apply(o,[c,0].concat(u)),o},t.default.prototype.subset=function(o,u,c){return c!==void 0?o.slice(u,u+c):o.slice(u,o.length)},t=t.default,s.default=t},{"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.to-string":190}],323:[function(t,l,s){t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),t("core-js/modules/es.array.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.repeat"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.float=function(u){return u instanceof Array?u.map(parseFloat):parseFloat(u)},o.default.prototype.int=function(u){var c=1<arguments.length&&arguments[1]!==void 0?arguments[1]:10;return u===1/0||u==="Infinity"?1/0:u===-1/0||u==="-Infinity"?-1/0:typeof u=="string"?parseInt(u,c):typeof u=="number"?0|u:typeof u=="boolean"?u?1:0:u instanceof Array?u.map(function(d){return o.default.prototype.int(d,c)}):void 0},o.default.prototype.str=function(u){return u instanceof Array?u.map(o.default.prototype.str):String(u)},o.default.prototype.boolean=function(u){return typeof u=="number"?u!==0:typeof u=="string"?u.toLowerCase()==="true":typeof u=="boolean"?u:u instanceof Array?u.map(o.default.prototype.boolean):void 0},o.default.prototype.byte=function(u){return u=o.default.prototype.int(u,10),typeof u=="number"?(u+128)%256-128:u instanceof Array?u.map(o.default.prototype.byte):void 0},o.default.prototype.char=function(u){return typeof u!="number"||isNaN(u)?u instanceof Array?u.map(o.default.prototype.char):typeof u=="string"?o.default.prototype.char(parseInt(u,10)):void 0:String.fromCharCode(u)},o.default.prototype.unchar=function(u){return typeof u=="string"&&u.length===1?u.charCodeAt(0):u instanceof Array?u.map(o.default.prototype.unchar):void 0},o.default.prototype.hex=function(u,c){if(c=c??8,u instanceof Array)return u.map(function(g){return o.default.prototype.hex(g,c)});if(u===1/0||u===-1/0)return(u===1/0?"F":"0").repeat(c);if(typeof u=="number"){u<0&&(u=4294967295+u+1);for(var d=Number(u).toString(16).toUpperCase();d.length<c;)d="0".concat(d);return d=d.length>=c?d.substring(d.length-c,d.length):d}},o.default.prototype.unhex=function(u){return u instanceof Array?u.map(o.default.prototype.unhex):parseInt("0x".concat(u),16)},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.repeat":203}],324:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.constructor"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.pad-start"),t("core-js/modules/es.string.replace"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(h=t("../core/main"))&&h.__esModule?h:{default:h};function u(p,m){return function(v){if(Array.isArray(v))return v}(p)||function(v,_){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]"){var x=[],b=!0,E=!1,S=void 0;try{for(var C,D=v[Symbol.iterator]();!(b=(C=D.next()).done)&&(x.push(C.value),!_||x.length!==_);b=!0);}catch(M){E=!0,S=M}finally{try{b||D.return==null||D.return()}finally{if(E)throw S}}return x}}(p,m)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(p,m,v){var _,x=p<0,E=u((p=Math.abs(p)).toString().split("."),2),b=E[0],E=E[1];return v===void 0?(b=b.padStart(m,"0"),_=E?b+"."+E:b,x?"-"+_:_):(b=(_=u(p.toFixed(v).toString().split("."),2))[0],E=_[1],b=b.padStart(m,"0"),p=E===void 0?b:b+"."+E,x?"-"+p:p)}function d(x,m){var v=(x=x.toString()).indexOf("."),_=v!==-1?x.substring(v):"",x=(x=v!==-1?x.substring(0,v):x).toString().replace(/\B(?=(\d{3})+(?!\d))/g,",");if(m===0)_="";else if(m!==void 0)if(m>_.length)for(var b=m-(_+=v===-1?".":"").length+1,E=0;E<b;E++)_+="0";else _=_.substring(0,m+1);return x+_}function g(p){return 0<parseFloat(p)?"+".concat(p.toString()):p.toString()}function y(p){return 0<=parseFloat(p)?" ".concat(p.toString()):p.toString()}t("../core/friendly_errors/validate_params"),t("../core/friendly_errors/file_errors"),t("../core/friendly_errors/fes_core"),o.default.prototype.join=function(p,m){return o.default._validateParameters("join",arguments),p.join(m)},o.default.prototype.match=function(p,m){return o.default._validateParameters("match",arguments),p.match(m)},o.default.prototype.matchAll=function(p,m){o.default._validateParameters("matchAll",arguments);for(var v=new RegExp(m,"g"),_=v.exec(p),x=[];_!==null;)x.push(_),_=v.exec(p);return x},o.default.prototype.nf=function(p,m,v){return o.default._validateParameters("nf",arguments),p instanceof Array?p.map(function(_){return c(_,m,v)}):Object.prototype.toString.call(p)==="[object Arguments]"?p.length===3?this.nf(p[0],p[1],p[2]):p.length===2?this.nf(p[0],p[1]):this.nf(p[0]):c(p,m,v)},o.default.prototype.nfc=function(p,m){return o.default._validateParameters("nfc",arguments),p instanceof Array?p.map(function(v){return d(v,m)}):d(p,m)},o.default.prototype.nfp=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];o.default._validateParameters("nfp",m);var _=o.default.prototype.nf.apply(this,m);return _ instanceof Array?_.map(g):g(_)},o.default.prototype.nfs=function(){for(var p=arguments.length,m=new Array(p),v=0;v<p;v++)m[v]=arguments[v];o.default._validateParameters("nfs",m);var _=o.default.prototype.nf.apply(this,m);return _ instanceof Array?_.map(y):y(_)},o.default.prototype.split=function(p,m){return o.default._validateParameters("split",arguments),p.split(m)},o.default.prototype.splitTokens=function(p,m){var v,_;return o.default._validateParameters("splitTokens",arguments),_=m!==void 0?(_=/\]/g.exec(m=m),(v=/\[/g.exec(m))&&_?(m=m.slice(0,_.index)+m.slice(_.index+1),v=/\[/g.exec(m),m=m.slice(0,v.index)+m.slice(v.index+1),new RegExp("[\\[".concat(m,"\\]]"),"g")):_?(m=m.slice(0,_.index)+m.slice(_.index+1),new RegExp("[".concat(m,"\\]]"),"g")):v?(m=m.slice(0,v.index)+m.slice(v.index+1),new RegExp("[".concat(m,"\\[]"),"g")):new RegExp("[".concat(m,"]"),"g")):/\s/g,p.split(_).filter(function(x){return x})},o.default.prototype.trim=function(p){return o.default._validateParameters("trim",arguments),p instanceof Array?p.map(this.trim):p.trim()};var h=o.default;s.default=h},{"../core/friendly_errors/fes_core":274,"../core/friendly_errors/file_errors":275,"../core/friendly_errors/validate_params":278,"../core/main":283,"core-js/modules/es.array.filter":157,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.constructor":194,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.pad-start":202,"core-js/modules/es.string.replace":204,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],325:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t},t.default.prototype.day=function(){return new Date().getDate()},t.default.prototype.hour=function(){return new Date().getHours()},t.default.prototype.minute=function(){return new Date().getMinutes()},t.default.prototype.millis=function(){return this._millisStart===-1?0:window.performance.now()-this._millisStart},t.default.prototype.month=function(){return new Date().getMonth()+1},t.default.prototype.second=function(){return new Date().getSeconds()},t.default.prototype.year=function(){return new Date().getFullYear()},t=t.default,s.default=t},{"../core/main":283}],326:[function(t,l,s){function o(p){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m})(p)}function u(p){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(m){return o(m)}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":o(m)})(p)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.number.to-fixed"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(h=t("../core/main"))&&h.__esModule?h:{default:h},d=(t("./p5.Geometry"),function(p){if(p&&p.__esModule)return p;if(p===null||u(p)!=="object"&&typeof p!="function")return{default:p};var m=g();if(m&&m.has(p))return m.get(p);var v,_={},x=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(v in p){var b;Object.prototype.hasOwnProperty.call(p,v)&&((b=x?Object.getOwnPropertyDescriptor(p,v):null)&&(b.get||b.set)?Object.defineProperty(_,v,b):_[v]=p[v])}return _.default=p,m&&m.set(p,_),_}(t("../core/constants")));function g(){var p;return typeof WeakMap!="function"?null:(p=new WeakMap,g=function(){return p},p)}c.default.prototype.beginGeometry=function(){return this._renderer.beginGeometry()},c.default.prototype.endGeometry=function(){return this._renderer.endGeometry()},c.default.prototype.buildGeometry=function(p){return this._renderer.buildGeometry(p)},c.default.prototype.freeGeometry=function(p){this._renderer._freeBuffers(p.gid)},c.default.prototype.plane=function(){var p,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:m,_=2<arguments.length&&arguments[2]!==void 0?arguments[2]:1,x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,b=(this._assert3d("plane"),c.default._validateParameters("plane",arguments),"plane|".concat(_,"|").concat(x));return this._renderer.geometryInHash(b)||((p=new c.default.Geometry(_,x,function(){for(var E,S,C=0;C<=this.detailY;C++)for(var D=C/this.detailY,M=0;M<=this.detailX;M++)E=M/this.detailX,S=new c.default.Vector(E-.5,D-.5,0),this.vertices.push(S),this.uvs.push(E,D)})).computeFaces().computeNormals(),_<=1&&x<=1?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on plane objects with more than 1 detailX or 1 detailY"),this._renderer.createBuffers(b,p)),this._renderer.drawBuffersScaled(b,m,v,1),this},c.default.prototype.box=function(p,m,v,_,x){this._assert3d("box"),c.default._validateParameters("box",arguments),p===void 0&&(p=50),m===void 0&&(m=p),v===void 0&&(v=m);var b,E=this._renderer.attributes&&this._renderer.attributes.perPixelLighting,E=(x===void 0&&(x=E?1:4),"box|".concat(_=_===void 0?E?1:4:_,"|").concat(x));return this._renderer.geometryInHash(E)||((b=new c.default.Geometry(_,x,function(){var S=this;this.edges=[[0,1],[1,3],[3,2],[6,7],[8,9],[9,11],[14,15],[16,17],[17,19],[18,19],[20,21],[22,23]],[[0,4,2,6],[1,3,5,7],[0,1,4,5],[2,6,3,7],[0,2,1,3],[4,5,6,7]].forEach(function(C,D){for(var D=4*D,M=0;M<4;M++){var R=C[M],R=new c.default.Vector((2*(1&R)-1)/2,((2&R)-1)/2,((4&R)/2-1)/2);S.vertices.push(R),S.uvs.push(1&M,(2&M)/2)}S.faces.push([D,1+D,2+D]),S.faces.push([2+D,1+D,3+D])})})).computeNormals(),_<=4&&x<=4?b._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on box objects with more than 4 detailX or 4 detailY"),this._renderer.createBuffers(E,b)),this._renderer.drawBuffersScaled(E,p,m,v),this},c.default.prototype.sphere=function(){var p=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,m=1<arguments.length&&arguments[1]!==void 0?arguments[1]:24,v=2<arguments.length&&arguments[2]!==void 0?arguments[2]:16;return this._assert3d("sphere"),c.default._validateParameters("sphere",arguments),this.ellipsoid(p,p,p,m,v),this};function y(p,m,v,_,x,b,E){p=p<=0?1:p,m=m<0?0:m,v=v<=0?p:v,_=_<3?3:_;for(var S,C,D=(b=b===void 0||b)?-2:0,M=(x=x<1?1:x)+((E=E===void 0?m!==0:E)?2:0),R=Math.atan2(p-m,v),L=Math.sin(R),F=Math.cos(R),I=D;I<=M;++I){var G=I/x,P=v*G,X=void 0,X=I<0?(G=P=0,p):x<I?(P=v,G=1,m):p+(m-p)*G;for(I!==-2&&I!==x+2||(X=0),P-=v/2,S=0;S<_;++S){var V=S/(_-1),J=2*Math.PI*V,H=Math.sin(J),J=Math.cos(J),Z=(this.vertices.push(new c.default.Vector(H*X,P,J*X)),void 0),Z=I<0?new c.default.Vector(0,-1,0):x<I&&m?new c.default.Vector(0,1,0):new c.default.Vector(H*F,L,J*F);this.vertexNormals.push(Z),this.uvs.push(V,G)}}var K=0;if(b){for(C=0;C<_;++C)this.faces.push([K+C,K+_+(C+1)%_,K+_+C]);K+=2*_}for(I=0;I<x;++I){for(S=0;S<_;++S){var Y=(S+1)%_;this.faces.push([K+S,K+Y,K+_+Y]),this.faces.push([K+S,K+_+Y,K+_+S])}K+=_}if(E)for(K+=_,S=0;S<_;++S)this.faces.push([K+S,K+(S+1)%_,K+_])}c.default.prototype.cylinder=function(){var p,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:m,_=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,b=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],E=!(5<arguments.length&&arguments[5]!==void 0)||arguments[5],S=(this._assert3d("cylinder"),c.default._validateParameters("cylinder",arguments),"cylinder|".concat(_,"|").concat(x,"|").concat(b,"|").concat(E));return this._renderer.geometryInHash(S)||(p=new c.default.Geometry(_,x),y.call(p,1,1,1,_,x,b,E),_<=24&&x<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cylinder objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(S,p)),this._renderer.drawBuffersScaled(S,m,v,m),this},c.default.prototype.cone=function(){var p,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:m,_=2<arguments.length&&arguments[2]!==void 0?arguments[2]:24,x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:1,b=!(4<arguments.length&&arguments[4]!==void 0)||arguments[4],E=(this._assert3d("cone"),c.default._validateParameters("cone",arguments),"cone|".concat(_,"|").concat(x,"|").concat(b));return this._renderer.geometryInHash(E)||(p=new c.default.Geometry(_,x),y.call(p,1,0,1,_,x,b,!1),_<=24&&x<=16?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on cone objects with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,p)),this._renderer.drawBuffersScaled(E,m,v,m),this},c.default.prototype.ellipsoid=function(){var p,m=0<arguments.length&&arguments[0]!==void 0?arguments[0]:50,v=1<arguments.length&&arguments[1]!==void 0?arguments[1]:m,_=2<arguments.length&&arguments[2]!==void 0?arguments[2]:m,x=3<arguments.length&&arguments[3]!==void 0?arguments[3]:24,b=4<arguments.length&&arguments[4]!==void 0?arguments[4]:16,E=(this._assert3d("ellipsoid"),c.default._validateParameters("ellipsoid",arguments),"ellipsoid|".concat(x,"|").concat(b));return this._renderer.geometryInHash(E)||((p=new c.default.Geometry(x,b,function(){for(var S=0;S<=this.detailY;S++)for(var C=S/this.detailY,D=Math.PI*C-Math.PI/2,M=Math.cos(D),R=Math.sin(D),L=0;L<=this.detailX;L++){var F=L/this.detailX,G=2*Math.PI*F,I=Math.cos(G),G=Math.sin(G),G=new c.default.Vector(M*G,R,M*I);this.vertices.push(G),this.vertexNormals.push(G),this.uvs.push(F,C)}})).computeFaces(),x<=24&&b<=24?p._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw stroke on ellipsoids with more than 24 detailX or 24 detailY"),this._renderer.createBuffers(E,p)),this._renderer.drawBuffersScaled(E,m,v,_),this},c.default.prototype.torus=function(p,E,v,_){if(this._assert3d("torus"),c.default._validateParameters("torus",arguments),p===void 0)p=50;else if(!p)return;if(E===void 0)E=10;else if(!E)return;v===void 0&&(v=24),_===void 0&&(_=16);var x,b=(E/p).toPrecision(4),E="torus|".concat(b,"|").concat(v,"|").concat(_);return this._renderer.geometryInHash(E)||((x=new c.default.Geometry(v,_,function(){for(var S=0;S<=this.detailY;S++)for(var C=S/this.detailY,D=2*Math.PI*C,M=Math.cos(D),R=Math.sin(D),L=1+b*M,F=0;F<=this.detailX;F++){var I=F/this.detailX,G=2*Math.PI*I,X=Math.cos(G),G=Math.sin(G),P=new c.default.Vector(L*X,L*G,b*R),X=new c.default.Vector(M*X,M*G,R);this.vertices.push(P),this.vertexNormals.push(X),this.uvs.push(I,C)}})).computeFaces(),v<=24&&_<=16?x._makeTriangleEdges()._edgesToVertices():this._renderer._doStroke&&console.log("Cannot draw strokes on torus object with more than 24 detailX or 16 detailY"),this._renderer.createBuffers(E,x)),this._renderer.drawBuffersScaled(E,p,p,p),this},c.default.RendererGL.prototype.point=function(p,m){var v=[];return v.push(new c.default.Vector(p,m,2<arguments.length&&arguments[2]!==void 0?arguments[2]:0)),this._drawPoints(v,this.immediateMode.buffers.point),this},c.default.RendererGL.prototype.triangle=function(E){var m=E[0],v=E[1],_=E[2],x=E[3],b=E[4],E=E[5],S=(this.geometryInHash("tri")||((S=new c.default.Geometry(1,1,function(){var M=[];M.push(new c.default.Vector(0,0,0)),M.push(new c.default.Vector(1,0,0)),M.push(new c.default.Vector(0,1,0)),this.edges=[[0,1],[1,2],[2,0]],this.vertices=M,this.faces=[[0,1,2]],this.uvs=[0,0,1,0,1,1]}))._edgesToVertices(),S.computeNormals(),this.createBuffers("tri",S)),this.uModelMatrix.copy());try{var C=Math.sign(m*x-_*v+_*E-b*x+b*v-m*E),D=new c.default.Matrix([_-m,x-v,0,0,b-m,E-v,0,0,0,0,C,0,m,v,0,1]).mult(this.uModelMatrix);this.uModelMatrix=D,this.drawBuffers("tri")}finally{this.uModelMatrix=S}return this},c.default.RendererGL.prototype.ellipse=function(p){this.arc(p[0],p[1],p[2],p[3],0,d.TWO_PI,d.OPEN,p[4])},c.default.RendererGL.prototype.arc=function(){var p,m=arguments.length<=0?void 0:arguments[0],v=arguments.length<=1?void 0:arguments[1],_=arguments.length<=2?void 0:arguments[2],x=arguments.length<=3?void 0:arguments[3],b=arguments.length<=4?void 0:arguments[4],E=arguments.length<=5?void 0:arguments[5],S=arguments.length<=6?void 0:arguments[6],C=(arguments.length<=7?void 0:arguments[7])||25,D=(Math.abs(E-b)>=d.TWO_PI?"".concat(M="ellipse","|"):"".concat(M="arc","|").concat(b,"|").concat(E,"|").concat(S,"|")).concat(C,"|"),M=(this.geometryInHash(D)||((p=new c.default.Geometry(C,1,function(){if(b.toFixed(10)!==E.toFixed(10)){S!==d.PIE&&S!==void 0||(this.vertices.push(new c.default.Vector(.5,.5,0)),this.uvs.push([.5,.5]));for(var R=0;R<=C;R++){var F=(E-b)*(R/C)+b,L=.5+Math.cos(F)/2,F=.5+Math.sin(F)/2;this.vertices.push(new c.default.Vector(L,F,0)),this.uvs.push([L,F]),R<C-1&&(this.faces.push([0,R+1,R+2]),this.edges.push([R+1,R+2]))}switch(S){case d.PIE:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,1]),this.edges.push([this.vertices.length-2,this.vertices.length-1]),this.edges.push([0,this.vertices.length-1]);break;case d.CHORD:this.edges.push([0,1]),this.edges.push([0,this.vertices.length-1]);break;case d.OPEN:this.edges.push([0,1]);break;default:this.faces.push([0,this.vertices.length-2,this.vertices.length-1]),this.edges.push([this.vertices.length-2,this.vertices.length-1])}}})).computeNormals(),C<=50?p._edgesToVertices(p):this._doStroke&&console.log("Cannot apply a stroke to an ".concat(M," with more than 50 detail")),this.createBuffers(D,p)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([m,v,0]),this.uModelMatrix.scale(_,x,1),this.drawBuffers(D)}finally{this.uModelMatrix=M}return this},c.default.RendererGL.prototype.rect=function(p){var m=p[0],v=p[1],_=p[2],x=p[3];if(p[4]===void 0){var S=this._pInst._glAttributes.perPixelLighting,b=p[4]||(S?1:24),E=p[5]||(S?1:16),S="rect|".concat(b,"|").concat(E),C=(this.geometryInHash(S)||((C=new c.default.Geometry(b,E,function(){for(var Z=0;Z<=this.detailY;Z++)for(var K=Z/this.detailY,Y=0;Y<=this.detailX;Y++){var te=Y/this.detailX,ue=new c.default.Vector(te,K,0);this.vertices.push(ue),this.uvs.push(te,K)}0<b&&0<E&&(this.edges=[[0,b],[b,(b+1)*(E+1)-1],[(b+1)*(E+1)-1,(b+1)*E],[(b+1)*E,0]])})).computeFaces().computeNormals()._edgesToVertices(),this.createBuffers(S,C)),this.uModelMatrix.copy());try{this.uModelMatrix.translate([m,v,0]),this.uModelMatrix.scale(_,x,1),this.drawBuffers(S)}finally{this.uModelMatrix=C}}else{var S=p[4],C=p[5]===void 0?S:p[5],D=p[6]===void 0?C:p[6],p=p[7]===void 0?D:p[7],G=_,M=x,F=((G+=m)<m&&(F=m,m=G,G=F),(M+=v)<v&&(F=v,v=M,M=F),Math.min((G-m)/2,(M-v)/2)),R=(F<S&&(S=F),F<C&&(C=F),F<D&&(D=F),F<p&&(p=F),m),L=v,F=G,m=M,I=(this.beginShape(),C!==0?(this.vertex(F-C,L),this.quadraticVertex(F,L,F,L+C)):this.vertex(F,L),D!==0?(this.vertex(F,m-D),this.quadraticVertex(F,m,F-D,m)):this.vertex(F,m),p!==0?(this.vertex(R+p,m),this.quadraticVertex(R,m,R,m-p)):this.vertex(R,m),S!==0?(this.vertex(R,L+S),this.quadraticVertex(R,L,R+S,L)):this.vertex(R,L),!(this.immediateMode.geometry.uvs.length=0)),v=!1,G=void 0;try{for(var P,X=this.immediateMode.geometry.vertices[Symbol.iterator]();!(I=(P=X.next()).done);I=!0){var V=P.value,H=(V.x-R)/_,J=(V.y-L)/x;this.immediateMode.geometry.uvs.push(H,J)}}catch(O){v=!0,G=O}finally{try{I||X.return==null||X.return()}finally{if(v)throw G}}this.endShape(d.CLOSE)}return this},c.default.RendererGL.prototype.quad=function(p,m,v,_,x,b,E,S,C,D,M,R){var L=12<arguments.length&&arguments[12]!==void 0?arguments[12]:2,F=13<arguments.length&&arguments[13]!==void 0?arguments[13]:2,I="quad|".concat(p,"|").concat(m,"|").concat(v,"|").concat(_,"|").concat(x,"|").concat(b,"|").concat(E,"|").concat(S,"|").concat(C,"|").concat(D,"|").concat(M,"|").concat(R,"|").concat(L,"|").concat(F);if(!this.geometryInHash(I)){var G=new c.default.Geometry(L,F,function(){for(var Y=1/(this.detailX-1),te=1/(this.detailY-1),ue=0;ue<this.detailY;ue++)for(var O=0;O<this.detailX;O++){var U=O*Y,q=ue*te;this.vertices.push(new c.default.Vector((1-U)*((1-q)*p+q*D)+U*((1-q)*_+q*E),(1-U)*((1-q)*m+q*M)+U*((1-q)*x+q*S),(1-U)*((1-q)*v+q*R)+U*((1-q)*b+q*C))),this.uvs.push([U,q])}});G.faces=[];for(var P=0;P<F-1;P++)for(var X=0;X<L-1;X++){var V=X+P*L,H=X+1+(P+1)*L,J=X+(P+1)*L;G.faces.push([V,X+1+P*L,H]),G.faces.push([V,H,J])}G.computeNormals();for(var Z=[G.edges.length=0,2,3,1],K=0;K<Z.length;K++)G.edges.push([Z[K],Z[(K+1)%Z.length]]);G._edgesToVertices(),this.createBuffers(I,G)}return this.drawBuffers(I),this},c.default.RendererGL.prototype.bezier=function(p,m,v,_,x,b,E,S,C,D,M,R){arguments.length===8&&(M=S,D=E,S=b,E=x,x=_,_=v,v=b=C=R=0);var L=this._pInst._bezierDetail||20;this.beginShape();for(var F=0;F<=L;F++){var I=Math.pow(1-F/L,3),G=F/L*3*Math.pow(1-F/L,2),P=3*Math.pow(F/L,2)*(1-F/L),X=Math.pow(F/L,3);this.vertex(p*I+_*G+E*P+D*X,m*I+x*G+S*P+M*X,v*I+b*G+C*P+R*X)}return this.endShape(),this},c.default.RendererGL.prototype.curve=function(p,m,v,_,x,b,E,S,C,D,M,R){arguments.length===8&&(D=E,M=S,E=x,S=_,x=_=v,v=b=C=R=0);var L=this._pInst._curveDetail;this.beginShape();for(var F=0;F<=L;F++){var I=.5*Math.pow(F/L,3),G=.5*Math.pow(F/L,2),P=F/L*.5;this.vertex(I*(3*_-p-3*E+D)+G*(2*p-5*_+4*E-D)+P*(-p+E)+2*_*.5,I*(3*x-m-3*S+M)+G*(2*m-5*x+4*S-M)+P*(-m+S)+2*x*.5,I*(3*b-v-3*C+R)+G*(2*v-5*b+4*C-R)+P*(-v+C)+2*b*.5)}return this.endShape(),this},c.default.RendererGL.prototype.line=function(){return arguments.length===6?(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],arguments.length<=2?void 0:arguments[2]),this.vertex(arguments.length<=3?void 0:arguments[3],arguments.length<=4?void 0:arguments[4],arguments.length<=5?void 0:arguments[5]),this.endShape()):arguments.length===4&&(this.beginShape(d.LINES),this.vertex(arguments.length<=0?void 0:arguments[0],arguments.length<=1?void 0:arguments[1],0),this.vertex(arguments.length<=2?void 0:arguments[2],arguments.length<=3?void 0:arguments[3],0),this.endShape()),this},c.default.RendererGL.prototype.bezierVertex=function(){if(this.immediateMode._bezierVertex.length===0)throw Error("vertex() must be used once before calling bezierVertex()");var p,m,v,_,x,b,E=[],S=[],C=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var D=1/this._lutBezierDetail,M=D,R=1,L=0;M<1;){if(b=parseFloat(M.toFixed(6)),this._lookUpTableBezier[L]=this._bezierCoefficients(b),R.toFixed(6)===D.toFixed(6)){b=parseFloat(R.toFixed(6))+parseFloat(M.toFixed(6)),++L,this._lookUpTableBezier[L]=this._bezierCoefficients(b);break}M+=D,R-=D,++L}}for(var F=this._lookUpTableBezier.length,I=[],G=0;G<4;G++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[3]=this.curFillColor.slice();var P=[];for(G=0;G<4;G++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[3]=this.curStrokeColor.slice(),C===6){this.isBezier=!0;var E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2],arguments.length<=4?void 0:arguments[4]],S=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3],arguments.length<=5?void 0:arguments[5]],X=Math.hypot(E[0]-E[1],S[0]-S[1]),H=Math.hypot(E[1]-E[2],S[1]-S[2]),V=Math.hypot(E[2]-E[3],S[2]-S[3]),H=X+H+V;for(X/=H,V/=H,x=0;x<4;x++)I[1].push(I[0][x]*(1-X)+I[3][x]*X),I[2].push(I[0][x]*V+I[3][x]*(1-V)),P[1].push(P[0][x]*(1-X)+P[3][x]*X),P[2].push(P[0][x]*V+P[3][x]*(1-V));for(_=0;_<F;_++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=p=m=0;G<4;G++){for(x=0;x<4;x++)this.curFillColor[x]+=this._lookUpTableBezier[_][G]*I[G][x],this.curStrokeColor[x]+=this._lookUpTableBezier[_][G]*P[G][x];p+=E[G]*this._lookUpTableBezier[_][G],m+=S[G]*this._lookUpTableBezier[_][G]}this.vertex(p,m)}this.curFillColor=I[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=4?void 0:arguments[4],this.immediateMode._bezierVertex[1]=arguments.length<=5?void 0:arguments[5]}else if(C===9){this.isBezier=!0,E=[this.immediateMode._bezierVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3],arguments.length<=6?void 0:arguments[6]],S=[this.immediateMode._bezierVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4],arguments.length<=7?void 0:arguments[7]];var J=[this.immediateMode._bezierVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5],arguments.length<=8?void 0:arguments[8]],Z=Math.hypot(E[0]-E[1],S[0]-S[1],J[0]-J[1]),H=Math.hypot(E[1]-E[2],S[1]-S[2],J[1]-J[2]),K=Math.hypot(E[2]-E[3],S[2]-S[3],J[2]-J[3]),C=Z+H+K;for(Z/=C,K/=C,x=0;x<4;x++)I[1].push(I[0][x]*(1-Z)+I[3][x]*Z),I[2].push(I[0][x]*K+I[3][x]*(1-K)),P[1].push(P[0][x]*(1-Z)+P[3][x]*Z),P[2].push(P[0][x]*K+P[3][x]*(1-K));for(_=0;_<F;_++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=p=m=v=0;G<4;G++){for(x=0;x<4;x++)this.curFillColor[x]+=this._lookUpTableBezier[_][G]*I[G][x],this.curStrokeColor[x]+=this._lookUpTableBezier[_][G]*P[G][x];p+=E[G]*this._lookUpTableBezier[_][G],m+=S[G]*this._lookUpTableBezier[_][G],v+=J[G]*this._lookUpTableBezier[_][G]}this.vertex(p,m,v)}this.curFillColor=I[3],this.curStrokeColor=P[3],this.immediateMode._bezierVertex[0]=arguments.length<=6?void 0:arguments[6],this.immediateMode._bezierVertex[1]=arguments.length<=7?void 0:arguments[7],this.immediateMode._bezierVertex[2]=arguments.length<=8?void 0:arguments[8]}},c.default.RendererGL.prototype.quadraticVertex=function(){if(this.immediateMode._quadraticVertex.length===0)throw Error("vertex() must be used once before calling quadraticVertex()");var p,m,v,_,x,b,E=[],S=[],C=arguments.length;if(this._lookUpTableQuadratic.length===0||this._lutQuadraticDetail!==this._pInst._curveDetail){this._lookUpTableQuadratic=[],this._lutQuadraticDetail=this._pInst._curveDetail;for(var D=1/this._lutQuadraticDetail,M=D,R=1,L=0;M<1;){if(b=parseFloat(M.toFixed(6)),this._lookUpTableQuadratic[L]=this._quadraticCoefficients(b),R.toFixed(6)===D.toFixed(6)){b=parseFloat(R.toFixed(6))+parseFloat(M.toFixed(6)),++L,this._lookUpTableQuadratic[L]=this._quadraticCoefficients(b);break}M+=D,R-=D,++L}}for(var F=this._lookUpTableQuadratic.length,I=[],G=0;G<3;G++)I.push([]);I[0]=this.immediateMode.geometry.vertexColors.slice(-4),I[2]=this.curFillColor.slice();var P=[];for(G=0;G<3;G++)P.push([]);if(P[0]=this.immediateMode.geometry.vertexStrokeColors.slice(-4),P[2]=this.curStrokeColor.slice(),C===4){this.isQuadratic=!0;var E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=2?void 0:arguments[2]],S=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=3?void 0:arguments[3]],X=Math.hypot(E[0]-E[1],S[0]-S[1]);for(X/=X+Math.hypot(E[1]-E[2],S[1]-S[2]),x=0;x<4;x++)I[1].push(I[0][x]*(1-X)+I[2][x]*X),P[1].push(P[0][x]*(1-X)+P[2][x]*X);for(_=0;_<F;_++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=p=m=0;G<3;G++){for(x=0;x<4;x++)this.curFillColor[x]+=this._lookUpTableQuadratic[_][G]*I[G][x],this.curStrokeColor[x]+=this._lookUpTableQuadratic[_][G]*P[G][x];p+=E[G]*this._lookUpTableQuadratic[_][G],m+=S[G]*this._lookUpTableQuadratic[_][G]}this.vertex(p,m)}this.curFillColor=I[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=2?void 0:arguments[2],this.immediateMode._quadraticVertex[1]=arguments.length<=3?void 0:arguments[3]}else if(C===6){this.isQuadratic=!0,E=[this.immediateMode._quadraticVertex[0],arguments.length<=0?void 0:arguments[0],arguments.length<=3?void 0:arguments[3]],S=[this.immediateMode._quadraticVertex[1],arguments.length<=1?void 0:arguments[1],arguments.length<=4?void 0:arguments[4]];var V=[this.immediateMode._quadraticVertex[2],arguments.length<=2?void 0:arguments[2],arguments.length<=5?void 0:arguments[5]],H=Math.hypot(E[0]-E[1],S[0]-S[1],V[0]-V[1]);for(H/=H+Math.hypot(E[1]-E[2],S[1]-S[2],V[1]-V[2]),x=0;x<4;x++)I[1].push(I[0][x]*(1-H)+I[2][x]*H),P[1].push(P[0][x]*(1-H)+P[2][x]*H);for(_=0;_<F;_++){for(this.curFillColor=[0,0,0,0],this.curStrokeColor=[0,0,0,0],G=p=m=v=0;G<3;G++){for(x=0;x<4;x++)this.curFillColor[x]+=this._lookUpTableQuadratic[_][G]*I[G][x],this.curStrokeColor[x]+=this._lookUpTableQuadratic[_][G]*P[G][x];p+=E[G]*this._lookUpTableQuadratic[_][G],m+=S[G]*this._lookUpTableQuadratic[_][G],v+=V[G]*this._lookUpTableQuadratic[_][G]}this.vertex(p,m,v)}this.curFillColor=I[2],this.curStrokeColor=P[2],this.immediateMode._quadraticVertex[0]=arguments.length<=3?void 0:arguments[3],this.immediateMode._quadraticVertex[1]=arguments.length<=4?void 0:arguments[4],this.immediateMode._quadraticVertex[2]=arguments.length<=5?void 0:arguments[5]}},c.default.RendererGL.prototype.curveVertex=function(){var p,m,v,_,x,b,E=[],S=[],C=arguments.length;if(this._lookUpTableBezier.length===0||this._lutBezierDetail!==this._pInst._curveDetail){this._lookUpTableBezier=[],this._lutBezierDetail=this._pInst._curveDetail;for(var D=1/this._lutBezierDetail,M=D,R=1,L=0;M<1;){if(b=parseFloat(M.toFixed(6)),this._lookUpTableBezier[L]=this._bezierCoefficients(b),R.toFixed(6)===D.toFixed(6)){b=parseFloat(R.toFixed(6))+parseFloat(M.toFixed(6)),++L,this._lookUpTableBezier[L]=this._bezierCoefficients(b);break}M+=D,R-=D,++L}}var F=this._lookUpTableBezier.length;if(C===2){if(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.length===8){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[6]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[7]]),x=0;x<F;x++)m=E[0]*this._lookUpTableBezier[x][0]+E[1]*this._lookUpTableBezier[x][1]+E[2]*this._lookUpTableBezier[x][2]+E[3]*this._lookUpTableBezier[x][3],v=S[0]*this._lookUpTableBezier[x][0]+S[1]*this._lookUpTableBezier[x][1]+S[2]*this._lookUpTableBezier[x][2]+S[3]*this._lookUpTableBezier[x][3],this.vertex(m,v);for(x=0;x<C;x++)this.immediateMode._curveVertex.shift()}}else if(C===3&&(this.immediateMode._curveVertex.push(arguments.length<=0?void 0:arguments[0]),this.immediateMode._curveVertex.push(arguments.length<=1?void 0:arguments[1]),this.immediateMode._curveVertex.push(arguments.length<=2?void 0:arguments[2]),this.immediateMode._curveVertex.length===12)){for(this.isCurve=!0,E=this._bezierToCatmull([this.immediateMode._curveVertex[0],this.immediateMode._curveVertex[3],this.immediateMode._curveVertex[6],this.immediateMode._curveVertex[9]]),S=this._bezierToCatmull([this.immediateMode._curveVertex[1],this.immediateMode._curveVertex[4],this.immediateMode._curveVertex[7],this.immediateMode._curveVertex[10]]),p=this._bezierToCatmull([this.immediateMode._curveVertex[2],this.immediateMode._curveVertex[5],this.immediateMode._curveVertex[8],this.immediateMode._curveVertex[11]]),x=0;x<F;x++)m=E[0]*this._lookUpTableBezier[x][0]+E[1]*this._lookUpTableBezier[x][1]+E[2]*this._lookUpTableBezier[x][2]+E[3]*this._lookUpTableBezier[x][3],v=S[0]*this._lookUpTableBezier[x][0]+S[1]*this._lookUpTableBezier[x][1]+S[2]*this._lookUpTableBezier[x][2]+S[3]*this._lookUpTableBezier[x][3],_=p[0]*this._lookUpTableBezier[x][0]+p[1]*this._lookUpTableBezier[x][1]+p[2]*this._lookUpTableBezier[x][2]+p[3]*this._lookUpTableBezier[x][3],this.vertex(m,v,_);for(x=0;x<C;x++)this.immediateMode._curveVertex.shift()}},c.default.RendererGL.prototype.image=function(p,R,v,L,x,b,E,S,C){this._isErasing&&this.blendMode(this._cachedBlendMode),this._pInst.push(),this._pInst.noLights(),this._pInst.noStroke(),this._pInst.texture(p),this._pInst.textureMode(d.NORMAL);var D=0,M=(R<=p.width&&(D=R/p.width),1),R=(R+L<=p.width&&(M=(R+L)/p.width),0),L=(v<=p.height&&(R=v/p.height),1);v+x<=p.height&&(L=(v+x)/p.height),this.beginShape(),this.vertex(b,E,0,D,R),this.vertex(b+S,E,0,M,R),this.vertex(b+S,E+C,0,M,L),this.vertex(b,E+C,0,D,L),this.endShape(d.CLOSE),this._pInst.pop(),this._isErasing&&this.blendMode(d.REMOVE)};var h=c.default;s.default=h},{"../core/constants":272,"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.number.to-fixed":182,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],327:[function(t,l,s){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function u(m){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.every"),t("core-js/modules/es.array.map"),t("core-js/modules/es.object.assign"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var v=g();if(v&&v.has(m))return v.get(m);var _,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in m){var E;Object.prototype.hasOwnProperty.call(m,_)&&((E=b?Object.getOwnPropertyDescriptor(m,_):null)&&(E.get||E.set)?Object.defineProperty(x,_,E):x[_]=m[_])}return x.default=m,v&&v.set(m,x),x}(t("../core/constants"));function g(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,g=function(){return m},m)}function y(m){return function(v){if(Array.isArray(v)){for(var _=0,x=new Array(v.length);_<v.length;_++)x[_]=v[_];return x}}(m)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(m,v){for(var _=0;_<v.length;_++){var x=v[_];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(m,x.key,x)}}var p=function(){function m(x){if(!(this instanceof m))throw new TypeError("Cannot call a class as a function");(this.renderer=x)._pInst.push(),this.identityMatrix=new c.default.Matrix,x.uModelMatrix=new c.default.Matrix,this.geometry=new c.default.Geometry,this.geometry.gid="_p5_GeometryBuilder_".concat(m.nextGeometryId),m.nextGeometryId++,this.hasTransform=!1}var v,_;return v=m,(_=[{key:"transformVertices",value:function(x){var b=this;return this.hasTransform?x.map(function(E){return b.renderer.uModelMatrix.multiplyPoint(E)}):x}},{key:"transformNormals",value:function(x){var b=this;return this.hasTransform?x.map(function(E){return b.renderer.uNMatrix.multiplyVec3(E)}):x}},{key:"addGeometry",value:function(x){for(var b,E=this,S=(this.hasTransform=!this.renderer.uModelMatrix.mat4.every(function(D,M){return D===E.identityMatrix.mat4[M]}),this.hasTransform&&this.renderer.uNMatrix.inverseTranspose(this.renderer.uModelMatrix),this.geometry.vertices.length),C=((b=this.geometry.vertices).push.apply(b,y(this.transformVertices(x.vertices))),(b=this.geometry.vertexNormals).push.apply(b,y(this.transformNormals(x.vertexNormals))),(b=this.geometry.uvs).push.apply(b,y(x.uvs)),this.renderer._doFill&&(b=this.geometry.faces).push.apply(b,y(x.faces.map(function(D){return D.map(function(M){return M+S})}))),this.renderer._doStroke&&(b=this.geometry.edges).push.apply(b,y(x.edges.map(function(D){return D.map(function(M){return M+S})}))),y(x.vertexColors));C.length<4*x.vertices.length;)C.push.apply(C,y(this.renderer.curFillColor));(b=this.geometry.vertexColors).push.apply(b,y(C))}},{key:"addImmediate",value:function(){var x=this.renderer.immediateMode.geometry,b=this.renderer.immediateMode.shapeMode,E=[];if(this.renderer._doFill)if(b===d.TRIANGLE_STRIP||b===d.QUAD_STRIP)for(var S=2;S<x.vertices.length;S++)S%2==0?E.push([S,S-1,S-2]):E.push([S,S-2,S-1]);else if(b===d.TRIANGLE_FAN)for(var C=2;C<x.vertices.length;C++)E.push([0,C-1,C]);else for(var D=0;D<x.vertices.length;D+=3)E.push([D,D+1,D+2]);this.addGeometry(Object.assign({},x,{faces:E}))}},{key:"addRetained",value:function(x){this.addGeometry(x.model)}},{key:"finish",value:function(){return this.renderer._pInst.pop(),this.geometry}}])&&h(v.prototype,_),m}();p.nextGeometryId=0,s.default=p},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.every":155,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],328:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.math.sign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var u=(y=t("../core/main"))&&y.__esModule?y:{default:y},c=function(h){if(h&&h.__esModule)return h;if(h===null||g(h)!=="object"&&typeof h!="function")return{default:h};var p=d();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function d(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,d=function(){return h},h)}function g(h){return(g=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}u.default.prototype.orbitControl=function(h,p,m,C){var _=this,x=(this._assert3d("orbitControl"),u.default._validateParameters("orbitControl",arguments),this._renderer._curCamera);h===void 0&&(h=1),p===void 0&&(p=h),m===void 0&&(m=1),g(C)!=="object"&&(C={}),this.contextMenuDisabled!==!0&&(this.canvas.oncontextmenu=function(){return!1},this._setProperty("contextMenuDisabled",!0)),this.wheelDefaultDisabled!==!0&&(this.canvas.onwheel=function(){return!1},this._setProperty("wheelDefaultDisabled",!0));var M=C.disableTouchActions;this.touchActionsDisabled===!0||M!==void 0&&!M||(this.canvas.style["touch-action"]="none",this._setProperty("touchActionsDisabled",!0));var b,E,S,M=C.freeRotation,C=M!==void 0&&M,D=[],M=(this.touches.forEach(function(X){_._renderer.prevTouches.forEach(function(V){X.id===V.id&&(V={x:X.x,y:X.y,px:V.x,py:V.y},D.push(V))})}),this._renderer.prevTouches=this.touches,0),R=0,L=0,F=0,I=0,G=this.height<this.width?this.height:this.width,P=!1;return 0<D.length?(P=0<D[0].x&&D[0].x<this.width&&0<D[0].y&&D[0].y<this.height,D.length===1?(R=-h*((b=D[0]).x-b.px)/G,L=p*(b.y-b.py)/G):(b=D[0],E=D[1],M=-(Math.hypot(b.x-E.x,b.y-E.y)-Math.hypot(b.px-E.px,b.py-E.py))*m*4e-4,F=.5*(b.x+E.x)-.5*(b.px+E.px),I=.5*(b.y+E.y)-.5*(b.py+E.py)),0<this.touches.length?P&&(this._renderer.executeRotateAndMove=!0,this._renderer.executeZoom=!0):(this._renderer.executeRotateAndMove=!1,this._renderer.executeZoom=!1)):(P=0<this.mouseX&&this.mouseX<this.width&&0<this.mouseY&&this.mouseY<this.height,this._mouseWheelDeltaY!==0?(M=Math.sign(this._mouseWheelDeltaY)*m,M*=.01,this._mouseWheelDeltaY=0,P&&(this._renderer.executeZoom=!0)):this._renderer.executeZoom=!1,this.mouseIsPressed?(this.mouseButton===this.LEFT?(R=-h*this.movedX/G,L=p*this.movedY/G):this.mouseButton===this.RIGHT&&(F=this.movedX,I=this.movedY*x.yScale),P&&(this._renderer.executeRotateAndMove=!0)):this._renderer.executeRotateAndMove=!1),M!==0&&this._renderer.executeZoom&&(this._renderer.zoomVelocity+=M),.001<Math.abs(this._renderer.zoomVelocity)?(C?x._orbitFree(0,0,this._renderer.zoomVelocity):x._orbit(0,0,this._renderer.zoomVelocity),x.projMatrix.mat4[15]!==0&&(x.projMatrix.mat4[0]*=Math.pow(10,-this._renderer.zoomVelocity),x.projMatrix.mat4[5]*=Math.pow(10,-this._renderer.zoomVelocity),this._renderer.uPMatrix.mat4[0]=x.projMatrix.mat4[0],this._renderer.uPMatrix.mat4[5]=x.projMatrix.mat4[5]),this._renderer.zoomVelocity*=.85):this._renderer.zoomVelocity=0,R===0&&L===0||!this._renderer.executeRotateAndMove||this._renderer.rotateVelocity.add(.6*R,.6*L),1e-6<this._renderer.rotateVelocity.magSq()?(C?x._orbitFree(-this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0):x._orbit(this._renderer.rotateVelocity.x,this._renderer.rotateVelocity.y,0),this._renderer.rotateVelocity.mult(.85)):this._renderer.rotateVelocity.set(0,0),F===0&&I===0||!this._renderer.executeRotateAndMove||(b=2*F/this.width,E=2*-I/this.height,this._renderer.moveVelocity.add(.15*b,.15*E)),1e-6<this._renderer.moveVelocity.magSq()?(m=x._getLocalAxes(),h=x.eyeX-x.centerX,p=x.eyeY-x.centerY,G=x.eyeZ-x.centerZ,P=Math.sqrt(h*h+p*p+G*G),M=new u.default.Vector(x.centerX,x.centerY,x.centerZ),M=x.cameraMatrix.multiplyPoint(M),(M=this._renderer.uPMatrix.multiplyAndNormalizePoint(M)).x-=this._renderer.moveVelocity.x,M.y-=this._renderer.moveVelocity.y,L=(R=this._renderer.uPMatrix.mat4)[15]===0?(S=(R[8]+M.x)/R[0]*P,(R[9]+M.y)/R[5]*P):(S=(M.x-R[12])/R[0],(M.y-R[13])/R[5]),x.setPosition(x.eyeX+S*m.x[0]+L*m.y[0],x.eyeY+S*m.x[1]+L*m.y[1],x.eyeZ+S*m.x[2]+L*m.y[2]),this._renderer.moveVelocity.mult(.85)):this._renderer.moveVelocity.set(0,0),this},u.default.prototype.debugMode=function(){this._assert3d("debugMode");for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];u.default._validateParameters("debugMode",p);for(var v=this._registeredMethods.post.length-1;0<=v;v--)this._registeredMethods.post[v].toString()!==this._grid().toString()&&this._registeredMethods.post[v].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(v,1);p[0]===c.GRID?this.registerMethod("post",this._grid(p[1],p[2],p[3],p[4],p[5])):p[0]===c.AXES?this.registerMethod("post",this._axesIcon(p[1],p[2],p[3],p[4])):(this.registerMethod("post",this._grid(p[0],p[1],p[2],p[3],p[4])),this.registerMethod("post",this._axesIcon(p[5],p[6],p[7],p[8])))},u.default.prototype.noDebugMode=function(){this._assert3d("noDebugMode");for(var h=this._registeredMethods.post.length-1;0<=h;h--)this._registeredMethods.post[h].toString()!==this._grid().toString()&&this._registeredMethods.post[h].toString()!==this._axesIcon().toString()||this._registeredMethods.post.splice(h,1)},u.default.prototype._grid=function(h,p,m,v,_){h===void 0&&(h=this.width/2),p===void 0&&(p=Math.round(h/30)<4?4:Math.round(h/30)),m===void 0&&(m=0),v===void 0&&(v=0),_===void 0&&(_=0);var x=h/p,b=h/2;return function(){this.push(),this.stroke(255*this._renderer.curStrokeColor[0],255*this._renderer.curStrokeColor[1],255*this._renderer.curStrokeColor[2]),this._renderer.uModelMatrix.reset();for(var E=0;E<=p;E++)this.beginShape(this.LINES),this.vertex(-b+m,v,E*x-b+_),this.vertex(b+m,v,E*x-b+_),this.endShape();for(var S=0;S<=p;S++)this.beginShape(this.LINES),this.vertex(S*x-b+m,v,-b+_),this.vertex(S*x-b+m,v,b+_),this.endShape();this.pop()}},u.default.prototype._axesIcon=function(h,p,m,v){return h===void 0&&(h=40<this.width/20?this.width/20:40),p===void 0&&(p=-this.width/4),m===void 0&&(m=p),v===void 0&&(v=p),function(){this.push(),this._renderer.uModelMatrix.reset(),this.strokeWeight(2),this.stroke(255,0,0),this.beginShape(this.LINES),this.vertex(p,m,v),this.vertex(p+h,m,v),this.endShape(),this.stroke(0,255,0),this.beginShape(this.LINES),this.vertex(p,m,v),this.vertex(p,m+h,v),this.endShape(),this.stroke(0,0,255),this.beginShape(this.LINES),this.vertex(p,m,v),this.vertex(p,m,v+h),this.endShape(),this.pop()}};var y=u.default;s.default=y},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.splice":171,"core-js/modules/es.math.hypot":176,"core-js/modules/es.math.sign":178,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],329:[function(t,l,s){t("core-js/modules/es.array.filter"),t("core-js/modules/es.array.filter"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};o.default.prototype.ambientLight=function(u,c,d,g){this._assert3d("ambientLight"),o.default._validateParameters("ambientLight",arguments);var y=this.color.apply(this,arguments);return this._renderer.ambientLightColors.push(y._array[0],y._array[1],y._array[2]),this._renderer._enableLighting=!0,this},o.default.prototype.specularColor=function(u,c,d){this._assert3d("specularColor"),o.default._validateParameters("specularColor",arguments);var g=this.color.apply(this,arguments);return this._renderer.specularColors=[g._array[0],g._array[1],g._array[2]],this},o.default.prototype.directionalLight=function(u,_,v,g,y,h){this._assert3d("directionalLight"),o.default._validateParameters("directionalLight",arguments),u=u instanceof o.default.Color?u:this.color(u,_,v);var p,m,_=arguments[arguments.length-1],v=typeof _=="number"?(p=arguments[arguments.length-3],m=arguments[arguments.length-2],arguments[arguments.length-1]):(p=_.x,m=_.y,_.z),_=Math.sqrt(p*p+m*m+v*v);return this._renderer.directionalLightDirections.push(p/_,m/_,v/_),this._renderer.directionalLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.directionalLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.pointLight=function(u,v,_,g,y,h){this._assert3d("pointLight"),o.default._validateParameters("pointLight",arguments),u=u instanceof o.default.Color?u:this.color(u,v,_);var p,m,v=arguments[arguments.length-1],_=typeof v=="number"?(p=arguments[arguments.length-3],m=arguments[arguments.length-2],arguments[arguments.length-1]):(p=v.x,m=v.y,v.z);return this._renderer.pointLightPositions.push(p,m,_),this._renderer.pointLightDiffuseColors.push(u._array[0],u._array[1],u._array[2]),Array.prototype.push.apply(this._renderer.pointLightSpecularColors,this._renderer.specularColors),this._renderer._enableLighting=!0,this},o.default.prototype.imageLight=function(u){this._renderer.activeImageLight=u,this._renderer._enableLighting=!0},o.default.prototype.panorama=function(u){this.filter(this._renderer._getSphereMapping(u))},o.default.prototype.lights=function(){this._assert3d("lights");var u=this.color("rgb(128,128,128)");return this.ambientLight(u),this.directionalLight(u,0,0,-1),this},o.default.prototype.lightFalloff=function(u,c,d){return this._assert3d("lightFalloff"),o.default._validateParameters("lightFalloff",arguments),u<0&&(u=0,console.warn("Value of constant argument in lightFalloff() should be never be negative. Set to 0.")),c<0&&(c=0,console.warn("Value of linear argument in lightFalloff() should be never be negative. Set to 0.")),d<0&&(d=0,console.warn("Value of quadratic argument in lightFalloff() should be never be negative. Set to 0.")),u===0&&c===0&&d===0&&(u=1,console.warn("Either one of the three arguments in lightFalloff() should be greater than zero. Set constant argument to 1.")),this._renderer.constantAttenuation=u,this._renderer.linearAttenuation=c,this._renderer.quadraticAttenuation=d,this},o.default.prototype.spotLight=function(u,c,d,g,y,h,p,m,v,_,x){this._assert3d("spotLight"),o.default._validateParameters("spotLight",arguments);var b,E,S,C=arguments.length;switch(C){case 11:case 10:b=this.color(u,c,d),E=new o.default.Vector(g,y,h),S=new o.default.Vector(p,m,v);break;case 9:u instanceof o.default.Color?(b=u,E=new o.default.Vector(c,d,g),S=new o.default.Vector(y,h,p),_=m,x=v):g instanceof o.default.Vector?(b=this.color(u,c,d),E=g,S=new o.default.Vector(y,h,p),_=m,x=v):p instanceof o.default.Vector?(b=this.color(u,c,d),E=new o.default.Vector(g,y,h),S=p,_=m,x=v):(b=this.color(u,c,d),E=new o.default.Vector(g,y,h),S=new o.default.Vector(p,m,v));break;case 8:_=(S=u instanceof o.default.Color?(b=u,E=new o.default.Vector(c,d,g),new o.default.Vector(y,h,p)):g instanceof o.default.Vector?(b=this.color(u,c,d),E=g,new o.default.Vector(y,h,p)):(b=this.color(u,c,d),E=new o.default.Vector(g,y,h),p),m);break;case 7:u instanceof o.default.Color&&c instanceof o.default.Vector?(b=u,E=c,S=new o.default.Vector(d,g,y),_=h,x=p):u instanceof o.default.Color&&y instanceof o.default.Vector?(b=u,E=new o.default.Vector(c,d,g),S=y,_=h,x=p):g instanceof o.default.Vector&&y instanceof o.default.Vector?(b=this.color(u,c,d),E=g,S=y,_=h,x=p):S=u instanceof o.default.Color?(b=u,E=new o.default.Vector(c,d,g),new o.default.Vector(y,h,p)):g instanceof o.default.Vector?(b=this.color(u,c,d),E=g,new o.default.Vector(y,h,p)):(b=this.color(u,c,d),E=new o.default.Vector(g,y,h),p);break;case 6:g instanceof o.default.Vector&&y instanceof o.default.Vector?(b=this.color(u,c,d),E=g,S=y,_=h):u instanceof o.default.Color&&y instanceof o.default.Vector?(b=u,E=new o.default.Vector(c,d,g),S=y,_=h):u instanceof o.default.Color&&c instanceof o.default.Vector&&(b=u,E=c,S=new o.default.Vector(d,g,y),_=h);break;case 5:u instanceof o.default.Color&&c instanceof o.default.Vector&&d instanceof o.default.Vector?(b=u,E=c,S=d,_=g,x=y):g instanceof o.default.Vector&&y instanceof o.default.Vector?(b=this.color(u,c,d),E=g,S=y):u instanceof o.default.Color&&y instanceof o.default.Vector?(b=u,E=new o.default.Vector(c,d,g),S=y):u instanceof o.default.Color&&c instanceof o.default.Vector&&(b=u,E=c,S=new o.default.Vector(d,g,y));break;case 4:b=u,E=c,S=d,_=g;break;case 3:b=u,E=c,S=d;break;default:return console.warn("Sorry, input for spotlight() is not in prescribed format. Too ".concat(C<3?"few":"many"," arguments were provided")),this}return this._renderer.spotLightDiffuseColors.push(b._array[0],b._array[1],b._array[2]),Array.prototype.push.apply(this._renderer.spotLightSpecularColors,this._renderer.specularColors),this._renderer.spotLightPositions.push(E.x,E.y,E.z),S.normalize(),this._renderer.spotLightDirections.push(S.x,S.y,S.z),_===void 0&&(_=Math.PI/3),x!==void 0&&x<1?(x=1,console.warn("Value of concentration needs to be greater than 1. Setting it to 1")):x===void 0&&(x=100),_=this._renderer._pInst._toRadians(_),this._renderer.spotLightAngle.push(Math.cos(_)),this._renderer.spotLightConc.push(x),this._renderer._enableLighting=!0,this},o.default.prototype.noLights=function(){this._assert3d("noLights");for(var u=arguments.length,c=new Array(u),d=0;d<u;d++)c[d]=arguments[d];return o.default._validateParameters("noLights",c),this._renderer.activeImageLight=null,this._renderer._enableLighting=!1,this._renderer.ambientLightColors.length=0,this._renderer.specularColors=[1,1,1],this._renderer.directionalLightDirections.length=0,this._renderer.directionalLightDiffuseColors.length=0,this._renderer.directionalLightSpecularColors.length=0,this._renderer.pointLightPositions.length=0,this._renderer.pointLightDiffuseColors.length=0,this._renderer.pointLightSpecularColors.length=0,this._renderer.spotLightPositions.length=0,this._renderer.spotLightDirections.length=0,this._renderer.spotLightDiffuseColors.length=0,this._renderer.spotLightSpecularColors.length=0,this._renderer.spotLightAngle.length=0,this._renderer.spotLightConc.length=0,this._renderer.constantAttenuation=1,this._renderer.linearAttenuation=0,this._renderer.quadraticAttenuation=0,this._renderer._useShininess=1,this._renderer._useMetalness=0,this},t=o.default,s.default=t},{"../core/main":283,"core-js/modules/es.array.filter":157}],330:[function(t,l,s){function o(_){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(x){return typeof x}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x})(_)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.splice"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.promise"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.match"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.trim"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t("regenerator-runtime/runtime");var u=(v=t("../core/main"))&&v.__esModule?v:{default:v};function c(_){return function(x){if(Array.isArray(x)){for(var b=0,E=new Array(x.length);b<x.length;b++)E[b]=x[b];return E}}(_)||function(x){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]")return Array.from(x)}(_)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function d(_,x,b,E,S,C,D){try{var M=_[C](D),R=M.value}catch(L){return void b(L)}M.done?x(R):Promise.resolve(R).then(E,S)}function g(_){return function(){var x=this,b=arguments;return new Promise(function(E,S){var C=_.apply(x,b);function D(R){d(C,E,S,D,M,"next",R)}function M(R){d(C,E,S,D,M,"throw",R)}D(void 0)})}}function y(_){return(y=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(x){return o(x)}:function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":o(x)})(_)}function h(_,x,b){for(var E=2<arguments.length&&b!==void 0?b:{},S={v:[],vt:[],vn:[]},C={},D=null,M=new Set,R=!1,L=!1,F=0;F<x.length;++F){var I=x[F].trim().split(/\b\s+/);if(0<I.length){if(I[0]==="usemtl")D=I[1];else if(I[0]==="v"||I[0]==="vn"){var G=new u.default.Vector(parseFloat(I[1]),parseFloat(I[2]),parseFloat(I[3]));S[I[0]].push(G)}else if(I[0]==="vt")G=[parseFloat(I[1]),1-parseFloat(I[2])],S[I[0]].push(G);else if(I[0]==="f")for(var P=3;P<I.length;++P){for(var X=[],V=[1,P-1,P],H=0;H<V.length;++H){for(var J,Z=I[V[H]],K=Z.split("/"),Y=0;Y<K.length;Y++)K[Y]=parseInt(K[Y])-1;C[Z]||(C[Z]={}),C[Z][D]===void 0?(J=_.vertices.length,_.vertices.push(S.v[K[0]].copy()),_.uvs.push(S.vt[K[1]]?S.vt[K[1]].slice():[0,0]),_.vertexNormals.push(S.vn[K[2]]?S.vn[K[2]].copy():new u.default.Vector),C[Z][D]=J,X.push(J),D&&E[D]&&E[D].diffuseColor&&M.add(S.v[K[0]])):X.push(C[Z][D])}if(X[0]!==X[1]&&X[0]!==X[2]&&X[1]!==X[2])if(_.faces.push(X),D&&E[D]&&E[D].diffuseColor)for(var R=R=!0,te=E[D].diffuseColor,ue=0;ue<X.length;ue++)_.vertexColors.push(te[0]),_.vertexColors.push(te[1]),_.vertexColors.push(te[2]);else L=!0}}}if(_.vertexNormals.length===0&&_.computeNormals(),R===L)throw new Error("Model coloring is inconsistent. Either all vertices should have colors or none should.")}function p(_,x){if(function(xe){for(var se=new DataView(xe),be=[115,111,108,105,100],Ae=0;Ae<5;Ae++)if(function(De,je,Oe){for(var ke=0,tt=De.length;ke<tt;ke++)if(De[ke]!==je.getUint8(Oe+ke,!1))return;return 1}(be,se,Ae))return;return 1}(x)){for(var b,E,S,C,D,M,R,L=_,F=new DataView(x),I=F.getUint32(80,!0),G=!1,P=0;P<70;P++)F.getUint32(P,!1)===1129270351&&F.getUint8(P+4)===82&&F.getUint8(P+5)===61&&(G=!0,C=[],D=F.getUint8(P+6)/255,M=F.getUint8(P+7)/255,R=F.getUint8(P+8)/255);for(var X=0;X<I;X++){for(var V,H=84+50*X,J=F.getFloat32(H,!0),Z=F.getFloat32(4+H,!0),K=F.getFloat32(8+H,!0),Y=(G&&(V=F.getUint16(48+H,!0),S=32768&V?(b=D,E=M,R):(b=(31&V)/31,E=(V>>5&31)/31,(V>>10&31)/31)),new u.default.Vector(J,Z,K)),te=1;te<=3;te++){var ue=H+12*te,ue=new u.default.Vector(F.getFloat32(ue,!0),F.getFloat32(4+ue,!0),F.getFloat32(8+ue,!0));L.vertices.push(ue),L.vertexNormals.push(Y),G&&C.push(b,E,S)}L.faces.push([3*X,3*X+1,3*X+2]),L.uvs.push([0,0],[0,0],[0,0])}}else if(x=new DataView(x),"TextDecoder"in window)for(var O,U,q=_,Q=new TextDecoder("utf-8").decode(x).split(`
`),ae="",ie=[],he=0;he<Q.length;++he){for(var ge=Q[he].trim(),fe=ge.split(" "),ve=0;ve<fe.length;++ve)fe[ve]===""&&fe.splice(ve,1);if(fe.length!==0)switch(ae){case"":if(fe[0]!=="solid")return console.error(ge),void console.error('Invalid state "'.concat(fe[0],'", should be "solid"'));ae="solid";break;case"solid":if(fe[0]!=="facet"||fe[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(fe[0],'", should be "facet normal"'));O=new u.default.Vector(parseFloat(fe[2]),parseFloat(fe[3]),parseFloat(fe[4])),q.vertexNormals.push(O,O,O),ae="facet normal";break;case"facet normal":if(fe[0]!=="outer"||fe[1]!=="loop")return console.error(ge),void console.error('Invalid state "'.concat(fe[0],'", should be "outer loop"'));ae="vertex";break;case"vertex":if(fe[0]==="vertex")U=new u.default.Vector(parseFloat(fe[1]),parseFloat(fe[2]),parseFloat(fe[3])),q.vertices.push(U),q.uvs.push([0,0]),ie.push(q.vertices.indexOf(U));else{if(fe[0]!=="endloop")return console.error(ge),void console.error('Invalid state "'.concat(fe[0],'", should be "vertex" or "endloop"'));q.faces.push(ie),ie=[],ae="endloop"}break;case"endloop":if(fe[0]!=="endfacet")return console.error(ge),void console.error('Invalid state "'.concat(fe[0],'", should be "endfacet"'));ae="endfacet";break;case"endfacet":if(fe[0]!=="endsolid"){if(fe[0]!=="facet"||fe[1]!=="normal")return console.error(ge),void console.error('Invalid state "'.concat(fe[0],'", should be "endsolid" or "facet normal"'));O=new u.default.Vector(parseFloat(fe[2]),parseFloat(fe[3]),parseFloat(fe[4])),q.vertexNormals.push(O,O,O),ae="facet normal"}break;default:console.error('Invalid state "'.concat(ae,'"'))}}else console.warn("Sorry, ASCII STL loading only works in browsers that support TextDecoder (https://caniuse.com/#feat=textencoder)")}t("./p5.Geometry"),u.default.prototype.loadModel=function(_,x){u.default._validateParameters("loadModel",arguments);var b,E,S=!1,C=!1,D=!1,M=_.slice(-4),R=(x&&y(x)==="object"?(S=x.normalize||!1,b=x.successCallback,E=x.failureCallback,M=x.fileType||M,C=x.flipU||!1,D=x.flipV||!1):typeof x=="boolean"?(S=x,b=arguments[2],E=arguments[3],arguments[4]!==void 0&&(M=arguments[4])):(b=typeof x=="function"?x:void 0,E=arguments[2],arguments[3]!==void 0&&(M=arguments[3])),new u.default.Geometry),L=(R.gid="".concat(_,"|").concat(S),this);function F(){return(F=g(regeneratorRuntime.mark(function G(P){var X,V,H,J;return regeneratorRuntime.wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:for(X=[],V=0;V<P.length;V++)(H=P[V].match(/^mtllib (.+)/))&&function(){var K="",Y=H[1],te=_.split("/");K=1<te.length?(te.pop(),te.join("/")+"/"+Y):Y,X.push(function(){return I.apply(this,arguments)}(K).then(function(ue){return ue?(O=L,U=K,new Promise(function(q,Q){var ae=null,ie={};O.loadStrings(U,function(he){for(var ge=0;ge<he.length;++ge){var fe,ve=he[ge].trim().split(/\s+/);ve[0]==="newmtl"?(fe=ve[1],ie[ae=fe]={}):ve[0]==="Kd"?ie[ae].diffuseColor=[parseFloat(ve[1]),parseFloat(ve[2]),parseFloat(ve[3])]:ve[0]==="Ka"?ie[ae].ambientColor=[parseFloat(ve[1]),parseFloat(ve[2]),parseFloat(ve[3])]:ve[0]==="Ks"?ie[ae].specularColor=[parseFloat(ve[1]),parseFloat(ve[2]),parseFloat(ve[3])]:ve[0]==="map_Kd"&&(ie[ae].texturePath=ve[1])}q(ie)},Q)})):(console.warn("MTL file not found or error in parsing; proceeding without materials: ".concat(K)),{});var O,U}).catch(function(ue){return console.warn("Error loading MTL file: ".concat(K),ue),{}}))}();return Z.prev=2,Z.next=5,Promise.all(X);case 5:return J=Z.sent,J=Object.assign.apply(Object,[{}].concat(c(J))),Z.abrupt("return",J);case 10:return Z.prev=10,Z.t0=Z.catch(2),Z.abrupt("return",{});case 13:case"end":return Z.stop()}},G,null,[[2,10]])}))).apply(this,arguments)}function I(){return(I=g(regeneratorRuntime.mark(function G(P){var X;return regeneratorRuntime.wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.prev=0,V.next=3,fetch(P,{method:"HEAD"});case 3:return X=V.sent,V.abrupt("return",X.ok);case 7:return V.prev=7,V.t0=V.catch(0),V.abrupt("return",!1);case 10:case"end":return V.stop()}},G,null,[[0,7]])}))).apply(this,arguments)}return M.match(/\.stl$/i)?this.httpDo(_,"GET","arrayBuffer",function(G){p(R,G),S&&R.normalize(),C&&R.flipU(),D&&R.flipV(),L._decrementPreload(),typeof b=="function"&&b(R)},E):M.match(/\.obj$/i)?this.loadStrings(_,function(){var G=g(regeneratorRuntime.mark(function P(X){var V;return regeneratorRuntime.wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.prev=0,H.next=3,function(){return F.apply(this,arguments)}(X);case 3:V=H.sent,h(R,X,V),H.next=11;break;case 7:return H.prev=7,H.t0=H.catch(0),E?E(H.t0):u.default._friendlyError("Error during parsing: "+H.t0.message),H.abrupt("return");case 11:return H.prev=11,S&&R.normalize(),C&&R.flipU(),D&&R.flipV(),R._makeTriangleEdges(),L._decrementPreload(),typeof b=="function"&&b(R),H.finish(11);case 19:case"end":return H.stop()}},P,null,[[0,7,11,19]])}));return function(P){return G.apply(this,arguments)}}(),E):(u.default._friendlyFileLoadError(3,_),E?E():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.")),R},u.default.prototype.model=function(_){this._assert3d("model"),u.default._validateParameters("model",arguments),0<_.vertices.length&&(this._renderer.geometryInHash(_.gid)||(_._edgesToVertices(),this._renderer.createBuffers(_.gid,_)),this._renderer.drawBuffers(_.gid))};var m=0,v=(u.default.prototype.createModel=function(_){var x,b,E=1<arguments.length&&arguments[1]!==void 0?arguments[1]:" ",M=2<arguments.length?arguments[2]:void 0,S=(u.default._validateParameters("createModel",arguments),!1),C=!1,D=!1,M=(M&&y(M)==="object"?(S=M.normalize||!1,x=M.successCallback,b=M.failureCallback,C=M.flipU||!1,D=M.flipV||!1):b=typeof M=="boolean"?(S=M,x=arguments[3],arguments[4]):(x=typeof arguments[2]=="function"?arguments[2]:void 0,arguments[3]),new u.default.Geometry);if(M.gid="".concat(E,"|").concat(S,"|").concat(m++),E.match(/\.stl$/i))try{p(M,new TextEncoder().encode(_).buffer)}catch(R){return void(b?b(R):u.default._friendlyError("Error during parsing: "+R.message))}else if(E.match(/\.obj$/i))try{h(M,_.split(`
`))}catch(R){return void(b?b(R):u.default._friendlyError("Error during parsing: "+R.message))}else u.default._friendlyFileLoadError(3,_),b?b():u.default._friendlyError("Sorry, the file type is invalid. Only OBJ and STL files are supported.");return S&&M.normalize(),C&&M.flipU(),D&&M.flipV(),M._makeTriangleEdges(),typeof x=="function"&&x(M),M},u.default);s.default=v},{"../core/main":283,"./p5.Geometry":335,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.from":162,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.splice":171,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.to-string":190,"core-js/modules/es.promise":191,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.match":201,"core-js/modules/es.string.split":206,"core-js/modules/es.string.trim":209,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246,"regenerator-runtime/runtime":260}],331:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.includes"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.join"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.includes"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=g();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants"));function g(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,g=function(){return h},h)}t("./p5.Texture"),c.default.prototype.loadShader=function(h,p,m,v){c.default._validateParameters("loadShader",arguments),v=v||console.error;function _(){b._decrementPreload(),m&&m(x)}var x=new c.default.Shader,b=this,E=!1,S=!1;return this.loadStrings(h,function(C){x._vertSrc=C.join(`
`),S=!0,E&&_()},v),this.loadStrings(p,function(C){x._fragSrc=C.join(`
`),E=!0,S&&_()},v),x},c.default.prototype.createShader=function(h,p,m){return c.default._validateParameters("createShader",arguments),new c.default.Shader(this._renderer,h,p,m)},c.default.prototype.createFilterShader=function(h){c.default._validateParameters("createFilterShader",arguments);var p=h.includes("#version 300 es")?`#version 300 es
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    in vec3 aPosition;
    in vec2 aTexCoord;
    out vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `:`
    uniform mat4 uModelViewMatrix;
    uniform mat4 uProjectionMatrix;

    attribute vec3 aPosition;
    // texcoords only come from p5 to vertex shader
    // so pass texcoords on to the fragment shader in a varying variable
    attribute vec2 aTexCoord;
    varying vec2 vTexCoord;

    void main() {
      // transferring texcoords for the frag shader
      vTexCoord = aTexCoord;

      // copy position with a fourth coordinate for projection (1.0 is normal)
      vec4 positionVec4 = vec4(aPosition, 1.0);

      // project to 3D space
      gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
    }
  `,p=new c.default.Shader(this._renderer,p,h);return this._renderer.GL?p.ensureCompiledOnContext(this):p.ensureCompiledOnContext(this._renderer.getFilterGraphicsLayer()),p},c.default.prototype.shader=function(h){return this._assert3d("shader"),c.default._validateParameters("shader",arguments),h.ensureCompiledOnContext(this),h.isStrokeShader()?this._renderer.userStrokeShader=h:(this._renderer.userFillShader=h,this._renderer._useNormalMaterial=!1),h.setDefaultUniforms(),this},c.default.prototype.baseMaterialShader=function(){return this._assert3d("baseMaterialShader"),this._renderer.baseMaterialShader()},c.default.prototype.baseNormalShader=function(){return this._assert3d("baseNormalShader"),this._renderer.baseNormalShader()},c.default.prototype.baseColorShader=function(){return this._assert3d("baseColorShader"),this._renderer.baseColorShader()},c.default.prototype.baseStrokeShader=function(){return this._assert3d("baseStrokeShader"),this._renderer.baseStrokeShader()},c.default.prototype.resetShader=function(){return this._renderer.userFillShader=this._renderer.userStrokeShader=null,this},c.default.prototype.texture=function(h){return this._assert3d("texture"),c.default._validateParameters("texture",arguments),h.gifProperties&&h._animateGif(this),this._renderer.drawMode=d.TEXTURE,this._renderer._useNormalMaterial=!1,this._renderer._tex=h,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.textureMode=function(h){h!==d.IMAGE&&h!==d.NORMAL?console.warn("You tried to set ".concat(h," textureMode only supports IMAGE & NORMAL ")):this._renderer.textureMode=h},c.default.prototype.textureWrap=function(h){var p=1<arguments.length&&arguments[1]!==void 0?arguments[1]:h,m=(this._renderer.textureWrapX=h,this._renderer.textureWrapY=p,!0),v=!1,_=void 0;try{for(var x,b=this._renderer.textures.values()[Symbol.iterator]();!(m=(x=b.next()).done);m=!0)x.value.setWrapMode(h,p)}catch(E){v=!0,_=E}finally{try{m||b.return==null||b.return()}finally{if(v)throw _}}},c.default.prototype.normalMaterial=function(){this._assert3d("normalMaterial");for(var h=arguments.length,p=new Array(h),m=0;m<h;m++)p[m]=arguments[m];return c.default._validateParameters("normalMaterial",p),this._renderer.drawMode=d.FILL,this._renderer._useSpecularMaterial=!1,this._renderer._useEmissiveMaterial=!1,this._renderer._useNormalMaterial=!0,this._renderer.curFillColor=[1,1,1,1],this._renderer._setProperty("_doFill",!0),this.noStroke(),this},c.default.prototype.ambientMaterial=function(h,p,m){this._assert3d("ambientMaterial"),c.default._validateParameters("ambientMaterial",arguments);var v=c.default.prototype.color.apply(this,arguments);return this._renderer._hasSetAmbient=!0,this._renderer.curAmbientColor=v._array,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this._renderer._setProperty("_doFill",!0),this},c.default.prototype.emissiveMaterial=function(h,p,m,v){this._assert3d("emissiveMaterial"),c.default._validateParameters("emissiveMaterial",arguments);var _=c.default.prototype.color.apply(this,arguments);return this._renderer.curEmissiveColor=_._array,this._renderer._useEmissiveMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.specularMaterial=function(h,p,m,v){this._assert3d("specularMaterial"),c.default._validateParameters("specularMaterial",arguments);var _=c.default.prototype.color.apply(this,arguments);return this._renderer.curSpecularColor=_._array,this._renderer._useSpecularMaterial=!0,this._renderer._useNormalMaterial=!1,this._renderer._enableLighting=!0,this},c.default.prototype.shininess=function(h){return this._assert3d("shininess"),c.default._validateParameters("shininess",arguments),this._renderer._useShininess=h=h<1?1:h,this},c.default.prototype.metalness=function(h){return this._assert3d("metalness"),h=1-Math.exp(-h/100),this._renderer._useMetalness=h,this},c.default.RendererGL.prototype._applyColorBlend=function(h,_){var m=this.GL,v=this.drawMode===d.TEXTURE,_=_||this.userFillShader||this.userStrokeShader||this.userPointShader||v||this.curBlendMode!==d.BLEND||h[h.length-1]<1||this._isErasing;return _!==this._isBlending&&(_||this.curBlendMode!==d.BLEND&&this.curBlendMode!==d.ADD?m.enable(m.BLEND):m.disable(m.BLEND),m.depthMask(!0),this._isBlending=_),this._applyBlendMode(),h},c.default.RendererGL.prototype._applyBlendMode=function(){if(this._cachedBlendMode!==this.curBlendMode){var h=this.GL;switch(this.curBlendMode){case d.BLEND:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ONE_MINUS_SRC_ALPHA);break;case d.ADD:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ONE);break;case d.REMOVE:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ZERO,h.ONE_MINUS_SRC_ALPHA);break;case d.MULTIPLY:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.DST_COLOR,h.ONE_MINUS_SRC_ALPHA);break;case d.SCREEN:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ONE_MINUS_SRC_COLOR);break;case d.EXCLUSION:h.blendEquationSeparate(h.FUNC_ADD,h.FUNC_ADD),h.blendFuncSeparate(h.ONE_MINUS_DST_COLOR,h.ONE_MINUS_SRC_COLOR,h.ONE,h.ONE);break;case d.REPLACE:h.blendEquation(h.FUNC_ADD),h.blendFunc(h.ONE,h.ZERO);break;case d.SUBTRACT:h.blendEquationSeparate(h.FUNC_REVERSE_SUBTRACT,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE_MINUS_SRC_ALPHA);break;case d.DARKEST:this.blendExt?(h.blendEquationSeparate(this.blendExt.MIN||this.blendExt.MIN_EXT,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE)):console.warn("blendMode(DARKEST) does not work in your browser in WEBGL mode.");break;case d.LIGHTEST:this.blendExt?(h.blendEquationSeparate(this.blendExt.MAX||this.blendExt.MAX_EXT,h.FUNC_ADD),h.blendFuncSeparate(h.ONE,h.ONE,h.ONE,h.ONE)):console.warn("blendMode(LIGHTEST) does not work in your browser in WEBGL mode.");break;default:console.error("Oops! Somehow RendererGL set curBlendMode to an unsupported mode.")}this._isErasing||(this._cachedBlendMode=this.curBlendMode)}};var y=c.default;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.Texture":343,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.join":166,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],332:[function(t,l,s){t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.hypot"),t("core-js/modules/es.string.sub"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c,d){for(var g=0;g<d.length;g++){var y=d[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}o.default.prototype.camera=function(){var c;this._assert3d("camera");for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return o.default._validateParameters("camera",g),(c=this._renderer._curCamera).camera.apply(c,g),this},o.default.prototype.perspective=function(){var c;this._assert3d("perspective");for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return o.default._validateParameters("perspective",g),(c=this._renderer._curCamera).perspective.apply(c,g),this},o.default.prototype.linePerspective=function(c){if(o.default._validateParameters("linePerspective",arguments),!(this._renderer instanceof o.default.RendererGL))throw new Error("linePerspective() must be called in WebGL mode.");if(c===void 0)return this._renderer._curCamera.useLinePerspective;this._renderer._curCamera.useLinePerspective=c},o.default.prototype.ortho=function(){var c;this._assert3d("ortho");for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return o.default._validateParameters("ortho",g),(c=this._renderer._curCamera).ortho.apply(c,g),this},o.default.prototype.frustum=function(){var c;this._assert3d("frustum");for(var d=arguments.length,g=new Array(d),y=0;y<d;y++)g[y]=arguments[y];return o.default._validateParameters("frustum",g),(c=this._renderer._curCamera).frustum.apply(c,g),this},o.default.prototype.createCamera=function(){this._assert3d("createCamera");var c=new o.default.Camera(this._renderer);return c._computeCameraDefaultSettings(),c._setDefaultCamera(),this._renderer._curCamera=c},o.default.Camera=function(){function c(y){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this._renderer=y,this.cameraType="default",this.useLinePerspective=!0,this.cameraMatrix=new o.default.Matrix,this.projMatrix=new o.default.Matrix,this.yScale=1}var d,g;return d=c,(g=[{key:"perspective",value:function(v,h,p,m){this.cameraType=0<arguments.length?"custom":"default",v===void 0?(v=this.defaultCameraFOV,this.cameraFOV=v):this.cameraFOV=this._renderer._pInst._toRadians(v),h===void 0&&(h=this.defaultAspectRatio),p===void 0&&(p=this.defaultCameraNear),m===void 0&&(m=this.defaultCameraFar),p<=1e-4&&(p=.01,console.log("Avoid perspective near plane values close to or below 0. Setting value to 0.01.")),m<p&&console.log("Perspective far plane value is less than near plane value. Nothing will be shown."),this.aspectRatio=h,this.cameraNear=p,this.cameraFar=m,this.projMatrix=o.default.Matrix.identity();var v=1/Math.tan(this.cameraFOV/2),_=1/(this.cameraNear-this.cameraFar);this.projMatrix.set(v/h,0,0,0,0,-v*this.yScale,0,0,0,0,(m+p)*_,-1,0,0,2*m*p*_,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix)}},{key:"ortho",value:function(M,D,p,m,v,_){var R=this.fbo||this._renderer,R=(M===void 0&&(M=-R.width/2),D===void 0&&(D=+R.width/2),p===void 0&&(p=-R.height/2),m===void 0&&(m=+R.height/2),v===void 0&&(v=0),_===void 0&&(_=Math.max(R.width,R.height)+800),this.cameraNear=v,D-M),x=m-p,b=(this.cameraFar=_)-v,E=2/R,S=2/x*this.yScale,C=-2/b,D=-(D+M)/R,M=-(m+p)/x,R=-(_+v)/b;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-S,0,0,0,0,C,0,D,M,R,1),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"frustum",value:function(M,D,p,m,v,_){M===void 0&&(M=.05*-this._renderer.width),D===void 0&&(D=.05*+this._renderer.width),p===void 0&&(p=.05*+this._renderer.height),m===void 0&&(m=.05*-this._renderer.height),v===void 0&&(v=this.defaultCameraNear),_===void 0&&(_=this.defaultCameraFar),this.cameraNear=v;var R=D-M,x=m-p,b=(this.cameraFar=_)-v,E=2*v/R,S=2*v/x*this.yScale,C=-2*_*v/b,D=(D+M)/R,M=(m+p)/x,R=-(_+v)/b;this.projMatrix=o.default.Matrix.identity(),this.projMatrix.set(E,0,0,0,0,-S,0,0,D,M,R,-1,0,0,C,0),this._isActive()&&this._renderer.uPMatrix.set(this.projMatrix),this.cameraType="custom"}},{key:"_rotateView",value:function(E,h,p,m){var v=this.centerX,_=this.centerY,x=this.centerZ,b=(v-=this.eyeX,_-=this.eyeY,x-=this.eyeZ,o.default.Matrix.identity(this._renderer._pInst)),E=(b.rotate(this._renderer._pInst._toRadians(E),h,p,m),[v*b.mat4[0]+_*b.mat4[4]+x*b.mat4[8],v*b.mat4[1]+_*b.mat4[5]+x*b.mat4[9],v*b.mat4[2]+_*b.mat4[6]+x*b.mat4[10]]);E[0]+=this.eyeX,E[1]+=this.eyeY,E[2]+=this.eyeZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,E[0],E[1],E[2],this.upX,this.upY,this.upZ)}},{key:"roll",value:function(p){var h=this._getLocalAxes(),p=o.default.Quat.fromAxisAngle(this._renderer._pInst._toRadians(p),h.z[0],h.z[1],h.z[2]).rotateVector(new o.default.Vector(this.upX,this.upY,this.upZ));this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,p.x,p.y,p.z)}},{key:"pan",value:function(y){var h=this._getLocalAxes();this._rotateView(y,h.y[0],h.y[1],h.y[2])}},{key:"tilt",value:function(y){var h=this._getLocalAxes();this._rotateView(y,h.x[0],h.x[1],h.x[2])}},{key:"lookAt",value:function(y,h,p){this.camera(this.eyeX,this.eyeY,this.eyeZ,y,h,p,this.upX,this.upY,this.upZ)}},{key:"camera",value:function(y,h,p,m,v,_,x,b,E){return y===void 0&&(y=this.defaultEyeX,h=this.defaultEyeY,p=this.defaultEyeZ,m=y,v=h,b=1,E=x=_=0),this.eyeX=y,this.eyeY=h,this.eyeZ=p,m!==void 0&&(this.centerX=m,this.centerY=v,this.centerZ=_),x!==void 0&&(this.upX=x,this.upY=b,this.upZ=E),m=this._getLocalAxes(),this.cameraMatrix.set(m.x[0],m.y[0],m.z[0],0,m.x[1],m.y[1],m.z[1],0,m.x[2],m.y[2],m.z[2],0,0,0,0,1),v=-y,this.cameraMatrix.translate([v,-h,-p]),this._isActive()&&this._renderer.uViewMatrix.set(this.cameraMatrix),this}},{key:"move",value:function(m,v,p){var _=this._getLocalAxes(),m=[_.x[0]*m,_.x[1]*m,_.x[2]*m],v=[_.y[0]*v,_.y[1]*v,_.y[2]*v],_=[_.z[0]*p,_.z[1]*p,_.z[2]*p];this.camera(this.eyeX+m[0]+v[0]+_[0],this.eyeY+m[1]+v[1]+_[1],this.eyeZ+m[2]+v[2]+_[2],this.centerX+m[0]+v[0]+_[0],this.centerY+m[1]+v[1]+_[1],this.centerZ+m[2]+v[2]+_[2],this.upX,this.upY,this.upZ)}},{key:"setPosition",value:function(y,h,p){var m=y-this.eyeX,v=h-this.eyeY,_=p-this.eyeZ;this.camera(y,h,p,this.centerX+m,this.centerY+v,this.centerZ+_,this.upX,this.upY,this.upZ)}},{key:"set",value:function(y){for(var h=0,p=["eyeX","eyeY","eyeZ","centerX","centerY","centerZ","upX","upY","upZ","cameraFOV","aspectRatio","cameraNear","cameraFar","cameraType","yScale","useLinePerspective"];h<p.length;h++){var m=p[h];this[m]=y[m]}this.cameraMatrix=y.cameraMatrix.copy(),this.projMatrix=y.projMatrix.copy(),this._isActive()&&(this._renderer.uModelMatrix.reset(),this._renderer.uViewMatrix.set(this.cameraMatrix),this._renderer.uPMatrix.set(this.projMatrix))}},{key:"slerp",value:function(y,h,p){var m,v,_,x,b,E,S,C,D,M,R,L,F,I,G,P,X,V;p===0?this.set(y):p===1?this.set(h):(this.projMatrix.mat4[15]!==0&&(this.projMatrix.mat4[0]=y.projMatrix.mat4[0]*Math.pow(h.projMatrix.mat4[0]/y.projMatrix.mat4[0],p),this.projMatrix.mat4[5]=y.projMatrix.mat4[5]*Math.pow(h.projMatrix.mat4[5]/y.projMatrix.mat4[5],p),this._isActive()&&(this._renderer.uPMatrix.mat4=this.projMatrix.mat4.slice())),x=new o.default.Vector(y.eyeX,y.eyeY,y.eyeZ),b=new o.default.Vector(h.eyeX,h.eyeY,h.eyeZ),P=new o.default.Vector(y.centerX,y.centerY,y.centerZ),V=new o.default.Vector(h.centerX,h.centerY,h.centerZ),_=o.default.Vector.dist(x,P),m=o.default.Vector.dist(b,V),m=_*Math.pow(m/_,p),_=o.default.Vector.sub(x,b),v=1,1e-6<(X=(I=x.copy().sub(b).sub(P).add(V)).magSq())&&(v=o.default.Vector.dot(_,I)/X,v=Math.max(0,Math.min(v,1))),_=o.default.Vector.lerp(o.default.Vector.lerp(x,P,v),o.default.Vector.lerp(b,V,v),p),I=y.cameraMatrix.createSubMatrix3x3(),X=h.cameraMatrix.createSubMatrix3x3(),x=I.row(2),P=X.row(2),b=I.row(1),V=X.row(1),y=new o.default.Vector,h=new o.default.Vector,E=new o.default.Vector,S=new o.default.Vector,1-(C=.5*((I=(X=X.mult3x3(I.copy().transpose3x3())).diagonal())[0]+I[1]+I[2]-1))<1e-7?(y.set(o.default.Vector.lerp(x,P,p)).normalize(),E.set(y).mult(v*m).add(_),S.set(y).mult((v-1)*m).add(_),h.set(o.default.Vector.lerp(b,V,p)).normalize()):(P=1/(1-C),V=Math.max(I[0],I[1],I[2]),L=X.mat3[1]+X.mat3[3],F=X.mat3[2]+X.mat3[6],G=X.mat3[5]+X.mat3[7],V=V===I[0]?(M=.5*L*(P/=D=Math.sqrt((I[0]-C)*P)),R=.5*F*P,.5*(X.mat3[7]-X.mat3[5])/D):V===I[1]?(R=.5*G*(P/=M=Math.sqrt((I[1]-C)*P)),D=.5*L*P,.5*(X.mat3[2]-X.mat3[6])/M):(D=.5*F*(P/=R=Math.sqrt((I[2]-C)*P)),M=.5*G*P,.5*(X.mat3[3]-X.mat3[1])/R),L=p*Math.atan2(V,C),F=Math.cos(L),I=Math.sin(L),(V=new o.default.Matrix("mat3",[F+(G=1-F)*D*D,G*(P=D*M)+I*R,G*(X=R*D)-I*M,G*P-I*R,F+G*M*M,G*(p=M*R)+I*D,G*X+I*M,G*p-I*D,F+G*R*R])).multiplyVec3(x,y),E.set(y).mult(v*m).add(_),S.set(y).mult((v-1)*m).add(_),V.multiplyVec3(b,h)),this.camera(E.x,E.y,E.z,S.x,S.y,S.z,h.x,h.y,h.z))}},{key:"_computeCameraDefaultSettings",value:function(){this.defaultAspectRatio=this._renderer.width/this._renderer.height,this.defaultEyeX=0,this.defaultEyeY=0,this.defaultEyeZ=800,this.defaultCameraFOV=2*Math.atan(this._renderer.height/2/this.defaultEyeZ),this.defaultCenterX=0,this.defaultCenterY=0,this.defaultCenterZ=0,this.defaultCameraNear=.1*this.defaultEyeZ,this.defaultCameraFar=10*this.defaultEyeZ}},{key:"_setDefaultCamera",value:function(){this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.eyeX=this.defaultEyeX,this.eyeY=this.defaultEyeY,this.eyeZ=this.defaultEyeZ,this.centerX=this.defaultCenterX,this.centerY=this.defaultCenterY,this.centerZ=this.defaultCenterZ,this.upX=0,this.upY=1,this.upZ=0,this.cameraNear=this.defaultCameraNear,this.cameraFar=this.defaultCameraFar,this.perspective(),this.camera(),this.cameraType="default"}},{key:"_resize",value:function(){this.cameraType==="default"&&(this._computeCameraDefaultSettings(),this.cameraFOV=this.defaultCameraFOV,this.aspectRatio=this.defaultAspectRatio,this.perspective())}},{key:"copy",value:function(){var y=new o.default.Camera(this._renderer);return y.cameraFOV=this.cameraFOV,y.aspectRatio=this.aspectRatio,y.eyeX=this.eyeX,y.eyeY=this.eyeY,y.eyeZ=this.eyeZ,y.centerX=this.centerX,y.centerY=this.centerY,y.centerZ=this.centerZ,y.upX=this.upX,y.upY=this.upY,y.upZ=this.upZ,y.cameraNear=this.cameraNear,y.cameraFar=this.cameraFar,y.cameraType=this.cameraType,y.useLinePerspective=this.useLinePerspective,y.cameraMatrix=this.cameraMatrix.copy(),y.projMatrix=this.projMatrix.copy(),y.yScale=this.yScale,y}},{key:"_getLocalAxes",value:function(){var y=this.eyeX-this.centerX,h=this.eyeY-this.centerY,p=this.eyeZ-this.centerZ,x=Math.sqrt(y*y+h*h+p*p),x=(x!==0&&(y/=x,h/=x,p/=x),this.upX),m=(b=this.upY)*p-(E=this.upZ)*h,v=-x*p+E*y,_=x*h-b*y,x=h*_-p*v,b=-y*_+p*m,E=y*v-h*m,S=Math.sqrt(m*m+v*v+_*_),S=(S!==0&&(m/=S,v/=S,_/=S),Math.sqrt(x*x+b*b+E*E));return S!==0&&(x/=S,b/=S,E/=S),{x:[m,v,_],y:[x,b,E],z:[y,h,p]}}},{key:"_orbit",value:function(y,S,E){var v=this.eyeX-this.centerX,_=this.eyeY-this.centerY,x=this.eyeZ-this.centerZ,m=Math.hypot(v,_,x),v=new o.default.Vector(v,_,x).normalize(),_=new o.default.Vector(this.upX,this.upY,this.upZ).normalize(),x=o.default.Vector.cross(_,v).normalize(),b=o.default.Vector.cross(x,_),E=((m=(m*=Math.pow(10,E))<this.cameraNear?this.cameraNear:m)>this.cameraFar&&(m=this.cameraFar),Math.acos(Math.max(-1,Math.min(1,o.default.Vector.dot(v,_))))+S),S=y;(E<=0||E>=Math.PI)&&(this.upX*=-1,this.upY*=-1,this.upZ*=-1),_.mult(Math.cos(E)),b.mult(Math.cos(S)*Math.sin(E)),x.mult(Math.sin(S)*Math.sin(E)),v.set(_).add(b).add(x),this.eyeX=m*v.x+this.centerX,this.eyeY=m*v.y+this.centerY,this.eyeZ=m*v.z+this.centerZ,this.camera(this.eyeX,this.eyeY,this.eyeZ,this.centerX,this.centerY,this.centerZ,this.upX,this.upY,this.upZ)}},{key:"_orbitFree",value:function(E,S,D){var v=this.eyeX-this.centerX,_=this.eyeY-this.centerY,x=this.eyeZ-this.centerZ,m=Math.hypot(v,_,x),v=new o.default.Vector(v,_,x).normalize(),_=new o.default.Vector(this.upX,this.upY,this.upZ),x=o.default.Vector.cross(_,v).normalize(),b=o.default.Vector.cross(v,x),M=Math.atan2(S,E),M=(b.mult(Math.sin(M)),x.mult(Math.cos(M)).add(b),Math.sqrt(E*E+S*S)),b=o.default.Vector.cross(v,x),E=((m=(m*=Math.pow(10,D))<this.cameraNear?this.cameraNear:m)>this.cameraFar&&(m=this.cameraFar),Math.cos(M)),S=Math.sin(M),D=_.dot(v),M=_.dot(x),C=D*E+M*S,D=-D*S+M*E,M=_.dot(b);_.x=C*v.x+D*x.x+M*b.x,_.y=C*v.y+D*x.y+M*b.y,_.z=C*v.z+D*x.z+M*b.z,x.mult(-S),v.mult(E).add(x).mult(m),this.camera(v.x+this.centerX,v.y+this.centerY,v.z+this.centerZ,this.centerX,this.centerY,this.centerZ,_.x,_.y,_.z)}},{key:"_isActive",value:function(){return this===this._renderer._curCamera}}])&&u(d.prototype,g),c}(),o.default.prototype.setCamera=function(c){this._renderer._curCamera=c,this._renderer.uPMatrix.set(c.projMatrix),this._renderer.uViewMatrix.set(c.cameraMatrix)},t=o.default.Camera,s.default=t},{"../core/main":283,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.hypot":176,"core-js/modules/es.string.sub":208}],333:[function(t,l,s){t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.math.log2"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}t.default.DataArray=function(){function u(){var g=0<arguments.length&&arguments[0]!==void 0?arguments[0]:128,y=this,h=u;if(!(y instanceof h))throw new TypeError("Cannot call a class as a function");this.length=0,this.data=new Float32Array(g),this.initialLength=g}var c,d;return c=u,(d=[{key:"dataArray",value:function(){return this.subArray(0,this.length)}},{key:"clear",value:function(){this.length=0}},{key:"rescale",value:function(){var g;this.length<this.data.length/2&&(g=1<<Math.ceil(Math.log2(this.length)),(g=new Float32Array(g)).set(this.data.subarray(0,this.length),0),this.data=g)}},{key:"reset",value:function(){this.clear(),this.data=new Float32Array(this.initialLength)}},{key:"push",value:function(){for(var g=arguments.length,y=new Array(g),h=0;h<g;h++)y[h]=arguments[h];this.ensureLength(this.length+y.length),this.data.set(y,this.length),this.length+=y.length}},{key:"slice",value:function(g,y){return this.data.slice(g,Math.min(y,this.length))}},{key:"subArray",value:function(g,y){return this.data.subarray(g,Math.min(y,this.length))}},{key:"ensureLength",value:function(g){for(;this.data.length<g;){var y=new Float32Array(2*this.data.length);y.set(this.data,0),this.data=y}}}])&&o(c.prototype,d),u}(),t=t.default.DataArray,s.default=t},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.math.log2":177,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],334:[function(L,l,s){function o(F){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(I){return typeof I}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":typeof I})(F)}function u(F){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(I){return o(I)}:function(I){return I&&typeof Symbol=="function"&&I.constructor===Symbol&&I!==Symbol.prototype?"symbol":o(I)})(F)}L("core-js/modules/es.symbol"),L("core-js/modules/es.symbol.description"),L("core-js/modules/es.symbol.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-own-property-descriptor"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.reflect.construct"),L("core-js/modules/es.reflect.get"),L("core-js/modules/es.regexp.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.string.iterator"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),L("core-js/modules/es.weak-map"),L("core-js/modules/web.dom-collections.iterator"),L("core-js/modules/es.array.fill"),L("core-js/modules/es.array.includes"),L("core-js/modules/es.array.iterator"),L("core-js/modules/es.object.get-prototype-of"),L("core-js/modules/es.object.to-string"),L("core-js/modules/es.string.includes"),L("core-js/modules/es.typed-array.float32-array"),L("core-js/modules/es.typed-array.uint8-array"),L("core-js/modules/es.typed-array.uint8-clamped-array"),L("core-js/modules/es.typed-array.copy-within"),L("core-js/modules/es.typed-array.every"),L("core-js/modules/es.typed-array.fill"),L("core-js/modules/es.typed-array.filter"),L("core-js/modules/es.typed-array.find"),L("core-js/modules/es.typed-array.find-index"),L("core-js/modules/es.typed-array.for-each"),L("core-js/modules/es.typed-array.includes"),L("core-js/modules/es.typed-array.index-of"),L("core-js/modules/es.typed-array.iterator"),L("core-js/modules/es.typed-array.join"),L("core-js/modules/es.typed-array.last-index-of"),L("core-js/modules/es.typed-array.map"),L("core-js/modules/es.typed-array.reduce"),L("core-js/modules/es.typed-array.reduce-right"),L("core-js/modules/es.typed-array.reverse"),L("core-js/modules/es.typed-array.set"),L("core-js/modules/es.typed-array.slice"),L("core-js/modules/es.typed-array.some"),L("core-js/modules/es.typed-array.sort"),L("core-js/modules/es.typed-array.subarray"),L("core-js/modules/es.typed-array.to-locale-string"),L("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(R=L("../core/main"))&&R.__esModule?R:{default:R},d=function(F){if(F&&F.__esModule)return F;if(F===null||u(F)!=="object"&&typeof F!="function")return{default:F};var I=h();if(I&&I.has(F))return I.get(F);var G,P={},X=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(G in F){var V;Object.prototype.hasOwnProperty.call(F,G)&&((V=X?Object.getOwnPropertyDescriptor(F,G):null)&&(V.get||V.set)?Object.defineProperty(P,G,V):P[G]=F[G])}return P.default=F,I&&I.set(F,P),P}(L("../core/constants")),g=L("./p5.Texture"),y=L("./p5.RendererGL");function h(){var F;return typeof WeakMap!="function"?null:(F=new WeakMap,h=function(){return F},F)}function p(F,I){return function(G){if(Array.isArray(G))return G}(F)||function(G,P){if(Symbol.iterator in Object(G)||Object.prototype.toString.call(G)==="[object Arguments]"){var X=[],V=!0,H=!1,J=void 0;try{for(var Z,K=G[Symbol.iterator]();!(V=(Z=K.next()).done)&&(X.push(Z.value),!P||X.length!==P);V=!0);}catch(Y){H=!0,J=Y}finally{try{V||K.return==null||K.return()}finally{if(H)throw J}}return X}}(F,I)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(F,I,G){return I in F?Object.defineProperty(F,I,{value:G,enumerable:!0,configurable:!0,writable:!0}):F[I]=G,F}function v(F,I){if(!(F instanceof I))throw new TypeError("Cannot call a class as a function")}function _(F,I){for(var G=0;G<I.length;G++){var P=I[G];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(F,P.key,P)}}function x(F,I,G){I&&_(F.prototype,I)}function b(F,I,G){return(b=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(H,X,V){var H=function(J,Z){for(;!Object.prototype.hasOwnProperty.call(J,Z)&&(J=C(J))!==null;);return J}(H,X);if(H)return(H=Object.getOwnPropertyDescriptor(H,X)).get?H.get.call(V):H.value})(F,I,G||F)}function E(F,I){return(E=Object.setPrototypeOf||function(G,P){return G.__proto__=P,G})(F,I)}function S(F){return function(){var I,G=C(F),G=(I=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(I=C(this).constructor,Reflect.construct(G,arguments,I)):G.apply(this,arguments),this);if(!I||u(I)!=="object"&&typeof I!="function"){if(G!==void 0)return G;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return I}}function C(F){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(I){return I.__proto__||Object.getPrototypeOf(I)})(F)}var D=function(F){var I=P;if(typeof F!="function"&&F!==null)throw new TypeError("Super expression must either be null or a function");I.prototype=Object.create(F&&F.prototype,{constructor:{value:I,writable:!0,configurable:!0}}),F&&E(I,F);var G=S(P);function P(X){var V;return v(this,P),(V=G.call(this,X.target._renderer)).fbo=X,V.yScale=-1,V}return x(P,[{key:"_computeCameraDefaultSettings",value:function(){b(C(P.prototype),"_computeCameraDefaultSettings",this).call(this),this.defaultAspectRatio=this.fbo.width/this.fbo.height,this.defaultCameraFOV=2*Math.atan(this.fbo.height/2/this.defaultEyeZ)}}]),P}(c.default.Camera),M=(c.default.FramebufferCamera=D,function(){function F(I,G){v(this,F),this.framebuffer=I,this.property=G}return x(F,[{key:"rawTexture",value:function(){return this.framebuffer[this.property]}},{key:"width",get:function(){return this.framebuffer.width*this.framebuffer.density}},{key:"height",get:function(){return this.framebuffer.height*this.framebuffer.density}}]),F}()),R=(c.default.FramebufferTexture=M,function(){function F(I){var G=this,P=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},X=(v(this,F),this.target=I,this.target._renderer.framebuffers.add(this),this._isClipApplied=!1,this.pixels=[],this.format=P.format||d.UNSIGNED_BYTE,this.channels=P.channels||(I._renderer._pInst._glAttributes.alpha?d.RGBA:d.RGB),this.useDepth=P.depth===void 0||P.depth,this.depthFormat=P.depthFormat||d.FLOAT,this.textureFiltering=P.textureFiltering||d.LINEAR,P.antialias===void 0?this.antialiasSamples=I._renderer._pInst._glAttributes.antialias?2:0:typeof P.antialias=="number"?this.antialiasSamples=P.antialias:this.antialiasSamples=P.antialias?2:0,this.antialias=0<this.antialiasSamples,this.antialias&&I.webglVersion!==d.WEBGL2&&(console.warn("Antialiasing is unsupported in a WebGL 1 context"),this.antialias=!1),this.density=P.density||I.pixelDensity(),I._renderer.GL);if(this.gl=X,P.width&&P.height?(V=I._renderer._adjustDimensions(P.width,P.height),this.width=V.adjustedWidth,this.height=V.adjustedHeight,this._autoSized=!1):(P.width===void 0!=(P.height===void 0)&&console.warn("Please supply both width and height for a framebuffer to give it a size. Only one was given, so the framebuffer will match the size of its canvas."),this.width=I.width,this.height=I.height,this._autoSized=!0),this._checkIfFormatsAvailable(),P.stencil&&!this.useDepth&&console.warn("A stencil buffer can only be used if also using depth. Since the framebuffer has no depth buffer, the stencil buffer will be ignored."),this.useStencil=this.useDepth&&(P.stencil===void 0||P.stencil),this.framebuffer=X.createFramebuffer(),!this.framebuffer)throw new Error("Unable to create a framebuffer");if(this.antialias&&(this.aaFramebuffer=X.createFramebuffer(),!this.aaFramebuffer))throw new Error("Unable to create a framebuffer for antialiasing");this._recreateTextures();var V=this.target._renderer._curCamera;this.defaultCamera=this.createCamera(),this.filterCamera=this.createCamera(),this.target._renderer._curCamera=V,this.draw(function(){return G.target.clear()})}return x(F,[{key:"resize",value:function(I,G){this._autoSized=!1;var P=this.target._renderer._adjustDimensions(I,G);I=P.adjustedWidth,G=P.adjustedHeight,this.width=I,this.height=G,this._handleResize()}},{key:"pixelDensity",value:function(I){if(!I)return this.density;this._autoSized=!1,this.density=I,this._handleResize()}},{key:"autoSized",value:function(I){if(I===void 0)return this._autoSized;this._autoSized=I,this._handleResize()}},{key:"_checkIfFormatsAvailable",value:function(){var I=this.gl,I=(this.useDepth&&this.target.webglVersion===d.WEBGL&&!I.getExtension("WEBGL_depth_texture")&&(console.warn("Unable to create depth textures in this environment. Falling back to a framebuffer without depth."),this.useDepth=!1),this.useDepth&&this.target.webglVersion===d.WEBGL&&this.depthFormat===d.FLOAT&&(console.warn("FLOAT depth format is unavailable in WebGL 1. Defaulting to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),[d.UNSIGNED_BYTE,d.FLOAT,d.HALF_FLOAT].includes(this.format)||(console.warn("Unknown Framebuffer format. Please use UNSIGNED_BYTE, FLOAT, or HALF_FLOAT. Defaulting to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&![d.UNSIGNED_INT,d.FLOAT].includes(this.depthFormat)&&(console.warn("Unknown Framebuffer depth format. Please use UNSIGNED_INT or FLOAT. Defaulting to FLOAT."),this.depthFormat=d.FLOAT),(0,g.checkWebGLCapabilities)(this.target._renderer));I.float||this.format!==d.FLOAT||(console.warn("This environment does not support FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.useDepth&&!I.float&&this.depthFormat===d.FLOAT&&(console.warn("This environment does not support FLOAT depth textures. Falling back to UNSIGNED_INT."),this.depthFormat=d.UNSIGNED_INT),I.halfFloat||this.format!==d.HALF_FLOAT||(console.warn("This environment does not support HALF_FLOAT textures. Falling back to UNSIGNED_BYTE."),this.format=d.UNSIGNED_BYTE),this.channels===d.RGB&&[d.FLOAT,d.HALF_FLOAT].includes(this.format)&&(console.warn("FLOAT and HALF_FLOAT formats do not work cross-platform with only RGB channels. Falling back to RGBA."),this.channels=d.RGBA)}},{key:"_recreateTextures",value:function(){var I=this.gl,G=(this._updateSize(),I.getParameter(I.TEXTURE_BINDING_2D)),P=I.getParameter(I.FRAMEBUFFER_BINDING),X=I.createTexture();if(!X)throw new Error("Unable to create color texture");I.bindTexture(I.TEXTURE_2D,X);var V=this._glColorFormat();if(I.texImage2D(I.TEXTURE_2D,0,V.internalFormat,this.width*this.density,this.height*this.density,0,V.format,V.type,null),this.colorTexture=X,I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),I.framebufferTexture2D(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.TEXTURE_2D,X,0),this.useDepth){var X=I.createTexture();if(!X)throw new Error("Unable to create depth texture");var H=this._glDepthFormat();I.bindTexture(I.TEXTURE_2D,X),I.texImage2D(I.TEXTURE_2D,0,H.internalFormat,this.width*this.density,this.height*this.density,0,H.format,H.type,null),I.framebufferTexture2D(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.TEXTURE_2D,X,0),this.depthTexture=X}this.antialias&&(this.colorRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.colorRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),V.internalFormat,this.width*this.density,this.height*this.density),this.useDepth&&(H=this._glDepthFormat(),this.depthRenderbuffer=I.createRenderbuffer(),I.bindRenderbuffer(I.RENDERBUFFER,this.depthRenderbuffer),I.renderbufferStorageMultisample(I.RENDERBUFFER,Math.max(0,Math.min(this.antialiasSamples,I.getParameter(I.MAX_SAMPLES))),H.internalFormat,this.width*this.density,this.height*this.density)),I.bindFramebuffer(I.FRAMEBUFFER,this.aaFramebuffer),I.framebufferRenderbuffer(I.FRAMEBUFFER,I.COLOR_ATTACHMENT0,I.RENDERBUFFER,this.colorRenderbuffer),this.useDepth&&I.framebufferRenderbuffer(I.FRAMEBUFFER,this.useStencil?I.DEPTH_STENCIL_ATTACHMENT:I.DEPTH_ATTACHMENT,I.RENDERBUFFER,this.depthRenderbuffer)),this.useDepth&&(this.depth=new M(this,"depthTexture"),X=I.NEAREST,this.depthP5Texture=new c.default.Texture(this.target._renderer,this.depth,{minFilter:X,magFilter:X}),this.target._renderer.textures.set(this.depth,this.depthP5Texture)),this.color=new M(this,"colorTexture"),V=this.textureFiltering===d.LINEAR?I.LINEAR:I.NEAREST,this.colorP5Texture=new c.default.Texture(this.target._renderer,this.color,{minFilter:V,magFilter:V}),this.target._renderer.textures.set(this.color,this.colorP5Texture),I.bindTexture(I.TEXTURE_2D,G),I.bindFramebuffer(I.FRAMEBUFFER,P)}},{key:"_glColorFormat",value:function(){var I,G,P=this.gl,X=this.format===d.FLOAT?P.FLOAT:this.format===d.HALF_FLOAT?this.target.webglVersion===d.WEBGL2?P.HALF_FLOAT:P.getExtension("OES_texture_half_float").HALF_FLOAT_OES:P.UNSIGNED_BYTE,V=this.channels===d.RGBA?P.RGBA:P.RGB;return{internalFormat:this.target.webglVersion===d.WEBGL2?(m(G={},P.FLOAT,m({},P.RGBA,P.RGBA32F)),m(G,P.HALF_FLOAT,m({},P.RGBA,P.RGBA16F)),m(G,P.UNSIGNED_BYTE,(m(I={},P.RGBA,P.RGBA8),m(I,P.RGB,P.RGB8),I)),G[X][V]):this.format===d.HALF_FLOAT?P.RGBA:V,format:V,type:X}}},{key:"_glDepthFormat",value:function(){var P=this.gl,I=this.useStencil?this.depthFormat===d.FLOAT?P.FLOAT_32_UNSIGNED_INT_24_8_REV:this.target.webglVersion===d.WEBGL2?P.UNSIGNED_INT_24_8:P.getExtension("WEBGL_depth_texture").UNSIGNED_INT_24_8_WEBGL:this.depthFormat===d.FLOAT?P.FLOAT:P.UNSIGNED_INT,G=this.useStencil?P.DEPTH_STENCIL:P.DEPTH_COMPONENT,P=this.useStencil?this.depthFormat===d.FLOAT?P.DEPTH32F_STENCIL8:this.target.webglVersion===d.WEBGL2?P.DEPTH24_STENCIL8:P.DEPTH_STENCIL:this.target.webglVersion===d.WEBGL2?this.depthFormat===d.FLOAT?P.DEPTH_COMPONENT32F:P.DEPTH_COMPONENT24:P.DEPTH_COMPONENT;return{internalFormat:P,format:G,type:I}}},{key:"_updateSize",value:function(){this._autoSized&&(this.width=this.target.width,this.height=this.target.height,this.density=this.target.pixelDensity())}},{key:"_canvasSizeChanged",value:function(){this._autoSized&&this._handleResize()}},{key:"_handleResize",value:function(){var X=this.color,I=this.depth,G=this.colorRenderbuffer,P=this.depthRenderbuffer,X=(this._deleteTexture(X),I&&this._deleteTexture(I),this.gl);G&&X.deleteRenderbuffer(G),P&&X.deleteRenderbuffer(P),this._recreateTextures(),this.defaultCamera._resize()}},{key:"createCamera",value:function(){var I=new D(this);return I._computeCameraDefaultSettings(),I._setDefaultCamera(),this.target._renderer._curCamera=I}},{key:"_deleteTexture",value:function(I){this.gl.deleteTexture(I.rawTexture()),this.target._renderer.textures.delete(I)}},{key:"remove",value:function(){var I=this.gl;this._deleteTexture(this.color),this.depth&&this._deleteTexture(this.depth),I.deleteFramebuffer(this.framebuffer),this.aaFramebuffer&&I.deleteFramebuffer(this.aaFramebuffer),this.depthRenderbuffer&&I.deleteRenderbuffer(this.depthRenderbuffer),this.colorRenderbuffer&&I.deleteRenderbuffer(this.colorRenderbuffer),this.target._renderer.framebuffers.delete(this)}},{key:"begin",value:function(){this.prevFramebuffer=this.target._renderer.activeFramebuffer(),this.prevFramebuffer&&this.prevFramebuffer._beforeEnd(),this.target._renderer.activeFramebuffers.push(this),this._beforeBegin(),this.target.push(),this.target.setCamera(this.defaultCamera),this.target.resetMatrix(),this.target._renderer.uViewMatrix.set(this.target._renderer._curCamera.cameraMatrix),this.target._renderer.uModelMatrix.reset(),this.target._renderer._applyStencilTestIfClipping()}},{key:"_framebufferToBind",value:function(){return this.antialias?this.aaFramebuffer:this.framebuffer}},{key:"_beforeBegin",value:function(){var I=this.gl;I.bindFramebuffer(I.FRAMEBUFFER,this._framebufferToBind()),this.target._renderer.viewport(this.width*this.density,this.height*this.density)}},{key:"_beforeEnd",value:function(){if(this.antialias){var I=this.gl,G=(I.bindFramebuffer(I.READ_FRAMEBUFFER,this.aaFramebuffer),I.bindFramebuffer(I.DRAW_FRAMEBUFFER,this.framebuffer),[[I.COLOR_BUFFER_BIT,this.colorP5Texture.glMagFilter]]);this.useDepth&&G.push([I.DEPTH_BUFFER_BIT,this.depthP5Texture.glMagFilter]);for(var P=0,X=G;P<X.length;P++){var H=p(X[P],2),V=H[0],H=H[1];I.blitFramebuffer(0,0,this.width*this.density,this.height*this.density,0,0,this.width*this.density,this.height*this.density,V,H)}}}},{key:"end",value:function(){var I=this.gl;if(this.target.pop(),this.target._renderer.activeFramebuffers.pop()!==this)throw new Error("It looks like you've called end() while another Framebuffer is active.");this._beforeEnd(),this.prevFramebuffer?this.prevFramebuffer._beforeBegin():(I.bindFramebuffer(I.FRAMEBUFFER,null),this.target._renderer.viewport(this.target._renderer._origViewport.width,this.target._renderer._origViewport.height)),this.target._renderer._applyStencilTestIfClipping()}},{key:"draw",value:function(I){this.begin(),I(),this.end()}},{key:"loadPixels",value:function(){var I=this.gl,G=this.target._renderer.activeFramebuffer(),P=(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this._glColorFormat());this.pixels=(0,y.readPixelsWebGL)(this.pixels,I,this.framebuffer,0,0,this.width*this.density,this.height*this.density,P.format,P.type),G?I.bindFramebuffer(I.FRAMEBUFFER,G._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null)}},{key:"get",value:function(I,G,P,X){c.default._validateParameters("p5.Framebuffer.get",arguments);var V=this._glColorFormat();if(I===void 0&&G===void 0)G=I=0,P=this.width,X=this.height;else if(P===void 0&&X===void 0)return(I<0||G<0||I>=this.width||G>=this.height)&&(console.warn("The x and y values passed to p5.Framebuffer.get are outside of its range and will be clamped."),I=this.target.constrain(I,0,this.width-1),G=this.target.constrain(G,0,this.height-1)),(0,y.readPixelWebGL)(this.gl,this.framebuffer,I*this.density,G*this.density,V.format,V.type);I=this.target.constrain(I,0,this.width-1),G=this.target.constrain(G,0,this.height-1),P=this.target.constrain(P,1,this.width-I),X=this.target.constrain(X,1,this.height-G);for(var H=(0,y.readPixelsWebGL)(void 0,this.gl,this.framebuffer,I*this.density,G*this.density,P*this.density,X*this.density,V.format,V.type),J=new Uint8ClampedArray(P*X*this.density*this.density*4),Z=(J.fill(255),V.type===this.gl.RGB?3:4),K=0;K<X*this.density;K++)for(var Y=0;Y<P*this.density;Y++)for(var te=0;te<4;te++){var ue,O=4*(K*P*this.density+Y)+te;te<Z&&(ue=Z==4?O:(K*P*this.density+Y)*Z+te,J[O]=H[ue])}return I=new c.default.Image(P*this.density,X*this.density),I.imageData=I.canvas.getContext("2d").createImageData(I.width,I.height),I.imageData.data.set(J),I.pixels=I.imageData.data,I.updatePixels(),this.density!==1&&I.resize(P,X),I}},{key:"updatePixels",value:function(){var I=this.gl,G=(this.colorP5Texture.bindTexture(),this._glColorFormat()),P=G.format===I.RGBA?4:3,P=this.width*this.height*this.density*this.density*P,X=G.type===I.UNSIGNED_BYTE?Uint8Array:Float32Array;if(!(this.pixels instanceof X)||this.pixels.length!==P)throw new Error("The pixels array has not been set correctly. Please call loadPixels() before updatePixels().");I.texImage2D(I.TEXTURE_2D,0,G.internalFormat,this.width*this.density,this.height*this.density,0,G.format,G.type,this.pixels),this.colorP5Texture.unbindTexture(),X=this.target._renderer.activeFramebuffer(),this.antialias?(this.begin(),this.target.push(),this.target.imageMode(this.target.CENTER),this.target.resetMatrix(),this.target.noStroke(),this.target.clear(),this.target.image(this,0,0),this.target.pop(),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),this.end()):(I.bindFramebuffer(I.FRAMEBUFFER,this.framebuffer),this.useDepth&&(I.clearDepth(1),I.clear(I.DEPTH_BUFFER_BIT)),X?I.bindFramebuffer(I.FRAMEBUFFER,X._framebufferToBind()):I.bindFramebuffer(I.FRAMEBUFFER,null))}}]),F}()),L=c.default.Framebuffer=R;s.default=L},{"../core/constants":272,"../core/main":283,"./p5.RendererGL":341,"./p5.Texture":343,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.typed-array.uint8-clamped-array":243,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],335:[function(t,l,s){function o(v){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(_){return typeof _}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _})(v)}function u(v){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(_){return o(_)}:function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":o(_)})(v)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.flat"),t("core-js/modules/es.array.for-each"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.last-index-of"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.unscopables.flat"),t("core-js/modules/es.array-buffer.constructor"),t("core-js/modules/es.map"),t("core-js/modules/es.number.constructor"),t("core-js/modules/es.object.entries"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.set"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.for-each"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(m=t("../core/main"))&&m.__esModule?m:{default:m},d=function(v){if(v&&v.__esModule)return v;if(v===null||u(v)!=="object"&&typeof v!="function")return{default:v};var _=g();if(_&&_.has(v))return _.get(v);var x,b={},E=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(x in v){var S;Object.prototype.hasOwnProperty.call(v,x)&&((S=E?Object.getOwnPropertyDescriptor(v,x):null)&&(S.get||S.set)?Object.defineProperty(b,x,S):b[x]=v[x])}return b.default=v,_&&_.set(v,b),b}(t("../core/constants"));function g(){var v;return typeof WeakMap!="function"?null:(v=new WeakMap,g=function(){return v},v)}function y(v){return function(_){if(Array.isArray(_)){for(var x=0,b=new Array(_.length);x<_.length;x++)b[x]=_[x];return b}}(v)||function(_){if(Symbol.iterator in Object(_)||Object.prototype.toString.call(_)==="[object Arguments]")return Array.from(_)}(v)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function h(v,_){return function(x){if(Array.isArray(x))return x}(v)||function(x,b){if(Symbol.iterator in Object(x)||Object.prototype.toString.call(x)==="[object Arguments]"){var E=[],S=!0,C=!1,D=void 0;try{for(var M,R=x[Symbol.iterator]();!(S=(M=R.next()).done)&&(E.push(M.value),!b||E.length!==b);S=!0);}catch(L){C=!0,D=L}finally{try{S||R.return==null||R.return()}finally{if(C)throw D}}return E}}(v,_)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function p(v,_){for(var x=0;x<_.length;x++){var b=_[x];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(v,b.key,b)}}c.default.Geometry=function(){function v(b,E,S){if(!(this instanceof v))throw new TypeError("Cannot call a class as a function");this.vertices=[],this.boundingBoxCache=null,this.lineVertices=new c.default.DataArray,this.lineTangentsIn=new c.default.DataArray,this.lineTangentsOut=new c.default.DataArray,this.lineSides=new c.default.DataArray,this.vertexNormals=[],this.faces=[],this.uvs=[],this.edges=[],this.vertexColors=[],this.vertexStrokeColors=[],this.lineVertexColors=new c.default.DataArray,this.detailX=b!==void 0?b:1,this.detailY=E!==void 0?E:1,this.dirtyFlags={},this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,S instanceof Function&&S.call(this)}var _,x;return _=v,(x=[{key:"calculateBoundingBox",value:function(){if(!this.boundingBoxCache){for(var b=new c.default.Vector(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),E=new c.default.Vector(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),S=0;S<this.vertices.length;S++){var C=this.vertices[S];b.x=Math.min(b.x,C.x),b.y=Math.min(b.y,C.y),b.z=Math.min(b.z,C.z),E.x=Math.max(E.x,C.x),E.y=Math.max(E.y,C.y),E.z=Math.max(E.z,C.z)}var D=new c.default.Vector(E.x-b.x,E.y-b.y,E.z-b.z),M=new c.default.Vector((b.x+E.x)/2,(b.y+E.y)/2,(b.z+E.z)/2);this.boundingBoxCache={min:b,max:E,size:D,offset:M}}return this.boundingBoxCache}},{key:"reset",value:function(){this._hasFillTransparency=void 0,this._hasStrokeTransparency=void 0,this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear(),this.vertices.length=0,this.edges.length=0,this.vertexColors.length=0,this.vertexStrokeColors.length=0,this.lineVertexColors.clear(),this.vertexNormals.length=0,this.uvs.length=0,this.dirtyFlags={}}},{key:"hasFillTransparency",value:function(){if(this._hasFillTransparency===void 0){this._hasFillTransparency=!1;for(var b=0;b<this.vertexColors.length;b+=4)if(this.vertexColors[b+3]<1){this._hasFillTransparency=!0;break}}return this._hasFillTransparency}},{key:"hasStrokeTransparency",value:function(){if(this._hasStrokeTransparency===void 0){this._hasStrokeTransparency=!1;for(var b=0;b<this.lineVertexColors.length;b+=4)if(this.lineVertexColors[b+3]<1){this._hasStrokeTransparency=!0;break}}return this._hasStrokeTransparency}},{key:"clearColors",value:function(){return this.vertexColors=[],this}},{key:"saveObj",value:function(){var b=this,E=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.obj",S="";if(this.vertices.forEach(function(M){S+="v ".concat(M.x," ").concat(M.y," ").concat(M.z,`
`)}),this.uvs&&0<this.uvs.length)for(var C=0;C<this.uvs.length;C+=2)S+="vt ".concat(this.uvs[C]," ").concat(this.uvs[C+1],`
`);this.vertexNormals&&0<this.vertexNormals.length&&this.vertexNormals.forEach(function(M){S+="vn ".concat(M.x," ").concat(M.y," ").concat(M.z,`
`)}),this.faces.forEach(function(M){var R="f";M.forEach(function(L){R=R+" "+(L+1),(0<b.vertexNormals.length||0<b.uvs.length)&&(R+="/",0<b.uvs.length&&(R+=L+1),R+="/",0<b.vertexNormals.length&&(R+=L+1))}),S+=R+`
`});var D=new Blob([S],{type:"text/plain"});c.default.prototype.downloadFile(D,E,"obj")}},{key:"saveStl",value:function(){var b=0<arguments.length&&arguments[0]!==void 0?arguments[0]:"model.stl",E=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).binary,E=E!==void 0&&E,S=b.substring(0,b.lastIndexOf(".")),C=[],D=!0,M=!1,R=void 0;try{for(var L,F=this.faces[Symbol.iterator]();!(D=(L=F.next()).done);D=!0){var I=L.value,G=c.default.Vector.sub(this.vertices[I[1]],this.vertices[I[0]]),P=c.default.Vector.sub(this.vertices[I[2]],this.vertices[I[0]]),X=G.y*P.z-G.z*P.y,V=G.z*P.x-G.x*P.z,H=G.x*P.y-G.y*P.x;C.push(new c.default.Vector(X,V,H).normalize())}}catch(Oe){M=!0,R=Oe}finally{try{D||F.return==null||F.return()}finally{if(M)throw R}}if(E){var J,Z=80,M=2*this.faces.length+3*this.faces.length*4*4+80+4,R=new ArrayBuffer(M);(J=new DataView(R)).setUint32(Z,this.faces.length,!0),Z+=4;for(var K=0,Y=Object.entries(this.faces);K<Y.length;K++){var te=h(Y[K],2),O=te[0],te=te[1],O=C[O],ue=(J.setFloat32(Z,O.x,!0),Z+=4,J.setFloat32(Z,O.y,!0),Z+=4,J.setFloat32(Z,O.z,!0),Z+=4,!0),O=!1,U=void 0;try{for(var q,Q=te[Symbol.iterator]();!(ue=(q=Q.next()).done);ue=!0){var ae=q.value,ie=this.vertices[ae];J.setFloat32(Z,ie.x,!0),Z+=4,J.setFloat32(Z,ie.y,!0),Z+=4,J.setFloat32(Z,ie.z,!0),Z+=4}}catch(tt){O=!0,U=tt}finally{try{ue||Q.return==null||Q.return()}finally{if(O)throw U}}J.setUint16(Z,0,!0),Z+=2}}else{J="solid "+S+`
`;for(var he=0,ge=Object.entries(this.faces);he<ge.length;he++){var fe=h(ge[he],2),xe=fe[0],fe=fe[1],xe=C[xe],ve=(J=J+(" facet norm "+xe.x+" "+xe.y+" "+xe.z+`
`)+`  outer loop
`,!0),xe=!1,se=void 0;try{for(var be,Ae=fe[Symbol.iterator]();!(ve=(be=Ae.next()).done);ve=!0){var De=be.value,je=this.vertices[De];J+="   vertex "+je.x+" "+je.y+" "+je.z+`
`}}catch(Oe){xe=!0,se=Oe}finally{try{ve||Ae.return==null||Ae.return()}finally{if(xe)throw se}}J=J+`  endloop
 endfacet
`}J+="endsolid "+S+`
`}E=new Blob([J],{type:"text/plain"}),c.default.prototype.downloadFile(E,b,"stl")}},{key:"flipU",value:function(){this.uvs=this.uvs.flat().map(function(b,E){return E%2==0?1-b:b})}},{key:"flipV",value:function(){this.uvs=this.uvs.flat().map(function(b,E){return E%2==0?b:1-b})}},{key:"computeFaces",value:function(){this.faces.length=0;for(var b,E,S,C=this.detailX+1,D=0;D<this.detailY;D++)for(var M=0;M<this.detailX;M++)E=(D+1)*C+M+1,this.faces.push([D*C+M,b=D*C+M+1,S=(D+1)*C+M]),this.faces.push([S,b,E]);return this}},{key:"_getFaceNormal",value:function(E){var E=this.faces[E],S=this.vertices[E[0]],D=this.vertices[E[1]],E=this.vertices[E[2]],D=c.default.Vector.sub(D,S),E=c.default.Vector.sub(E,S),S=c.default.Vector.cross(D,E),C=c.default.Vector.mag(S),D=C/(c.default.Vector.mag(D)*c.default.Vector.mag(E));return D===0||isNaN(D)?(console.warn("p5.Geometry.prototype._getFaceNormal:","face has colinear sides or a repeated vertex"),S):(1<D&&(D=1),S.mult(Math.asin(D)/C))}},{key:"computeNormals",value:function(){var b,E=this,S=0<arguments.length&&arguments[0]!==void 0?arguments[0]:d.FLAT,C=(1<arguments.length&&arguments[1]!==void 0?arguments[1]:{}).roundToPrecision,D=this.vertexNormals,M=this.vertices,R=this.faces;if(S===d.SMOOTH){for(var L={},F=[],I=Math.pow(10,C===void 0?3:C),G=function(J){return Math.round(J*I)/I},P=function(J){return"".concat(G(J.x),",").concat(G(J.y),",").concat(G(J.z))},X=0;X<M.length;X++){var V=M[X],H=P(V);L[H]===void 0&&(L[H]=F.length,F.push(V))}R.forEach(function(J){for(var Z=0;Z<3;++Z){var K=J[Z],K=M[K],K=P(K);J[Z]=L[K]}}),this.edges.forEach(function(J){for(var Z=0;Z<2;++Z){var K=J[Z],K=M[K],K=P(K);J[Z]=L[K]}}),this.vertices=M=F}for(b=D.length=0;b<M.length;++b)D.push(new c.default.Vector);for(R.forEach(function(J,Z){for(var K=E._getFaceNormal(Z),Y=0;Y<3;++Y){var te=J[Y];D[te].add(K)}}),b=0;b<M.length;++b)D[b].normalize();return this}},{key:"averageNormals",value:function(){for(var b=0;b<=this.detailY;b++){var E=this.detailX+1,S=c.default.Vector.add(this.vertexNormals[b*E],this.vertexNormals[b*E+this.detailX]),S=c.default.Vector.div(S,2);this.vertexNormals[b*E]=S,this.vertexNormals[b*E+this.detailX]=S}return this}},{key:"averagePoleNormals",value:function(){for(var b=new c.default.Vector(0,0,0),E=0;E<this.detailX;E++)b.add(this.vertexNormals[E]);for(var b=c.default.Vector.div(b,this.detailX),S=0;S<this.detailX;S++)this.vertexNormals[S]=b;b=new c.default.Vector(0,0,0);for(var C=this.vertices.length-1;C>this.vertices.length-1-this.detailX;C--)b.add(this.vertexNormals[C]);b=c.default.Vector.div(b,this.detailX);for(var D=this.vertices.length-1;D>this.vertices.length-1-this.detailX;D--)this.vertexNormals[D]=b;return this}},{key:"_makeTriangleEdges",value:function(){for(var b=this.edges.length=0;b<this.faces.length;b++)this.edges.push([this.faces[b][0],this.faces[b][1]]),this.edges.push([this.faces[b][1],this.faces[b][2]]),this.edges.push([this.faces[b][2],this.faces[b][0]]);return this}},{key:"_edgesToVertices",value:function(){this.lineVertices.clear(),this.lineTangentsIn.clear(),this.lineTangentsOut.clear(),this.lineSides.clear();for(var b,E=new Map,S=new Set,C=0;C<this.edges.length;C++){var D,M=this.edges[C-1],R=this.edges[C],L=this.vertices[R[0]],F=this.vertices[R[1]],I=0<this.vertexStrokeColors.length&&M?this.vertexStrokeColors.slice(4*M[1],4*(M[1]+1)):[0,0,0,0],G=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*R[0],4*(R[0]+1)):[0,0,0,0],P=0<this.vertexStrokeColors.length?this.vertexStrokeColors.slice(4*R[1],4*(R[1]+1)):[0,0,0,0],X=F.copy().sub(L).normalize(),V=0<X.magSq();V&&this._addSegment(L,F,G,P,X),0<C&&M[1]===R[0]?S.has(R[0])||(S.add(R[0]),E.delete(R[0]),b&&V&&X.dot(b)<1-1e-8&&this._addJoin(L,b,X,G)):(V&&!S.has(R[0])&&((D=E.get(R[0]))?(this._addJoin(L,D.dir,X,G),E.delete(R[0]),S.add(R[0])):E.set(R[0],{point:L,dir:X.copy().mult(-1),color:G})),b&&!S.has(M[1])&&((D=E.get(M[1]))?(this._addJoin(this.vertices[M[1]],b,D.dir.copy().mult(-1),I),E.delete(M[1]),S.add(M[1])):E.set(M[1],{point:this.vertices[M[1]],dir:b,color:I}),b=void 0)),C!==this.edges.length-1||S.has(R[1])||((L=E.get(R[1]))?(this._addJoin(F,X,L.dir.copy().mult(-1),P),E.delete(R[1]),S.add(R[1])):E.set(R[1],{point:F,dir:X,color:P})),V&&(b=X)}var H=!0,J=!1,Z=void 0;try{for(var K,Y=E.values()[Symbol.iterator]();!(H=(K=Y.next()).done);H=!0){var te=K.value,ue=te.point,O=te.dir,U=te.color;this._addCap(ue,O,U)}}catch(q){J=!0,Z=q}finally{try{H||Y.return==null||Y.return()}finally{if(J)throw Z}}return this}},{key:"_addSegment",value:function(M,R,S,C,D){var M=M.array(),R=R.array(),L=D.array();this.lineSides.push(1,1,-1,1,-1,-1);for(var F=0,I=[this.lineTangentsIn,this.lineTangentsOut];F<I.length;F++)for(var G=I[F],P=0;P<6;P++)G.push.apply(G,y(L));return(D=this.lineVertices).push.apply(D,y(M).concat(y(R),y(M),y(R),y(R),y(M))),(D=this.lineVertexColors).push.apply(D,y(S).concat(y(C),y(S),y(C),y(C),y(S))),this}},{key:"_addCap",value:function(b,E,S){for(var C,D=b.array(),M=E.array(),R=[0,0,0],L=0;L<6;L++)(C=this.lineVertices).push.apply(C,y(D)),(C=this.lineTangentsIn).push.apply(C,y(M)),(C=this.lineTangentsOut).push.apply(C,R),(C=this.lineVertexColors).push.apply(C,y(S));return this.lineSides.push(-1,2,-2,1,2,-1),this}},{key:"_addJoin",value:function(b,E,S,C){for(var D,M=b.array(),R=E.array(),L=S.array(),F=0;F<12;F++)(D=this.lineVertices).push.apply(D,y(M)),(D=this.lineTangentsIn).push.apply(D,y(R)),(D=this.lineTangentsOut).push.apply(D,y(L)),(D=this.lineVertexColors).push.apply(D,y(C));return this.lineSides.push(-1,-3,-2,-1,0,-3),this.lineSides.push(3,1,2,3,0,1),this}},{key:"normalize",value:function(){if(0<this.vertices.length){for(var b=this.vertices[0].copy(),E=this.vertices[0].copy(),S=0;S<this.vertices.length;S++)b.x=Math.max(b.x,this.vertices[S].x),E.x=Math.min(E.x,this.vertices[S].x),b.y=Math.max(b.y,this.vertices[S].y),E.y=Math.min(E.y,this.vertices[S].y),b.z=Math.max(b.z,this.vertices[S].z),E.z=Math.min(E.z,this.vertices[S].z);for(var C=c.default.Vector.lerp(b,E,.5),D=c.default.Vector.sub(b,E),M=200/Math.max(Math.max(D.x,D.y),D.z),R=0;R<this.vertices.length;R++)this.vertices[R].sub(C),this.vertices[R].mult(M)}return this}}])&&p(_.prototype,x),v}();var m=c.default.Geometry;s.default=m},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array-buffer.constructor":152,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.for-each":161,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.last-index-of":167,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.map":175,"core-js/modules/es.number.constructor":179,"core-js/modules/es.object.entries":184,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.for-each":245,"core-js/modules/web.dom-collections.iterator":246}],336:[function(g,l,s){g("core-js/modules/es.array.iterator"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.typed-array.float32-array"),g("core-js/modules/es.typed-array.copy-within"),g("core-js/modules/es.typed-array.every"),g("core-js/modules/es.typed-array.fill"),g("core-js/modules/es.typed-array.filter"),g("core-js/modules/es.typed-array.find"),g("core-js/modules/es.typed-array.find-index"),g("core-js/modules/es.typed-array.for-each"),g("core-js/modules/es.typed-array.includes"),g("core-js/modules/es.typed-array.index-of"),g("core-js/modules/es.typed-array.iterator"),g("core-js/modules/es.typed-array.join"),g("core-js/modules/es.typed-array.last-index-of"),g("core-js/modules/es.typed-array.map"),g("core-js/modules/es.typed-array.reduce"),g("core-js/modules/es.typed-array.reduce-right"),g("core-js/modules/es.typed-array.reverse"),g("core-js/modules/es.typed-array.set"),g("core-js/modules/es.typed-array.slice"),g("core-js/modules/es.typed-array.some"),g("core-js/modules/es.typed-array.sort"),g("core-js/modules/es.typed-array.subarray"),g("core-js/modules/es.typed-array.to-locale-string"),g("core-js/modules/es.typed-array.to-string"),g("core-js/modules/es.array.iterator"),g("core-js/modules/es.object.to-string"),g("core-js/modules/es.typed-array.float32-array"),g("core-js/modules/es.typed-array.copy-within"),g("core-js/modules/es.typed-array.every"),g("core-js/modules/es.typed-array.fill"),g("core-js/modules/es.typed-array.filter"),g("core-js/modules/es.typed-array.find"),g("core-js/modules/es.typed-array.find-index"),g("core-js/modules/es.typed-array.for-each"),g("core-js/modules/es.typed-array.includes"),g("core-js/modules/es.typed-array.index-of"),g("core-js/modules/es.typed-array.iterator"),g("core-js/modules/es.typed-array.join"),g("core-js/modules/es.typed-array.last-index-of"),g("core-js/modules/es.typed-array.map"),g("core-js/modules/es.typed-array.reduce"),g("core-js/modules/es.typed-array.reduce-right"),g("core-js/modules/es.typed-array.reverse"),g("core-js/modules/es.typed-array.set"),g("core-js/modules/es.typed-array.slice"),g("core-js/modules/es.typed-array.some"),g("core-js/modules/es.typed-array.sort"),g("core-js/modules/es.typed-array.subarray"),g("core-js/modules/es.typed-array.to-locale-string"),g("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(g=g("../core/main"))&&g.__esModule?g:{default:g};function u(y,h){for(var p=0;p<h.length;p++){var m=h[p];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(y,m.key,m)}}var c=Array,d=function(y){return Array.isArray(y)},g=(typeof Float32Array<"u"&&(c=Float32Array,d=function(y){return Array.isArray(y)||y instanceof Float32Array}),o.default.Matrix=function(){function y(){var v=this,_=y;if(v instanceof _)return arguments.length&&((v=arguments.length-1)<0||arguments.length<=v?void 0:arguments[v])instanceof o.default&&(this.p5=(_=arguments.length-1)<0||arguments.length<=_?void 0:arguments[_]),(arguments.length<=0?void 0:arguments[0])==="mat3"?this.mat3=Array.isArray(arguments.length<=1?void 0:arguments[1])?arguments.length<=1?void 0:arguments[1]:new c([1,0,0,0,1,0,0,0,1]):this.mat4=Array.isArray(arguments.length<=0?void 0:arguments[0])?arguments.length<=0?void 0:arguments[0]:new c([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this;throw new TypeError("Cannot call a class as a function")}var h,p,m;return h=y,m=[{key:"identity",value:function(v){return new o.default.Matrix(v)}}],(p=[{key:"reset",value:function(){return this.mat3?this.mat3.set([1,0,0,0,1,0,0,0,1]):this.mat4&&this.mat4.set([1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]),this}},{key:"set",value:function(v){var _=arguments;if(v instanceof o.default.Matrix?_=v.mat4:d(v)&&(_=v),_.length!==16)o.default._friendlyError("Expected 16 values but received ".concat(_.length,"."),"p5.Matrix.set");else for(var x=0;x<16;x++)this.mat4[x]=_[x];return this}},{key:"get",value:function(){return new o.default.Matrix(this.mat4,this.p5)}},{key:"copy",value:function(){var v;return this.mat3!==void 0?((v=new o.default.Matrix("mat3",this.p5)).mat3[0]=this.mat3[0],v.mat3[1]=this.mat3[1],v.mat3[2]=this.mat3[2],v.mat3[3]=this.mat3[3],v.mat3[4]=this.mat3[4],v.mat3[5]=this.mat3[5],v.mat3[6]=this.mat3[6],v.mat3[7]=this.mat3[7],v.mat3[8]=this.mat3[8]):((v=new o.default.Matrix(this.p5)).mat4[0]=this.mat4[0],v.mat4[1]=this.mat4[1],v.mat4[2]=this.mat4[2],v.mat4[3]=this.mat4[3],v.mat4[4]=this.mat4[4],v.mat4[5]=this.mat4[5],v.mat4[6]=this.mat4[6],v.mat4[7]=this.mat4[7],v.mat4[8]=this.mat4[8],v.mat4[9]=this.mat4[9],v.mat4[10]=this.mat4[10],v.mat4[11]=this.mat4[11],v.mat4[12]=this.mat4[12],v.mat4[13]=this.mat4[13],v.mat4[14]=this.mat4[14],v.mat4[15]=this.mat4[15]),v}},{key:"transpose",value:function(v){var _,x,b,E,S,C;return v instanceof o.default.Matrix?(_=v.mat4[1],x=v.mat4[2],b=v.mat4[3],E=v.mat4[6],S=v.mat4[7],C=v.mat4[11],this.mat4[0]=v.mat4[0],this.mat4[1]=v.mat4[4],this.mat4[2]=v.mat4[8],this.mat4[3]=v.mat4[12],this.mat4[4]=_,this.mat4[5]=v.mat4[5],this.mat4[6]=v.mat4[9],this.mat4[7]=v.mat4[13],this.mat4[8]=x,this.mat4[9]=E,this.mat4[10]=v.mat4[10],this.mat4[11]=v.mat4[14],this.mat4[12]=b,this.mat4[13]=S,this.mat4[14]=C,this.mat4[15]=v.mat4[15]):d(v)&&(_=v[1],x=v[2],b=v[3],E=v[6],S=v[7],C=v[11],this.mat4[0]=v[0],this.mat4[1]=v[4],this.mat4[2]=v[8],this.mat4[3]=v[12],this.mat4[4]=_,this.mat4[5]=v[5],this.mat4[6]=v[9],this.mat4[7]=v[13],this.mat4[8]=x,this.mat4[9]=E,this.mat4[10]=v[10],this.mat4[11]=v[14],this.mat4[12]=b,this.mat4[13]=S,this.mat4[14]=C,this.mat4[15]=v[15]),this}},{key:"invert",value:function(H){H instanceof o.default.Matrix?(_=H.mat4[0],x=H.mat4[1],b=H.mat4[2],E=H.mat4[3],S=H.mat4[4],C=H.mat4[5],D=H.mat4[6],M=H.mat4[7],R=H.mat4[8],L=H.mat4[9],F=H.mat4[10],I=H.mat4[11],G=H.mat4[12],P=H.mat4[13],X=H.mat4[14],V=H.mat4[15]):d(H)&&(_=H[0],x=H[1],b=H[2],E=H[3],S=H[4],C=H[5],D=H[6],M=H[7],R=H[8],L=H[9],F=H[10],I=H[11],G=H[12],P=H[13],X=H[14],V=H[15]);var _,x,b,E,S,C,D,M,R,L,F,I,G,P,X,V,H=_*C-x*S,J=_*D-b*S,Z=_*M-E*S,K=x*D-b*C,Y=x*M-E*C,te=b*M-E*D,ue=R*P-L*G,O=R*X-F*G,U=R*V-I*G,q=L*X-F*P,Q=L*V-I*P,ae=F*V-I*X,ie=H*ae-J*Q+Z*q+K*U-Y*O+te*ue;return ie?(this.mat4[0]=(C*ae-D*Q+M*q)*(ie=1/ie),this.mat4[1]=(b*Q-x*ae-E*q)*ie,this.mat4[2]=(P*te-X*Y+V*K)*ie,this.mat4[3]=(F*Y-L*te-I*K)*ie,this.mat4[4]=(D*U-S*ae-M*O)*ie,this.mat4[5]=(_*ae-b*U+E*O)*ie,this.mat4[6]=(X*Z-G*te-V*J)*ie,this.mat4[7]=(R*te-F*Z+I*J)*ie,this.mat4[8]=(S*Q-C*U+M*ue)*ie,this.mat4[9]=(x*U-_*Q-E*ue)*ie,this.mat4[10]=(G*Y-P*Z+V*H)*ie,this.mat4[11]=(L*Z-R*Y-I*H)*ie,this.mat4[12]=(C*O-S*q-D*ue)*ie,this.mat4[13]=(_*q-x*O+b*ue)*ie,this.mat4[14]=(P*J-G*K-X*H)*ie,this.mat4[15]=(R*K-L*J+F*H)*ie,this):null}},{key:"invert3x3",value:function(){var v=this.mat3[0],_=this.mat3[1],x=this.mat3[2],b=this.mat3[3],E=this.mat3[4],S=this.mat3[5],C=this.mat3[6],D=this.mat3[7],M=this.mat3[8],R=M*E-S*D,L=-M*b+S*C,F=D*b-E*C,I=v*R+_*L+x*F;return I?(this.mat3[0]=R*(I=1/I),this.mat3[1]=(-M*_+x*D)*I,this.mat3[2]=(S*_-x*E)*I,this.mat3[3]=L*I,this.mat3[4]=(M*v-x*C)*I,this.mat3[5]=(-S*v+x*b)*I,this.mat3[6]=F*I,this.mat3[7]=(-D*v+_*C)*I,this.mat3[8]=(E*v-_*b)*I,this):null}},{key:"transpose3x3",value:function(v){var _=(v=v===void 0?this.mat3:v)[1],x=v[2],b=v[5];return this.mat3[0]=v[0],this.mat3[1]=v[3],this.mat3[2]=v[6],this.mat3[3]=_,this.mat3[4]=v[4],this.mat3[5]=v[7],this.mat3[6]=x,this.mat3[7]=b,this.mat3[8]=v[8],this}},{key:"inverseTranspose",value:function(v){if(v=v.mat4,this.mat3===void 0?o.default._friendlyError("sorry, this function only works with mat3"):(this.mat3[0]=v[0],this.mat3[1]=v[1],this.mat3[2]=v[2],this.mat3[3]=v[4],this.mat3[4]=v[5],this.mat3[5]=v[6],this.mat3[6]=v[8],this.mat3[7]=v[9],this.mat3[8]=v[10]),v=this.invert3x3(),v)v.transpose3x3(this.mat3);else for(var _=0;_<9;_++)this.mat3[_]=0;return this}},{key:"determinant",value:function(){var v=this.mat4[0]*this.mat4[5]-this.mat4[1]*this.mat4[4],_=this.mat4[0]*this.mat4[6]-this.mat4[2]*this.mat4[4],x=this.mat4[0]*this.mat4[7]-this.mat4[3]*this.mat4[4],b=this.mat4[1]*this.mat4[6]-this.mat4[2]*this.mat4[5],E=this.mat4[1]*this.mat4[7]-this.mat4[3]*this.mat4[5],S=this.mat4[2]*this.mat4[7]-this.mat4[3]*this.mat4[6],C=this.mat4[8]*this.mat4[13]-this.mat4[9]*this.mat4[12],D=this.mat4[8]*this.mat4[14]-this.mat4[10]*this.mat4[12],M=this.mat4[8]*this.mat4[15]-this.mat4[11]*this.mat4[12],R=this.mat4[9]*this.mat4[14]-this.mat4[10]*this.mat4[13],L=this.mat4[9]*this.mat4[15]-this.mat4[11]*this.mat4[13];return v*(this.mat4[10]*this.mat4[15]-this.mat4[11]*this.mat4[14])-_*L+x*R+b*M-E*D+S*C}},{key:"mult",value:function(x){var _;if(x===this||x===this.mat4)_=this.copy().mat4;else if(x instanceof o.default.Matrix)_=x.mat4;else if(d(x))_=x;else{if(arguments.length!==16)return;_=arguments}var x=this.mat4[0],b=this.mat4[1],E=this.mat4[2],S=this.mat4[3];return this.mat4[0]=x*_[0]+b*_[4]+E*_[8]+S*_[12],this.mat4[1]=x*_[1]+b*_[5]+E*_[9]+S*_[13],this.mat4[2]=x*_[2]+b*_[6]+E*_[10]+S*_[14],this.mat4[3]=x*_[3]+b*_[7]+E*_[11]+S*_[15],x=this.mat4[4],b=this.mat4[5],E=this.mat4[6],S=this.mat4[7],this.mat4[4]=x*_[0]+b*_[4]+E*_[8]+S*_[12],this.mat4[5]=x*_[1]+b*_[5]+E*_[9]+S*_[13],this.mat4[6]=x*_[2]+b*_[6]+E*_[10]+S*_[14],this.mat4[7]=x*_[3]+b*_[7]+E*_[11]+S*_[15],x=this.mat4[8],b=this.mat4[9],E=this.mat4[10],S=this.mat4[11],this.mat4[8]=x*_[0]+b*_[4]+E*_[8]+S*_[12],this.mat4[9]=x*_[1]+b*_[5]+E*_[9]+S*_[13],this.mat4[10]=x*_[2]+b*_[6]+E*_[10]+S*_[14],this.mat4[11]=x*_[3]+b*_[7]+E*_[11]+S*_[15],x=this.mat4[12],b=this.mat4[13],E=this.mat4[14],S=this.mat4[15],this.mat4[12]=x*_[0]+b*_[4]+E*_[8]+S*_[12],this.mat4[13]=x*_[1]+b*_[5]+E*_[9]+S*_[13],this.mat4[14]=x*_[2]+b*_[6]+E*_[10]+S*_[14],this.mat4[15]=x*_[3]+b*_[7]+E*_[11]+S*_[15],this}},{key:"apply",value:function(x){var _;if(x===this||x===this.mat4)_=this.copy().mat4;else if(x instanceof o.default.Matrix)_=x.mat4;else if(d(x))_=x;else{if(arguments.length!==16)return;_=arguments}var x=this.mat4,b=x[0],E=x[4],S=x[8],C=x[12],b=(x[0]=_[0]*b+_[1]*E+_[2]*S+_[3]*C,x[4]=_[4]*b+_[5]*E+_[6]*S+_[7]*C,x[8]=_[8]*b+_[9]*E+_[10]*S+_[11]*C,x[12]=_[12]*b+_[13]*E+_[14]*S+_[15]*C,x[1]),E=x[5],S=x[9],C=x[13],b=(x[1]=_[0]*b+_[1]*E+_[2]*S+_[3]*C,x[5]=_[4]*b+_[5]*E+_[6]*S+_[7]*C,x[9]=_[8]*b+_[9]*E+_[10]*S+_[11]*C,x[13]=_[12]*b+_[13]*E+_[14]*S+_[15]*C,x[2]),E=x[6],S=x[10],C=x[14],b=(x[2]=_[0]*b+_[1]*E+_[2]*S+_[3]*C,x[6]=_[4]*b+_[5]*E+_[6]*S+_[7]*C,x[10]=_[8]*b+_[9]*E+_[10]*S+_[11]*C,x[14]=_[12]*b+_[13]*E+_[14]*S+_[15]*C,x[3]),E=x[7],S=x[11],C=x[15];return x[3]=_[0]*b+_[1]*E+_[2]*S+_[3]*C,x[7]=_[4]*b+_[5]*E+_[6]*S+_[7]*C,x[11]=_[8]*b+_[9]*E+_[10]*S+_[11]*C,x[15]=_[12]*b+_[13]*E+_[14]*S+_[15]*C,this}},{key:"scale",value:function(v,_,x){return v instanceof o.default.Vector?(_=v.y,x=v.z,v=v.x):v instanceof Array&&(_=v[1],x=v[2],v=v[0]),this.mat4[0]*=v,this.mat4[1]*=v,this.mat4[2]*=v,this.mat4[3]*=v,this.mat4[4]*=_,this.mat4[5]*=_,this.mat4[6]*=_,this.mat4[7]*=_,this.mat4[8]*=x,this.mat4[9]*=x,this.mat4[10]*=x,this.mat4[11]*=x,this}},{key:"rotate",value:function(H,Q,q,b){Q instanceof o.default.Vector?(q=Q.y,b=Q.z,Q=Q.x):Q instanceof Array&&(q=Q[1],b=Q[2],Q=Q[0]);var E=Math.sqrt(Q*Q+q*q+b*b),E=(Q*=1/E,q*=1/E,b*=1/E,this.mat4[0]),S=this.mat4[1],C=this.mat4[2],D=this.mat4[3],M=this.mat4[4],R=this.mat4[5],L=this.mat4[6],F=this.mat4[7],I=this.mat4[8],G=this.mat4[9],P=this.mat4[10],X=this.mat4[11],V=Math.sin(H),H=Math.cos(H),J=1-H,Z=Q*Q*J+H,K=q*Q*J+b*V,Y=b*Q*J-q*V,te=Q*q*J-b*V,ue=q*q*J+H,O=b*q*J+Q*V,U=Q*b*J+q*V,q=q*b*J-Q*V,Q=b*b*J+H;return this.mat4[0]=E*Z+M*K+I*Y,this.mat4[1]=S*Z+R*K+G*Y,this.mat4[2]=C*Z+L*K+P*Y,this.mat4[3]=D*Z+F*K+X*Y,this.mat4[4]=E*te+M*ue+I*O,this.mat4[5]=S*te+R*ue+G*O,this.mat4[6]=C*te+L*ue+P*O,this.mat4[7]=D*te+F*ue+X*O,this.mat4[8]=E*U+M*q+I*Q,this.mat4[9]=S*U+R*q+G*Q,this.mat4[10]=C*U+L*q+P*Q,this.mat4[11]=D*U+F*q+X*Q,this}},{key:"translate",value:function(b){var _=b[0],x=b[1],b=b[2]||0;this.mat4[12]+=this.mat4[0]*_+this.mat4[4]*x+this.mat4[8]*b,this.mat4[13]+=this.mat4[1]*_+this.mat4[5]*x+this.mat4[9]*b,this.mat4[14]+=this.mat4[2]*_+this.mat4[6]*x+this.mat4[10]*b,this.mat4[15]+=this.mat4[3]*_+this.mat4[7]*x+this.mat4[11]*b}},{key:"rotateX",value:function(v){this.rotate(v,1,0,0)}},{key:"rotateY",value:function(v){this.rotate(v,0,1,0)}},{key:"rotateZ",value:function(v){this.rotate(v,0,0,1)}},{key:"perspective",value:function(E,_,x,b){var E=1/Math.tan(E/2),S=1/(x-b);return this.mat4[0]=E/_,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=E,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=(b+x)*S,this.mat4[11]=-1,this.mat4[12]=0,this.mat4[13]=0,this.mat4[14]=2*b*x*S,this.mat4[15]=0,this}},{key:"ortho",value:function(v,_,x,b,E,S){var C=1/(v-_),D=1/(x-b),M=1/(E-S);return this.mat4[0]=-2*C,this.mat4[1]=0,this.mat4[2]=0,this.mat4[3]=0,this.mat4[4]=0,this.mat4[5]=-2*D,this.mat4[6]=0,this.mat4[7]=0,this.mat4[8]=0,this.mat4[9]=0,this.mat4[10]=2*M,this.mat4[11]=0,this.mat4[12]=(v+_)*C,this.mat4[13]=(b+x)*D,this.mat4[14]=(S+E)*M,this.mat4[15]=1,this}},{key:"multiplyVec4",value:function(v,_,x,b){var E=new Array(4),S=this.mat4;return E[0]=S[0]*v+S[4]*_+S[8]*x+S[12]*b,E[1]=S[1]*v+S[5]*_+S[9]*x+S[13]*b,E[2]=S[2]*v+S[6]*_+S[10]*x+S[14]*b,E[3]=S[3]*v+S[7]*_+S[11]*x+S[15]*b,E}},{key:"multiplyPoint",value:function(x){var b=x.x,_=x.y,x=x.z,b=this.multiplyVec4(b,_,x,1);return new o.default.Vector(b[0],b[1],b[2])}},{key:"multiplyAndNormalizePoint",value:function(x){var b=x.x,_=x.y,x=x.z,b=this.multiplyVec4(b,_,x,1);return b[0]/=b[3],b[1]/=b[3],b[2]/=b[3],new o.default.Vector(b[0],b[1],b[2])}},{key:"multiplyDirection",value:function(x){var b=x.x,_=x.y,x=x.z,b=this.multiplyVec4(b,_,x,0);return new o.default.Vector(b[0],b[1],b[2])}},{key:"mult3x3",value:function(x){var _;if(x===this||x===this.mat3)_=this.copy().mat3;else if(x instanceof o.default.Matrix)_=x.mat3;else if(d(x))_=x;else{if(arguments.length!==9)return;_=arguments}var x=this.mat3[0],b=this.mat3[1],E=this.mat3[2];return this.mat3[0]=x*_[0]+b*_[3]+E*_[6],this.mat3[1]=x*_[1]+b*_[4]+E*_[7],this.mat3[2]=x*_[2]+b*_[5]+E*_[8],x=this.mat3[3],b=this.mat3[4],E=this.mat3[5],this.mat3[3]=x*_[0]+b*_[3]+E*_[6],this.mat3[4]=x*_[1]+b*_[4]+E*_[7],this.mat3[5]=x*_[2]+b*_[5]+E*_[8],x=this.mat3[6],b=this.mat3[7],E=this.mat3[8],this.mat3[6]=x*_[0]+b*_[3]+E*_[6],this.mat3[7]=x*_[1]+b*_[4]+E*_[7],this.mat3[8]=x*_[2]+b*_[5]+E*_[8],this}},{key:"column",value:function(v){return new o.default.Vector(this.mat3[3*v],this.mat3[3*v+1],this.mat3[3*v+2])}},{key:"row",value:function(v){return new o.default.Vector(this.mat3[v],this.mat3[v+3],this.mat3[v+6])}},{key:"diagonal",value:function(){return this.mat3!==void 0?[this.mat3[0],this.mat3[4],this.mat3[8]]:[this.mat4[0],this.mat4[5],this.mat4[10],this.mat4[15]]}},{key:"multiplyVec3",value:function(v,_){return(_=_===void 0?v.copy():_).x=this.row(0).dot(v),_.y=this.row(1).dot(v),_.z=this.row(2).dot(v),_}},{key:"createSubMatrix3x3",value:function(){var v=new o.default.Matrix("mat3");return v.mat3[0]=this.mat4[0],v.mat3[1]=this.mat4[1],v.mat3[2]=this.mat4[2],v.mat3[3]=this.mat4[4],v.mat3[4]=this.mat4[5],v.mat3[5]=this.mat4[6],v.mat3[6]=this.mat4[8],v.mat3[7]=this.mat4[9],v.mat3[8]=this.mat4[10],v}}])&&u(h.prototype,p),m&&u(h,m),y}(),o.default.Matrix);s.default=g},{"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.to-string":190,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239}],337:[function(t,l,s){Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(c,d){for(var g=0;g<d.length;g++){var y=d[g];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(c,y.key,y)}}o.default.Quat=function(){function c(h,p,m,v){if(!(this instanceof c))throw new TypeError("Cannot call a class as a function");this.w=h,this.vec=new o.default.Vector(p,m,v)}var d,g,y;return d=c,y=[{key:"fromAxisAngle",value:function(h,x,m,v){var _=Math.cos(h/2),x=new o.default.Vector(x,m,v).normalize().mult(Math.sin(h/2));return new o.default.Quat(_,x.x,x.y,x.z)}}],(g=[{key:"conjugate",value:function(){return new o.default.Quat(this.w,-this.vec.x,-this.vec.y,-this.vec.z)}},{key:"multiply",value:function(h){return new o.default.Quat(this.w*h.w-this.vec.x*h.vec.x-this.vec.y*h.vec.y-this.vec.z-h.vec.z,this.w*h.vec.x+this.vec.x*h.w+this.vec.y*h.vec.z-this.vec.z*h.vec.y,this.w*h.vec.y-this.vec.x*h.vec.z+this.vec.y*h.w+this.vec.z*h.vec.x,this.w*h.vec.z+this.vec.x*h.vec.y-this.vec.y*h.vec.x+this.vec.z*h.w)}},{key:"rotateVector",value:function(h){return new o.default.Vector.mult(h,this.w*this.w-this.vec.dot(this.vec)).add(o.default.Vector.mult(this.vec,2*h.dot(this.vec))).add(o.default.Vector.mult(this.vec,2*this.w).cross(h)).clampToZero()}},{key:"rotateBy",value:function(h){return h.multiply(this).multiply(h.conjugate()).vec.clampToZero()}}])&&u(d.prototype,g),y&&u(d,y),c}(),t=o.default.Quat,s.default=t},{"../core/main":283}],338:[function(t,l,s){t("core-js/modules/es.array.map"),t("core-js/modules/es.array.map"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0,t=(t=t("../core/main"))&&t.__esModule?t:{default:t};function o(u,c){for(var d=0;d<c.length;d++){var g=c[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(u,g.key,g)}}t.default.RenderBuffer=function(){function u(g,y,h,p,m,v){if(!(this instanceof u))throw new TypeError("Cannot call a class as a function");this.size=g,this.src=y,this.dst=h,this.attr=p,this._renderer=m,this.map=v}var c,d;return c=u,(d=[{key:"_prepareBuffer",value:function(g,y){var h,p,m,x=y.attributes,v=this._renderer.GL,_=g.model||g,x=x[this.attr];x&&(h=g[this.dst],0<(p=_[this.src]).length?((m=!h)&&(g[this.dst]=h=v.createBuffer()),v.bindBuffer(v.ARRAY_BUFFER,h),!m&&_.dirtyFlags[this.src]===!1||(m=(g=this.map)?g(p):p,this._renderer._bindBuffer(h,v.ARRAY_BUFFER,m),_.dirtyFlags[this.src]=!1),y.enableAttrib(x,this.size)):(g=x.location)!==-1&&this._renderer.registerEnabled.has(g)&&(v.disableVertexAttribArray(g),this._renderer.registerEnabled.delete(g)))}}])&&o(c.prototype,d),u}(),t=t.default.RenderBuffer,s.default=t},{"../core/main":283,"core-js/modules/es.array.map":168}],339:[function(t,l,s){function o(m){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v})(m)}function u(m){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(v){return o(v)}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":o(v)})(m)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.from"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.find-index"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.map"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.map"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(p=t("../core/main"))&&p.__esModule?p:{default:p},d=function(m){if(m&&m.__esModule)return m;if(m===null||u(m)!=="object"&&typeof m!="function")return{default:m};var v=g();if(v&&v.has(m))return v.get(m);var _,x={},b=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(_ in m){var E;Object.prototype.hasOwnProperty.call(m,_)&&((E=b?Object.getOwnPropertyDescriptor(m,_):null)&&(E.get||E.set)?Object.defineProperty(x,_,E):x[_]=m[_])}return x.default=m,v&&v.set(m,x),x}(t("../core/constants"));function g(){var m;return typeof WeakMap!="function"?null:(m=new WeakMap,g=function(){return m},m)}function y(m){return function(v){if(Array.isArray(v)){for(var _=0,x=new Array(v.length);_<v.length;_++)x[_]=v[_];return x}}(m)||function(v){if(Symbol.iterator in Object(v)||Object.prototype.toString.call(v)==="[object Arguments]")return Array.from(v)}(m)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}t("./p5.RenderBuffer"),c.default.RendererGL.prototype.beginShape=function(m){return this.immediateMode.shapeMode=m!==void 0?m:d.TESS,this.immediateMode.geometry.reset(),this.immediateMode.contourIndices=[],this};var h={vertices:1,vertexNormals:1,vertexColors:4,vertexStrokeColors:4,uvs:2},p=(c.default.RendererGL.prototype.beginContour=function(){if(this.immediateMode.shapeMode!==d.TESS)throw new Error("WebGL mode can only use contours with beginShape(TESS).");this.immediateMode.contourIndices.push(this.immediateMode.geometry.vertices.length)},c.default.RendererGL.prototype.vertex=function(m,v){if(this.immediateMode.shapeMode===d.QUADS&&this.immediateMode.geometry.vertices.length%6==3)for(var _ in h){var x=h[_],_=this.immediateMode.geometry[_];_.push.apply(_,y(_.slice(_.length-3*x,_.length-2*x)).concat(y(_.slice(_.length-x,_.length))))}var b,E,S=b=E=0,C=(arguments.length===3?S=arguments[2]:arguments.length===4?(b=arguments[2],E=arguments[3]):arguments.length===5&&(S=arguments[2],b=arguments[3],E=arguments[4]),new c.default.Vector(m,v,S)),C=(this.immediateMode.geometry.vertices.push(C),this.immediateMode.geometry.vertexNormals.push(this._currentNormal),this.curFillColor||[.5,.5,.5,1]),C=(this.immediateMode.geometry.vertexColors.push(C[0],C[1],C[2],C[3]),this.curStrokeColor||[.5,.5,.5,1]);return this.immediateMode.geometry.vertexStrokeColors.push(C[0],C[1],C[2],C[3]),this.textureMode!==d.IMAGE||this.isProcessingVertices||(this._tex!==null?0<this._tex.width&&0<this._tex.height&&(b/=this._tex.width,E/=this._tex.height):this.userFillShader===void 0&&this.userStrokeShader===void 0&&this.userPointShader===void 0&&this._tex===null&&4<=arguments.length&&console.warn("You must first call texture() before using vertex() with image based u and v coordinates")),this.immediateMode.geometry.uvs.push(b,E),this.immediateMode._bezierVertex[0]=m,this.immediateMode._bezierVertex[1]=v,this.immediateMode._bezierVertex[2]=S,this.immediateMode._quadraticVertex[0]=m,this.immediateMode._quadraticVertex[1]=v,this.immediateMode._quadraticVertex[2]=S,this},c.default.RendererGL.prototype.normal=function(m,v,_){return m instanceof c.default.Vector?this._currentNormal=m:this._currentNormal=new c.default.Vector(m,v,_),this},c.default.RendererGL.prototype.endShape=function(m,v,_,x,b,E){var S,C=6<arguments.length&&arguments[6]!==void 0?arguments[6]:1;return this.immediateMode.shapeMode===d.POINTS?this._drawPoints(this.immediateMode.geometry.vertices,this.immediateMode.buffers.point):(this.immediateMode.geometry.vertices.length===3&&this.immediateMode.shapeMode===d.TESS&&(this.immediateMode.shapeMode=d.TRIANGLES),this.isProcessingVertices=!0,this._processVertices.apply(this,arguments),S=this.isProcessingVertices=!1,this.immediateMode.shapeMode!==d.LINE_STRIP&&this.immediateMode.shapeMode!==d.LINES||(this.immediateMode.shapeMode=d.TRIANGLE_FAN,S=!0),this.immediateMode.shapeMode===d.QUADS?this.immediateMode.shapeMode=d.TRIANGLES:this.immediateMode.shapeMode===d.QUAD_STRIP&&(this.immediateMode.shapeMode=d.TRIANGLE_STRIP),this._doFill&&!S&&!this.geometryBuilder&&3<=this.immediateMode.geometry.vertices.length&&this._drawImmediateFill(C),this._doStroke&&!this.geometryBuilder&&1<=this.immediateMode.geometry.lineVertices.length&&this._drawImmediateStroke(),this.geometryBuilder&&this.geometryBuilder.addImmediate(),this.isBezier=!1,this.isQuadratic=!1,this.isCurve=!1,this.immediateMode._bezierVertex.length=0,this.immediateMode._quadraticVertex.length=0,this.immediateMode._curveVertex.length=0),this},c.default.RendererGL.prototype._processVertices=function(m){var v;this.immediateMode.geometry.vertices.length!==0&&(v=this._doStroke,m=m===d.CLOSE,v&&(this.immediateMode.geometry.edges=this._calculateEdges(this.immediateMode.shapeMode,this.immediateMode.geometry.vertices,m),this.geometryBuilder||this.immediateMode.geometry._edgesToVertices()),v=this.immediateMode.shapeMode===d.TESS,m=0<this.immediateMode.contourIndices.length,this._doFill&&(this.isBezier||this.isQuadratic||this.isCurve||v||m)&&this.immediateMode.shapeMode!==d.LINES&&this._tesselateShape())},c.default.RendererGL.prototype._calculateEdges=function(m,v,_){var x=[],b=0,E=this.immediateMode.contourIndices.slice(),S=0;switch(m){case d.TRIANGLE_STRIP:for(b=0;b<v.length-2;b++)x.push([b,b+1]),x.push([b,b+2]);x.push([b,b+1]);break;case d.TRIANGLE_FAN:for(b=1;b<v.length-1;b++)x.push([0,b]),x.push([b,b+1]);x.push([0,v.length-1]);break;case d.TRIANGLES:for(b=0;b<v.length-2;b+=3)x.push([b,b+1]),x.push([b+1,b+2]),x.push([b+2,b]);break;case d.LINES:for(b=0;b<v.length-1;b+=2)x.push([b,b+1]);break;case d.QUADS:for(b=0;b<v.length-5;b+=6)x.push([b,b+1]),x.push([b+1,b+2]),x.push([b+3,b+5]),x.push([b+4,b+5]);break;case d.QUAD_STRIP:for(b=0;b<v.length-2;b+=2)x.push([b,b+1]),x.push([b,b+2]),x.push([b+1,b+3]);x.push([b,b+1]);break;default:for(b=0;b<v.length;b++)b+1<v.length&&b+1!==E[0]?x.push([b,b+1]):((_||S)&&x.push([b,S]),0<E.length&&(S=E.shift()))}return m!==d.TESS&&_&&x.push([v.length-1,0]),x},c.default.RendererGL.prototype._tesselateShape=function(){for(var m=this,v=(this.immediateMode.shapeMode=d.TRIANGLES,[[]]),_=0;_<this.immediateMode.geometry.vertices.length;_++)0<this.immediateMode.contourIndices.length&&this.immediateMode.contourIndices[0]===_&&(this.immediateMode.contourIndices.shift(),v.push([])),v[v.length-1].push(this.immediateMode.geometry.vertices[_].x,this.immediateMode.geometry.vertices[_].y,this.immediateMode.geometry.vertices[_].z,this.immediateMode.geometry.uvs[2*_],this.immediateMode.geometry.uvs[2*_+1],this.immediateMode.geometry.vertexColors[4*_],this.immediateMode.geometry.vertexColors[4*_+1],this.immediateMode.geometry.vertexColors[4*_+2],this.immediateMode.geometry.vertexColors[4*_+3],this.immediateMode.geometry.vertexNormals[_].x,this.immediateMode.geometry.vertexNormals[_].y,this.immediateMode.geometry.vertexNormals[_].z);for(var x,b=this._triangulate(v),E=this.immediateMode.geometry.vertices,S=(this.immediateMode.geometry.vertices=[],this.immediateMode.geometry.vertexNormals=[],this.immediateMode.geometry.uvs=[],[]),C=0,D=b.length;C<D;C+=c.default.RendererGL.prototype.tessyVertexSize)S.push.apply(S,y(b.slice(C+5,C+9))),this.normal.apply(this,y(b.slice(C+9,C+12))),this.vertex.apply(this,y(b.slice(C,C+5)));this.geometryBuilder&&(x=new Map,this.immediateMode.geometry.edges=this.immediateMode.geometry.edges.map(function(M){return M.map(function(R){if(!x.has(R)){var L=E[R],F=m.immediateMode.geometry.vertices.findIndex(function(J){return L.x===J.x&&L.y===J.y&&L.z===J.z});if(F===-1){for(var I=1/0,G=0,P=0;P<m.immediateMode.geometry.vertices.length;P++){var V=m.immediateMode.geometry.vertices[P],H=L.x-V.x,X=L.y-V.y,V=L.z-V.z,H=H*H+X*X+V*V;H<I&&(I=H,G=P)}F=G}x.set(R,F)}return x.get(R)})})),this.immediateMode.geometry.vertexColors=S},c.default.RendererGL.prototype._drawImmediateFill=function(){var m,v=0<arguments.length&&arguments[0]!==void 0?arguments[0]:1,_=this.GL,x=(this._useVertexColor=0<this.immediateMode.geometry.vertexColors.length,m=this._getImmediateFillShader(),this._setFillUniforms(m),!0),b=!1,E=void 0;try{for(var S,C=this.immediateMode.buffers.fill[Symbol.iterator]();!(x=(S=C.next()).done);x=!0)S.value._prepareBuffer(this.immediateMode.geometry,m)}catch(D){b=!0,E=D}finally{try{x||C.return==null||C.return()}finally{if(b)throw E}}if(m.disableRemainingAttributes(),this._applyColorBlend(this.curFillColor,this.immediateMode.geometry.hasFillTransparency()),v===1)_.drawArrays(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length);else try{_.drawArraysInstanced(this.immediateMode.shapeMode,0,this.immediateMode.geometry.vertices.length,v)}catch{console.log(" p5.js says: Instancing is only supported in WebGL2 mode")}m.unbindShader()},c.default.RendererGL.prototype._drawImmediateStroke=function(){var m=this.GL,v=(this._useLineColor=0<this.immediateMode.geometry.vertexStrokeColors.length,this._getImmediateStrokeShader()),_=(this._setStrokeUniforms(v),!0),x=!1,b=void 0;try{for(var E,S=this.immediateMode.buffers.stroke[Symbol.iterator]();!(_=(E=S.next()).done);_=!0)E.value._prepareBuffer(this.immediateMode.geometry,v)}catch(C){x=!0,b=C}finally{try{_||S.return==null||S.return()}finally{if(x)throw b}}v.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,this.immediateMode.geometry.hasFillTransparency()),m.drawArrays(m.TRIANGLES,0,this.immediateMode.geometry.lineVertices.length/3),v.unbindShader()},c.default.RendererGL);s.default=p},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.find-index":158,"core-js/modules/es.array.from":162,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.map":175,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],340:[function(t,l,s){function o(h){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p})(h)}function u(h){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(p){return o(p)}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":o(p)})(h)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.fill"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.some"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.float32-array"),t("core-js/modules/es.typed-array.uint16-array"),t("core-js/modules/es.typed-array.uint32-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var c=(y=t("../core/main"))&&y.__esModule?y:{default:y},d=(t("./p5.RendererGL"),t("./p5.RenderBuffer"),function(h){if(h&&h.__esModule)return h;if(h===null||u(h)!=="object"&&typeof h!="function")return{default:h};var p=g();if(p&&p.has(h))return p.get(h);var m,v={},_=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(m in h){var x;Object.prototype.hasOwnProperty.call(h,m)&&((x=_?Object.getOwnPropertyDescriptor(h,m):null)&&(x.get||x.set)?Object.defineProperty(v,m,x):v[m]=h[m])}return v.default=h,p&&p.set(h,v),v}(t("../core/constants")));function g(){var h;return typeof WeakMap!="function"?null:(h=new WeakMap,g=function(){return h},h)}c.default.RendererGL.prototype.freeGeometry=function(h){h.gid?this._freeBuffers(h.gid):console.warn("The model you passed to freeGeometry does not have an id!")},c.default.RendererGL.prototype._initBufferDefaults=function(h){var p;return this._freeBuffers(h),1e3<Object.keys(this.retainedMode.geometry).length&&(p=Object.keys(this.retainedMode.geometry)[0],this._freeBuffers(p)),this.retainedMode.geometry[h]={}},c.default.RendererGL.prototype._freeBuffers=function(h){var p,m=this.retainedMode.geometry[h];function v(_){var x=!0,b=!1,E=void 0;try{for(var S,C=_[Symbol.iterator]();!(x=(S=C.next()).done);x=!0){var D=S.value;m[D.dst]&&(p.deleteBuffer(m[D.dst]),m[D.dst]=null)}}catch(M){b=!0,E=M}finally{try{x||C.return==null||C.return()}finally{if(b)throw E}}}m&&(delete this.retainedMode.geometry[h],p=this.GL,m.indexBuffer&&p.deleteBuffer(m.indexBuffer),v(this.retainedMode.buffers.stroke),v(this.retainedMode.buffers.fill))},c.default.RendererGL.prototype.createBuffers=function(b,p){var m,v,_,x=this.GL,b=this._initBufferDefaults(b),E=(b.model=p,b.indexBuffer);return p.faces.length?(E=E||(b.indexBuffer=x.createBuffer()),_=(v=(m=c.default.RendererGL.prototype._flatten(p.faces)).some(function(S){return 65535<S}))?Uint32Array:Uint16Array,this._bindBuffer(E,x.ELEMENT_ARRAY_BUFFER,m,_),b.indexBufferType=v?x.UNSIGNED_INT:x.UNSIGNED_SHORT,b.vertexCount=3*p.faces.length):(E&&(x.deleteBuffer(E),b.indexBuffer=null),b.vertexCount=p.vertices?p.vertices.length:0),b.lineVertexCount=p.lineVertices?p.lineVertices.length/3:0,b},c.default.RendererGL.prototype.drawBuffers=function(h){var p=this.GL,m=this.retainedMode.geometry[h];if(!this.geometryBuilder&&this._doFill&&0<this.retainedMode.geometry[h].vertexCount){this._useVertexColor=0<m.model.vertexColors.length;var v=this._getRetainedFillShader(),_=(this._setFillUniforms(v),!0),x=!1,b=void 0;try{for(var E,S=this.retainedMode.buffers.fill[Symbol.iterator]();!(_=(E=S.next()).done);_=!0)E.value._prepareBuffer(m,v)}catch(L){x=!0,b=L}finally{try{_||S.return==null||S.return()}finally{if(x)throw b}}v.disableRemainingAttributes(),m.indexBuffer&&this._bindBuffer(m.indexBuffer,p.ELEMENT_ARRAY_BUFFER),this._applyColorBlend(this.curFillColor,m.model.hasFillTransparency()),this._drawElements(p.TRIANGLES,h),v.unbindShader()}if(!this.geometryBuilder&&this._doStroke&&0<m.lineVertexCount){this._useLineColor=0<m.model.vertexStrokeColors.length;var C=this._getRetainedStrokeShader(),D=(this._setStrokeUniforms(C),!0),x=!1,b=void 0;try{for(var M,R=this.retainedMode.buffers.stroke[Symbol.iterator]();!(D=(M=R.next()).done);D=!0)M.value._prepareBuffer(m,C)}catch(I){x=!0,b=I}finally{try{D||R.return==null||R.return()}finally{if(x)throw b}}C.disableRemainingAttributes(),this._applyColorBlend(this.curStrokeColor,m.model.hasStrokeTransparency()),this._drawArrays(p.TRIANGLES,h),C.unbindShader()}return this.geometryBuilder&&this.geometryBuilder.addRetained(m),this},c.default.RendererGL.prototype.drawBuffersScaled=function(h,p,m,v){var _=this.uModelMatrix.copy();try{this.uModelMatrix.scale(p,m,v),this.drawBuffers(h)}finally{this.uModelMatrix=_}},c.default.RendererGL.prototype._drawArrays=function(h,p){return this.GL.drawArrays(h,0,this.retainedMode.geometry[p].lineVertexCount),this},c.default.RendererGL.prototype._drawElements=function(h,m){var m=this.retainedMode.geometry[m],v=this.GL;if(m.indexBuffer){if(this._pInst.webglVersion!==d.WEBGL2&&m.indexBufferType===v.UNSIGNED_INT&&!v.getExtension("OES_element_index_uint"))throw new Error("Unable to render a 3d model with > 65535 triangles. Your web browser does not support the WebGL Extension OES_element_index_uint.");v.drawElements(v.TRIANGLES,m.vertexCount,m.indexBufferType,0)}else v.drawArrays(h||v.TRIANGLES,0,m.vertexCount)},c.default.RendererGL.prototype._drawPoints=function(h,p){var m=this.GL,v=this._getImmediatePointShader();this._setPointUniforms(v),this._bindBuffer(p,m.ARRAY_BUFFER,this._vToNArray(h),Float32Array,m.STATIC_DRAW),v.enableAttrib(v.attributes.aPosition,3),this._applyColorBlend(this.curStrokeColor),m.drawArrays(m.Points,0,h.length),v.unbindShader()};var y=c.default.RendererGL;s.default=y},{"../core/constants":272,"../core/main":283,"./p5.RenderBuffer":338,"./p5.RendererGL":341,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.some":170,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],341:[function(P,l,s){function o(K){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(K)}function u(K){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(Y){return o(Y)}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":o(Y)})(K)}P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.get-own-property-descriptor"),P("core-js/modules/es.object.get-prototype-of"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.reflect.construct"),P("core-js/modules/es.reflect.get"),P("core-js/modules/es.regexp.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/es.weak-map"),P("core-js/modules/web.dom-collections.iterator"),P("core-js/modules/es.symbol"),P("core-js/modules/es.symbol.description"),P("core-js/modules/es.symbol.iterator"),P("core-js/modules/es.array.concat"),P("core-js/modules/es.array.copy-within"),P("core-js/modules/es.array.every"),P("core-js/modules/es.array.fill"),P("core-js/modules/es.array.flat"),P("core-js/modules/es.array.flat-map"),P("core-js/modules/es.array.from"),P("core-js/modules/es.array.includes"),P("core-js/modules/es.array.iterator"),P("core-js/modules/es.array.map"),P("core-js/modules/es.array.slice"),P("core-js/modules/es.array.some"),P("core-js/modules/es.array.unscopables.flat"),P("core-js/modules/es.array.unscopables.flat-map"),P("core-js/modules/es.map"),P("core-js/modules/es.object.assign"),P("core-js/modules/es.object.to-string"),P("core-js/modules/es.set"),P("core-js/modules/es.string.includes"),P("core-js/modules/es.string.iterator"),P("core-js/modules/es.typed-array.float32-array"),P("core-js/modules/es.typed-array.float64-array"),P("core-js/modules/es.typed-array.int16-array"),P("core-js/modules/es.typed-array.uint8-array"),P("core-js/modules/es.typed-array.uint16-array"),P("core-js/modules/es.typed-array.uint32-array"),P("core-js/modules/es.typed-array.copy-within"),P("core-js/modules/es.typed-array.every"),P("core-js/modules/es.typed-array.fill"),P("core-js/modules/es.typed-array.filter"),P("core-js/modules/es.typed-array.find"),P("core-js/modules/es.typed-array.find-index"),P("core-js/modules/es.typed-array.for-each"),P("core-js/modules/es.typed-array.includes"),P("core-js/modules/es.typed-array.index-of"),P("core-js/modules/es.typed-array.iterator"),P("core-js/modules/es.typed-array.join"),P("core-js/modules/es.typed-array.last-index-of"),P("core-js/modules/es.typed-array.map"),P("core-js/modules/es.typed-array.reduce"),P("core-js/modules/es.typed-array.reduce-right"),P("core-js/modules/es.typed-array.reverse"),P("core-js/modules/es.typed-array.set"),P("core-js/modules/es.typed-array.slice"),P("core-js/modules/es.typed-array.some"),P("core-js/modules/es.typed-array.sort"),P("core-js/modules/es.typed-array.subarray"),P("core-js/modules/es.typed-array.to-locale-string"),P("core-js/modules/es.typed-array.to-string"),P("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.readPixelsWebGL=J,s.readPixelWebGL=Z,s.default=void 0;var c=m(P("../core/main")),d=function(K){if(K&&K.__esModule)return K;if(K===null||u(K)!=="object"&&typeof K!="function")return{default:K};var Y=p();if(Y&&Y.has(K))return Y.get(K);var te,ue={},O=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(te in K){var U;Object.prototype.hasOwnProperty.call(K,te)&&((U=O?Object.getOwnPropertyDescriptor(K,te):null)&&(U.get||U.set)?Object.defineProperty(ue,te,U):ue[te]=K[te])}return ue.default=K,Y&&Y.set(K,ue),ue}(P("../core/constants")),g=m(P("./GeometryBuilder")),y=m(P("libtess")),h=(P("./p5.Shader"),P("./p5.Camera"),P("../core/p5.Renderer"),P("./p5.Matrix"),P("./p5.Framebuffer"),P("path"),P("./p5.Texture"));function p(){var K;return typeof WeakMap!="function"?null:(K=new WeakMap,p=function(){return K},K)}function m(K){return K&&K.__esModule?K:{default:K}}function v(K){return function(Y){if(Array.isArray(Y)){for(var te=0,ue=new Array(Y.length);te<Y.length;te++)ue[te]=Y[te];return ue}}(K)||function(Y){if(Symbol.iterator in Object(Y)||Object.prototype.toString.call(Y)==="[object Arguments]")return Array.from(Y)}(K)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function _(K,Y){for(var te=0;te<Y.length;te++){var ue=Y[te];ue.enumerable=ue.enumerable||!1,ue.configurable=!0,"value"in ue&&(ue.writable=!0),Object.defineProperty(K,ue.key,ue)}}function x(K,Y,te){return(x=typeof Reflect<"u"&&Reflect.get?Reflect.get:function(q,O,U){var q=function(Q,ae){for(;!Object.prototype.hasOwnProperty.call(Q,ae)&&(Q=C(Q))!==null;);return Q}(q,O);if(q)return(q=Object.getOwnPropertyDescriptor(q,O)).get?q.get.call(U):q.value})(K,Y,te||K)}function b(K,Y){return(b=Object.setPrototypeOf||function(te,ue){return te.__proto__=ue,te})(K,Y)}function E(K){return function(){var Y,te,ue=C(K);return Y=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(Y=C(this).constructor,Reflect.construct(ue,arguments,Y)):ue.apply(this,arguments),ue=this,!(te=Y)||u(te)!=="object"&&typeof te!="function"?S(ue):te}}function S(K){if(K===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return K}function C(K){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(K)}function D(K,Y,te){Y in K?Object.defineProperty(K,Y,{value:te,enumerable:!0,configurable:!0,writable:!0}):K[Y]=te}function M(K,Y){G+="#define STROKE_CAP_".concat(K," ").concat(Y,`
`),F[d[K]]=Y}function R(K,Y){G+="#define STROKE_JOIN_".concat(K," ").concat(Y,`
`),I[d[K]]=Y}var L,F={},I={},G="",P=(M("ROUND",0),M("PROJECT",1),M("SQUARE",2),R("ROUND",0),R("MITER",1),R("BEVEL",2),`#define PI 3.141592

precision highp float;
precision highp int;

uniform mat4 uViewMatrix;

uniform bool uUseLighting;

uniform int uAmbientLightCount;
uniform vec3 uAmbientColor[5];
uniform mat3 uCameraRotation;
uniform int uDirectionalLightCount;
uniform vec3 uLightingDirection[5];
uniform vec3 uDirectionalDiffuseColors[5];
uniform vec3 uDirectionalSpecularColors[5];

uniform int uPointLightCount;
uniform vec3 uPointLightLocation[5];
uniform vec3 uPointLightDiffuseColors[5];	
uniform vec3 uPointLightSpecularColors[5];

uniform int uSpotLightCount;
uniform float uSpotLightAngle[5];
uniform float uSpotLightConc[5];
uniform vec3 uSpotLightDiffuseColors[5];
uniform vec3 uSpotLightSpecularColors[5];
uniform vec3 uSpotLightLocation[5];
uniform vec3 uSpotLightDirection[5];

uniform bool uSpecular;
uniform float uShininess;
uniform float uMetallic;

uniform float uConstantAttenuation;
uniform float uLinearAttenuation;
uniform float uQuadraticAttenuation;

// setting from  _setImageLightUniforms()
// boolean to initiate the calculateImageDiffuse and calculateImageSpecular
uniform bool uUseImageLight;
// texture for use in calculateImageDiffuse
uniform sampler2D environmentMapDiffused;
// texture for use in calculateImageSpecular
uniform sampler2D environmentMapSpecular;

const float specularFactor = 2.0;
const float diffuseFactor = 0.73;

struct LightResult {
  float specular;
  float diffuse;
};

float _phongSpecular(
  vec3 lightDirection,
  vec3 viewDirection,
  vec3 surfaceNormal,
  float shininess) {

  vec3 R = reflect(lightDirection, surfaceNormal);
  return pow(max(0.0, dot(R, viewDirection)), shininess);
}

float _lambertDiffuse(vec3 lightDirection, vec3 surfaceNormal) {
  return max(0.0, dot(-lightDirection, surfaceNormal));
}

LightResult _light(vec3 viewDirection, vec3 normal, vec3 lightVector, float shininess, float metallic) {

  vec3 lightDir = normalize(lightVector);

  //compute our diffuse & specular terms
  LightResult lr;
  float specularIntensity = mix(1.0, 0.4, metallic);
  float diffuseIntensity = mix(1.0, 0.1, metallic);
  if (uSpecular)
    lr.specular = (_phongSpecular(lightDir, viewDirection, normal, shininess)) * specularIntensity;
    lr.diffuse = _lambertDiffuse(lightDir, normal) * diffuseIntensity;
  return lr;
}

// converts the range of "value" from [min1 to max1] to [min2 to max2]
float map(float value, float min1, float max1, float min2, float max2) {
  return min2 + (value - min1) * (max2 - min2) / (max1 - min1);
}

vec2 mapTextureToNormal( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( fract(theta + 0.25), 1.0 - phi );
  return angles;
}


vec3 calculateImageDiffuse(vec3 vNormal, vec3 vViewPosition, float metallic){
  // make 2 seperate builds 
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);  // hardcoded world camera position
  vec3 worldNormal = normalize(vNormal * uCameraRotation);
  vec2 newTexCoor = mapTextureToNormal( worldNormal );
  vec4 texture = TEXTURE( environmentMapDiffused, newTexCoor );
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(smoothstep(vec3(0.0), vec3(1.0), texture.xyz), vec3(0.0), metallic);
}

vec3 calculateImageSpecular(vec3 vNormal, vec3 vViewPosition, float shininess, float metallic){
  vec3 worldCameraPosition =  vec3(0.0, 0.0, 0.0);
  vec3 worldNormal = normalize(vNormal);
  vec3 lightDirection = normalize( vViewPosition - worldCameraPosition );
  vec3 R = reflect(lightDirection, worldNormal) * uCameraRotation;
  vec2 newTexCoor = mapTextureToNormal( R );
#ifdef WEBGL2
  // In p5js the range of shininess is >= 1,
  // Therefore roughness range will be ([0,1]*8)*20 or [0, 160]
  // The factor of 8 is because currently the getSpecularTexture
  // only calculated 8 different levels of roughness
  // The factor of 20 is just to spread up this range so that,
  // [1, max] of shininess is converted to [0,160] of roughness
  float roughness = 20. / shininess;
  vec4 outColor = textureLod(environmentMapSpecular, newTexCoor, roughness * 8.);
#else
  vec4 outColor = TEXTURE(environmentMapSpecular, newTexCoor);
#endif
  // this is to make the darker sections more dark
  // png and jpg usually flatten the brightness so it is to reverse that
  return mix(
    pow(outColor.xyz, vec3(10)),
    pow(outColor.xyz, vec3(1.2)),
    metallic 
  );
}

void totalLight(
  vec3 modelPosition,
  vec3 normal,
  float shininess,
  float metallic,
  out vec3 totalDiffuse,
  out vec3 totalSpecular
) {

  totalSpecular = vec3(0.0);

  if (!uUseLighting) {
    totalDiffuse = vec3(1.0);
    return;
  }

  totalDiffuse = vec3(0.0);

  vec3 viewDirection = normalize(-modelPosition);

  for (int j = 0; j < 5; j++) {
    if (j < uDirectionalLightCount) {
      vec3 lightVector = (uViewMatrix * vec4(uLightingDirection[j], 0.0)).xyz;
      vec3 lightColor = uDirectionalDiffuseColors[j];
      vec3 specularColor = uDirectionalSpecularColors[j];
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if (j < uPointLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uPointLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
      //calculate attenuation
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);
      vec3 lightColor = lightFalloff * uPointLightDiffuseColors[j];
      vec3 specularColor = lightFalloff * uPointLightSpecularColors[j];

      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      totalDiffuse += result.diffuse * lightColor;
      totalSpecular += result.specular * lightColor * specularColor;
    }

    if(j < uSpotLightCount) {
      vec3 lightPosition = (uViewMatrix * vec4(uSpotLightLocation[j], 1.0)).xyz;
      vec3 lightVector = modelPosition - lightPosition;
    
      float lightDistance = length(lightVector);
      float lightFalloff = 1.0 / (uConstantAttenuation + lightDistance * uLinearAttenuation + (lightDistance * lightDistance) * uQuadraticAttenuation);

      vec3 lightDirection = (uViewMatrix * vec4(uSpotLightDirection[j], 0.0)).xyz;
      float spotDot = dot(normalize(lightVector), normalize(lightDirection));
      float spotFalloff;
      if(spotDot < uSpotLightAngle[j]) {
        spotFalloff = 0.0;
      }
      else {
        spotFalloff = pow(spotDot, uSpotLightConc[j]);
      }
      lightFalloff *= spotFalloff;

      vec3 lightColor = uSpotLightDiffuseColors[j];
      vec3 specularColor = uSpotLightSpecularColors[j];
     
      LightResult result = _light(viewDirection, normal, lightVector, shininess, metallic);
      
      totalDiffuse += result.diffuse * lightColor * lightFalloff;
      totalSpecular += result.specular * lightColor * specularColor * lightFalloff;
    }
  }

  if( uUseImageLight ){
    totalDiffuse += calculateImageDiffuse(normal, modelPosition, metallic);
    totalSpecular += calculateImageSpecular(normal, modelPosition, shininess, metallic);
  }

  totalDiffuse *= diffuseFactor;
  totalSpecular *= specularFactor;
}
`),X={sphereMappingFrag:`#define PI 3.141592

precision highp float;
  
uniform sampler2D uSampler;
uniform mat3 uNewNormalMatrix;
uniform float uFovY;
uniform float uAspect;

varying vec2 vTexCoord;
  
void main() {
    float uFovX = uFovY * uAspect; 
    vec4 newTexColor = texture2D(uSampler, vTexCoord);
    float angleY = mix(uFovY/2.0,  -uFovY/2.0, vTexCoord.y);
    float angleX = mix(uFovX/2.0, -uFovX/2.0, vTexCoord.x);
    vec3 rotatedNormal = vec3( angleX, angleY, 1.0 );
    rotatedNormal = uNewNormalMatrix * normalize(rotatedNormal);
    float temp = rotatedNormal.z;
    rotatedNormal.z = rotatedNormal.x;
    rotatedNormal.x = -temp;
    vec2 suv;
    suv.y = 0.5 + 0.5 * (-rotatedNormal.y);
    suv.x = atan(rotatedNormal.z, rotatedNormal.x) / (2.0 * PI) + 0.5;
    newTexColor = texture2D(uSampler, suv.xy);
    gl_FragColor = newTexColor;
}
`,immediateVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uResolution;
uniform float uPointSize;

OUT vec4 vColor;
void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
  gl_PointSize = uPointSize;
}
`,vertexColorVert:`IN vec3 aPosition;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

OUT vec4 vColor;

void main(void) {
  vec4 positionVec4 = vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vColor = aVertexColor;
}
`,vertexColorFrag:`IN vec4 vColor;
void main(void) {
  OUT_COLOR = vec4(vColor.rgb, 1.) * vColor.a;
}
`,normalVert:`IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform vec4 uMaterialColor;
uniform bool uUseVertexColor;

OUT vec3 vVertexNormal;
OUT highp vec2 vVertTexCoord;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 positionVec4 = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  gl_Position = uProjectionMatrix * positionVec4;

  vVertexNormal = HOOK_getWorldNormal(normalize(uNormalMatrix * HOOK_getLocalNormal(aNormal)));
  vVertTexCoord = HOOK_getUV(aTexCoord);
  vColor = HOOK_getVertexColor(uUseVertexColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,normalFrag:`IN vec3 vVertexNormal;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vVertexNormal, 1.0));
  HOOK_afterFragment();
}
`,basicFrag:`IN vec4 vColor;
void main(void) {
  HOOK_beforeFragment();
  OUT_COLOR = HOOK_getFinalColor(vec4(vColor.rgb, 1.) * vColor.a);
  HOOK_afterFragment();
}
`,lightVert:P+`// include lighting.glgl

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT highp vec2 vVertTexCoord;
OUT vec3 vDiffuseColor;
OUT vec3 vSpecularColor;
OUT vec4 vColor;

void main(void) {

  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;

  vec3 vertexNormal = normalize(uNormalMatrix * aNormal);
  vVertTexCoord = aTexCoord;

  totalLight(viewModelPosition.xyz, vertexNormal, vDiffuseColor, vSpecularColor);

  for (int i = 0; i < 8; i++) {
    if (i < uAmbientLightCount) {
      vDiffuseColor += uAmbientColor[i];
    }
  }
  
  vColor = (uUseVertexColor ? aVertexColor : uMaterialColor);
}
`,lightTextureFrag:`uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;
uniform bool uEmissive;

IN highp vec2 vVertTexCoord;
IN vec3 vDiffuseColor;
IN vec3 vSpecularColor;
IN vec4 vColor;

void main(void) {
  if(uEmissive && !isTexture) {
    OUT_COLOR = vColor;
  }
  else {
    vec4 baseColor = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vVertTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
    OUT_COLOR = vec4(baseColor.rgb * vDiffuseColor + vSpecularColor, baseColor.a);
  }
}
`,phongVert:`precision highp int;

IN vec3 aPosition;
IN vec3 aNormal;
IN vec2 aTexCoord;
IN vec4 aVertexColor;

uniform vec3 uAmbientColor[5];

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;
uniform int uAmbientLightCount;

uniform bool uUseVertexColor;
uniform vec4 uMaterialColor;

OUT vec3 vNormal;
OUT vec2 vTexCoord;
OUT vec3 vViewPosition;
OUT vec3 vAmbientColor;
OUT vec4 vColor;

void main(void) {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);

  // Pass varyings to fragment shader
  vViewPosition = viewModelPosition.xyz;
  gl_Position = uProjectionMatrix * viewModelPosition;  

  vNormal = HOOK_getWorldNormal(uNormalMatrix * HOOK_getLocalNormal(aNormal));
  vTexCoord = HOOK_getUV(aTexCoord);

  // TODO: this should be a uniform
  vAmbientColor = vec3(0.0);
  for (int i = 0; i < 5; i++) {
    if (i < uAmbientLightCount) {
      vAmbientColor += uAmbientColor[i];
    }
  }
  
  vColor = HOOK_getVertexColor((uUseVertexColor ? aVertexColor : uMaterialColor));
  HOOK_afterVertex();
}
`,phongFrag:P+`// include lighting.glsl
precision highp int;

uniform bool uHasSetAmbient;
uniform vec4 uSpecularMatColor;
uniform vec4 uAmbientMatColor;
uniform vec4 uEmissiveMatColor;

uniform vec4 uTint;
uniform sampler2D uSampler;
uniform bool isTexture;

IN vec3 vNormal;
IN vec2 vTexCoord;
IN vec3 vViewPosition;
IN vec3 vAmbientColor;
IN vec4 vColor;

struct ColorComponents {
  vec3 baseColor;
  float opacity;
  vec3 ambientColor;
  vec3 specularColor;
  vec3 diffuse;
  vec3 ambient;
  vec3 specular;
  vec3 emissive;
};

struct Inputs {
  vec3 normal;
  vec2 texCoord;
  vec3 ambientLight;
  vec3 ambientMaterial;
  vec3 specularMaterial;
  vec3 emissiveMaterial;
  vec4 color;
  float shininess;
  float metalness;
};

void main(void) {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.normal = normalize(vNormal);
  inputs.texCoord = vTexCoord;
  inputs.ambientLight = vAmbientColor;
  inputs.color = isTexture
      // Textures come in with premultiplied alpha. To apply tint and still have
      // premultiplied alpha output, we need to multiply the RGB channels by the
      // tint RGB, and all channels by the tint alpha.
      ? TEXTURE(uSampler, vTexCoord) * vec4(uTint.rgb/255., 1.) * (uTint.a/255.)
      // Colors come in with unmultiplied alpha, so we need to multiply the RGB
      // channels by alpha to convert it to premultiplied alpha.
      : vec4(vColor.rgb * vColor.a, vColor.a);
  inputs.shininess = uShininess;
  inputs.metalness = uMetallic;
  inputs.ambientMaterial = uHasSetAmbient ? uAmbientMatColor.rgb : inputs.color.rgb;
  inputs.specularMaterial = uSpecularMatColor.rgb;
  inputs.emissiveMaterial = uEmissiveMatColor.rgb;
  inputs = HOOK_getPixelInputs(inputs);

  vec3 diffuse;
  vec3 specular;
  totalLight(vViewPosition, inputs.normal, inputs.shininess, inputs.metalness, diffuse, specular);

  // Calculating final color as result of all lights (plus emissive term).

  vec2 texCoord = inputs.texCoord;
  vec4 baseColor = inputs.color;
  ColorComponents c;
  c.opacity = baseColor.a;
  c.baseColor = baseColor.rgb;
  c.ambientColor = inputs.ambientMaterial;
  c.specularColor = inputs.specularMaterial;
  c.diffuse = diffuse;
  c.ambient = inputs.ambientLight;
  c.specular = specular;
  c.emissive = inputs.emissiveMaterial;
  OUT_COLOR = HOOK_getFinalColor(HOOK_combineColors(c));
  HOOK_afterFragment();
}
`,fontVert:`IN vec3 aPosition;
IN vec2 aTexCoord;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

uniform vec4 uGlyphRect;
uniform float uGlyphOffset;

OUT vec2 vTexCoord;
OUT float w;

void main() {
  vec4 positionVec4 = vec4(aPosition, 1.0);

  // scale by the size of the glyph's rectangle
  positionVec4.xy *= uGlyphRect.zw - uGlyphRect.xy;

  // Expand glyph bounding boxes by 1px on each side to give a bit of room
  // for antialiasing
  vec3 newOrigin = (uModelViewMatrix * vec4(0., 0., 0., 1.)).xyz;
  vec3 newDX = (uModelViewMatrix * vec4(1., 0., 0., 1.)).xyz;
  vec3 newDY = (uModelViewMatrix * vec4(0., 1., 0., 1.)).xyz;
  vec2 pixelScale = vec2(
    1. / length(newOrigin - newDX),
    1. / length(newOrigin - newDY)
  );
  vec2 offset = pixelScale * normalize(aTexCoord - vec2(0.5, 0.5)) * vec2(1., -1.);
  vec2 textureOffset = offset * (1. / vec2(
    uGlyphRect.z - uGlyphRect.x,
    uGlyphRect.w - uGlyphRect.y
  ));

  // move to the corner of the glyph
  positionVec4.xy += uGlyphRect.xy;

  // move to the letter's line offset
  positionVec4.x += uGlyphOffset;

  positionVec4.xy += offset;
  
  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
  vTexCoord = aTexCoord + textureOffset;
  w = gl_Position.w;
}
`,fontFrag:`#ifndef WEBGL2
#extension GL_OES_standard_derivatives : enable
#endif

#if 0
  // simulate integer math using floats
	#define int float
	#define ivec2 vec2
	#define INT(x) float(x)

	int ifloor(float v) { return floor(v); }
	ivec2 ifloor(vec2 v) { return floor(v); }

#else
  // use native integer math
	precision highp int;
	#define INT(x) x

	int ifloor(float v) { return int(v); }
	int ifloor(int v) { return v; }
	ivec2 ifloor(vec2 v) { return ivec2(v); }

#endif

uniform sampler2D uSamplerStrokes;
uniform sampler2D uSamplerRowStrokes;
uniform sampler2D uSamplerRows;
uniform sampler2D uSamplerColStrokes;
uniform sampler2D uSamplerCols;

uniform ivec2 uStrokeImageSize;
uniform ivec2 uCellsImageSize;
uniform ivec2 uGridImageSize;

uniform ivec2 uGridOffset;
uniform ivec2 uGridSize;
uniform vec4 uMaterialColor;

IN vec2 vTexCoord;

// some helper functions
int ROUND(float v) { return ifloor(v + 0.5); }
ivec2 ROUND(vec2 v) { return ifloor(v + 0.5); }
float saturate(float v) { return clamp(v, 0.0, 1.0); }
vec2 saturate(vec2 v) { return clamp(v, 0.0, 1.0); }

int mul(float v1, int v2) {
  return ifloor(v1 * float(v2));
}

ivec2 mul(vec2 v1, ivec2 v2) {
  return ifloor(v1 * vec2(v2) + 0.5);
}

// unpack a 16-bit integer from a float vec2
int getInt16(vec2 v) {
  ivec2 iv = ROUND(v * 255.0);
  return iv.x * INT(128) + iv.y;
}

vec2 pixelScale;
vec2 coverage = vec2(0.0);
vec2 weight = vec2(0.5);
const float minDistance = 1.0/8192.0;
const float hardness = 1.05; // amount of antialias

// the maximum number of curves in a glyph
const int N = INT(250);

// retrieves an indexed pixel from a sampler
vec4 getTexel(sampler2D sampler, int pos, ivec2 size) {
  int width = size.x;
  int y = ifloor(pos / width);
  int x = pos - y * width;  // pos % width

  return TEXTURE(sampler, (vec2(x, y) + 0.5) / vec2(size));
}

void calulateCrossings(vec2 p0, vec2 p1, vec2 p2, out vec2 C1, out vec2 C2) {

  // get the coefficients of the quadratic in t
  vec2 a = p0 - p1 * 2.0 + p2;
  vec2 b = p0 - p1;
  vec2 c = p0 - vTexCoord;

  // found out which values of 't' it crosses the axes
  vec2 surd = sqrt(max(vec2(0.0), b * b - a * c));
  vec2 t1 = ((b - surd) / a).yx;
  vec2 t2 = ((b + surd) / a).yx;

  // approximate straight lines to avoid rounding errors
  if (abs(a.y) < 0.001)
    t1.x = t2.x = c.y / (2.0 * b.y);

  if (abs(a.x) < 0.001)
    t1.y = t2.y = c.x / (2.0 * b.x);

  // plug into quadratic formula to find the corrdinates of the crossings
  C1 = ((a * t1 - b * 2.0) * t1 + c) * pixelScale;
  C2 = ((a * t2 - b * 2.0) * t2 + c) * pixelScale;
}

void coverageX(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  // determine on which side of the x-axis the points lie
  bool y0 = p0.y > vTexCoord.y;
  bool y1 = p1.y > vTexCoord.y;
  bool y2 = p2.y > vTexCoord.y;

  // could web be under the curve (after t1)?
  if (y1 ? !y2 : y0) {
    // add the coverage for t1
    coverage.x += saturate(C1.x + 0.5);
    // calculate the anti-aliasing for t1
    weight.x = min(weight.x, abs(C1.x));
  }

  // are we outside the curve (after t2)?
  if (y1 ? !y0 : y2) {
    // subtract the coverage for t2
    coverage.x -= saturate(C2.x + 0.5);
    // calculate the anti-aliasing for t2
    weight.x = min(weight.x, abs(C2.x));
  }
}

// this is essentially the same as coverageX, but with the axes swapped
void coverageY(vec2 p0, vec2 p1, vec2 p2) {

  vec2 C1, C2;
  calulateCrossings(p0, p1, p2, C1, C2);

  bool x0 = p0.x > vTexCoord.x;
  bool x1 = p1.x > vTexCoord.x;
  bool x2 = p2.x > vTexCoord.x;

  if (x1 ? !x2 : x0) {
    coverage.y -= saturate(C1.y + 0.5);
    weight.y = min(weight.y, abs(C1.y));
  }

  if (x1 ? !x0 : x2) {
    coverage.y += saturate(C2.y + 0.5);
    weight.y = min(weight.y, abs(C2.y));
  }
}

void main() {

  // calculate the pixel scale based on screen-coordinates
  pixelScale = hardness / fwidth(vTexCoord);

  // which grid cell is this pixel in?
  ivec2 gridCoord = ifloor(vTexCoord * vec2(uGridSize));

  // intersect curves in this row
  {
    // the index into the row info bitmap
    int rowIndex = gridCoord.y + uGridOffset.y;
    // fetch the info texel
    vec4 rowInfo = getTexel(uSamplerRows, rowIndex, uGridImageSize);
    // unpack the rowInfo
    int rowStrokeIndex = getInt16(rowInfo.xy);
    int rowStrokeCount = getInt16(rowInfo.zw);

    for (int iRowStroke = INT(0); iRowStroke < N; iRowStroke++) {
      if (iRowStroke >= rowStrokeCount)
        break;

      // each stroke is made up of 3 points: the start and control point
      // and the start of the next curve.
      // fetch the indices of this pair of strokes:
      vec4 strokeIndices = getTexel(uSamplerRowStrokes, rowStrokeIndex++, uCellsImageSize);

      // unpack the stroke index
      int strokePos = getInt16(strokeIndices.xy);

      // fetch the two strokes
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);

      // calculate the coverage
      coverageX(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  // intersect curves in this column
  {
    int colIndex = gridCoord.x + uGridOffset.x;
    vec4 colInfo = getTexel(uSamplerCols, colIndex, uGridImageSize);
    int colStrokeIndex = getInt16(colInfo.xy);
    int colStrokeCount = getInt16(colInfo.zw);
    
    for (int iColStroke = INT(0); iColStroke < N; iColStroke++) {
      if (iColStroke >= colStrokeCount)
        break;

      vec4 strokeIndices = getTexel(uSamplerColStrokes, colStrokeIndex++, uCellsImageSize);

      int strokePos = getInt16(strokeIndices.xy);
      vec4 stroke0 = getTexel(uSamplerStrokes, strokePos + INT(0), uStrokeImageSize);
      vec4 stroke1 = getTexel(uSamplerStrokes, strokePos + INT(1), uStrokeImageSize);
      coverageY(stroke0.xy, stroke0.zw, stroke1.xy);
    }
  }

  weight = saturate(1.0 - weight * 2.0);
  float distance = max(weight.x + weight.y, minDistance); // manhattan approx.
  float antialias = abs(dot(coverage, weight) / distance);
  float cover = min(abs(coverage.x), abs(coverage.y));
  OUT_COLOR = vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a;
  OUT_COLOR *= saturate(max(antialias, cover));
}
`,lineVert:G+`/*
  Part of the Processing project - http://processing.org
  Copyright (c) 2012-15 The Processing Foundation
  Copyright (c) 2004-12 Ben Fry and Casey Reas
  Copyright (c) 2001-04 Massachusetts Institute of Technology
  This library is free software; you can redistribute it and/or
  modify it under the terms of the GNU Lesser General Public
  License as published by the Free Software Foundation, version 2.1.
  This library is distributed in the hope that it will be useful,
  but WITHOUT ANY WARRANTY; without even the implied warranty of
  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the GNU
  Lesser General Public License for more details.
  You should have received a copy of the GNU Lesser General
  Public License along with this library; if not, write to the
  Free Software Foundation, Inc., 59 Temple Place, Suite 330,
  Boston, MA  02111-1307  USA
*/

#define PROCESSING_LINE_SHADER

precision mediump int;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform float uStrokeWeight;

uniform bool uUseLineColor;
uniform vec4 uMaterialColor;

uniform vec4 uViewport;
uniform int uPerspective;
uniform int uStrokeJoin;

IN vec4 aPosition;
IN vec3 aTangentIn;
IN vec3 aTangentOut;
IN float aSide;
IN vec4 aVertexColor;

OUT vec4 vColor;
OUT vec2 vTangent;
OUT vec2 vCenter;
OUT vec2 vPosition;
OUT float vMaxDist;
OUT float vCap;
OUT float vJoin;
OUT float vStrokeWeight;

vec2 lineIntersection(vec2 aPoint, vec2 aDir, vec2 bPoint, vec2 bDir) {
  // Rotate and translate so a starts at the origin and goes out to the right
  bPoint -= aPoint;
  vec2 rotatedBFrom = vec2(
    bPoint.x*aDir.x + bPoint.y*aDir.y,
    bPoint.y*aDir.x - bPoint.x*aDir.y
  );
  vec2 bTo = bPoint + bDir;
  vec2 rotatedBTo = vec2(
    bTo.x*aDir.x + bTo.y*aDir.y,
    bTo.y*aDir.x - bTo.x*aDir.y
  );
  float intersectionDistance =
    rotatedBTo.x + (rotatedBFrom.x - rotatedBTo.x) * rotatedBTo.y /
    (rotatedBTo.y - rotatedBFrom.y);
  return aPoint + aDir * intersectionDistance;
}

void main() {
  HOOK_beforeVertex();
  // Caps have one of either the in or out tangent set to 0
  vCap = (aTangentIn == vec3(0.)) != (aTangentOut == (vec3(0.)))
    ? 1. : 0.;

  // Joins have two unique, defined tangents
  vJoin = (
    aTangentIn != vec3(0.) &&
    aTangentOut != vec3(0.) &&
    aTangentIn != aTangentOut
  ) ? 1. : 0.;

  vec4 localPosition = vec4(HOOK_getLocalPosition(aPosition.xyz), 1.);
  vec4 posp = vec4(HOOK_getWorldPosition((uModelViewMatrix * localPosition).xyz), 1.);
  vec4 posqIn = posp + uModelViewMatrix * vec4(aTangentIn, 0);
  vec4 posqOut = posp + uModelViewMatrix * vec4(aTangentOut, 0);
  float strokeWeight = HOOK_getStrokeWeight(uStrokeWeight);
  vStrokeWeight = strokeWeight;

  float facingCamera = pow(
    // The word space tangent's z value is 0 if it's facing the camera
    abs(normalize(posqIn-posp).z),

    // Using pow() here to ramp \`facingCamera\` up from 0 to 1 really quickly
    // so most lines get scaled and don't get clipped
    0.25
  );

  // Moving vertices slightly toward the camera
  // to avoid depth-fighting with the fill triangles.
  // A mix of scaling and offsetting is used based on distance
  // Discussion here:
  // https://github.com/processing/p5.js/issues/7200 

  // using a scale <1 moves the lines towards nearby camera
  // in order to prevent popping effects due to half of
  // the line disappearing behind the geometry faces.
  float zDistance = -posp.z; 
  float distanceFactor = smoothstep(0.0, 800.0, zDistance); 
  
  // Discussed here:
  // http://www.opengl.org/discussion_boards/ubbthreads.php?ubb=showflat&Number=252848  
  float scale = mix(1., 0.995, facingCamera);
  float dynamicScale = mix(scale, 1.0, distanceFactor); // Closer = more scale, farther = less

  posp.xyz = posp.xyz * dynamicScale;
  posqIn.xyz = posqIn.xyz * dynamicScale;
  posqOut.xyz = posqOut.xyz * dynamicScale;

  // Moving vertices slightly toward camera when far away 
  // https://github.com/processing/p5.js/issues/6956 
  float zOffset = mix(-0.00045, -1., facingCamera);
  float dynamicZAdjustment = mix(0.0, zOffset, distanceFactor); // Closer = less zAdjustment, farther = more

  posp.z -= dynamicZAdjustment;
  posqIn.z -= dynamicZAdjustment;
  posqOut.z -= dynamicZAdjustment;
  
  vec4 p = uProjectionMatrix * posp;
  vec4 qIn = uProjectionMatrix * posqIn;
  vec4 qOut = uProjectionMatrix * posqOut;
  vCenter = HOOK_getLineCenter(p.xy);

  // formula to convert from clip space (range -1..1) to screen space (range 0..[width or height])
  // screen_p = (p.xy/p.w + <1,1>) * 0.5 * uViewport.zw

  // prevent division by W by transforming the tangent formula (div by 0 causes
  // the line to disappear, see https://github.com/processing/processing/issues/5183)
  // t = screen_q - screen_p
  //
  // tangent is normalized and we don't care which aDirection it points to (+-)
  // t = +- normalize( screen_q - screen_p )
  // t = +- normalize( (q.xy/q.w+<1,1>)*0.5*uViewport.zw - (p.xy/p.w+<1,1>)*0.5*uViewport.zw )
  //
  // extract common factor, <1,1> - <1,1> cancels out
  // t = +- normalize( (q.xy/q.w - p.xy/p.w) * 0.5 * uViewport.zw )
  //
  // convert to common divisor
  // t = +- normalize( ((q.xy*p.w - p.xy*q.w) / (p.w*q.w)) * 0.5 * uViewport.zw )
  //
  // remove the common scalar divisor/factor, not needed due to normalize and +-
  // (keep uViewport - can't remove because it has different components for x and y
  //  and corrects for aspect ratio, see https://github.com/processing/processing/issues/5181)
  // t = +- normalize( (q.xy*p.w - p.xy*q.w) * uViewport.zw )

  vec2 tangentIn = normalize((qIn.xy*p.w - p.xy*qIn.w) * uViewport.zw);
  vec2 tangentOut = normalize((qOut.xy*p.w - p.xy*qOut.w) * uViewport.zw);

  vec2 curPerspScale;
  if(uPerspective == 1) {
    // Perspective ---
    // convert from world to clip by multiplying with projection scaling factor
    // to get the right thickness (see https://github.com/processing/processing/issues/5182)

    // The y value of the projection matrix may be flipped if rendering to a Framebuffer.
    // Multiplying again by its sign here negates the flip to get just the scale.
    curPerspScale = (uProjectionMatrix * vec4(1, sign(uProjectionMatrix[1][1]), 0, 0)).xy;
  } else {
    // No Perspective ---
    // multiply by W (to cancel out division by W later in the pipeline) and
    // convert from screen to clip (derived from clip to screen above)
    curPerspScale = p.w / (0.5 * uViewport.zw);
  }

  vec2 offset;
  if (vJoin == 1.) {
    vTangent = normalize(tangentIn + tangentOut);
    vec2 normalIn = vec2(-tangentIn.y, tangentIn.x);
    vec2 normalOut = vec2(-tangentOut.y, tangentOut.x);
    float side = sign(aSide);
    float sideEnum = abs(aSide);

    // We generate vertices for joins on either side of the centerline, but
    // the "elbow" side is the only one needing a join. By not setting the
    // offset for the other side, all its vertices will end up in the same
    // spot and not render, effectively discarding it.
    if (sign(dot(tangentOut, vec2(-tangentIn.y, tangentIn.x))) != side) {
      // Side enums:
      //   1: the side going into the join
      //   2: the middle of the join
      //   3: the side going out of the join
      if (sideEnum == 2.) {
        // Calculate the position + tangent on either side of the join, and
        // find where the lines intersect to find the elbow of the join
        vec2 c = (posp.xy/posp.w + vec2(1.,1.)) * 0.5 * uViewport.zw;
        vec2 intersection = lineIntersection(
          c + (side * normalIn * strokeWeight / 2.),
          tangentIn,
          c + (side * normalOut * strokeWeight / 2.),
          tangentOut
        );
        offset = (intersection - c);

        // When lines are thick and the angle of the join approaches 180, the
        // elbow might be really far from the center. We'll apply a limit to
        // the magnitude to avoid lines going across the whole screen when this
        // happens.
        float mag = length(offset);
        float maxMag = 3. * strokeWeight;
        if (mag > maxMag) {
          offset *= maxMag / mag;
        }
      } else if (sideEnum == 1.) {
        offset = side * normalIn * strokeWeight / 2.;
      } else if (sideEnum == 3.) {
        offset = side * normalOut * strokeWeight / 2.;
      }
    }
    if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 avgNormal = vec2(-vTangent.y, vTangent.x);
      vMaxDist = abs(dot(avgNormal, normalIn * strokeWeight / 2.));
    } else {
      vMaxDist = strokeWeight / 2.;
    }
  } else {
    vec2 tangent = aTangentIn == vec3(0.) ? tangentOut : tangentIn;
    vTangent = tangent;
    vec2 normal = vec2(-tangent.y, tangent.x);

    float normalOffset = sign(aSide);
    // Caps will have side values of -2 or 2 on the edge of the cap that
    // extends out from the line
    float tangentOffset = abs(aSide) - 1.;
    offset = (normal * normalOffset + tangent * tangentOffset) *
      strokeWeight * 0.5;
    vMaxDist = strokeWeight / 2.;
  }
  vPosition = HOOK_getLinePosition(vCenter + offset);

  gl_Position.xy = p.xy + offset.xy * curPerspScale;
  gl_Position.zw = p.zw;
  
  vColor = HOOK_getVertexColor(uUseLineColor ? aVertexColor : uMaterialColor);
  HOOK_afterVertex();
}
`,lineFrag:G+`precision mediump int;

uniform vec4 uMaterialColor;
uniform int uStrokeCap;
uniform int uStrokeJoin;

IN vec4 vColor;
IN vec2 vTangent;
IN vec2 vCenter;
IN vec2 vPosition;
IN float vStrokeWeight;
IN float vMaxDist;
IN float vCap;
IN float vJoin;

float distSquared(vec2 a, vec2 b) {
  vec2 aToB = b - a;
  return dot(aToB, aToB);
}

struct Inputs {
  vec4 color;
  vec2 tangent;
  vec2 center;
  vec2 position;
  float strokeWeight;
};

void main() {
  HOOK_beforeFragment();

  Inputs inputs;
  inputs.color = vColor;
  inputs.tangent = vTangent;
  inputs.center = vCenter;
  inputs.position = vPosition;
  inputs.strokeWeight = vStrokeWeight;
  inputs = HOOK_getPixelInputs(inputs);

  if (vCap > 0.) {
    if (
      uStrokeCap == STROKE_CAP_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (
      uStrokeCap == STROKE_CAP_SQUARE &&
      HOOK_shouldDiscard(dot(inputs.position - inputs.center, inputs.tangent) > 0.)
    ) {
      discard;
    // Use full area for PROJECT
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  } else if (vJoin > 0.) {
    if (
      uStrokeJoin == STROKE_JOIN_ROUND &&
      HOOK_shouldDiscard(distSquared(inputs.position, inputs.center) > inputs.strokeWeight * inputs.strokeWeight * 0.25)
    ) {
      discard;
    } else if (uStrokeJoin == STROKE_JOIN_BEVEL) {
      vec2 normal = vec2(-inputs.tangent.y, inputs.tangent.x);
      if (HOOK_shouldDiscard(abs(dot(inputs.position - inputs.center, normal)) > vMaxDist)) {
        discard;
      }
    // Use full area for MITER
    } else if (HOOK_shouldDiscard(false)) {
      discard;
    }
  }
  OUT_COLOR = HOOK_getFinalColor(vec4(inputs.color.rgb, 1.) * inputs.color.a);
  HOOK_afterFragment();
}
`,pointVert:`IN vec3 aPosition;
uniform float uPointSize;
OUT float vStrokeWeight;
uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

void main() {
  HOOK_beforeVertex();
  vec4 viewModelPosition = vec4(HOOK_getWorldPosition(
    (uModelViewMatrix * vec4(HOOK_getLocalPosition(aPosition), 1.0)).xyz
  ), 1.);
  gl_Position = uProjectionMatrix * viewModelPosition;  

  float pointSize = HOOK_getPointSize(uPointSize);

	gl_PointSize = pointSize;
	vStrokeWeight = pointSize;
  HOOK_afterVertex();
}
`,pointFrag:`precision mediump int;
uniform vec4 uMaterialColor;
IN float vStrokeWeight;

void main(){
  HOOK_beforeFragment();
  float mask = 0.0;

  // make a circular mask using the gl_PointCoord (goes from 0 - 1 on a point)
  // might be able to get a nicer edge on big strokeweights with smoothstep but slightly less performant

  mask = step(0.98, length(gl_PointCoord * 2.0 - 1.0));

  // if strokeWeight is 1 or less lets just draw a square
  // this prevents weird artifacting from carving circles when our points are really small
  // if strokeWeight is larger than 1, we just use it as is

  mask = mix(0.0, mask, clamp(floor(vStrokeWeight - 0.5),0.0,1.0));

  // throw away the borders of the mask
  // otherwise we get weird alpha blending issues

  if(HOOK_shouldDiscard(mask > 0.98)){
    discard;
  }

  OUT_COLOR = HOOK_getFinalColor(vec4(uMaterialColor.rgb, 1.) * uMaterialColor.a);
  HOOK_afterFragment();
}
`,imageLightVert:`precision highp float;
attribute vec3 aPosition;
attribute vec3 aNormal;
attribute vec2 aTexCoord;

varying vec3 localPos;
varying vec3 vWorldNormal;
varying vec3 vWorldPosition;
varying vec2 vTexCoord;

uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;
uniform mat3 uNormalMatrix;

void main() {
  // Multiply the position by the matrix.
  vec4 viewModelPosition = uModelViewMatrix * vec4(aPosition, 1.0);
  gl_Position = uProjectionMatrix * viewModelPosition;  
  
  // orient the normals and pass to the fragment shader
  vWorldNormal = uNormalMatrix * aNormal;
  
  // send the view position to the fragment shader
  vWorldPosition = (uModelViewMatrix * vec4(aPosition, 1.0)).xyz;
  
  localPos = vWorldPosition;
  vTexCoord = aTexCoord;
}


/*
in the vertex shader we'll compute the world position and world oriented normal of the vertices and pass those to the fragment shader as varyings.
*/
`,imageLightDiffusedFrag:`precision highp float;
varying vec3 localPos;

// the HDR cubemap converted (can be from an equirectangular environment map.)
uniform sampler2D environmentMap;
varying vec2 vTexCoord;

const float PI = 3.14159265359;

vec2 nTOE( vec3 v ){
  // x = r sin(phi) cos(theta)   
  // y = r cos(phi)  
  // z = r sin(phi) sin(theta)
  float phi = acos( v.y );
  // if phi is 0, then there are no x, z components
  float theta = 0.0;
  // else 
  theta = acos(v.x / sin(phi));
  float sinTheta = v.z / sin(phi);
  if (sinTheta < 0.0) {
    // Turn it into -theta, but in the 0-2PI range
    theta = 2.0 * PI - theta;
  }
  theta = theta / (2.0 * 3.14159);
  phi = phi / 3.14159 ;
  
  vec2 angles = vec2( phi, theta );
  return angles;
}

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

void main()
{   	 
	// the sample direction equals the hemisphere's orientation
  float phi = vTexCoord.x * 2.0 * PI;
  float theta = vTexCoord.y * PI;
  float x = sin(theta) * cos(phi);
  float y = sin(theta) * sin(phi);
  float z = cos(theta);
  vec3 normal = vec3( x, y, z);

	// Discretely sampling the hemisphere given the integral's
  // spherical coordinates translates to the following fragment code:
	vec3 irradiance = vec3(0.0);  
	vec3 up	= vec3(0.0, 1.0, 0.0);
	vec3 right = normalize(cross(up, normal));
	up = normalize(cross(normal, right));

	//  We specify a fixed sampleDelta delta value to traverse
  // the hemisphere; decreasing or increasing the sample delta
  // will increase or decrease the accuracy respectively.
	const float sampleDelta = 0.100;
	float nrSamples = 0.0;
  float randomOffset = random(gl_FragCoord.xy) * sampleDelta;
	for(float rawPhi = 0.0; rawPhi < 2.0 * PI; rawPhi += sampleDelta)
	{
    float phi = rawPhi + randomOffset;
    for(float rawTheta = 0.0; rawTheta < ( 0.5 ) * PI; rawTheta += sampleDelta)
    {
      float theta = rawTheta + randomOffset;
      // spherical to cartesian (in tangent space) // tangent space to world // add each sample result to irradiance
      float x = sin(theta) * cos(phi);
      float y = sin(theta) * sin(phi);
      float z = cos(theta);
      vec3 tangentSample = vec3( x, y, z);
      
      vec3 sampleVec = tangentSample.x * right + tangentSample.y * up + tangentSample.z * normal;
        irradiance += (texture2D(environmentMap, nTOE(sampleVec)).xyz) * cos(theta) * sin(theta);
      nrSamples++;
    }
	}
	// divide by the total number of samples taken, giving us the average sampled irradiance.
	irradiance = PI * irradiance * (1.0 / float(nrSamples )) ;
  
 
	gl_FragColor = vec4(irradiance, 1.0);
}`,imageLightSpecularFrag:`precision highp float;\r
varying vec3 localPos;\r
varying vec2 vTexCoord;\r
\r
// our texture\r
uniform sampler2D environmentMap;\r
uniform float roughness;\r
\r
const float PI = 3.14159265359;\r
\r
float VanDerCorput(int bits);\r
vec2 HammersleyNoBitOps(int i, int N);\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness);\r
\r
\r
vec2 nTOE( vec3 v ){\r
  // x = r sin(phi) cos(theta)   \r
  // y = r cos(phi)  \r
  // z = r sin(phi) sin(theta)\r
  float phi = acos( v.y );\r
  // if phi is 0, then there are no x, z components\r
  float theta = 0.0;\r
  // else \r
  theta = acos(v.x / sin(phi));\r
  float sinTheta = v.z / sin(phi);\r
  if (sinTheta < 0.0) {\r
    // Turn it into -theta, but in the 0-2PI range\r
    theta = 2.0 * PI - theta;\r
  }\r
  theta = theta / (2.0 * 3.14159);\r
  phi = phi / 3.14159 ;\r
  \r
  vec2 angles = vec2( phi, theta );\r
  return angles;\r
}\r
\r
\r
void main(){\r
  const int SAMPLE_COUNT = 400; // 4096\r
  int lowRoughnessLimit = int(pow(2.0,(roughness+0.1)*20.0));\r
  float totalWeight = 0.0;\r
  vec3 prefilteredColor = vec3(0.0);\r
  float phi = vTexCoord.x * 2.0 * PI;\r
  float theta = vTexCoord.y * PI;\r
  float x = sin(theta) * cos(phi);\r
  float y = sin(theta) * sin(phi);\r
  float z = cos(theta);\r
  vec3 N = vec3(x,y,z);\r
  vec3 V = N;\r
  for (int i = 0; i < SAMPLE_COUNT; ++i)\r
  {\r
    // break at smaller sample numbers for low roughness levels\r
    if(i == lowRoughnessLimit)\r
    {\r
      break;\r
    }\r
    vec2 Xi = HammersleyNoBitOps(i, SAMPLE_COUNT);\r
    vec3 H = ImportanceSampleGGX(Xi, N, roughness);\r
    vec3 L = normalize(2.0 * dot(V, H) * H - V);\r
\r
    float NdotL = max(dot(N, L), 0.0);\r
    if (NdotL > 0.0)\r
    {\r
      prefilteredColor += texture2D(environmentMap, nTOE(L)).xyz * NdotL;\r
      totalWeight += NdotL;\r
    }\r
  }\r
  prefilteredColor = prefilteredColor / totalWeight;\r
\r
  gl_FragColor = vec4(prefilteredColor, 1.0);\r
}\r
\r
vec3 ImportanceSampleGGX(vec2 Xi, vec3 N, float roughness){\r
  float a = roughness * roughness;\r
\r
  float phi = 2.0 * PI * Xi.x;\r
  float cosTheta = sqrt((1.0 - Xi.y) / (1.0 + (a * a - 1.0) * Xi.y));\r
  float sinTheta = sqrt(1.0 - cosTheta * cosTheta);\r
  // from spherical coordinates to cartesian coordinates\r
  vec3 H;\r
  H.x = cos(phi) * sinTheta;\r
  H.y = sin(phi) * sinTheta;\r
  H.z = cosTheta;\r
\r
  // from tangent-space vector to world-space sample vector\r
  vec3 up = abs(N.z) < 0.999 ? vec3(0.0, 0.0, 1.0) : vec3(1.0, 0.0, 0.0);\r
  vec3 tangent = normalize(cross(up, N));\r
  vec3 bitangent = cross(N, tangent);\r
\r
  vec3 sampleVec = tangent * H.x + bitangent * H.y + N * H.z;\r
  return normalize(sampleVec);\r
}\r
\r
\r
float VanDerCorput(int n, int base)\r
{\r
#ifdef WEBGL2\r
\r
    uint bits = uint(n);\r
    bits = (bits << 16u) | (bits >> 16u);\r
    bits = ((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\r
    bits = ((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\r
    bits = ((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\r
    bits = ((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\r
    return float(bits) * 2.3283064365386963e-10; // / 0x100000000\r
\r
#else\r
\r
  float invBase = 1.0 / float(base);\r
  float denom = 1.0;\r
  float result = 0.0;\r
\r
\r
  for (int i = 0; i < 32; ++i)\r
  {\r
        if (n > 0)\r
        {\r
        denom = mod(float(n), 2.0);\r
        result += denom * invBase;\r
        invBase = invBase / 2.0;\r
        n = int(float(n) / 2.0);\r
        }\r
  }\r
\r
\r
  return result;\r
\r
#endif\r
}\r
\r
vec2 HammersleyNoBitOps(int i, int N)\r
{\r
  return vec2(float(i) / float(N), VanDerCorput(i, 2));\r
}\r
`},V=X.sphereMappingFrag;for(L in X)X[L]=`#ifdef WEBGL2

#define IN in
#define OUT out

#ifdef FRAGMENT_SHADER
out vec4 outColor;
#define OUT_COLOR outColor
#endif
#define TEXTURE texture

#else

#ifdef FRAGMENT_SHADER
#define IN varying
#else
#define IN attribute
#endif
#define OUT varying
#define TEXTURE texture2D

#ifdef FRAGMENT_SHADER
#define OUT_COLOR gl_FragColor
#endif

#endif
`+X[L];D(P={},d.GRAY,`precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 tex = texture2D(tex0, vTexCoord);
  float gray = luma(tex.rgb);
  gl_FragColor = vec4(gray, gray, gray, tex.a);
}
`),D(P,d.ERODE,`// Reduces the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the darkest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum < lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),D(P,d.DILATE,`// Increase the bright areas in an image

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform vec2 texelSize;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  // weights 77, 151, 28 taken from src/image/filters.js
  return dot(color, vec3(0.300781, 0.589844, 0.109375));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float lum = luma(color.rgb);

  // set current color as the brightest neighbor color

  vec4 neighbors[4];
  neighbors[0] = texture2D(tex0, vTexCoord + vec2( texelSize.x, 0.0));
  neighbors[1] = texture2D(tex0, vTexCoord + vec2(-texelSize.x, 0.0));
  neighbors[2] = texture2D(tex0, vTexCoord + vec2(0.0,  texelSize.y));
  neighbors[3] = texture2D(tex0, vTexCoord + vec2(0.0, -texelSize.y));

  for (int i = 0; i < 4; i++) {
    vec4 neighborColor = neighbors[i];
    float neighborLum = luma(neighborColor.rgb);

    if (neighborLum > lum) {
      color = neighborColor;
      lum = neighborLum;
    }
  }

  gl_FragColor = color;
}
`),D(P,d.BLUR,`precision highp float;

// Two-pass blur filter, unweighted kernel.
// See also a similar blur at Adam Ferriss' repo of shader examples:
// https://github.com/aferriss/p5jsShaderExamples/blob/gh-pages/4_image-effects/4-9_single-pass-blur/effect.frag


uniform sampler2D tex0;
varying vec2 vTexCoord;
uniform vec2 direction;
uniform vec2 canvasSize;
uniform float radius;

float random(vec2 p) {
  vec3 p3  = fract(vec3(p.xyx) * .1031);
  p3 += dot(p3, p3.yzx + 33.33);
  return fract((p3.x + p3.y) * p3.z);
}

// This isn't a real Gaussian weight, it's a quadratic weight. It's what the
// CPU mode's blur uses though, so we also use it here to match.
float quadWeight(float x, float e) {
  return pow(e-abs(x), 2.);
}

void main(){
  vec2 uv = vTexCoord;

  // A reasonable maximum number of samples
  const float maxSamples = 64.0;

  float numSamples = floor(7. * radius);
  if (fract(numSamples / 2.) == 0.) {
    numSamples++;
  }
  vec4 avg = vec4(0.0);
  float total = 0.0;

  // Calculate the spacing to avoid skewing if numSamples > maxSamples
  float spacing = 1.0;
  if (numSamples > maxSamples) {
    spacing = numSamples / maxSamples;
    numSamples = maxSamples;
  }

  float randomOffset = (spacing - 1.0) * mix(-0.5, 0.5, random(gl_FragCoord.xy));
  for (float i = 0.0; i < maxSamples; i++) {
    if (i >= numSamples) break;

    float sample = i * spacing - (numSamples - 1.0) * 0.5 * spacing + randomOffset;
    vec2 sampleCoord = uv + vec2(sample, sample) / canvasSize * direction;
    float weight = quadWeight(sample, (numSamples - 1.0) * 0.5 * spacing);

    avg += weight * texture2D(tex0, sampleCoord);
    total += weight;
  }

  avg /= total;
  gl_FragColor = avg;
}
`),D(P,d.POSTERIZE,`// Limit color space for a stylized cartoon / poster effect

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

vec3 quantize(vec3 color, float n) {
  // restrict values to N options/bins
  // and floor each channel to nearest value
  //
  // eg. when N = 5, values = 0.0, 0.25, 0.50, 0.75, 1.0
  // then quantize (0.1, 0.7, 0.9) -> (0.0, 0.5, 1.0)

  color = color * n;
  color = floor(color);
  color = color / (n - 1.0);
  return color;
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);

  vec3 restrictedColor = quantize(color.rgb / color.a, filterParameter);

  gl_FragColor = vec4(restrictedColor.rgb * color.a, color.a);
}
`),D(P,d.OPAQUE,`// Set alpha channel to entirely opaque

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  gl_FragColor = vec4(color.rgb / color.a, 1.0);
}
`),D(P,d.INVERT,`// Set each pixel to inverse value
// Note that original INVERT does not change the opacity, so this follows suit

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;

void main() {
vec4 color = texture2D(tex0, vTexCoord);
vec3 origColor = color.rgb / color.a;
vec3 invertedColor = vec3(1.0) - origColor;
gl_FragColor = vec4(invertedColor * color.a, color.a);
}
`),D(P,d.THRESHOLD,`// Convert pixels to either white or black, 
// depending on if their luma is above or below filterParameter

precision highp float;

varying vec2 vTexCoord;

uniform sampler2D tex0;
uniform float filterParameter;

float luma(vec3 color) {
  // weighted grayscale with luminance values
  return dot(color, vec3(0.2126, 0.7152, 0.0722));
}

void main() {
  vec4 color = texture2D(tex0, vTexCoord);
  float gray = luma(color.rgb / color.a);
  // floor() used to match src/image/filters.js
  float threshold = floor(filterParameter * 255.0) / 255.0;
  float blackOrWhite = step(threshold, gray);
  gl_FragColor = vec4(vec3(blackOrWhite) * color.a, color.a);
}
`);var H=P;function J(K,Y,ge,ue,O,U,q,Q,ae,ie){var he=Y.getParameter(Y.FRAMEBUFFER_BINDING),ge=(Y.bindFramebuffer(Y.FRAMEBUFFER,ge),Q===Y.RGBA?4:3),fe=U*q*ge,ve=ae===Y.UNSIGNED_BYTE?Uint8Array:Float32Array;if(K instanceof ve&&K.length===fe||(K=new ve(fe)),Y.readPixels(ue,ie?ie-O-q:O,U,q,Q,ae,K),Y.bindFramebuffer(Y.FRAMEBUFFER,he),ie)for(var xe=Math.floor(q/2),se=new ve(U*ge),be=0;be<xe;be++){var Ae=be*U*4,De=(q-be-1)*U*4;se.set(K.subarray(Ae,Ae+4*U)),K.copyWithin(Ae,De,De+4*U),K.set(se,De)}return K}function Z(K,ae,te,ue,O,U,q){var Q=K.getParameter(K.FRAMEBUFFER_BINDING),ae=(K.bindFramebuffer(K.FRAMEBUFFER,ae),O===K.RGBA?4:3),ae=new(U===K.UNSIGNED_BYTE?Uint8Array:Float32Array)(ae);return K.readPixels(te,q?q-ue-1:ue,1,1,O,U,ae),K.bindFramebuffer(K.FRAMEBUFFER,Q),Array.from(ae)}c.default.prototype.setAttributes=function(K,Y){if(this._glAttributes===void 0)console.log("You are trying to use setAttributes on a p5.Graphics object that does not use a WEBGL renderer.");else{var te=!0;if(Y!==void 0?(this._glAttributes===null&&(this._glAttributes={}),this._glAttributes[K]!==Y&&(this._glAttributes[K]=Y,te=!1)):K instanceof Object&&this._glAttributes!==K&&(this._glAttributes=K,te=!1),this._renderer.isP3D&&!te){if(!this._setupDone){for(var ue in this._renderer.retainedMode.geometry)if(this._renderer.retainedMode.geometry.hasOwnProperty(ue))return void c.default._friendlyError("Sorry, Could not set the attributes, you need to call setAttributes() before calling the other drawing methods in setup()")}this.push(),this._renderer._resetContext(),this.pop(),this._renderer._curCamera&&(this._renderer._curCamera._renderer=this._renderer)}}},c.default.RendererGL=function(K){var Y=ue;if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(K&&K.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),K&&b(Y,K);var te=E(ue);function ue(O,U,q,Q){if(this instanceof ue)return(O=te.call(this,O,U,q))._setAttributeDefaults(U),O._initContext(),O.isP3D=!0,O.geometryBuilder=void 0,O.GL=O.drawingContext,O._pInst._setProperty("drawingContext",O.drawingContext),O._isErasing=!1,O._clipDepths=[],O._isClipApplied=!1,O._stencilTestOn=!1,O._enableLighting=!1,O.ambientLightColors=[],O.mixedAmbientLight=[],O.mixedSpecularColor=[],O.specularColors=[1,1,1],O.directionalLightDirections=[],O.directionalLightDiffuseColors=[],O.directionalLightSpecularColors=[],O.pointLightPositions=[],O.pointLightDiffuseColors=[],O.pointLightSpecularColors=[],O.spotLightPositions=[],O.spotLightDirections=[],O.spotLightDiffuseColors=[],O.spotLightSpecularColors=[],O.spotLightAngle=[],O.spotLightConc=[],O.activeImageLight=null,O.diffusedTextures=new Map,O.specularTextures=new Map,O.drawMode=d.FILL,O.curFillColor=O._cachedFillStyle=[1,1,1,1],O.curAmbientColor=O._cachedFillStyle=[1,1,1,1],O.curSpecularColor=O._cachedFillStyle=[0,0,0,0],O.curEmissiveColor=O._cachedFillStyle=[0,0,0,0],O.curStrokeColor=O._cachedStrokeStyle=[0,0,0,1],O.curBlendMode=d.BLEND,O.preEraseBlend=void 0,O._cachedBlendMode=void 0,O.webglVersion===d.WEBGL2?O.blendExt=O.GL:O.blendExt=O.GL.getExtension("EXT_blend_minmax"),O._isBlending=!1,O._hasSetAmbient=!1,O._useSpecularMaterial=!1,O._useEmissiveMaterial=!1,O._useNormalMaterial=!1,O._useShininess=1,O._useMetalness=0,O._useLineColor=!1,O._useVertexColor=!1,O.registerEnabled=new Set,O._tint=[255,255,255,255],O.constantAttenuation=1,O.linearAttenuation=0,O.quadraticAttenuation=0,O.uModelMatrix=new c.default.Matrix,O.uViewMatrix=new c.default.Matrix,O.uMVMatrix=new c.default.Matrix,O.uPMatrix=new c.default.Matrix,O.uNMatrix=new c.default.Matrix("mat3"),O.curMatrix=new c.default.Matrix("mat3"),O._currentNormal=new c.default.Vector(0,0,1),O._curCamera=new c.default.Camera(S(O)),O._curCamera._computeCameraDefaultSettings(),O._curCamera._setDefaultCamera(),O.filterCamera=new c.default.Camera(S(O)),O.filterCamera._computeCameraDefaultSettings(),O.filterCamera._setDefaultCamera(),O.prevTouches=[],O.zoomVelocity=0,O.rotateVelocity=new c.default.Vector(0,0),O.moveVelocity=new c.default.Vector(0,0),O.executeZoom=!1,O.executeRotateAndMove=!1,O.specularShader=void 0,O.sphereMapping=void 0,O.diffusedShader=void 0,O._defaultLightShader=void 0,O._defaultImmediateModeShader=void 0,O._defaultNormalShader=void 0,O._defaultColorShader=void 0,O._defaultPointShader=void 0,O.userFillShader=void 0,O.userStrokeShader=void 0,O.userPointShader=void 0,O.retainedMode={geometry:{},buffers:{stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",S(O)),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",S(O)),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",S(O)),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",S(O)),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",S(O))],fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(O),O._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",S(O),O._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",S(O)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",S(O)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(O),O._flatten)],text:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(O),O._vToNArray),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(O),O._flatten)]}},O.immediateMode={geometry:new c.default.Geometry,shapeMode:d.TRIANGLE_FAN,contourIndices:[],_bezierVertex:[],_quadraticVertex:[],_curveVertex:[],buffers:{fill:[new c.default.RenderBuffer(3,"vertices","vertexBuffer","aPosition",S(O),O._vToNArray),new c.default.RenderBuffer(3,"vertexNormals","normalBuffer","aNormal",S(O),O._vToNArray),new c.default.RenderBuffer(4,"vertexColors","colorBuffer","aVertexColor",S(O)),new c.default.RenderBuffer(3,"vertexAmbients","ambientBuffer","aAmbientColor",S(O)),new c.default.RenderBuffer(2,"uvs","uvBuffer","aTexCoord",S(O),O._flatten)],stroke:[new c.default.RenderBuffer(4,"lineVertexColors","lineColorBuffer","aVertexColor",S(O)),new c.default.RenderBuffer(3,"lineVertices","lineVerticesBuffer","aPosition",S(O)),new c.default.RenderBuffer(3,"lineTangentsIn","lineTangentsInBuffer","aTangentIn",S(O)),new c.default.RenderBuffer(3,"lineTangentsOut","lineTangentsOutBuffer","aTangentOut",S(O)),new c.default.RenderBuffer(1,"lineSides","lineSidesBuffer","aSide",S(O))],point:O.GL.createBuffer()}},O.pointSize=5,O.curStrokeWeight=1,O.curStrokeCap=d.ROUND,O.curStrokeJoin=d.ROUND,O.textures=new Map,O.framebuffers=new Set,O.activeFramebuffers=[],O.filterShader=void 0,O.filterLayer=void 0,O.filterLayerTemp=void 0,O.defaultFilterShaders={},O.textureMode=d.IMAGE,O.textureWrapX=d.CLAMP,O.textureWrapY=d.CLAMP,O._tex=null,O._curveTightness=6,O._lookUpTableBezier=[],O._lookUpTableQuadratic=[],O._lutBezierDetail=0,O._lutQuadraticDetail=0,O.isProcessingVertices=!1,O._tessy=O._initTessy(),O.fontInfos={},O._curShader=void 0,O;throw new TypeError("Cannot call a class as a function")}return Y=ue,(K=[{key:"beginGeometry",value:function(){if(this.geometryBuilder)throw new Error("It looks like `beginGeometry()` is being called while another p5.Geometry is already being build.");this.geometryBuilder=new g.default(this)}},{key:"endGeometry",value:function(){var O;if(this.geometryBuilder)return O=this.geometryBuilder.finish(),this.geometryBuilder=void 0,O;throw new Error("Make sure you call beginGeometry() before endGeometry()!")}},{key:"buildGeometry",value:function(O){return this.beginGeometry(),O(),this.endGeometry()}},{key:"_setAttributeDefaults",value:function(O){var U={alpha:!0,depth:!0,stencil:!0,antialias:navigator.userAgent.toLowerCase().includes("safari"),premultipliedAlpha:!0,preserveDrawingBuffer:!0,perPixelLighting:!0,version:2};O._glAttributes===null?O._glAttributes=U:O._glAttributes=Object.assign(U,O._glAttributes)}},{key:"_initContext",value:function(){if(this._pInst._glAttributes.version!==1&&(this.drawingContext=this.canvas.getContext("webgl2",this._pInst._glAttributes)),this.webglVersion=this.drawingContext?d.WEBGL2:d.WEBGL,this._pInst._setProperty("webglVersion",this.webglVersion),this.drawingContext||(this.drawingContext=this.canvas.getContext("webgl",this._pInst._glAttributes)||this.canvas.getContext("experimental-webgl",this._pInst._glAttributes)),this.drawingContext===null)throw new Error("Error creating webgl context");var O=this.drawingContext;O.enable(O.DEPTH_TEST),O.depthFunc(O.LEQUAL),O.viewport(0,0,O.drawingBufferWidth,O.drawingBufferHeight),O.pixelStorei(O.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),this._viewport=this.drawingContext.getParameter(this.drawingContext.VIEWPORT)}},{key:"_getParam",value:function(){var O=this.drawingContext;return O.getParameter(O.MAX_TEXTURE_SIZE)}},{key:"_adjustDimensions",value:function(O,U){this._maxTextureSize||(this._maxTextureSize=this._getParam());var Q=this._maxTextureSize,Q=(c.default.prototype._maxAllowedPixelDimensions,Math.floor(Q/this.pixelDensity())),q=Math.min(O,Q),Q=Math.min(U,Q);return q===O&&Q===U||console.warn("Warning: The requested width/height exceeds hardware limits. "+"Adjusting dimensions to width: ".concat(q,", height: ").concat(Q,".")),{adjustedWidth:q,adjustedHeight:Q}}},{key:"_resetContext",value:function(O,U){var q,Q=this.width,ae=this.height,he=this.canvas.id,ie=this._pInst instanceof c.default.Graphics,he=(ie?((q=this._pInst).canvas.parentNode.removeChild(q.canvas),q.canvas=document.createElement("canvas"),(q._pInst._userNode||document.body).appendChild(q.canvas),c.default.Element.call(q,q.canvas,q._pInst),q.width=Q,q.height=ae):((q=this.canvas)&&q.parentNode.removeChild(q),(q=document.createElement("canvas")).id=he,(this._pInst._userNode||document.body).appendChild(q),this._pInst.canvas=q,this.canvas=q),new c.default.RendererGL(this._pInst.canvas,this._pInst,!ie));this._pInst._setProperty("_renderer",he),he.resize(Q,ae),he._applyDefaults(),ie||this._pInst._elements.push(he),typeof U=="function"&&setTimeout(function(){U.apply(window._renderer,O)},0)}},{key:"_update",value:function(){this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this.ambientLightColors.length=0,this.specularColors=[1,1,1],this.directionalLightDirections.length=0,this.directionalLightDiffuseColors.length=0,this.directionalLightSpecularColors.length=0,this.pointLightPositions.length=0,this.pointLightDiffuseColors.length=0,this.pointLightSpecularColors.length=0,this.spotLightPositions.length=0,this.spotLightDirections.length=0,this.spotLightDiffuseColors.length=0,this.spotLightSpecularColors.length=0,this.spotLightAngle.length=0,this.spotLightConc.length=0,this._enableLighting=!1,this._tint=[255,255,255,255],this.GL.clearStencil(0),this.GL.clear(this.GL.DEPTH_BUFFER_BIT|this.GL.STENCIL_BUFFER_BIT),this.GL.disable(this.GL.STENCIL_TEST)}},{key:"background",value:function(){var Q=(Q=this._pInst).color.apply(Q,arguments),O=Q.levels[0]/255,U=Q.levels[1]/255,q=Q.levels[2]/255,Q=Q.levels[3]/255;this.clear(O,U,q,Q)}},{key:"fill",value:function(O,U,q,Q){var ae=c.default.prototype.color.apply(this._pInst,arguments);this.curFillColor=ae._array,this.drawMode=d.FILL,this._useNormalMaterial=!1,this._tex=null}},{key:"stroke",value:function(O,U,q,Q){var ae=c.default.prototype.color.apply(this._pInst,arguments);this.curStrokeColor=ae._array}},{key:"strokeCap",value:function(O){this.curStrokeCap=O}},{key:"strokeJoin",value:function(O){this.curStrokeJoin=O}},{key:"getFilterLayer",value:function(){return this.filterLayer||(this.filterLayer=this._pInst.createFramebuffer()),this.filterLayer}},{key:"getFilterLayerTemp",value:function(){return this.filterLayerTemp||(this.filterLayerTemp=this._pInst.createFramebuffer()),this.filterLayerTemp}},{key:"matchSize",value:function(O,U){O.width===U.width&&O.height===U.height||O.resize(U.width,U.height),O.pixelDensity()!==U.pixelDensity()&&O.pixelDensity(U.pixelDensity())}},{key:"filter",value:function(){var O,U,q=this,Q=this.getFilterLayer(),ae=void 0,ie=void 0,he=(typeof(arguments.length<=0?void 0:arguments[0])=="string"?(ie=arguments.length<=0?void 0:arguments[0],D(O={},d.BLUR,3),D(O,d.POSTERIZE,4),D(O,d.THRESHOLD,.5),ae=ie in(O=O)&&(arguments.length<=1?void 0:arguments[1])===void 0?O[ie]:arguments.length<=1?void 0:arguments[1],ie in this.defaultFilterShaders||(this.defaultFilterShaders[ie]=new c.default.Shader(Q._renderer,`uniform mat4 uModelViewMatrix;
uniform mat4 uProjectionMatrix;

attribute vec3 aPosition;
// texcoords only come from p5 to vertex shader
// so pass texcoords on to the fragment shader in a varying variable
attribute vec2 aTexCoord;
varying vec2 vTexCoord;

void main() {
  // transferring texcoords for the frag shader
  vTexCoord = aTexCoord;

  // copy position with a fourth coordinate for projection (1.0 is normal)
  vec4 positionVec4 = vec4(aPosition, 1.0);

  gl_Position = uProjectionMatrix * uModelViewMatrix * positionVec4;
}
`,H[ie])),this.filterShader=this.defaultFilterShaders[ie]):this.filterShader=arguments.length<=0?void 0:arguments[0],this.activeFramebuffer()||this),ge=(this.matchSize(Q,he),Q.draw(function(){return q._pInst.clear()}),[1/(he.width*he.pixelDensity()),1/(he.height*he.pixelDensity())]);ie===d.BLUR?(U=this.getFilterLayerTemp(),this.matchSize(U,he),this._pInst.push(),this._pInst.noStroke(),this._pInst.blendMode(d.BLEND),this._pInst.shader(this.filterShader),this.filterShader.setUniform("texelSize",ge),this.filterShader.setUniform("canvasSize",[he.width,he.height]),this.filterShader.setUniform("radius",Math.max(1,ae)),U.draw(function(){q.filterShader.setUniform("direction",[1,0]),q.filterShader.setUniform("tex0",he),q._pInst.clear(),q._pInst.shader(q.filterShader),q._pInst.noLights(),q._pInst.plane(he.width,he.height)}),Q.draw(function(){q.filterShader.setUniform("direction",[0,1]),q.filterShader.setUniform("tex0",U),q._pInst.clear(),q._pInst.shader(q.filterShader),q._pInst.noLights(),q._pInst.plane(he.width,he.height)}),this._pInst.pop()):Q.draw(function(){q._pInst.noStroke(),q._pInst.blendMode(d.BLEND),q._pInst.shader(q.filterShader),q.filterShader.setUniform("tex0",he),q.filterShader.setUniform("texelSize",ge),q.filterShader.setUniform("canvasSize",[he.width,he.height]),q.filterShader.setUniform("filterParameter",ae),q._pInst.noLights(),q._pInst.plane(he.width,he.height)}),this._pInst.push(),this._pInst.noStroke(),this.clear(),this._pInst.push(),this._pInst.imageMode(d.CORNER),this._pInst.blendMode(d.BLEND),he.filterCamera._resize(),this._pInst.setCamera(he.filterCamera),this._pInst.resetMatrix(),this._pInst.image(Q,-he.width/2,-he.height/2,he.width,he.height),this._pInst.clearDepth(),this._pInst.pop(),this._pInst.pop()}},{key:"pixelDensity",value:function(O){return O?this._pInst.pixelDensity(O):this._pInst.pixelDensity()}},{key:"blendMode",value:function(O){O===d.DARKEST||O===d.LIGHTEST||O===d.ADD||O===d.BLEND||O===d.SUBTRACT||O===d.SCREEN||O===d.EXCLUSION||O===d.REPLACE||O===d.MULTIPLY||O===d.REMOVE?this.curBlendMode=O:O!==d.BURN&&O!==d.OVERLAY&&O!==d.HARD_LIGHT&&O!==d.SOFT_LIGHT&&O!==d.DODGE||console.warn("BURN, OVERLAY, HARD_LIGHT, SOFT_LIGHT, and DODGE only work for blendMode in 2D mode.")}},{key:"erase",value:function(O,U){this._isErasing||(this.preEraseBlend=this.curBlendMode,this._isErasing=!0,this.blendMode(d.REMOVE),this._cachedFillStyle=this.curFillColor.slice(),this.curFillColor=[1,1,1,O/255],this._cachedStrokeStyle=this.curStrokeColor.slice(),this.curStrokeColor=[1,1,1,U/255])}},{key:"noErase",value:function(){this._isErasing&&(this.curFillColor=this._cachedFillStyle.slice(),this.curStrokeColor=this._cachedStrokeStyle.slice(),this.curBlendMode=this.preEraseBlend,this.blendMode(this.preEraseBlend),this._isErasing=!1,this._applyBlendMode())}},{key:"drawTarget",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||this}},{key:"beginClip",value:function(){var O=0<arguments.length&&arguments[0]!==void 0?arguments[0]:{},O=(x(C(ue.prototype),"beginClip",this).call(this,O),this.drawTarget()._isClipApplied=!0,this.GL);O.clearStencil(0),O.clear(O.STENCIL_BUFFER_BIT),O.enable(O.STENCIL_TEST),this._stencilTestOn=!0,O.stencilFunc(O.ALWAYS,1,255),O.stencilOp(O.KEEP,O.KEEP,O.REPLACE),O.disable(O.DEPTH_TEST),this._pInst.push(),this._pInst.resetShader(),this._doFill&&this._pInst.fill(0,0),this._doStroke&&this._pInst.stroke(0,0)}},{key:"endClip",value:function(){this._pInst.pop();var O=this.GL;O.stencilOp(O.KEEP,O.KEEP,O.KEEP),O.stencilFunc(this._clipInvert?O.EQUAL:O.NOTEQUAL,0,255),O.enable(O.DEPTH_TEST),this._clipDepths.push(this._pushPopDepth),x(C(ue.prototype),"endClip",this).call(this)}},{key:"_clearClip",value:function(){this.GL.clearStencil(1),this.GL.clear(this.GL.STENCIL_BUFFER_BIT),0<this._clipDepths.length&&this._clipDepths.pop(),this.drawTarget()._isClipApplied=!1}},{key:"strokeWeight",value:function(O){this.curStrokeWeight!==O&&(this.pointSize=O,this.curStrokeWeight=O)}},{key:"_getPixel",value:function(O,U){var q=this.GL;return Z(q,null,O,U,q.RGBA,q.UNSIGNED_BYTE,this._pInst.height*this._pInst.pixelDensity())}},{key:"loadPixels",value:function(){var O,U,q=this._pixelsState;this._pInst._glAttributes.preserveDrawingBuffer!==!0?console.log("loadPixels only works in WebGL when preserveDrawingBuffer is true."):(O=this._pInst._pixelDensity,U=this.GL,q._setProperty("pixels",J(q.pixels,U,null,0,0,this.width*O,this.height*O,U.RGBA,U.UNSIGNED_BYTE,this.height*O)))}},{key:"updatePixels",value:function(){var O=this._getTempFramebuffer();O.pixels=this._pixelsState.pixels,O.updatePixels(),this._pInst.push(),this._pInst.resetMatrix(),this._pInst.clear(),this._pInst.imageMode(d.CENTER),this._pInst.image(O,0,0),this._pInst.pop(),this.GL.clearDepth(1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"_getTempFramebuffer",value:function(){return this._tempFramebuffer||(this._tempFramebuffer=this._pInst.createFramebuffer({format:d.UNSIGNED_BYTE,useDepth:this._pInst._glAttributes.depth,depthFormat:d.UNSIGNED_INT,antialias:this._pInst._glAttributes.antialias})),this._tempFramebuffer}},{key:"geometryInHash",value:function(O){return this.retainedMode.geometry[O]!==void 0}},{key:"viewport",value:function(O,U){this._viewport=[0,0,O,U],this.GL.viewport(0,0,O,U)}},{key:"resize",value:function(ae,Q){c.default.Renderer.prototype.resize.call(this,ae,Q),this._origViewport={width:this.GL.drawingBufferWidth,height:this.GL.drawingBufferHeight},this.viewport(this._origViewport.width,this._origViewport.height),this._curCamera._resize();var ae=this._pixelsState,q=(ae.pixels!==void 0&&ae._setProperty("pixels",new Uint8Array(this.GL.drawingBufferWidth*this.GL.drawingBufferHeight*4)),!0),Q=!1,ae=void 0;try{for(var ie,he=this.framebuffers[Symbol.iterator]();!(q=(ie=he.next()).done);q=!0)ie.value._canvasSizeChanged()}catch(ge){Q=!0,ae=ge}finally{try{q||he.return==null||he.return()}finally{if(Q)throw ae}}}},{key:"clear",value:function(){var O=(arguments.length<=0?void 0:arguments[0])||0,U=(arguments.length<=1?void 0:arguments[1])||0,q=(arguments.length<=2?void 0:arguments[2])||0,Q=(arguments.length<=3?void 0:arguments[3])||0,ae=this.activeFramebuffer();ae&&ae.format===d.UNSIGNED_BYTE&&!ae.antialias&&Q===0&&(Q=1e-10),this.GL.clearColor(O*Q,U*Q,q*Q,Q),this.GL.clearDepth(1),this.GL.clear(this.GL.COLOR_BUFFER_BIT|this.GL.DEPTH_BUFFER_BIT)}},{key:"clearDepth",value:function(){this.GL.clearDepth(0<arguments.length&&arguments[0]!==void 0?arguments[0]:1),this.GL.clear(this.GL.DEPTH_BUFFER_BIT)}},{key:"applyMatrix",value:function(O,U,q,Q,ae,ie){arguments.length===16?c.default.Matrix.prototype.apply.apply(this.uModelMatrix,arguments):this.uModelMatrix.apply([O,U,0,0,q,Q,0,0,0,0,1,0,ae,ie,0,1])}},{key:"translate",value:function(O,U,q){return O instanceof c.default.Vector&&(q=O.z,U=O.y,O=O.x),this.uModelMatrix.translate([O,U,q]),this}},{key:"scale",value:function(O,U,q){return this.uModelMatrix.scale(O,U,q),this}},{key:"rotate",value:function(O,U){return U===void 0?this.rotateZ(O):(c.default.Matrix.prototype.rotate.apply(this.uModelMatrix,arguments),this)}},{key:"rotateX",value:function(O){return this.rotate(O,1,0,0),this}},{key:"rotateY",value:function(O){return this.rotate(O,0,1,0),this}},{key:"rotateZ",value:function(O){return this.rotate(O,0,0,1),this}},{key:"push",value:function(){var O=c.default.Renderer.prototype.push.apply(this),U=O.properties;return U.uModelMatrix=this.uModelMatrix.copy(),U.uViewMatrix=this.uViewMatrix.copy(),U.uPMatrix=this.uPMatrix.copy(),U._curCamera=this._curCamera,this._curCamera=this._curCamera.copy(),U.ambientLightColors=this.ambientLightColors.slice(),U.specularColors=this.specularColors.slice(),U.directionalLightDirections=this.directionalLightDirections.slice(),U.directionalLightDiffuseColors=this.directionalLightDiffuseColors.slice(),U.directionalLightSpecularColors=this.directionalLightSpecularColors.slice(),U.pointLightPositions=this.pointLightPositions.slice(),U.pointLightDiffuseColors=this.pointLightDiffuseColors.slice(),U.pointLightSpecularColors=this.pointLightSpecularColors.slice(),U.spotLightPositions=this.spotLightPositions.slice(),U.spotLightDirections=this.spotLightDirections.slice(),U.spotLightDiffuseColors=this.spotLightDiffuseColors.slice(),U.spotLightSpecularColors=this.spotLightSpecularColors.slice(),U.spotLightAngle=this.spotLightAngle.slice(),U.spotLightConc=this.spotLightConc.slice(),U.userFillShader=this.userFillShader,U.userStrokeShader=this.userStrokeShader,U.userPointShader=this.userPointShader,U.pointSize=this.pointSize,U.curStrokeWeight=this.curStrokeWeight,U.curStrokeColor=this.curStrokeColor,U.curFillColor=this.curFillColor,U.curAmbientColor=this.curAmbientColor,U.curSpecularColor=this.curSpecularColor,U.curEmissiveColor=this.curEmissiveColor,U._hasSetAmbient=this._hasSetAmbient,U._useSpecularMaterial=this._useSpecularMaterial,U._useEmissiveMaterial=this._useEmissiveMaterial,U._useShininess=this._useShininess,U._useMetalness=this._useMetalness,U.constantAttenuation=this.constantAttenuation,U.linearAttenuation=this.linearAttenuation,U.quadraticAttenuation=this.quadraticAttenuation,U._enableLighting=this._enableLighting,U._useNormalMaterial=this._useNormalMaterial,U._tex=this._tex,U.drawMode=this.drawMode,U._currentNormal=this._currentNormal,U.curBlendMode=this.curBlendMode,U.activeImageLight=this.activeImageLight,U.textureMode=this.textureMode,O}},{key:"pop",value:function(){var O;0<this._clipDepths.length&&this._pushPopDepth===this._clipDepths[this._clipDepths.length-1]&&this._clearClip();for(var U=arguments.length,q=new Array(U),Q=0;Q<U;Q++)q[Q]=arguments[Q];(O=x(C(ue.prototype),"pop",this)).call.apply(O,[this].concat(q)),this._applyStencilTestIfClipping()}},{key:"_applyStencilTestIfClipping",value:function(){var O=this.drawTarget();O._isClipApplied!==this._stencilTestOn&&(O._isClipApplied?(this.GL.enable(this.GL.STENCIL_TEST),this._stencilTestOn=!0):(this.GL.disable(this.GL.STENCIL_TEST),this._stencilTestOn=!1))}},{key:"resetMatrix",value:function(){return this.uModelMatrix.reset(),this.uViewMatrix.set(this._curCamera.cameraMatrix),this}},{key:"_getImmediateStrokeShader",value:function(){var O=this.userStrokeShader;return O&&O.isStrokeShader()?O:this._getLineShader()}},{key:"_getRetainedStrokeShader",value:function(){return this._getImmediateStrokeShader()}},{key:"_getSphereMapping",value:function(O){return this.sphereMapping||(this.sphereMapping=this._pInst.createFilterShader(V)),this.uNMatrix.inverseTranspose(this.uViewMatrix),this.uNMatrix.invert3x3(this.uNMatrix),this.sphereMapping.setUniform("uFovY",this._curCamera.cameraFOV),this.sphereMapping.setUniform("uAspect",this._curCamera.aspectRatio),this.sphereMapping.setUniform("uNewNormalMatrix",this.uNMatrix.mat3),this.sphereMapping.setUniform("uSampler",O),this.sphereMapping}},{key:"_getImmediateFillShader",value:function(){var O=this.userFillShader;if(this._useNormalMaterial&&(!O||!O.isNormalShader()))return this._getNormalShader();if(this._enableLighting){if(!O||!O.isLightShader())return this._getLightShader()}else if(this._tex){if(!O||!O.isTextureShader())return this._getLightShader()}else if(!O)return this._getImmediateModeShader();return O}},{key:"_getRetainedFillShader",value:function(){if(this._useNormalMaterial)return this._getNormalShader();var O=this.userFillShader;if(this._enableLighting){if(!O||!O.isLightShader())return this._getLightShader()}else if(this._tex){if(!O||!O.isTextureShader())return this._getLightShader()}else if(!O)return this._getColorShader();return O}},{key:"_getImmediatePointShader",value:function(){var O=this.userPointShader;return O&&O.isPointShader()?O:this._getPointShader()}},{key:"_getRetainedLineShader",value:function(){return this._getImmediateLineShader()}},{key:"baseMaterialShader",value:function(){if(this._pInst._glAttributes.perPixelLighting)return this._getLightShader();throw new Error("The material shader does not support hooks without perPixelLighting. Try turning it back on.")}},{key:"_getLightShader",value:function(){return this._defaultLightShader||(this._pInst._glAttributes.perPixelLighting?this._defaultLightShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+X.phongVert,this._webGL2CompatibilityPrefix("frag","highp")+X.phongFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 combineColors":`(ColorComponents components) {
                vec4 color = vec4(0.);
                color.rgb += components.diffuse * components.baseColor;
                color.rgb += components.ambient * components.ambientColor;
                color.rgb += components.specular * components.specularColor;
                color.rgb += components.emissive;
                color.a = components.opacity;
                return color;
              }`,"vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}}):this._defaultLightShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+X.lightVert,this._webGL2CompatibilityPrefix("frag","highp")+X.lightTextureFrag)),this._defaultLightShader}},{key:"_getImmediateModeShader",value:function(){return this._defaultImmediateModeShader||(this._defaultImmediateModeShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+X.immediateVert,this._webGL2CompatibilityPrefix("frag","mediump")+X.vertexColorFrag)),this._defaultImmediateModeShader}},{key:"baseNormalShader",value:function(){return this._getNormalShader()}},{key:"_getNormalShader",value:function(){return this._defaultNormalShader||(this._defaultNormalShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+X.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+X.normalFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultNormalShader}},{key:"baseColorShader",value:function(){return this._getColorShader()}},{key:"_getColorShader",value:function(){return this._defaultColorShader||(this._defaultColorShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+X.normalVert,this._webGL2CompatibilityPrefix("frag","mediump")+X.basicFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","vec3 getLocalNormal":"(vec3 normal) { return normal; }","vec3 getWorldNormal":"(vec3 normal) { return normal; }","vec2 getUV":"(vec2 uv) { return uv; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","void afterFragment":"() {}"}})),this._defaultColorShader}},{key:"pointShader",value:function(){return this._getPointShader()}},{key:"_getPointShader",value:function(){return this._defaultPointShader||(this._defaultPointShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+X.pointVert,this._webGL2CompatibilityPrefix("frag","mediump")+X.pointFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getPointSize":"(float size) { return size; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultPointShader}},{key:"baseStrokeShader",value:function(){return this._getLineShader()}},{key:"_getLineShader",value:function(){return this._defaultLineShader||(this._defaultLineShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","mediump")+X.lineVert,this._webGL2CompatibilityPrefix("frag","mediump")+X.lineFrag,{vertex:{"void beforeVertex":"() {}","vec3 getLocalPosition":"(vec3 position) { return position; }","vec3 getWorldPosition":"(vec3 position) { return position; }","float getStrokeWeight":"(float weight) { return weight; }","vec2 getLineCenter":"(vec2 center) { return center; }","vec2 getLinePosition":"(vec2 position) { return position; }","vec4 getVertexColor":"(vec4 color) { return color; }","void afterVertex":"() {}"},fragment:{"void beforeFragment":"() {}","Inputs getPixelInputs":"(Inputs inputs) { return inputs; }","vec4 getFinalColor":"(vec4 color) { return color; }","bool shouldDiscard":"(bool outside) { return outside; }","void afterFragment":"() {}"}})),this._defaultLineShader}},{key:"_getFontShader",value:function(){return this._defaultFontShader||(this.webglVersion===d.WEBGL&&this.GL.getExtension("OES_standard_derivatives"),this._defaultFontShader=new c.default.Shader(this,this._webGL2CompatibilityPrefix("vert","highp")+X.fontVert,this._webGL2CompatibilityPrefix("frag","highp")+X.fontFrag)),this._defaultFontShader}},{key:"_webGL2CompatibilityPrefix",value:function(O,U){var q="";return this.webglVersion===d.WEBGL2&&(q+=`#version 300 es
#define WEBGL2
`),O==="vert"?q+=`#define VERTEX_SHADER
`:O==="frag"&&(q+=`#define FRAGMENT_SHADER
`),U&&(q+="precision ".concat(U,` float;
`)),q}},{key:"_getEmptyTexture",value:function(){var O;return this._emptyTexture||((O=new c.default.Image(1,1)).set(0,0,255),this._emptyTexture=new c.default.Texture(this,O)),this._emptyTexture}},{key:"getTexture",value:function(O){O instanceof c.default.Framebuffer&&(O=O.color);var U=this.textures.get(O);return U||(U=new c.default.Texture(this,O),this.textures.set(O,U),U)}},{key:"getDiffusedTexture",value:function(O){var U,q,Q=this;return this.diffusedTextures.get(O)!=null?this.diffusedTextures.get(O):(U=Math.floor(O.height/O.width*200),q=this._pInst.createFramebuffer({width:200,height:U,density:1}),this.diffusedShader||(this.diffusedShader=this._pInst.createShader(X.imageLightVert,X.imageLightDiffusedFrag)),q.draw(function(){Q._pInst.shader(Q.diffusedShader),Q.diffusedShader.setUniform("environmentMap",O),Q._pInst.noStroke(),Q._pInst.rectMode(d.CENTER),Q._pInst.noLights(),Q._pInst.rect(0,0,200,U)}),this.diffusedTextures.set(O,q),q)}},{key:"getSpecularTexture",value:function(O){var U=this;if(this.specularTextures.get(O)!=null)return this.specularTextures.get(O);for(var q,Q=[],ae=this._pInst.createFramebuffer({width:512,height:512,density:1}),ie=Math.log(512)/Math.log(2),he=(this.specularShader||(this.specularShader=this._pInst.createShader(X.imageLightVert,X.imageLightSpecularFrag)),512);1<=he;he/=2)(function(ge){ae.resize(ge,ge);var fe=1-Math.log(ge)/Math.log(2)/ie;ae.draw(function(){U._pInst.shader(U.specularShader),U._pInst.clear(),U.specularShader.setUniform("environmentMap",O),U.specularShader.setUniform("roughness",fe),U._pInst.noStroke(),U._pInst.noLights(),U._pInst.plane(ge,ge)}),Q.push(ae.get().drawingContext.getImageData(0,0,ge,ge))})(he);return ae.remove(),q=new h.MipmapTexture(this,Q,{}),this.specularTextures.set(O,q),q}},{key:"activeFramebuffer",value:function(){return this.activeFramebuffers[this.activeFramebuffers.length-1]||null}},{key:"createFramebuffer",value:function(O){return new c.default.Framebuffer(this,O)}},{key:"_setStrokeUniforms",value:function(O){O.bindShader(),O.setUniform("uUseLineColor",this._useLineColor),O.setUniform("uMaterialColor",this.curStrokeColor),O.setUniform("uStrokeWeight",this.curStrokeWeight),O.setUniform("uStrokeCap",F[this.curStrokeCap]),O.setUniform("uStrokeJoin",I[this.curStrokeJoin])}},{key:"_setFillUniforms",value:function(O){var U=this,q=(O.bindShader(),this.mixedSpecularColor=v(this.curSpecularColor),0<this._useMetalness&&(this.mixedSpecularColor=this.mixedSpecularColor.map(function(Q,ae){return U.curFillColor[ae]*U._useMetalness+Q*(1-U._useMetalness)})),O.setUniform("uUseVertexColor",this._useVertexColor),O.setUniform("uMaterialColor",this.curFillColor),O.setUniform("isTexture",!!this._tex),this._tex&&O.setUniform("uSampler",this._tex),O.setUniform("uTint",this._tint),O.setUniform("uHasSetAmbient",this._hasSetAmbient),O.setUniform("uAmbientMatColor",this.curAmbientColor),O.setUniform("uSpecularMatColor",this.mixedSpecularColor),O.setUniform("uEmissiveMatColor",this.curEmissiveColor),O.setUniform("uSpecular",this._useSpecularMaterial),O.setUniform("uEmissive",this._useEmissiveMaterial),O.setUniform("uShininess",this._useShininess),O.setUniform("uMetallic",this._useMetalness),this._setImageLightUniforms(O),O.setUniform("uUseLighting",this._enableLighting),this.pointLightDiffuseColors.length/3),q=(O.setUniform("uPointLightCount",q),O.setUniform("uPointLightLocation",this.pointLightPositions),O.setUniform("uPointLightDiffuseColors",this.pointLightDiffuseColors),O.setUniform("uPointLightSpecularColors",this.pointLightSpecularColors),this.directionalLightDiffuseColors.length/3),q=(O.setUniform("uDirectionalLightCount",q),O.setUniform("uLightingDirection",this.directionalLightDirections),O.setUniform("uDirectionalDiffuseColors",this.directionalLightDiffuseColors),O.setUniform("uDirectionalSpecularColors",this.directionalLightSpecularColors),this.ambientLightColors.length/3),q=(this.mixedAmbientLight=v(this.ambientLightColors),0<this._useMetalness&&(this.mixedAmbientLight=this.mixedAmbientLight.map(function(Q){return Q-=U._useMetalness,Math.max(0,Q)})),O.setUniform("uAmbientLightCount",q),O.setUniform("uAmbientColor",this.mixedAmbientLight),this.spotLightDiffuseColors.length/3);O.setUniform("uSpotLightCount",q),O.setUniform("uSpotLightAngle",this.spotLightAngle),O.setUniform("uSpotLightConc",this.spotLightConc),O.setUniform("uSpotLightDiffuseColors",this.spotLightDiffuseColors),O.setUniform("uSpotLightSpecularColors",this.spotLightSpecularColors),O.setUniform("uSpotLightLocation",this.spotLightPositions),O.setUniform("uSpotLightDirection",this.spotLightDirections),O.setUniform("uConstantAttenuation",this.constantAttenuation),O.setUniform("uLinearAttenuation",this.linearAttenuation),O.setUniform("uQuadraticAttenuation",this.quadraticAttenuation),O.bindTextures()}},{key:"_setImageLightUniforms",value:function(O){var U;O.setUniform("uUseImageLight",this.activeImageLight!=null),this.activeImageLight&&(U=this.getDiffusedTexture(this.activeImageLight),O.setUniform("environmentMapDiffused",U),U=this.getSpecularTexture(this.activeImageLight),O.setUniform("environmentMapSpecular",U))}},{key:"_setPointUniforms",value:function(O){O.bindShader(),O.setUniform("uMaterialColor",this.curStrokeColor),O.setUniform("uPointSize",this.pointSize*this._pInst._pixelDensity)}},{key:"_bindBuffer",value:function(O,U,q,Q,ae){U=U||this.GL.ARRAY_BUFFER,this.GL.bindBuffer(U,O),q!==void 0&&((O=q)instanceof c.default.DataArray?O=q.dataArray():O instanceof(Q||Float32Array)||(O=new(Q||Float32Array)(O)),this.GL.bufferData(U,O,ae||this.GL.STATIC_DRAW))}},{key:"_arraysEqual",value:function(O,U){return O.length===U.length&&O.every(function(q,Q){return q===U[Q]})}},{key:"_isTypedArray",value:function(O){return[Float32Array,Float64Array,Int16Array,Uint16Array,Uint32Array].some(function(U){return O instanceof U})}},{key:"_flatten",value:function(O){return O.flat()}},{key:"_vToNArray",value:function(O){return O.flatMap(function(U){return[U.x,U.y,U.z]})}},{key:"_bezierCoefficients",value:function(O){var U=O*O,q=1-O,Q=q*q;return[Q*q,3*Q*O,3*q*U,U*O]}},{key:"_quadraticCoefficients",value:function(O){var U=1-O;return[U*U,2*U*O,O*O]}},{key:"_bezierToCatmull",value:function(O){return[O[1],O[1]+(O[2]-O[0])/this._curveTightness,O[2]-(O[3]-O[1])/this._curveTightness,O[2]]}},{key:"_initTessy",value:function(){var O=new y.default.GluTesselator;return O.gluTessCallback(y.default.gluEnum.GLU_TESS_VERTEX_DATA,function(U,q){var Q=!0,ae=!1,ie=void 0;try{for(var he,ge=U[Symbol.iterator]();!(Q=(he=ge.next()).done);Q=!0){var fe=he.value;q.push(fe)}}catch(ve){ae=!0,ie=ve}finally{try{Q||ge.return==null||ge.return()}finally{if(ae)throw ie}}}),O.gluTessCallback(y.default.gluEnum.GLU_TESS_BEGIN,function(U){U!==y.default.primitiveType.GL_TRIANGLES&&console.log("expected TRIANGLES but got type: ".concat(U))}),O.gluTessCallback(y.default.gluEnum.GLU_TESS_ERROR,function(U){console.log("error callback"),console.log("error number: ".concat(U))}),O.gluTessCallback(y.default.gluEnum.GLU_TESS_COMBINE,function(U,q,Q){for(var ae=new Array(c.default.RendererGL.prototype.tessyVertexSize).fill(0),ie=0;ie<Q.length;ie++)for(var he=0;he<ae.length;he++)Q[ie]!==0&&q[ie]&&(ae[he]+=q[ie][he]*Q[ie]);return ae}),O.gluTessCallback(y.default.gluEnum.GLU_TESS_EDGE_FLAG,function(U){}),O.gluTessProperty(y.default.gluEnum.GLU_TESS_WINDING_RULE,y.default.windingRule.GLU_TESS_WINDING_NONZERO),O}},{key:"_triangulate",value:function(O){var U=O[0]?O[0][2]:void 0,q=!0,Q=!0,fe=!1,xe=void 0;try{for(var ae,ie=O[Symbol.iterator]();!(Q=(ae=ie.next()).done);Q=!0)for(var he=ae.value,ge=0;ge<he.length;ge+=c.default.RendererGL.prototype.tessyVertexSize)if(he[ge+2]!==U){q=!1;break}}catch(ke){fe=!0,xe=ke}finally{try{Q||ie.return==null||ie.return()}finally{if(fe)throw xe}}q?this._tessy.gluTessNormal(0,0,1):this._tessy.gluTessNormal(0,0,0);var fe=[],ve=(this._tessy.gluTessBeginPolygon(fe),!0),xe=!1,se=void 0;try{for(var be,Ae=O[Symbol.iterator]();!(ve=(be=Ae.next()).done);ve=!0){var De=be.value;this._tessy.gluTessBeginContour();for(var je=0;je<De.length;je+=c.default.RendererGL.prototype.tessyVertexSize){var Oe=De.slice(je,je+c.default.RendererGL.prototype.tessyVertexSize);this._tessy.gluTessVertex(Oe,Oe)}this._tessy.gluTessEndContour()}}catch(ke){xe=!0,se=ke}finally{try{ve||Ae.return==null||Ae.return()}finally{if(xe)throw se}}return this._tessy.gluTessEndPolygon(),fe}}])&&_(Y.prototype,K),ue}(c.default.Renderer),c.default.prototype._assert3d=function(K){if(!this._renderer.isP3D)throw new Error("".concat(K,"() is only supported in WEBGL mode. If you'd like to use 3D graphics and WebGL, see  https://p5js.org/examples/form-3d-primitives.html for more information."))},c.default.RendererGL.prototype.tessyVertexSize=12,P=c.default.RendererGL,s.default=P},{"../core/constants":272,"../core/main":283,"../core/p5.Renderer":286,"./GeometryBuilder":327,"./p5.Camera":332,"./p5.Framebuffer":334,"./p5.Matrix":336,"./p5.Shader":342,"./p5.Texture":343,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.copy-within":154,"core-js/modules/es.array.every":155,"core-js/modules/es.array.fill":156,"core-js/modules/es.array.flat":160,"core-js/modules/es.array.flat-map":159,"core-js/modules/es.array.from":162,"core-js/modules/es.array.includes":163,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.map":168,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.array.unscopables.flat":173,"core-js/modules/es.array.unscopables.flat-map":172,"core-js/modules/es.map":175,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.reflect.get":193,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.set":197,"core-js/modules/es.string.includes":199,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.float32-array":219,"core-js/modules/es.typed-array.float64-array":220,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.int16-array":224,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint16-array":240,"core-js/modules/es.typed-array.uint32-array":241,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246,libtess:255,path:258}],342:[function(t,l,s){t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.concat"),t("core-js/modules/es.array.index-of"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.array.slice"),t("core-js/modules/es.array.some"),t("core-js/modules/es.function.name"),t("core-js/modules/es.object.assign"),t("core-js/modules/es.object.keys"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/web.dom-collections.iterator"),Object.defineProperty(s,"__esModule",{value:!0}),s.default=void 0;var o=(t=t("../core/main"))&&t.__esModule?t:{default:t};function u(d,g){return function(y){if(Array.isArray(y))return y}(d)||function(y,h){if(Symbol.iterator in Object(y)||Object.prototype.toString.call(y)==="[object Arguments]"){var p=[],m=!0,v=!1,_=void 0;try{for(var x,b=y[Symbol.iterator]();!(m=(x=b.next()).done)&&(p.push(x.value),!h||p.length!==h);m=!0);}catch(E){v=!0,_=E}finally{try{m||b.return==null||b.return()}finally{if(v)throw _}}return p}}(d,g)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function c(d,g){for(var y=0;y<g.length;y++){var h=g[y];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(d,h.key,h)}}o.default.Shader=function(){function d(h,p,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:{},_=this,x=d;if(!(_ instanceof x))throw new TypeError("Cannot call a class as a function");this._renderer=h,this._vertSrc=p,this._fragSrc=m,this._vertShader=-1,this._fragShader=-1,this._glProgram=0,this._loadedAttributes=!1,this.attributes={},this._loadedUniforms=!1,this.uniforms={},this._bound=!1,this.samplers=[],this.hooks={uniforms:v.uniforms||{},declarations:v.declarations,helpers:v.helpers||{},vertex:v.vertex||{},fragment:v.fragment||{},modified:{vertex:v.modified&&v.modified.vertex||{},fragment:v.modified&&v.modified.fragment||{}}}}var g,y;return g=d,(y=[{key:"shaderSrc",value:function(S,p){var m,v,_,x,b,S=u(S.split("void main"),2),E=S[0],S=S[1],C="";for(m in this.hooks.uniforms)C+="uniform ".concat(m,`;
`);for(v in this.hooks.declarations&&(C+=this.hooks.declarations+`
`),this.hooks[p].declarations&&(C+=this.hooks[p].declarations+`
`),this.hooks.helpers)C+="".concat(v).concat(this.hooks.helpers[v],`
`);for(_ in this.hooks[p])_!=="declarations"&&(x=(b=u(_.split(" "),2))[0],b=b[1],this.hooks.modified[p][_]&&(C+="#define AUGMENTED_HOOK_"+b+`
`),C+=x+" HOOK_"+b+this.hooks[p][_]+`
`);return E+C+"void main"+S}},{key:"version",value:function(){var h=/#version (.+)$/.exec(this.vertSrc());return h?h[1]:"100 es"}},{key:"vertSrc",value:function(){return this.shaderSrc(this._vertSrc,"vertex")}},{key:"fragSrc",value:function(){return this.shaderSrc(this._fragSrc,"fragment")}},{key:"inspectHooks",value:function(){for(var h in console.log("==== Vertex shader hooks: ===="),this.hooks.vertex)console.log((this.hooks.modified.vertex[h]?"[MODIFIED] ":"")+h+this.hooks.vertex[h]);for(var p in console.log(""),console.log("==== Fragment shader hooks: ===="),this.hooks.fragment)console.log((this.hooks.modified.fragment[p]?"[MODIFIED] ":"")+p+this.hooks.fragment[p]);for(var m in console.log(""),console.log("==== Helper functions: ===="),this.hooks.helpers)console.log(m+this.hooks.helpers[m])}},{key:"modify",value:function(h){o.default._validateParameters("p5.Shader.modify",arguments);var p,m={vertex:{},fragment:{},helpers:{}};for(p in h)p!=="declarations"&&p!=="uniforms"&&(p==="vertexDeclarations"?m.vertex.declarations=(m.vertex.declarations||"")+`
`+h[p]:p==="fragmentDeclarations"?m.fragment.declarations=(m.fragment.declarations||"")+`
`+h[p]:this.hooks.vertex[p]?m.vertex[p]=h[p]:this.hooks.fragment[p]?m.fragment[p]=h[p]:m.helpers[p]=h[p]);var v,_,x=Object.assign({},this.hooks.modified.vertex),b=Object.assign({},this.hooks.modified.fragment);for(v in m.vertex||{})v!=="declarations"&&(x[v]=!0);for(_ in m.fragment||{})_!=="declarations"&&(b[_]=!0);return new o.default.Shader(this._renderer,this._vertSrc,this._fragSrc,{declarations:(this.hooks.declarations||"")+`
`+(h.declarations||""),uniforms:Object.assign({},this.hooks.uniforms,h.uniforms||{}),fragment:Object.assign({},this.hooks.fragment,m.fragment||{}),vertex:Object.assign({},this.hooks.vertex,m.vertex||{}),helpers:Object.assign({},this.hooks.helpers,m.helpers||{}),modified:{vertex:x,fragment:b}})}},{key:"init",value:function(){if(this._glProgram===0){var h,p=this._renderer.GL;if(this._vertShader=p.createShader(p.VERTEX_SHADER),p.shaderSource(this._vertShader,this.vertSrc()),p.compileShader(this._vertShader),!p.getShaderParameter(this._vertShader,p.COMPILE_STATUS))return h=p.getShaderInfoLog(this._vertShader),console.error(h),null;if(this._fragShader=p.createShader(p.FRAGMENT_SHADER),p.shaderSource(this._fragShader,this.fragSrc()),p.compileShader(this._fragShader),!p.getShaderParameter(this._fragShader,p.COMPILE_STATUS))return h=p.getShaderInfoLog(this._fragShader),console.error(h),null;this._glProgram=p.createProgram(),p.attachShader(this._glProgram,this._vertShader),p.attachShader(this._glProgram,this._fragShader),p.linkProgram(this._glProgram),p.getProgramParameter(this._glProgram,p.LINK_STATUS)||o.default._friendlyError("Snap! Error linking shader program: ".concat(p.getProgramInfoLog(this._glProgram))),this._loadAttributes(),this._loadUniforms()}return this}},{key:"setDefaultUniforms",value:function(){for(var h in this.hooks.uniforms){var p=u(h.split(" "),2)[1],h=this.hooks.uniforms[h],m=void 0;(m=h instanceof Function?h():h)!=null&&this.setUniform(p,m)}}},{key:"copyToContext",value:function(h){var p=new o.default.Shader(h._renderer,this._vertSrc,this._fragSrc);return p.ensureCompiledOnContext(h),p}},{key:"ensureCompiledOnContext",value:function(h){if(this._glProgram!==0&&this._renderer!==h._renderer)throw new Error("The shader being run is attached to a different context. Do you need to copy it to this context first with .copyToContext()?");this._glProgram===0&&(this._renderer=h._renderer,this.init())}},{key:"_loadAttributes",value:function(){if(!this._loadedAttributes){this.attributes={};for(var h=this._renderer.GL,p=h.getProgramParameter(this._glProgram,h.ACTIVE_ATTRIBUTES),m=0;m<p;++m){var v=h.getActiveAttrib(this._glProgram,m),_=v.name,x=h.getAttribLocation(this._glProgram,_),b={};b.name=_,b.location=x,b.index=m,b.type=v.type,b.size=v.size,this.attributes[_]=b}this._loadedAttributes=!0}}},{key:"_loadUniforms",value:function(){if(!this._loadedUniforms){for(var h=this._renderer.GL,p=h.getProgramParameter(this._glProgram,h.ACTIVE_UNIFORMS),m=0,v=0;v<p;++v){var _=h.getActiveUniform(this._glProgram,v),x={},b=(x.location=h.getUniformLocation(this._glProgram,_.name),x.size=_.size,_.name);1<_.size&&(b=b.substring(0,b.indexOf("[0]"))),x.name=b,x.type=_.type,x._cachedData=void 0,x.type===h.SAMPLER_2D&&(x.samplerIndex=m,m++,this.samplers.push(x)),x.isArray=1<_.size||x.type===h.FLOAT_MAT3||x.type===h.FLOAT_MAT4||x.type===h.FLOAT_VEC2||x.type===h.FLOAT_VEC3||x.type===h.FLOAT_VEC4||x.type===h.INT_VEC2||x.type===h.INT_VEC4||x.type===h.INT_VEC3,this.uniforms[b]=x}this._loadedUniforms=!0}}},{key:"compile",value:function(){}},{key:"bindShader",value:function(){this.init(),this._bound||(this.useProgram(),this._bound=!0,this._setMatrixUniforms(),this.setUniform("uViewport",this._renderer._viewport))}},{key:"unbindShader",value:function(){return this._bound&&(this.unbindTextures(),this._bound=!1),this}},{key:"bindTextures",value:function(){var h=this._renderer.GL,p=!0,m=!1,v=void 0;try{for(var _,x=this.samplers[Symbol.iterator]();!(p=(_=x.next()).done);p=!0){var b=_.value,E=b.texture;E===void 0&&(E=this._renderer._getEmptyTexture()),h.activeTexture(h.TEXTURE0+b.samplerIndex),E.bindTexture(),E.update(),h.uniform1i(b.location,b.samplerIndex)}}catch(S){m=!0,v=S}finally{try{p||x.return==null||x.return()}finally{if(m)throw v}}}},{key:"updateTextures",value:function(){var h=!0,p=!1,m=void 0;try{for(var v,_=this.samplers[Symbol.iterator]();!(h=(v=_.next()).done);h=!0){var x=v.value.texture;x&&x.update()}}catch(b){p=!0,m=b}finally{try{h||_.return==null||_.return()}finally{if(p)throw m}}}},{key:"unbindTextures",value:function(){var h=!0,p=!1,m=void 0;try{for(var v,_=this.samplers[Symbol.iterator]();!(h=(v=_.next()).done);h=!0){var x=v.value;this.setUniform(x.name,this._renderer._getEmptyTexture())}}catch(b){p=!0,m=b}finally{try{h||_.return==null||_.return()}finally{if(p)throw m}}}},{key:"_setMatrixUniforms",value:function(){var h=this._renderer.uModelMatrix,p=this._renderer.uViewMatrix,m=this._renderer.uPMatrix,v=h.copy().mult(p),_=(this._renderer.uMVMatrix=v).copy();_.mult(m),this.isStrokeShader()&&this.setUniform("uPerspective",this._renderer._curCamera.useLinePerspective?1:0),this.setUniform("uViewMatrix",p.mat4),this.setUniform("uProjectionMatrix",m.mat4),this.setUniform("uModelMatrix",h.mat4),this.setUniform("uModelViewMatrix",v.mat4),this.setUniform("uModelViewProjectionMatrix",_.mat4),this.uniforms.uNormalMatrix&&(this._renderer.uNMatrix.inverseTranspose(this._renderer.uMVMatrix),this.setUniform("uNormalMatrix",this._renderer.uNMatrix.mat3)),this.uniforms.uCameraRotation&&(this._renderer.curMatrix.inverseTranspose(this._renderer.uViewMatrix),this.setUniform("uCameraRotation",this._renderer.curMatrix.mat3))}},{key:"useProgram",value:function(){var h=this._renderer.GL;return this._renderer._curShader!==this&&(h.useProgram(this._glProgram),this._renderer._curShader=this),this}},{key:"setUniform",value:function(h,p){var m=this.uniforms[h];if(m){var v=this._renderer.GL;if(m.isArray){if(m._cachedData&&this._renderer._arraysEqual(m._cachedData,p))return;m._cachedData=p.slice(0)}else{if(m._cachedData&&m._cachedData===p)return;Array.isArray(p)?m._cachedData=p.slice(0):m._cachedData=p}var _=m.location;switch(this.useProgram(),m.type){case v.BOOL:p===!0?v.uniform1i(_,1):v.uniform1i(_,0);break;case v.INT:1<m.size?p.length&&v.uniform1iv(_,p):v.uniform1i(_,p);break;case v.FLOAT:1<m.size?p.length&&v.uniform1fv(_,p):v.uniform1f(_,p);break;case v.FLOAT_MAT3:v.uniformMatrix3fv(_,!1,p);break;case v.FLOAT_MAT4:v.uniformMatrix4fv(_,!1,p);break;case v.FLOAT_VEC2:1<m.size?p.length&&v.uniform2fv(_,p):v.uniform2f(_,p[0],p[1]);break;case v.FLOAT_VEC3:1<m.size?p.length&&v.uniform3fv(_,p):v.uniform3f(_,p[0],p[1],p[2]);break;case v.FLOAT_VEC4:1<m.size?p.length&&v.uniform4fv(_,p):v.uniform4f(_,p[0],p[1],p[2],p[3]);break;case v.INT_VEC2:1<m.size?p.length&&v.uniform2iv(_,p):v.uniform2i(_,p[0],p[1]);break;case v.INT_VEC3:1<m.size?p.length&&v.uniform3iv(_,p):v.uniform3i(_,p[0],p[1],p[2]);break;case v.INT_VEC4:1<m.size?p.length&&v.uniform4iv(_,p):v.uniform4i(_,p[0],p[1],p[2],p[3]);break;case v.SAMPLER_2D:if(typeof p=="number"){if(p<v.TEXTURE0||p>v.TEXTURE31||p!==Math.ceil(p))return console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."),this;v.activeTexture(p),v.uniform1i(_,p)}else v.activeTexture(v.TEXTURE0+m.samplerIndex),m.texture=p instanceof o.default.Texture?p:this._renderer.getTexture(p),v.uniform1i(_,m.samplerIndex),m.texture.src.gifProperties&&m.texture.src._animateGif(this._renderer._pInst);break;case v.SAMPLER_CUBE:case v.SAMPLER_3D:case v.SAMPLER_2D_SHADOW:case v.SAMPLER_2D_ARRAY:case v.SAMPLER_2D_ARRAY_SHADOW:case v.SAMPLER_CUBE_SHADOW:case v.INT_SAMPLER_2D:case v.INT_SAMPLER_3D:case v.INT_SAMPLER_CUBE:case v.INT_SAMPLER_2D_ARRAY:case v.UNSIGNED_INT_SAMPLER_2D:case v.UNSIGNED_INT_SAMPLER_3D:case v.UNSIGNED_INT_SAMPLER_CUBE:case v.UNSIGNED_INT_SAMPLER_2D_ARRAY:typeof p=="number"&&(p<v.TEXTURE0||p>v.TEXTURE31||p!==Math.ceil(p)?console.log(" p5.js says: You're trying to use a number as the data for a texture.Please use a texture."):(v.activeTexture(p),v.uniform1i(_,p)))}return this}}},{key:"isLightShader",value:function(){return[this.attributes.aNormal,this.uniforms.uUseLighting,this.uniforms.uAmbientLightCount,this.uniforms.uDirectionalLightCount,this.uniforms.uPointLightCount,this.uniforms.uAmbientColor,this.uniforms.uDirectionalDiffuseColors,this.uniforms.uDirectionalSpecularColors,this.uniforms.uPointLightLocation,this.uniforms.uPointLightDiffuseColors,this.uniforms.uPointLightSpecularColors,this.uniforms.uLightingDirection,this.uniforms.uSpecular].some(function(h){return h!==void 0})}},{key:"isNormalShader",value:function(){return this.attributes.aNormal!==void 0}},{key:"isTextureShader",value:function(){return 0<this.samplers.length}},{key:"isColorShader",value:function(){return this.attributes.aVertexColor!==void 0||this.uniforms.uMaterialColor!==void 0}},{key:"isTexLightShader",value:function(){return this.isLightShader()&&this.isTextureShader()}},{key:"isStrokeShader",value:function(){return this.uniforms.uStrokeWeight!==void 0}},{key:"enableAttrib",value:function(h,p,m,v,_,x){var b;return h&&(h=h.location)!==-1&&(b=this._renderer.GL,this._renderer.registerEnabled.has(h)||(b.enableVertexAttribArray(h),this._renderer.registerEnabled.add(h)),this._renderer.GL.vertexAttribPointer(h,p,m||b.FLOAT,v||!1,_||0,x||0)),this}},{key:"disableRemainingAttributes",value:function(){var h=this,p=!0,m=!1,v=void 0;try{for(var _,x=this._renderer.registerEnabled.values()[Symbol.iterator]();!(p=(_=x.next()).done);p=!0)(function(){var b=_.value;Object.keys(h.attributes).some(function(E){return h.attributes[E].location===b})||(h._renderer.GL.disableVertexAttribArray(b),h._renderer.registerEnabled.delete(b))})()}catch(b){m=!0,v=b}finally{try{p||x.return==null||x.return()}finally{if(m)throw v}}}}])&&c(g.prototype,y),d}(),t=o.default.Shader,s.default=t},{"../core/main":283,"core-js/modules/es.array.concat":153,"core-js/modules/es.array.index-of":164,"core-js/modules/es.array.iterator":165,"core-js/modules/es.array.slice":169,"core-js/modules/es.array.some":170,"core-js/modules/es.function.name":174,"core-js/modules/es.object.assign":183,"core-js/modules/es.object.keys":189,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/web.dom-collections.iterator":246}],343:[function(t,l,s){function o(E){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(E)}function u(E){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(S){return o(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":o(S)})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.get-prototype-of"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.reflect.construct"),t("core-js/modules/es.regexp.to-string"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.typed-array.uint8-array"),t("core-js/modules/es.typed-array.copy-within"),t("core-js/modules/es.typed-array.every"),t("core-js/modules/es.typed-array.fill"),t("core-js/modules/es.typed-array.filter"),t("core-js/modules/es.typed-array.find"),t("core-js/modules/es.typed-array.find-index"),t("core-js/modules/es.typed-array.for-each"),t("core-js/modules/es.typed-array.includes"),t("core-js/modules/es.typed-array.index-of"),t("core-js/modules/es.typed-array.iterator"),t("core-js/modules/es.typed-array.join"),t("core-js/modules/es.typed-array.last-index-of"),t("core-js/modules/es.typed-array.map"),t("core-js/modules/es.typed-array.reduce"),t("core-js/modules/es.typed-array.reduce-right"),t("core-js/modules/es.typed-array.reverse"),t("core-js/modules/es.typed-array.set"),t("core-js/modules/es.typed-array.slice"),t("core-js/modules/es.typed-array.some"),t("core-js/modules/es.typed-array.sort"),t("core-js/modules/es.typed-array.subarray"),t("core-js/modules/es.typed-array.to-locale-string"),t("core-js/modules/es.typed-array.to-string"),Object.defineProperty(s,"__esModule",{value:!0}),s.checkWebGLCapabilities=b,s.default=s.MipmapTexture=void 0;var c=(x=t("../core/main"))&&x.__esModule?x:{default:x},d=function(E){if(E&&E.__esModule)return E;if(E===null||u(E)!=="object"&&typeof E!="function")return{default:E};var S=g();if(S&&S.has(E))return S.get(E);var C,D={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in E){var R;Object.prototype.hasOwnProperty.call(E,C)&&((R=M?Object.getOwnPropertyDescriptor(E,C):null)&&(R.get||R.set)?Object.defineProperty(D,C,R):D[C]=E[C])}return D.default=E,S&&S.set(E,D),D}(t("../core/constants"));function g(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,g=function(){return E},E)}function y(E,S){return(y=Object.setPrototypeOf||function(C,D){return C.__proto__=D,C})(E,S)}function h(E){return function(){var S,C=p(E),C=(S=function(){if(typeof Reflect<"u"&&Reflect.construct&&!Reflect.construct.sham){if(typeof Proxy=="function")return 1;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),1}catch{}}}()?(S=p(this).constructor,Reflect.construct(C,arguments,S)):C.apply(this,arguments),this);if(!S||u(S)!=="object"&&typeof S!="function"){if(C!==void 0)return C;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return S}}function p(E){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)})(E)}function m(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function v(E,S){for(var C=0;C<S.length;C++){var D=S[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}function _(E,S,C){S&&v(E.prototype,S)}c.default.Texture=function(){function E(L,C,R){m(this,E),this._renderer=L;var M=this._renderer.GL,R=(R=R||{},this.src=C,this.glTex=void 0,this.glTarget=M.TEXTURE_2D,this.glFormat=R.format||M.RGBA,this.mipmaps=!1,this.glMinFilter=R.minFilter||M.LINEAR,this.glMagFilter=R.magFilter||M.LINEAR,this.glWrapS=R.wrapS||M.CLAMP_TO_EDGE,this.glWrapT=R.wrapT||M.CLAMP_TO_EDGE,this.glDataType=R.dataType||M.UNSIGNED_BYTE,b(L)),L=(this.glFormat!==M.HALF_FLOAT||R.halfFloat||(console.log("This device does not support dataType HALF_FLOAT. Falling back to FLOAT."),this.glDataType=M.FLOAT),this.glFormat!==M.HALF_FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||R.halfFloatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.glFormat!==M.FLOAT||R.float||(console.log("This device does not support dataType FLOAT. Falling back to UNSIGNED_BYTE."),this.glDataType=M.UNSIGNED_BYTE),this.glFormat!==M.FLOAT||this.glMinFilter!==M.LINEAR&&this.glMagFilter!==M.LINEAR||R.floatLinear||(console.log("This device does not support linear filtering for dataType FLOAT. Falling back to NEAREST."),this.glMinFilter===M.LINEAR&&(this.glMinFilter=M.NEAREST),this.glMagFilter===M.LINEAR&&(this.glMagFilter=M.NEAREST)),this.isSrcMediaElement=c.default.MediaElement!==void 0&&C instanceof c.default.MediaElement,this._videoPrevUpdateTime=0,this.isSrcHTMLElement=c.default.Element!==void 0&&C instanceof c.default.Element&&!(C instanceof c.default.Graphics)&&!(C instanceof c.default.Renderer),this.isSrcP5Image=C instanceof c.default.Image,this.isSrcP5Graphics=C instanceof c.default.Graphics,this.isSrcP5Renderer=C instanceof c.default.Renderer,this.isImageData=typeof ImageData<"u"&&C instanceof ImageData,this.isFramebufferTexture=C instanceof c.default.FramebufferTexture,this._getTextureDataFromSource());return this.width=L.width,this.height=L.height,this.init(L),this}return _(E,[{key:"_getTextureDataFromSource",value:function(){var S;return this.isFramebufferTexture?S=this.src.rawTexture():this.isSrcP5Image?S=this.src.canvas:this.isSrcMediaElement||this.isSrcP5Graphics||this.isSrcP5Renderer||this.isSrcHTMLElement?(this.src._ensureCanvas&&this.src._ensureCanvas(),S=this.src.canvas||this.src.elt):this.isImageData&&(S=this.src),S}},{key:"init",value:function(S){var C,D=this._renderer.GL;this.isFramebufferTexture||(this.glTex=D.createTexture()),this.glWrapS=this._renderer.textureWrapX,this.glWrapT=this._renderer.textureWrapY,this.setWrapMode(this.glWrapS,this.glWrapT),this.bindTexture(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,this.glMagFilter),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,this.glMinFilter),this.isFramebufferTexture||(this.width===0||this.height===0||this.isSrcMediaElement&&!this.src.loadedmetadata?(C=new Uint8Array([1,1,1,1]),D.texImage2D(this.glTarget,0,D.RGBA,1,1,0,this.glFormat,this.glDataType,C)):D.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,S))}},{key:"update",value:function(){var S,C,D,M=this.src;return M.width!==0&&M.height!==0&&!this.isFramebufferTexture&&(S=this._getTextureDataFromSource(),C=!1,D=this._renderer.GL,S.width!==this.width||S.height!==this.height?(C=!0,this.width=S.width||M.width,this.height=S.height||M.height,this.isSrcP5Image?M.setModified(!1):(this.isSrcMediaElement||this.isSrcHTMLElement)&&M.setModified(!0)):this.isSrcP5Image?M.isModified()&&M.setModified(!(C=!0)):this.isSrcMediaElement?M.isModified()?M.setModified(!(C=!0)):M.loadedmetadata&&this._videoPrevUpdateTime!==M.time()&&(this._videoPrevUpdateTime=M.time(),C=!0):this.isImageData?M._dirty&&(C=!(M._dirty=!1)):C=!0,C&&(this.bindTexture(),D.texImage2D(this.glTarget,0,this.glFormat,this.glFormat,this.glDataType,S)),C)}},{key:"bindTexture",value:function(){return this._renderer.GL.bindTexture(this.glTarget,this.getTexture()),this}},{key:"unbindTexture",value:function(){this._renderer.GL.bindTexture(this.glTarget,null)}},{key:"getTexture",value:function(){return this.isFramebufferTexture?this.src.rawTexture():this.glTex}},{key:"setInterpolation",value:function(S,C){var D=this._renderer.GL;this.glMinFilter=this.glFilter(S),this.glMagFilter=this.glFilter(C),this.bindTexture(),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MIN_FILTER,this.glMinFilter),D.texParameteri(D.TEXTURE_2D,D.TEXTURE_MAG_FILTER,this.glMagFilter),this.unbindTexture()}},{key:"glFilter",value:function(S){var C=this._renderer.GL;return S===d.NEAREST?C.NEAREST:C.LINEAR}},{key:"setWrapMode",value:function(S,C){function D(F){return(F&F-1)==0}var M=this._renderer.GL,L=this._getTextureDataFromSource(),L=L.naturalWidth&&L.naturalHeight?(R=L.naturalWidth,L.naturalHeight):(R=this.width,this.height),R=D(R),L=D(L);S===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||R&&L?this.glWrapS=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):S===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||R&&L?this.glWrapS=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapS=M.CLAMP_TO_EDGE):this.glWrapS=M.CLAMP_TO_EDGE,C===d.REPEAT?this._renderer.webglVersion===d.WEBGL2||R&&L?this.glWrapT=M.REPEAT:(console.warn("You tried to set the wrap mode to REPEAT but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):C===d.MIRROR?this._renderer.webglVersion===d.WEBGL2||R&&L?this.glWrapT=M.MIRRORED_REPEAT:(console.warn("You tried to set the wrap mode to MIRROR but the texture size is not a power of two. Setting to CLAMP instead"),this.glWrapT=M.CLAMP_TO_EDGE):this.glWrapT=M.CLAMP_TO_EDGE,this.bindTexture(),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_S,this.glWrapS),M.texParameteri(M.TEXTURE_2D,M.TEXTURE_WRAP_T,this.glWrapT),this.unbindTexture()}}]),E}();var x=function(E){var S=D;if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function");S.prototype=Object.create(E&&E.prototype,{constructor:{value:S,writable:!0,configurable:!0}}),E&&y(S,E);var C=h(D);function D(M,R,L){return m(this,D),R=(M=C.call(this,M,R,L))._renderer.GL,M.glMinFilter===R.LINEAR&&(M.glMinFilter=R.LINEAR_MIPMAP_LINEAR),M}return _(D,[{key:"glFilter",value:function(M){return this._renderer.GL.LINEAR_MIPMAP_LINEAR}},{key:"_getTextureDataFromSource",value:function(){return this.src}},{key:"init",value:function(M){var R=this._renderer.GL;this.glTex=R.createTexture(),this.bindTexture();for(var L=0;L<M.length;L++)R.texImage2D(this.glTarget,L,this.glFormat,this.glFormat,this.glDataType,M[L]);this.glMinFilter=R.LINEAR_MIPMAP_LINEAR,R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MAG_FILTER,this.glMagFilter),R.texParameteri(R.TEXTURE_2D,R.TEXTURE_MIN_FILTER,this.glMinFilter),this.unbindTexture()}},{key:"update",value:function(){}}]),D}(c.default.Texture);function b(M){var S=M.GL,M=M.webglVersion,C=M===d.WEBGL2?S.getExtension("EXT_color_buffer_float")&&S.getExtension("EXT_float_blend"):S.getExtension("OES_texture_float"),D=C&&S.getExtension("OES_texture_float_linear"),M=M===d.WEBGL2?S.getExtension("EXT_color_buffer_float"):S.getExtension("OES_texture_half_float");return{float:C,floatLinear:D,halfFloat:M,halfFloatLinear:M&&S.getExtension("OES_texture_half_float_linear")}}s.MipmapTexture=x,t=c.default.Texture,s.default=t},{"../core/constants":272,"../core/main":283,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.get-prototype-of":188,"core-js/modules/es.object.to-string":190,"core-js/modules/es.reflect.construct":192,"core-js/modules/es.regexp.to-string":196,"core-js/modules/es.string.iterator":200,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.typed-array.copy-within":213,"core-js/modules/es.typed-array.every":214,"core-js/modules/es.typed-array.fill":215,"core-js/modules/es.typed-array.filter":216,"core-js/modules/es.typed-array.find":218,"core-js/modules/es.typed-array.find-index":217,"core-js/modules/es.typed-array.for-each":221,"core-js/modules/es.typed-array.includes":222,"core-js/modules/es.typed-array.index-of":223,"core-js/modules/es.typed-array.iterator":226,"core-js/modules/es.typed-array.join":227,"core-js/modules/es.typed-array.last-index-of":228,"core-js/modules/es.typed-array.map":229,"core-js/modules/es.typed-array.reduce":231,"core-js/modules/es.typed-array.reduce-right":230,"core-js/modules/es.typed-array.reverse":232,"core-js/modules/es.typed-array.set":233,"core-js/modules/es.typed-array.slice":234,"core-js/modules/es.typed-array.some":235,"core-js/modules/es.typed-array.sort":236,"core-js/modules/es.typed-array.subarray":237,"core-js/modules/es.typed-array.to-locale-string":238,"core-js/modules/es.typed-array.to-string":239,"core-js/modules/es.typed-array.uint8-array":242,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}],344:[function(t,l,s){function o(E){return(o=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S})(E)}function u(E){return(u=typeof Symbol=="function"&&o(Symbol.iterator)==="symbol"?function(S){return o(S)}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":o(S)})(E)}t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.get-own-property-descriptor"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/es.weak-map"),t("core-js/modules/web.dom-collections.iterator"),t("core-js/modules/es.symbol"),t("core-js/modules/es.symbol.description"),t("core-js/modules/es.symbol.iterator"),t("core-js/modules/es.array.iterator"),t("core-js/modules/es.object.to-string"),t("core-js/modules/es.regexp.exec"),t("core-js/modules/es.string.iterator"),t("core-js/modules/es.string.split"),t("core-js/modules/es.string.sub"),t("core-js/modules/web.dom-collections.iterator");var c,d=(c=t("../core/main"))&&c.__esModule?c:{default:c},g=function(E){if(E&&E.__esModule)return E;if(E===null||u(E)!=="object"&&typeof E!="function")return{default:E};var S=y();if(S&&S.has(E))return S.get(E);var C,D={},M=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(C in E){var R;Object.prototype.hasOwnProperty.call(E,C)&&((R=M?Object.getOwnPropertyDescriptor(E,C):null)&&(R.get||R.set)?Object.defineProperty(D,C,R):D[C]=E[C])}return D.default=E,S&&S.set(E,D),D}(t("../core/constants"));function y(){var E;return typeof WeakMap!="function"?null:(E=new WeakMap,y=function(){return E},E)}function h(E,S){if(!(E instanceof S))throw new TypeError("Cannot call a class as a function")}function p(E,S){for(var C=0;C<S.length;C++){var D=S[C];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(E,D.key,D)}}function m(E,S,C){S&&p(E.prototype,S)}t("./p5.Shader"),t("./p5.RendererGL.Retained"),d.default.RendererGL.prototype._applyTextProperties=function(){this._setProperty("_textAscent",null),this._setProperty("_textDescent",null)},d.default.RendererGL.prototype.textWidth=function(E){return this._isOpenType()?this._textFont._textWidth(E,this._textSize):0};var v=function(){function E(S,C){h(this,E),this.width=S,this.height=C,this.infos=[]}return m(E,[{key:"findImage",value:function(S){var C,D,M=this.width*this.height;if(M<S)throw new Error("font is too complex to render in 3D");for(var R=this.infos.length-1;0<=R;--R){var L=this.infos[R];if(L.index+S<M){D=(C=L).imageData;break}}if(!C){try{D=new ImageData(this.width,this.height)}catch{var F=document.getElementsByTagName("canvas")[0],I=!F,G=(F||((F=document.createElement("canvas")).style.display="none",document.body.appendChild(F)),F.getContext("2d"));G&&(D=G.createImageData(this.width,this.height)),I&&document.body.removeChild(F)}this.infos.push(C={index:0,imageData:D})}return G=C.index,C.index+=S,D._dirty=!0,{imageData:D,index:G}}}]),E}();function _(L,S,C,D,M){var R=L.imageData.data,L=4*L.index++;R[L++]=S,R[L++]=C,R[L++]=D,R[+L]=M}var x=Math.sqrt(3),b=function(){function E(S){h(this,E),this.font=S,this.strokeImageInfos=new v(64,64),this.colDimImageInfos=new v(64,64),this.rowDimImageInfos=new v(64,64),this.colCellImageInfos=new v(64,64),this.rowCellImageInfos=new v(64,64),this.glyphInfos={}}return m(E,[{key:"getGlyphInfo",value:function(S){var C=this.glyphInfos[S.index];if(!C){var D=S.getBoundingBox(),M=D.x1,R=D.y1,L=D.x2-M,F=D.y2-R,I=S.path.commands;if(L==0||F==0||!I.length)return this.glyphInfos[S.index]={};for(var G=[],P=[],X=[],V=8;0<=V;--V)X.push([]);for(V=8;0<=V;--V)P.push([]);var H,J,Z,K,Y=function(){function st(ct,yt,dt,Me){h(this,st),this.p0=ct,this.c0=yt,this.c1=dt,this.p1=Me}return m(st,[{key:"toQuadratic",value:function(){return{x:this.p0.x,y:this.p0.y,x1:this.p1.x,y1:this.p1.y,cx:(3*(this.c0.x+this.c1.x)-(this.p0.x+this.p1.x))/4,cy:(3*(this.c0.y+this.c1.y)-(this.p0.y+this.p1.y))/4}}},{key:"quadError",value:function(){return d.default.Vector.sub(d.default.Vector.sub(this.p1,this.p0),d.default.Vector.mult(d.default.Vector.sub(this.c1,this.c0),3)).mag()/2}},{key:"split",value:function(Je){var yt=d.default.Vector.lerp(this.p0,this.c0,Je),Me=d.default.Vector.lerp(this.c0,this.c1,Je),dt=d.default.Vector.lerp(yt,Me,Je),Me=(this.c1=d.default.Vector.lerp(this.c1,this.p1,Je),this.c0=d.default.Vector.lerp(Me,this.c1,Je),d.default.Vector.lerp(dt,this.c0,Je)),Je=new st(this.p0,yt,dt,Me);return this.p0=Me,Je}},{key:"splitInflections",value:function(){var ct=d.default.Vector.sub(this.c0,this.p0),yt=d.default.Vector.sub(d.default.Vector.sub(this.c1,this.c0),ct),dt=d.default.Vector.sub(d.default.Vector.sub(d.default.Vector.sub(this.p1,this.c1),ct),d.default.Vector.mult(yt,2)),Me=[],Je=yt.x*dt.y-yt.y*dt.x;return Je!==0&&0<=(ct=(dt=ct.x*dt.y-ct.y*dt.x)*dt-4*Je*(ct.x*yt.y-ct.y*yt.x))&&(Je<0&&(Je=-Je,dt=-dt),ct=(-dt+(yt=Math.sqrt(ct)))/(2*Je),0<(dt=(-dt-yt)/(2*Je))&&dt<1&&(Me.push(this.split(dt)),ct=1-(1-ct)/(1-dt)),0<ct&&ct<1&&Me.push(this.split(ct))),Me.push(this),Me}}]),st}(),te=!0,ue=!1,O=void 0;try{for(var U,q=I[Symbol.iterator]();!(te=(U=q.next()).done);te=!0){var Q=U.value,ae=(Q.x-M)/L,ie=(Q.y-R)/F;if(!Fe(H,J,ae,ie)){switch(Q.type){case"M":Z=ae,K=ie;break;case"L":tt(H,J,ae,ie);break;case"Q":var he=(Q.x1-M)/L,ge=(Q.y1-R)/F;Oe([H,ae,he],[J,ie,ge],{x:H,y:J,cx:he,cy:ge});break;case"Z":Fe(H,J,Z,K)?G.push({x:H,y:J}):(tt(H,J,Z,K),G.push({x:Z,y:K}));break;case"C":for(var fe=function(ce,Re,Ve,dt,Me,Je,Pe,oe){var ce=new Y(new d.default.Vector(ce,Re),new d.default.Vector(Ve,dt),new d.default.Vector(Me,Je),new d.default.Vector(Pe,oe)).splitInflections(),re=[],de=30/x,Ce=!0,Re=!1,Ve=void 0;try{for(var at,lt=ce[Symbol.iterator]();!(Ce=(at=lt.next()).done);Ce=!0){for(var ut=at.value,ht=[],It=void 0;!(.125<=(It=de/ut.quadError()));){var At=Math.pow(It,.3333333333333333),bt=ut.split(At),Mt=ut.split(1-At/(1-At));re.push(bt),ht.push(ut),ut=Mt}It<1&&re.push(ut.split(.5)),re.push(ut),Array.prototype.push.apply(re,ht.reverse())}}catch(Tt){Re=!0,Ve=Tt}finally{try{Ce||lt.return==null||lt.return()}finally{if(Re)throw Ve}}return re}(H,J,(Q.x1-M)/L,(Q.y1-R)/F,(Q.x2-M)/L,(Q.y2-R)/F,ae,ie),ve=0;ve<fe.length;ve++){var xe=fe[ve].toQuadratic();Oe([xe.x,xe.x1,xe.cx],[xe.y,xe.y1,xe.cy],xe)}break;default:throw new Error("unknown command type: ".concat(Q.type))}H=ae,J=ie}}}catch(st){ue=!0,O=st}finally{try{te||q.return==null||q.return()}finally{if(ue)throw O}}for(var se=G.length,be=this.strokeImageInfos.findImage(se),Ae=be.index,De=0;De<se;++De){var je=G[De];_(be,ke(je.x),ke(je.y),ke(je.cx),ke(je.cy))}(C=this.glyphInfos[S.index]={glyph:S,uGlyphRect:[D.x1,-D.y1,D.x2,-D.y2],strokeImageInfo:be,strokes:G,colInfo:vt(X,this.colDimImageInfos,this.colCellImageInfos),rowInfo:vt(P,this.rowDimImageInfos,this.rowCellImageInfos)}).uGridOffset=[C.colInfo.dimOffset,C.rowInfo.dimOffset]}return C;function Oe(st,ct,yt){var dt=G.length;function Me(re,de,Ce){for(var Re=re.length;0<Re--;){var Ve=re[Re];Ve<de&&(de=Ve),Ce<Ve&&(Ce=Ve)}return{min:de,max:Ce}}G.push(yt);for(var yt=Me(st,1,0),st=Math.max(Math.floor(9*yt.min-.5),0),Je=Math.min(Math.ceil(9*yt.max+.5),9),Pe=st;Pe<Je;++Pe)X[Pe].push(dt);for(var yt=Me(ct,1,0),st=Math.max(Math.floor(9*yt.min-.5),0),oe=Math.min(Math.ceil(9*yt.max+.5),9),ce=st;ce<oe;++ce)P[ce].push(dt)}function ke(st){return(st=(yt=255)*st)<(ct=0)?ct:yt<st?yt:st;var ct,yt}function tt(st,ct,yt,dt){Oe([st,yt],[ct,dt],{x:st,y:ct,cx:(st+yt)/2,cy:(ct+dt)/2})}function Fe(st,ct,yt,dt){return Math.abs(yt-st)<1e-5&&Math.abs(dt-ct)<1e-5}function vt(st,ct,yt){for(var dt=st.length,Me=ct.findImage(dt),ct=Me.index,Je=0,Pe=0;Pe<dt;++Pe)Je+=st[Pe].length;for(var oe=yt.findImage(Je),ce=0;ce<dt;++ce){var re=st[ce],de=re.length,Ce=oe.index;_(Me,Ce>>7,127&Ce,de>>7,127&de);for(var Re=0;Re<de;++Re){var Ve=re[Re]+Ae;_(oe,Ve>>7,127&Ve,0,0)}}return{cellImageInfo:oe,dimOffset:ct,dimImageInfo:Me}}}}]),E}();d.default.RendererGL.prototype._renderText=function(E,S,C,D,M){if(this._textFont&&typeof this._textFont!="string"){if(!(M<=D)&&this._doFill){if(this._isOpenType()){E.push();var M=this._doStroke,R=this.drawMode,L=(this._doStroke=!1,this.drawMode=g.TEXTURE,this._textFont.font),F=(F=this._textFont._fontInfo)||(this._textFont._fontInfo=new b(L)),C=this._textFont._handleAlignment(this,S,C,D),D=this._textSize/L.unitsPerEm,I=(this.translate(C.x,C.y,0),this.scale(D,D,1),this.GL),C=!this._defaultFontShader,G=this._getFontShader(),P=(G.init(),G.bindShader(),C&&(G.setUniform("uGridImageSize",[64,64]),G.setUniform("uCellsImageSize",[64,64]),G.setUniform("uStrokeImageSize",[64,64]),G.setUniform("uGridSize",[9,9])),this._applyColorBlend(this.curFillColor),this.retainedMode.geometry.glyph),X=(P||((D=this._textGeom=new d.default.Geometry(1,1,function(){for(var ve=0;ve<=1;ve++)for(var xe=0;xe<=1;xe++)this.vertices.push(new d.default.Vector(xe,ve,0)),this.uvs.push(xe,ve)})).computeFaces().computeNormals(),P=this.createBuffers("glyph",D)),!0),C=!1,D=void 0;try{for(var V,H=this.retainedMode.buffers.text[Symbol.iterator]();!(X=(V=H.next()).done);X=!0)V.value._prepareBuffer(P,G)}catch(ve){C=!0,D=ve}finally{try{X||H.return==null||H.return()}finally{if(C)throw D}}this._bindBuffer(P.indexBuffer,I.ELEMENT_ARRAY_BUFFER),G.setUniform("uMaterialColor",this.curFillColor),I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!1);try{var J=0,Z=null,K=L.stringToGlyphs(S),Y=!0,te=!1,ue=void 0;try{for(var O,U=K[Symbol.iterator]();!(Y=(O=U.next()).done);Y=!0){var q,Q,ae=O.value,ie=(Z&&(J+=L.getKerningValue(Z,ae)),F.getGlyphInfo(ae));ie.uGlyphRect&&(q=ie.rowInfo,Q=ie.colInfo,G.setUniform("uSamplerStrokes",ie.strokeImageInfo.imageData),G.setUniform("uSamplerRowStrokes",q.cellImageInfo.imageData),G.setUniform("uSamplerRows",q.dimImageInfo.imageData),G.setUniform("uSamplerColStrokes",Q.cellImageInfo.imageData),G.setUniform("uSamplerCols",Q.dimImageInfo.imageData),G.setUniform("uGridOffset",ie.uGridOffset),G.setUniform("uGlyphRect",ie.uGlyphRect),G.setUniform("uGlyphOffset",J),G.bindTextures(),I.drawElements(I.TRIANGLES,6,this.GL.UNSIGNED_SHORT,0)),J+=ae.advanceWidth,Z=ae}}catch(ve){te=!0,ue=ve}finally{try{Y||U.return==null||U.return()}finally{if(te)throw ue}}}finally{G.unbindShader(),this._doStroke=M,this.drawMode=R,I.pixelStorei(I.UNPACK_PREMULTIPLY_ALPHA_WEBGL,!0),E.pop()}}else console.log("WEBGL: only Opentype (.otf) and Truetype (.ttf) fonts are supported");return E}}else console.log("WEBGL: you must load and set a font before drawing text. See `loadFont` and `textFont` for more details.")}},{"../core/constants":272,"../core/main":283,"./p5.RendererGL.Retained":340,"./p5.Shader":342,"core-js/modules/es.array.iterator":165,"core-js/modules/es.object.get-own-property-descriptor":186,"core-js/modules/es.object.to-string":190,"core-js/modules/es.regexp.exec":195,"core-js/modules/es.string.iterator":200,"core-js/modules/es.string.split":206,"core-js/modules/es.string.sub":208,"core-js/modules/es.symbol":212,"core-js/modules/es.symbol.description":210,"core-js/modules/es.symbol.iterator":211,"core-js/modules/es.weak-map":244,"core-js/modules/web.dom-collections.iterator":246}]},{},[267])(267)})}(Nf)),Nf.exports}var Gy=Uy();const zy=ad(Gy);function Vy(a,r){var n=Object.setPrototypeOf;n?n(a,r):a.__proto__=r}function Hy(a,r){r===void 0&&(r=a.constructor);var n=Error.captureStackTrace;n&&n(a,r)}var Xy=function(){var a=function(n,t){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,s){l.__proto__=s}||function(l,s){for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(l[o]=s[o])},a(n,t)};return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Wy=function(a){Xy(r,a);function r(n,t){var l=this.constructor,s=a.call(this,n,t)||this;return Object.defineProperty(s,"name",{value:l.name,enumerable:!1,configurable:!0}),Vy(s,l.prototype),Hy(s),s}return r}(Error),qy=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Yn=function(a){qy(r,a);function r(n){n===void 0&&(n=void 0);var t=a.call(this,n)||this;return t.message=n,t}return r.prototype.getKind=function(){var n=this.constructor;return n.kind},r.kind="Exception",r}(Wy),Yy=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ea=function(a){Yy(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="ArgumentException",r}(Yn),Zy=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Nt=function(a){Zy(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="IllegalArgumentException",r}(Yn),Ky=function(){function a(r){if(this.binarizer=r,r===null)throw new Nt("Binarizer must be non-null.")}return a.prototype.getWidth=function(){return this.binarizer.getWidth()},a.prototype.getHeight=function(){return this.binarizer.getHeight()},a.prototype.getBlackRow=function(r,n){return this.binarizer.getBlackRow(r,n)},a.prototype.getBlackMatrix=function(){return(this.matrix===null||this.matrix===void 0)&&(this.matrix=this.binarizer.getBlackMatrix()),this.matrix},a.prototype.isCropSupported=function(){return this.binarizer.getLuminanceSource().isCropSupported()},a.prototype.crop=function(r,n,t,l){var s=this.binarizer.getLuminanceSource().crop(r,n,t,l);return new a(this.binarizer.createBinarizer(s))},a.prototype.isRotateSupported=function(){return this.binarizer.getLuminanceSource().isRotateSupported()},a.prototype.rotateCounterClockwise=function(){var r=this.binarizer.getLuminanceSource().rotateCounterClockwise();return new a(this.binarizer.createBinarizer(r))},a.prototype.rotateCounterClockwise45=function(){var r=this.binarizer.getLuminanceSource().rotateCounterClockwise45();return new a(this.binarizer.createBinarizer(r))},a.prototype.toString=function(){try{return this.getBlackMatrix().toString()}catch{return""}},a}(),Qy=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),vn=function(a){Qy(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.getChecksumInstance=function(){return new r},r.kind="ChecksumException",r}(Yn),Jy=function(){function a(r){this.source=r}return a.prototype.getLuminanceSource=function(){return this.source},a.prototype.getWidth=function(){return this.source.getWidth()},a.prototype.getHeight=function(){return this.source.getHeight()},a}(),Tr=function(){function a(){}return a.arraycopy=function(r,n,t,l,s){for(;s--;)t[l++]=r[n++]},a.currentTimeMillis=function(){return Date.now()},a}(),$y=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),od=function(a){$y(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="IndexOutOfBoundsException",r}(Yn),e0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),ym=function(a){e0(r,a);function r(n,t){n===void 0&&(n=void 0),t===void 0&&(t=void 0);var l=a.call(this,t)||this;return l.index=n,l.message=t,l}return r.kind="ArrayIndexOutOfBoundsException",r}(od),t0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},cn=function(){function a(){}return a.fill=function(r,n){for(var t=0,l=r.length;t<l;t++)r[t]=n},a.fillWithin=function(r,n,t,l){a.rangeCheck(r.length,n,t);for(var s=n;s<t;s++)r[s]=l},a.rangeCheck=function(r,n,t){if(n>t)throw new Nt("fromIndex("+n+") > toIndex("+t+")");if(n<0)throw new ym(n);if(t>r)throw new ym(t)},a.asList=function(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];return r},a.create=function(r,n,t){var l=Array.from({length:r});return l.map(function(s){return Array.from({length:n}).fill(t)})},a.createInt32Array=function(r,n,t){var l=Array.from({length:r});return l.map(function(s){return Int32Array.from({length:n}).fill(t)})},a.equals=function(r,n){if(!r||!n||!r.length||!n.length||r.length!==n.length)return!1;for(var t=0,l=r.length;t<l;t++)if(r[t]!==n[t])return!1;return!0},a.hashCode=function(r){var n,t;if(r===null)return 0;var l=1;try{for(var s=t0(r),o=s.next();!o.done;o=s.next()){var u=o.value;l=31*l+u}}catch(c){n={error:c}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return l},a.fillUint8Array=function(r,n){for(var t=0;t!==r.length;t++)r[t]=n},a.copyOf=function(r,n){return r.slice(0,n)},a.copyOfUint8Array=function(r,n){if(r.length<=n){var t=new Uint8Array(n);return t.set(r),t}return r.slice(0,n)},a.copyOfRange=function(r,n,t){var l=t-n,s=new Int32Array(l);return Tr.arraycopy(r,n,s,0,l),s},a.binarySearch=function(r,n,t){t===void 0&&(t=a.numberComparator);for(var l=0,s=r.length-1;l<=s;){var o=s+l>>1,u=t(n,r[o]);if(u>0)l=o+1;else if(u<0)s=o-1;else return o}return-l-1},a.numberComparator=function(r,n){return r-n},a}(),Xt=function(){function a(){}return a.numberOfTrailingZeros=function(r){var n;if(r===0)return 32;var t=31;return n=r<<16,n!==0&&(t-=16,r=n),n=r<<8,n!==0&&(t-=8,r=n),n=r<<4,n!==0&&(t-=4,r=n),n=r<<2,n!==0&&(t-=2,r=n),t-(r<<1>>>31)},a.numberOfLeadingZeros=function(r){if(r===0)return 32;var n=1;return r>>>16||(n+=16,r<<=16),r>>>24||(n+=8,r<<=8),r>>>28||(n+=4,r<<=4),r>>>30||(n+=2,r<<=2),n-=r>>>31,n},a.toHexString=function(r){return r.toString(16)},a.toBinaryString=function(r){return String(parseInt(String(r),2))},a.bitCount=function(r){return r=r-(r>>>1&1431655765),r=(r&858993459)+(r>>>2&858993459),r=r+(r>>>4)&252645135,r=r+(r>>>8),r=r+(r>>>16),r&63},a.truncDivision=function(r,n){return Math.trunc(r/n)},a.parseInt=function(r,n){return n===void 0&&(n=void 0),parseInt(r,n)},a.MIN_VALUE_32_BITS=-2147483648,a.MAX_VALUE=Number.MAX_SAFE_INTEGER,a}(),bn=function(){function a(r,n){r===void 0?(this.size=0,this.bits=new Int32Array(1)):(this.size=r,n==null?this.bits=a.makeArray(r):this.bits=n)}return a.prototype.getSize=function(){return this.size},a.prototype.getSizeInBytes=function(){return Math.floor((this.size+7)/8)},a.prototype.ensureCapacity=function(r){if(r>this.bits.length*32){var n=a.makeArray(r);Tr.arraycopy(this.bits,0,n,0,this.bits.length),this.bits=n}},a.prototype.get=function(r){return(this.bits[Math.floor(r/32)]&1<<(r&31))!==0},a.prototype.set=function(r){this.bits[Math.floor(r/32)]|=1<<(r&31)},a.prototype.flip=function(r){this.bits[Math.floor(r/32)]^=1<<(r&31)},a.prototype.getNextSet=function(r){var n=this.size;if(r>=n)return n;var t=this.bits,l=Math.floor(r/32),s=t[l];s&=~((1<<(r&31))-1);for(var o=t.length;s===0;){if(++l===o)return n;s=t[l]}var u=l*32+Xt.numberOfTrailingZeros(s);return u>n?n:u},a.prototype.getNextUnset=function(r){var n=this.size;if(r>=n)return n;var t=this.bits,l=Math.floor(r/32),s=~t[l];s&=~((1<<(r&31))-1);for(var o=t.length;s===0;){if(++l===o)return n;s=~t[l]}var u=l*32+Xt.numberOfTrailingZeros(s);return u>n?n:u},a.prototype.setBulk=function(r,n){this.bits[Math.floor(r/32)]=n},a.prototype.setRange=function(r,n){if(n<r||r<0||n>this.size)throw new Nt;if(n!==r){n--;for(var t=Math.floor(r/32),l=Math.floor(n/32),s=this.bits,o=t;o<=l;o++){var u=o>t?0:r&31,c=o<l?31:n&31,d=(2<<c)-(1<<u);s[o]|=d}}},a.prototype.clear=function(){for(var r=this.bits.length,n=this.bits,t=0;t<r;t++)n[t]=0},a.prototype.isRange=function(r,n,t){if(n<r||r<0||n>this.size)throw new Nt;if(n===r)return!0;n--;for(var l=Math.floor(r/32),s=Math.floor(n/32),o=this.bits,u=l;u<=s;u++){var c=u>l?0:r&31,d=u<s?31:n&31,g=(2<<d)-(1<<c)&4294967295;if((o[u]&g)!==(t?g:0))return!1}return!0},a.prototype.appendBit=function(r){this.ensureCapacity(this.size+1),r&&(this.bits[Math.floor(this.size/32)]|=1<<(this.size&31)),this.size++},a.prototype.appendBits=function(r,n){if(n<0||n>32)throw new Nt("Num bits must be between 0 and 32");this.ensureCapacity(this.size+n);for(var t=n;t>0;t--)this.appendBit((r>>t-1&1)===1)},a.prototype.appendBitArray=function(r){var n=r.size;this.ensureCapacity(this.size+n);for(var t=0;t<n;t++)this.appendBit(r.get(t))},a.prototype.xor=function(r){if(this.size!==r.size)throw new Nt("Sizes don't match");for(var n=this.bits,t=0,l=n.length;t<l;t++)n[t]^=r.bits[t]},a.prototype.toBytes=function(r,n,t,l){for(var s=0;s<l;s++){for(var o=0,u=0;u<8;u++)this.get(r)&&(o|=1<<7-u),r++;n[t+s]=o}},a.prototype.getBitArray=function(){return this.bits},a.prototype.reverse=function(){for(var r=new Int32Array(this.bits.length),n=Math.floor((this.size-1)/32),t=n+1,l=this.bits,s=0;s<t;s++){var o=l[s];o=o>>1&1431655765|(o&1431655765)<<1,o=o>>2&858993459|(o&858993459)<<2,o=o>>4&252645135|(o&252645135)<<4,o=o>>8&16711935|(o&16711935)<<8,o=o>>16&65535|(o&65535)<<16,r[n-s]=o}if(this.size!==t*32){for(var u=t*32-this.size,c=r[0]>>>u,s=1;s<t;s++){var d=r[s];c|=d<<32-u,r[s-1]=c,c=d>>>u}r[t-1]=c}this.bits=r},a.makeArray=function(r){return new Int32Array(Math.floor((r+31)/32))},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.size===n.size&&cn.equals(this.bits,n.bits)},a.prototype.hashCode=function(){return 31*this.size+cn.hashCode(this.bits)},a.prototype.toString=function(){for(var r="",n=0,t=this.size;n<t;n++)n&7||(r+=" "),r+=this.get(n)?"X":".";return r},a.prototype.clone=function(){return new a(this.size,this.bits.slice())},a.prototype.toArray=function(){for(var r=[],n=0,t=this.size;n<t;n++)r.push(this.get(n));return r},a}(),Hf;(function(a){a[a.OTHER=0]="OTHER",a[a.PURE_BARCODE=1]="PURE_BARCODE",a[a.POSSIBLE_FORMATS=2]="POSSIBLE_FORMATS",a[a.TRY_HARDER=3]="TRY_HARDER",a[a.CHARACTER_SET=4]="CHARACTER_SET",a[a.ALLOWED_LENGTHS=5]="ALLOWED_LENGTHS",a[a.ASSUME_CODE_39_CHECK_DIGIT=6]="ASSUME_CODE_39_CHECK_DIGIT",a[a.ENABLE_CODE_39_EXTENDED_MODE=7]="ENABLE_CODE_39_EXTENDED_MODE",a[a.ASSUME_GS1=8]="ASSUME_GS1",a[a.RETURN_CODABAR_START_END=9]="RETURN_CODABAR_START_END",a[a.NEED_RESULT_POINT_CALLBACK=10]="NEED_RESULT_POINT_CALLBACK",a[a.ALLOWED_EAN_EXTENSIONS=11]="ALLOWED_EAN_EXTENSIONS"})(Hf||(Hf={}));const Ir=Hf;var r0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),mt=function(a){r0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.getFormatInstance=function(){return new r},r.kind="FormatException",r}(Yn),n0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},mr;(function(a){a[a.Cp437=0]="Cp437",a[a.ISO8859_1=1]="ISO8859_1",a[a.ISO8859_2=2]="ISO8859_2",a[a.ISO8859_3=3]="ISO8859_3",a[a.ISO8859_4=4]="ISO8859_4",a[a.ISO8859_5=5]="ISO8859_5",a[a.ISO8859_6=6]="ISO8859_6",a[a.ISO8859_7=7]="ISO8859_7",a[a.ISO8859_8=8]="ISO8859_8",a[a.ISO8859_9=9]="ISO8859_9",a[a.ISO8859_10=10]="ISO8859_10",a[a.ISO8859_11=11]="ISO8859_11",a[a.ISO8859_13=12]="ISO8859_13",a[a.ISO8859_14=13]="ISO8859_14",a[a.ISO8859_15=14]="ISO8859_15",a[a.ISO8859_16=15]="ISO8859_16",a[a.SJIS=16]="SJIS",a[a.Cp1250=17]="Cp1250",a[a.Cp1251=18]="Cp1251",a[a.Cp1252=19]="Cp1252",a[a.Cp1256=20]="Cp1256",a[a.UnicodeBigUnmarked=21]="UnicodeBigUnmarked",a[a.UTF8=22]="UTF8",a[a.ASCII=23]="ASCII",a[a.Big5=24]="Big5",a[a.GB18030=25]="GB18030",a[a.EUC_KR=26]="EUC_KR"})(mr||(mr={}));var un=function(){function a(r,n,t){for(var l,s,o=[],u=3;u<arguments.length;u++)o[u-3]=arguments[u];this.valueIdentifier=r,this.name=t,typeof n=="number"?this.values=Int32Array.from([n]):this.values=n,this.otherEncodingNames=o,a.VALUE_IDENTIFIER_TO_ECI.set(r,this),a.NAME_TO_ECI.set(t,this);for(var c=this.values,d=0,g=c.length;d!==g;d++){var y=c[d];a.VALUES_TO_ECI.set(y,this)}try{for(var h=n0(o),p=h.next();!p.done;p=h.next()){var m=p.value;a.NAME_TO_ECI.set(m,this)}}catch(v){l={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}}return a.prototype.getValueIdentifier=function(){return this.valueIdentifier},a.prototype.getName=function(){return this.name},a.prototype.getValue=function(){return this.values[0]},a.getCharacterSetECIByValue=function(r){if(r<0||r>=900)throw new mt("incorect value");var n=a.VALUES_TO_ECI.get(r);if(n===void 0)throw new mt("incorect value");return n},a.getCharacterSetECIByName=function(r){var n=a.NAME_TO_ECI.get(r);if(n===void 0)throw new mt("incorect value");return n},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.getName()===n.getName()},a.VALUE_IDENTIFIER_TO_ECI=new Map,a.VALUES_TO_ECI=new Map,a.NAME_TO_ECI=new Map,a.Cp437=new a(mr.Cp437,Int32Array.from([0,2]),"Cp437"),a.ISO8859_1=new a(mr.ISO8859_1,Int32Array.from([1,3]),"ISO-8859-1","ISO88591","ISO8859_1"),a.ISO8859_2=new a(mr.ISO8859_2,4,"ISO-8859-2","ISO88592","ISO8859_2"),a.ISO8859_3=new a(mr.ISO8859_3,5,"ISO-8859-3","ISO88593","ISO8859_3"),a.ISO8859_4=new a(mr.ISO8859_4,6,"ISO-8859-4","ISO88594","ISO8859_4"),a.ISO8859_5=new a(mr.ISO8859_5,7,"ISO-8859-5","ISO88595","ISO8859_5"),a.ISO8859_6=new a(mr.ISO8859_6,8,"ISO-8859-6","ISO88596","ISO8859_6"),a.ISO8859_7=new a(mr.ISO8859_7,9,"ISO-8859-7","ISO88597","ISO8859_7"),a.ISO8859_8=new a(mr.ISO8859_8,10,"ISO-8859-8","ISO88598","ISO8859_8"),a.ISO8859_9=new a(mr.ISO8859_9,11,"ISO-8859-9","ISO88599","ISO8859_9"),a.ISO8859_10=new a(mr.ISO8859_10,12,"ISO-8859-10","ISO885910","ISO8859_10"),a.ISO8859_11=new a(mr.ISO8859_11,13,"ISO-8859-11","ISO885911","ISO8859_11"),a.ISO8859_13=new a(mr.ISO8859_13,15,"ISO-8859-13","ISO885913","ISO8859_13"),a.ISO8859_14=new a(mr.ISO8859_14,16,"ISO-8859-14","ISO885914","ISO8859_14"),a.ISO8859_15=new a(mr.ISO8859_15,17,"ISO-8859-15","ISO885915","ISO8859_15"),a.ISO8859_16=new a(mr.ISO8859_16,18,"ISO-8859-16","ISO885916","ISO8859_16"),a.SJIS=new a(mr.SJIS,20,"SJIS","Shift_JIS"),a.Cp1250=new a(mr.Cp1250,21,"Cp1250","windows-1250"),a.Cp1251=new a(mr.Cp1251,22,"Cp1251","windows-1251"),a.Cp1252=new a(mr.Cp1252,23,"Cp1252","windows-1252"),a.Cp1256=new a(mr.Cp1256,24,"Cp1256","windows-1256"),a.UnicodeBigUnmarked=new a(mr.UnicodeBigUnmarked,25,"UnicodeBigUnmarked","UTF-16BE","UnicodeBig"),a.UTF8=new a(mr.UTF8,26,"UTF8","UTF-8"),a.ASCII=new a(mr.ASCII,Int32Array.from([27,170]),"ASCII","US-ASCII"),a.Big5=new a(mr.Big5,28,"Big5"),a.GB18030=new a(mr.GB18030,29,"GB18030","GB2312","EUC_CN","GBK"),a.EUC_KR=new a(mr.EUC_KR,30,"EUC_KR","EUC-KR"),a}(),a0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Cu=function(a){a0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="UnsupportedOperationException",r}(Yn),ga=function(){function a(){}return a.decode=function(r,n){var t=this.encodingName(n);return this.customDecoder?this.customDecoder(r,t):typeof TextDecoder>"u"||this.shouldDecodeOnFallback(t)?this.decodeFallback(r,t):new TextDecoder(t).decode(r)},a.shouldDecodeOnFallback=function(r){return!a.isBrowser()&&r==="ISO-8859-1"},a.encode=function(r,n){var t=this.encodingName(n);return this.customEncoder?this.customEncoder(r,t):typeof TextEncoder>"u"?this.encodeFallback(r):new TextEncoder().encode(r)},a.isBrowser=function(){return typeof window<"u"&&{}.toString.call(window)==="[object Window]"},a.encodingName=function(r){return typeof r=="string"?r:r.getName()},a.encodingCharacterSet=function(r){return r instanceof un?r:un.getCharacterSetECIByName(r)},a.decodeFallback=function(r,n){var t=this.encodingCharacterSet(n);if(a.isDecodeFallbackSupported(t)){for(var l="",s=0,o=r.length;s<o;s++){var u=r[s].toString(16);u.length<2&&(u="0"+u),l+="%"+u}return decodeURIComponent(l)}if(t.equals(un.UnicodeBigUnmarked))return String.fromCharCode.apply(null,new Uint16Array(r.buffer));throw new Cu("Encoding "+this.encodingName(n)+" not supported by fallback.")},a.isDecodeFallbackSupported=function(r){return r.equals(un.UTF8)||r.equals(un.ISO8859_1)||r.equals(un.ASCII)},a.encodeFallback=function(r){for(var n=btoa(unescape(encodeURIComponent(r))),t=n.split(""),l=[],s=0;s<t.length;s++)l.push(t[s].charCodeAt(0));return new Uint8Array(l)},a}(),Jt=function(){function a(){}return a.castAsNonUtf8Char=function(r,n){n===void 0&&(n=null);var t=n?n.getName():this.ISO88591;return ga.decode(new Uint8Array([r]),t)},a.guessEncoding=function(r,n){if(n!=null&&n.get(Ir.CHARACTER_SET)!==void 0)return n.get(Ir.CHARACTER_SET).toString();for(var t=r.length,l=!0,s=!0,o=!0,u=0,c=0,d=0,g=0,y=0,h=0,p=0,m=0,v=0,_=0,x=0,b=r.length>3&&r[0]===239&&r[1]===187&&r[2]===191,E=0;E<t&&(l||s||o);E++){var S=r[E]&255;o&&(u>0?S&128?u--:o=!1:S&128&&(S&64?(u++,S&32?(u++,S&16?(u++,S&8?o=!1:g++):d++):c++):o=!1)),l&&(S>127&&S<160?l=!1:S>159&&(S<192||S===215||S===247)&&x++),s&&(y>0?S<64||S===127||S>252?s=!1:y--:S===128||S===160||S>239?s=!1:S>160&&S<224?(h++,m=0,p++,p>v&&(v=p)):S>127?(y++,p=0,m++,m>_&&(_=m)):(p=0,m=0))}return o&&u>0&&(o=!1),s&&y>0&&(s=!1),o&&(b||c+d+g>0)?a.UTF8:s&&(a.ASSUME_SHIFT_JIS||v>=3||_>=3)?a.SHIFT_JIS:l&&s?v===2&&h===2||x*10>=t?a.SHIFT_JIS:a.ISO88591:l?a.ISO88591:s?a.SHIFT_JIS:o?a.UTF8:a.PLATFORM_DEFAULT_ENCODING},a.format=function(r){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];var l=-1;function s(u,c,d,g,y,h){if(u==="%%")return"%";if(n[++l]!==void 0){u=g?parseInt(g.substr(1)):void 0;var p=y?parseInt(y.substr(1)):void 0,m;switch(h){case"s":m=n[l];break;case"c":m=n[l][0];break;case"f":m=parseFloat(n[l]).toFixed(u);break;case"p":m=parseFloat(n[l]).toPrecision(u);break;case"e":m=parseFloat(n[l]).toExponential(u);break;case"x":m=parseInt(n[l]).toString(p||16);break;case"d":m=parseFloat(parseInt(n[l],p||10).toPrecision(u)).toFixed(0);break}m=typeof m=="object"?JSON.stringify(m):(+m).toString(p);for(var v=parseInt(d),_=d&&d[0]+""=="0"?"0":" ";m.length<v;)m=c!==void 0?m+_:_+m;return m}}var o=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(o,s)},a.getBytes=function(r,n){return ga.encode(r,n)},a.getCharCode=function(r,n){return n===void 0&&(n=0),r.charCodeAt(n)},a.getCharAt=function(r){return String.fromCharCode(r)},a.SHIFT_JIS=un.SJIS.getName(),a.GB2312="GB2312",a.ISO88591=un.ISO8859_1.getName(),a.EUC_JP="EUC_JP",a.UTF8=un.UTF8.getName(),a.PLATFORM_DEFAULT_ENCODING=a.UTF8,a.ASSUME_SHIFT_JIS=!1,a}(),Vt=function(){function a(r){r===void 0&&(r=""),this.value=r}return a.prototype.enableDecoding=function(r){return this.encoding=r,this},a.prototype.append=function(r){return typeof r=="string"?this.value+=r.toString():this.encoding?this.value+=Jt.castAsNonUtf8Char(r,this.encoding):this.value+=String.fromCharCode(r),this},a.prototype.appendChars=function(r,n,t){for(var l=n;n<n+t;l++)this.append(r[l]);return this},a.prototype.length=function(){return this.value.length},a.prototype.charAt=function(r){return this.value.charAt(r)},a.prototype.deleteCharAt=function(r){this.value=this.value.substr(0,r)+this.value.substring(r+1)},a.prototype.setCharAt=function(r,n){this.value=this.value.substr(0,r)+n+this.value.substr(r+1)},a.prototype.substring=function(r,n){return this.value.substring(r,n)},a.prototype.setLengthToZero=function(){this.value=""},a.prototype.toString=function(){return this.value},a.prototype.insert=function(r,n){this.value=this.value.substring(0,r)+n+this.value.substring(r)},a}(),Pa=function(){function a(r,n,t,l){if(this.width=r,this.height=n,this.rowSize=t,this.bits=l,n==null&&(n=r),this.height=n,r<1||n<1)throw new Nt("Both dimensions must be greater than 0");t==null&&(t=Math.floor((r+31)/32)),this.rowSize=t,l==null&&(this.bits=new Int32Array(this.rowSize*this.height))}return a.parseFromBooleanArray=function(r){for(var n=r.length,t=r[0].length,l=new a(t,n),s=0;s<n;s++)for(var o=r[s],u=0;u<t;u++)o[u]&&l.set(u,s);return l},a.parseFromString=function(r,n,t){if(r===null)throw new Nt("stringRepresentation cannot be null");for(var l=new Array(r.length),s=0,o=0,u=-1,c=0,d=0;d<r.length;)if(r.charAt(d)===`
`||r.charAt(d)==="\r"){if(s>o){if(u===-1)u=s-o;else if(s-o!==u)throw new Nt("row lengths do not match");o=s,c++}d++}else if(r.substring(d,d+n.length)===n)d+=n.length,l[s]=!0,s++;else if(r.substring(d,d+t.length)===t)d+=t.length,l[s]=!1,s++;else throw new Nt("illegal character encountered: "+r.substring(d));if(s>o){if(u===-1)u=s-o;else if(s-o!==u)throw new Nt("row lengths do not match");c++}for(var g=new a(u,c),y=0;y<s;y++)l[y]&&g.set(Math.floor(y%u),Math.floor(y/u));return g},a.prototype.get=function(r,n){var t=n*this.rowSize+Math.floor(r/32);return(this.bits[t]>>>(r&31)&1)!==0},a.prototype.set=function(r,n){var t=n*this.rowSize+Math.floor(r/32);this.bits[t]|=1<<(r&31)&4294967295},a.prototype.unset=function(r,n){var t=n*this.rowSize+Math.floor(r/32);this.bits[t]&=~(1<<(r&31)&4294967295)},a.prototype.flip=function(r,n){var t=n*this.rowSize+Math.floor(r/32);this.bits[t]^=1<<(r&31)&4294967295},a.prototype.xor=function(r){if(this.width!==r.getWidth()||this.height!==r.getHeight()||this.rowSize!==r.getRowSize())throw new Nt("input matrix dimensions do not match");for(var n=new bn(Math.floor(this.width/32)+1),t=this.rowSize,l=this.bits,s=0,o=this.height;s<o;s++)for(var u=s*t,c=r.getRow(s,n).getBitArray(),d=0;d<t;d++)l[u+d]^=c[d]},a.prototype.clear=function(){for(var r=this.bits,n=r.length,t=0;t<n;t++)r[t]=0},a.prototype.setRegion=function(r,n,t,l){if(n<0||r<0)throw new Nt("Left and top must be nonnegative");if(l<1||t<1)throw new Nt("Height and width must be at least 1");var s=r+t,o=n+l;if(o>this.height||s>this.width)throw new Nt("The region must fit inside the matrix");for(var u=this.rowSize,c=this.bits,d=n;d<o;d++)for(var g=d*u,y=r;y<s;y++)c[g+Math.floor(y/32)]|=1<<(y&31)&4294967295},a.prototype.getRow=function(r,n){n==null||n.getSize()<this.width?n=new bn(this.width):n.clear();for(var t=this.rowSize,l=this.bits,s=r*t,o=0;o<t;o++)n.setBulk(o*32,l[s+o]);return n},a.prototype.setRow=function(r,n){Tr.arraycopy(n.getBitArray(),0,this.bits,r*this.rowSize,this.rowSize)},a.prototype.rotate180=function(){for(var r=this.getWidth(),n=this.getHeight(),t=new bn(r),l=new bn(r),s=0,o=Math.floor((n+1)/2);s<o;s++)t=this.getRow(s,t),l=this.getRow(n-1-s,l),t.reverse(),l.reverse(),this.setRow(s,l),this.setRow(n-1-s,t)},a.prototype.getEnclosingRectangle=function(){for(var r=this.width,n=this.height,t=this.rowSize,l=this.bits,s=r,o=n,u=-1,c=-1,d=0;d<n;d++)for(var g=0;g<t;g++){var y=l[d*t+g];if(y!==0){if(d<o&&(o=d),d>c&&(c=d),g*32<s){for(var h=0;!(y<<31-h&4294967295);)h++;g*32+h<s&&(s=g*32+h)}if(g*32+31>u){for(var h=31;!(y>>>h);)h--;g*32+h>u&&(u=g*32+h)}}}return u<s||c<o?null:Int32Array.from([s,o,u-s+1,c-o+1])},a.prototype.getTopLeftOnBit=function(){for(var r=this.rowSize,n=this.bits,t=0;t<n.length&&n[t]===0;)t++;if(t===n.length)return null;for(var l=t/r,s=t%r*32,o=n[t],u=0;!(o<<31-u&4294967295);)u++;return s+=u,Int32Array.from([s,l])},a.prototype.getBottomRightOnBit=function(){for(var r=this.rowSize,n=this.bits,t=n.length-1;t>=0&&n[t]===0;)t--;if(t<0)return null;for(var l=Math.floor(t/r),s=Math.floor(t%r)*32,o=n[t],u=31;!(o>>>u);)u--;return s+=u,Int32Array.from([s,l])},a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.getRowSize=function(){return this.rowSize},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.width===n.width&&this.height===n.height&&this.rowSize===n.rowSize&&cn.equals(this.bits,n.bits)},a.prototype.hashCode=function(){var r=this.width;return r=31*r+this.width,r=31*r+this.height,r=31*r+this.rowSize,r=31*r+cn.hashCode(this.bits),r},a.prototype.toString=function(r,n,t){return r===void 0&&(r="X "),n===void 0&&(n="  "),t===void 0&&(t=`
`),this.buildToString(r,n,t)},a.prototype.buildToString=function(r,n,t){for(var l=new Vt,s=0,o=this.height;s<o;s++){for(var u=0,c=this.width;u<c;u++)l.append(this.get(u,s)?r:n);l.append(t)}return l.toString()},a.prototype.clone=function(){return new a(this.width,this.height,this.rowSize,this.bits.slice())},a}(),i0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ze=function(a){i0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.getNotFoundInstance=function(){return new r},r.kind="NotFoundException",r}(Yn),o0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),s0=function(a){o0(r,a);function r(n){var t=a.call(this,n)||this;return t.luminances=r.EMPTY,t.buckets=new Int32Array(r.LUMINANCE_BUCKETS),t}return r.prototype.getBlackRow=function(n,t){var l=this.getLuminanceSource(),s=l.getWidth();t==null||t.getSize()<s?t=new bn(s):t.clear(),this.initArrays(s);for(var o=l.getRow(n,this.luminances),u=this.buckets,c=0;c<s;c++)u[(o[c]&255)>>r.LUMINANCE_SHIFT]++;var d=r.estimateBlackPoint(u);if(s<3)for(var c=0;c<s;c++)(o[c]&255)<d&&t.set(c);else for(var g=o[0]&255,y=o[1]&255,c=1;c<s-1;c++){var h=o[c+1]&255;(y*4-g-h)/2<d&&t.set(c),g=y,y=h}return t},r.prototype.getBlackMatrix=function(){var n=this.getLuminanceSource(),t=n.getWidth(),l=n.getHeight(),s=new Pa(t,l);this.initArrays(t);for(var o=this.buckets,u=1;u<5;u++)for(var c=Math.floor(l*u/5),d=n.getRow(c,this.luminances),g=Math.floor(t*4/5),y=Math.floor(t/5);y<g;y++){var h=d[y]&255;o[h>>r.LUMINANCE_SHIFT]++}for(var p=r.estimateBlackPoint(o),m=n.getMatrix(),u=0;u<l;u++)for(var v=u*t,y=0;y<t;y++){var h=m[v+y]&255;h<p&&s.set(y,u)}return s},r.prototype.createBinarizer=function(n){return new r(n)},r.prototype.initArrays=function(n){this.luminances.length<n&&(this.luminances=new Uint8ClampedArray(n));for(var t=this.buckets,l=0;l<r.LUMINANCE_BUCKETS;l++)t[l]=0},r.estimateBlackPoint=function(n){for(var t=n.length,l=0,s=0,o=0,u=0;u<t;u++)n[u]>o&&(s=u,o=n[u]),n[u]>l&&(l=n[u]);for(var c=0,d=0,u=0;u<t;u++){var g=u-s,y=n[u]*g*g;y>d&&(c=u,d=y)}if(s>c){var h=s;s=c,c=h}if(c-s<=t/16)throw new Ze;for(var p=c-1,m=-1,u=c-1;u>s;u--){var v=u-s,y=v*v*(c-u)*(l-n[u]);y>m&&(p=u,m=y)}return p<<r.LUMINANCE_SHIFT},r.LUMINANCE_BITS=5,r.LUMINANCE_SHIFT=8-r.LUMINANCE_BITS,r.LUMINANCE_BUCKETS=1<<r.LUMINANCE_BITS,r.EMPTY=Uint8ClampedArray.from([0]),r}(Jy),l0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),u0=function(a){l0(r,a);function r(n){var t=a.call(this,n)||this;return t.matrix=null,t}return r.prototype.getBlackMatrix=function(){if(this.matrix!==null)return this.matrix;var n=this.getLuminanceSource(),t=n.getWidth(),l=n.getHeight();if(t>=r.MINIMUM_DIMENSION&&l>=r.MINIMUM_DIMENSION){var s=n.getMatrix(),o=t>>r.BLOCK_SIZE_POWER;t&r.BLOCK_SIZE_MASK&&o++;var u=l>>r.BLOCK_SIZE_POWER;l&r.BLOCK_SIZE_MASK&&u++;var c=r.calculateBlackPoints(s,o,u,t,l),d=new Pa(t,l);r.calculateThresholdForBlock(s,o,u,t,l,c,d),this.matrix=d}else this.matrix=a.prototype.getBlackMatrix.call(this);return this.matrix},r.prototype.createBinarizer=function(n){return new r(n)},r.calculateThresholdForBlock=function(n,t,l,s,o,u,c){for(var d=o-r.BLOCK_SIZE,g=s-r.BLOCK_SIZE,y=0;y<l;y++){var h=y<<r.BLOCK_SIZE_POWER;h>d&&(h=d);for(var p=r.cap(y,2,l-3),m=0;m<t;m++){var v=m<<r.BLOCK_SIZE_POWER;v>g&&(v=g);for(var _=r.cap(m,2,t-3),x=0,b=-2;b<=2;b++){var E=u[p+b];x+=E[_-2]+E[_-1]+E[_]+E[_+1]+E[_+2]}var S=x/25;r.thresholdBlock(n,v,h,S,s,c)}}},r.cap=function(n,t,l){return n<t?t:n>l?l:n},r.thresholdBlock=function(n,t,l,s,o,u){for(var c=0,d=l*o+t;c<r.BLOCK_SIZE;c++,d+=o)for(var g=0;g<r.BLOCK_SIZE;g++)(n[d+g]&255)<=s&&u.set(t+g,l+c)},r.calculateBlackPoints=function(n,t,l,s,o){for(var u=o-r.BLOCK_SIZE,c=s-r.BLOCK_SIZE,d=new Array(l),g=0;g<l;g++){d[g]=new Int32Array(t);var y=g<<r.BLOCK_SIZE_POWER;y>u&&(y=u);for(var h=0;h<t;h++){var p=h<<r.BLOCK_SIZE_POWER;p>c&&(p=c);for(var m=0,v=255,_=0,x=0,b=y*s+p;x<r.BLOCK_SIZE;x++,b+=s){for(var E=0;E<r.BLOCK_SIZE;E++){var S=n[b+E]&255;m+=S,S<v&&(v=S),S>_&&(_=S)}if(_-v>r.MIN_DYNAMIC_RANGE)for(x++,b+=s;x<r.BLOCK_SIZE;x++,b+=s)for(var E=0;E<r.BLOCK_SIZE;E++)m+=n[b+E]&255}var C=m>>r.BLOCK_SIZE_POWER*2;if(_-v<=r.MIN_DYNAMIC_RANGE&&(C=v/2,g>0&&h>0)){var D=(d[g-1][h]+2*d[g][h-1]+d[g-1][h-1])/4;v<D&&(C=D)}d[g][h]=C}}return d},r.BLOCK_SIZE_POWER=3,r.BLOCK_SIZE=1<<r.BLOCK_SIZE_POWER,r.BLOCK_SIZE_MASK=r.BLOCK_SIZE-1,r.MINIMUM_DIMENSION=r.BLOCK_SIZE*5,r.MIN_DYNAMIC_RANGE=24,r}(s0),Ru=function(){function a(r,n){this.width=r,this.height=n}return a.prototype.getWidth=function(){return this.width},a.prototype.getHeight=function(){return this.height},a.prototype.isCropSupported=function(){return!1},a.prototype.crop=function(r,n,t,l){throw new Cu("This luminance source does not support cropping.")},a.prototype.isRotateSupported=function(){return!1},a.prototype.rotateCounterClockwise=function(){throw new Cu("This luminance source does not support rotation by 90 degrees.")},a.prototype.rotateCounterClockwise45=function(){throw new Cu("This luminance source does not support rotation by 45 degrees.")},a.prototype.toString=function(){for(var r=new Uint8ClampedArray(this.width),n=new Vt,t=0;t<this.height;t++){for(var l=this.getRow(t,r),s=0;s<this.width;s++){var o=l[s]&255,u=void 0;o<64?u="#":o<128?u="+":o<192?u=".":u=" ",n.append(u)}n.append(`
`)}return n.toString()},a}(),c0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),sd=function(a){c0(r,a);function r(n){var t=a.call(this,n.getWidth(),n.getHeight())||this;return t.delegate=n,t}return r.prototype.getRow=function(n,t){for(var l=this.delegate.getRow(n,t),s=this.getWidth(),o=0;o<s;o++)l[o]=255-(l[o]&255);return l},r.prototype.getMatrix=function(){for(var n=this.delegate.getMatrix(),t=this.getWidth()*this.getHeight(),l=new Uint8ClampedArray(t),s=0;s<t;s++)l[s]=255-(n[s]&255);return l},r.prototype.isCropSupported=function(){return this.delegate.isCropSupported()},r.prototype.crop=function(n,t,l,s){return new r(this.delegate.crop(n,t,l,s))},r.prototype.isRotateSupported=function(){return this.delegate.isRotateSupported()},r.prototype.invert=function(){return this.delegate},r.prototype.rotateCounterClockwise=function(){return new r(this.delegate.rotateCounterClockwise())},r.prototype.rotateCounterClockwise45=function(){return new r(this.delegate.rotateCounterClockwise45())},r}(Ru),f0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),d0=function(a){f0(r,a);function r(n,t){t===void 0&&(t=!1);var l=a.call(this,n.width,n.height)||this;return l.canvas=n,l.tempCanvasElement=null,l.buffer=r.makeBufferFromCanvasImageData(n,t),l}return r.makeBufferFromCanvasImageData=function(n,t){t===void 0&&(t=!1);var l=n.getContext("2d").getImageData(0,0,n.width,n.height);return r.toGrayscaleBuffer(l.data,n.width,n.height,t)},r.toGrayscaleBuffer=function(n,t,l,s){s===void 0&&(s=!1);var o=new Uint8ClampedArray(t*l);if(r.FRAME_INDEX=!r.FRAME_INDEX,r.FRAME_INDEX||!s)for(var u=0,c=0,d=n.length;u<d;u+=4,c++){var g=void 0,y=n[u+3];if(y===0)g=255;else{var h=n[u],p=n[u+1],m=n[u+2];g=306*h+601*p+117*m+512>>10}o[c]=g}else for(var u=0,c=0,v=n.length;u<v;u+=4,c++){var g=void 0,y=n[u+3];if(y===0)g=255;else{var h=n[u],p=n[u+1],m=n[u+2];g=306*h+601*p+117*m+512>>10}o[c]=255-g}return o},r.prototype.getRow=function(n,t){if(n<0||n>=this.getHeight())throw new Nt("Requested row is outside the image: "+n);var l=this.getWidth(),s=n*l;return t===null?t=this.buffer.slice(s,s+l):(t.length<l&&(t=new Uint8ClampedArray(l)),t.set(this.buffer.slice(s,s+l))),t},r.prototype.getMatrix=function(){return this.buffer},r.prototype.isCropSupported=function(){return!0},r.prototype.crop=function(n,t,l,s){return a.prototype.crop.call(this,n,t,l,s),this},r.prototype.isRotateSupported=function(){return!0},r.prototype.rotateCounterClockwise=function(){return this.rotate(-90),this},r.prototype.rotateCounterClockwise45=function(){return this.rotate(-45),this},r.prototype.getTempCanvasElement=function(){if(this.tempCanvasElement===null){var n=this.canvas.ownerDocument.createElement("canvas");n.width=this.canvas.width,n.height=this.canvas.height,this.tempCanvasElement=n}return this.tempCanvasElement},r.prototype.rotate=function(n){var t=this.getTempCanvasElement(),l=t.getContext("2d"),s=n*r.DEGREE_TO_RADIANS,o=this.canvas.width,u=this.canvas.height,c=Math.ceil(Math.abs(Math.cos(s))*o+Math.abs(Math.sin(s))*u),d=Math.ceil(Math.abs(Math.sin(s))*o+Math.abs(Math.cos(s))*u);return t.width=c,t.height=d,l.translate(c/2,d/2),l.rotate(s),l.drawImage(this.canvas,o/-2,u/-2),this.buffer=r.makeBufferFromCanvasImageData(t),this},r.prototype.invert=function(){return new sd(this)},r.DEGREE_TO_RADIANS=Math.PI/180,r.FRAME_INDEX=!0,r}(Ru),h0=function(){function a(r,n,t){this.deviceId=r,this.label=n,this.kind="videoinput",this.groupId=t||void 0}return a.prototype.toJSON=function(){return{kind:this.kind,groupId:this.groupId,deviceId:this.deviceId,label:this.label}},a}(),Bn=function(a,r,n,t){function l(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function u(g){try{d(t.next(g))}catch(y){o(y)}}function c(g){try{d(t.throw(g))}catch(y){o(y)}}function d(g){g.done?s(g.value):l(g.value).then(u,c)}d((t=t.apply(a,r||[])).next())})},Fn=function(a,r){var n={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},t,l,s,o;return o={next:u(0),throw:u(1),return:u(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(d){return function(g){return c([d,g])}}function c(d){if(t)throw new TypeError("Generator is already executing.");for(;n;)try{if(t=1,l&&(s=d[0]&2?l.return:d[0]?l.throw||((s=l.return)&&s.call(l),0):l.next)&&!(s=s.call(l,d[1])).done)return s;switch(l=0,s&&(d=[d[0]&2,s.value]),d[0]){case 0:case 1:s=d;break;case 4:return n.label++,{value:d[1],done:!1};case 5:n.label++,l=d[1],d=[0];continue;case 7:d=n.ops.pop(),n.trys.pop();continue;default:if(s=n.trys,!(s=s.length>0&&s[s.length-1])&&(d[0]===6||d[0]===2)){n=0;continue}if(d[0]===3&&(!s||d[1]>s[0]&&d[1]<s[3])){n.label=d[1];break}if(d[0]===6&&n.label<s[1]){n.label=s[1],s=d;break}if(s&&n.label<s[2]){n.label=s[2],n.ops.push(d);break}s[2]&&n.ops.pop(),n.trys.pop();continue}d=r.call(a,n)}catch(g){d=[6,g],l=0}finally{t=s=0}if(d[0]&5)throw d[1];return{value:d[0]?d[1]:void 0,done:!0}}},p0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ts=function(){function a(r,n,t){n===void 0&&(n=500),this.reader=r,this.timeBetweenScansMillis=n,this._hints=t,this._stopContinuousDecode=!1,this._stopAsyncDecode=!1,this._timeBetweenDecodingAttempts=0}return Object.defineProperty(a.prototype,"hasNavigator",{get:function(){return typeof navigator<"u"},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isMediaDevicesSuported",{get:function(){return this.hasNavigator&&!!navigator.mediaDevices},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"canEnumerateDevices",{get:function(){return!!(this.isMediaDevicesSuported&&navigator.mediaDevices.enumerateDevices)},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"timeBetweenDecodingAttempts",{get:function(){return this._timeBetweenDecodingAttempts},set:function(r){this._timeBetweenDecodingAttempts=r<0?0:r},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"hints",{get:function(){return this._hints},set:function(r){this._hints=r||null},enumerable:!1,configurable:!0}),a.prototype.listVideoInputDevices=function(){return Bn(this,void 0,void 0,function(){var r,n,t,l,s,o,u,c,d,g,y,h;return Fn(this,function(p){switch(p.label){case 0:if(!this.hasNavigator)throw new Error("Can't enumerate devices, navigator is not present.");if(!this.canEnumerateDevices)throw new Error("Can't enumerate devices, method not supported.");return[4,navigator.mediaDevices.enumerateDevices()];case 1:r=p.sent(),n=[];try{for(t=p0(r),l=t.next();!l.done;l=t.next())s=l.value,o=s.kind==="video"?"videoinput":s.kind,o==="videoinput"&&(u=s.deviceId||s.id,c=s.label||"Video device "+(n.length+1),d=s.groupId,g={deviceId:u,label:c,kind:o,groupId:d},n.push(g))}catch(m){y={error:m}}finally{try{l&&!l.done&&(h=t.return)&&h.call(t)}finally{if(y)throw y.error}}return[2,n]}})})},a.prototype.getVideoInputDevices=function(){return Bn(this,void 0,void 0,function(){var r;return Fn(this,function(n){switch(n.label){case 0:return[4,this.listVideoInputDevices()];case 1:return r=n.sent(),[2,r.map(function(t){return new h0(t.deviceId,t.label)})]}})})},a.prototype.findDeviceById=function(r){return Bn(this,void 0,void 0,function(){var n;return Fn(this,function(t){switch(t.label){case 0:return[4,this.listVideoInputDevices()];case 1:return n=t.sent(),n?[2,n.find(function(l){return l.deviceId===r})]:[2,null]}})})},a.prototype.decodeFromInputVideoDevice=function(r,n){return Bn(this,void 0,void 0,function(){return Fn(this,function(t){switch(t.label){case 0:return[4,this.decodeOnceFromVideoDevice(r,n)];case 1:return[2,t.sent()]}})})},a.prototype.decodeOnceFromVideoDevice=function(r,n){return Bn(this,void 0,void 0,function(){var t,l;return Fn(this,function(s){switch(s.label){case 0:return this.reset(),r?t={deviceId:{exact:r}}:t={facingMode:"environment"},l={video:t},[4,this.decodeOnceFromConstraints(l,n)];case 1:return[2,s.sent()]}})})},a.prototype.decodeOnceFromConstraints=function(r,n){return Bn(this,void 0,void 0,function(){var t;return Fn(this,function(l){switch(l.label){case 0:return[4,navigator.mediaDevices.getUserMedia(r)];case 1:return t=l.sent(),[4,this.decodeOnceFromStream(t,n)];case 2:return[2,l.sent()]}})})},a.prototype.decodeOnceFromStream=function(r,n){return Bn(this,void 0,void 0,function(){var t,l;return Fn(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(r,n)];case 1:return t=s.sent(),[4,this.decodeOnce(t)];case 2:return l=s.sent(),[2,l]}})})},a.prototype.decodeFromInputVideoDeviceContinuously=function(r,n,t){return Bn(this,void 0,void 0,function(){return Fn(this,function(l){switch(l.label){case 0:return[4,this.decodeFromVideoDevice(r,n,t)];case 1:return[2,l.sent()]}})})},a.prototype.decodeFromVideoDevice=function(r,n,t){return Bn(this,void 0,void 0,function(){var l,s;return Fn(this,function(o){switch(o.label){case 0:return r?l={deviceId:{exact:r}}:l={facingMode:"environment"},s={video:l},[4,this.decodeFromConstraints(s,n,t)];case 1:return[2,o.sent()]}})})},a.prototype.decodeFromConstraints=function(r,n,t){return Bn(this,void 0,void 0,function(){var l;return Fn(this,function(s){switch(s.label){case 0:return[4,navigator.mediaDevices.getUserMedia(r)];case 1:return l=s.sent(),[4,this.decodeFromStream(l,n,t)];case 2:return[2,s.sent()]}})})},a.prototype.decodeFromStream=function(r,n,t){return Bn(this,void 0,void 0,function(){var l;return Fn(this,function(s){switch(s.label){case 0:return this.reset(),[4,this.attachStreamToVideo(r,n)];case 1:return l=s.sent(),[4,this.decodeContinuously(l,t)];case 2:return[2,s.sent()]}})})},a.prototype.stopAsyncDecode=function(){this._stopAsyncDecode=!0},a.prototype.stopContinuousDecode=function(){this._stopContinuousDecode=!0},a.prototype.attachStreamToVideo=function(r,n){return Bn(this,void 0,void 0,function(){var t;return Fn(this,function(l){switch(l.label){case 0:return t=this.prepareVideoElement(n),this.addVideoSource(t,r),this.videoElement=t,this.stream=r,[4,this.playVideoOnLoadAsync(t)];case 1:return l.sent(),[2,t]}})})},a.prototype.playVideoOnLoadAsync=function(r){var n=this;return new Promise(function(t,l){return n.playVideoOnLoad(r,function(){return t()})})},a.prototype.playVideoOnLoad=function(r,n){var t=this;this.videoEndedListener=function(){return t.stopStreams()},this.videoCanPlayListener=function(){return t.tryPlayVideo(r)},r.addEventListener("ended",this.videoEndedListener),r.addEventListener("canplay",this.videoCanPlayListener),r.addEventListener("playing",n),this.tryPlayVideo(r)},a.prototype.isVideoPlaying=function(r){return r.currentTime>0&&!r.paused&&!r.ended&&r.readyState>2},a.prototype.tryPlayVideo=function(r){return Bn(this,void 0,void 0,function(){return Fn(this,function(n){switch(n.label){case 0:if(this.isVideoPlaying(r))return console.warn("Trying to play video that is already playing."),[2];n.label=1;case 1:return n.trys.push([1,3,,4]),[4,r.play()];case 2:return n.sent(),[3,4];case 3:return n.sent(),console.warn("It was not possible to play the video."),[3,4];case 4:return[2]}})})},a.prototype.getMediaElement=function(r,n){var t=document.getElementById(r);if(!t)throw new Ea("element with id '"+r+"' not found");if(t.nodeName.toLowerCase()!==n.toLowerCase())throw new Ea("element with id '"+r+"' must be an "+n+" element");return t},a.prototype.decodeFromImage=function(r,n){if(!r&&!n)throw new Ea("either imageElement with a src set or an url must be provided");return n&&!r?this.decodeFromImageUrl(n):this.decodeFromImageElement(r)},a.prototype.decodeFromVideo=function(r,n){if(!r&&!n)throw new Ea("Either an element with a src set or an URL must be provided");return n&&!r?this.decodeFromVideoUrl(n):this.decodeFromVideoElement(r)},a.prototype.decodeFromVideoContinuously=function(r,n,t){if(r===void 0&&n===void 0)throw new Ea("Either an element with a src set or an URL must be provided");return n&&!r?this.decodeFromVideoUrlContinuously(n,t):this.decodeFromVideoElementContinuously(r,t)},a.prototype.decodeFromImageElement=function(r){if(!r)throw new Ea("An image element must be provided.");this.reset();var n=this.prepareImageElement(r);this.imageElement=n;var t;return this.isImageLoaded(n)?t=this.decodeOnce(n,!1,!0):t=this._decodeOnLoadImage(n),t},a.prototype.decodeFromVideoElement=function(r){var n=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideo(n)},a.prototype.decodeFromVideoElementContinuously=function(r,n){var t=this._decodeFromVideoElementSetup(r);return this._decodeOnLoadVideoContinuously(t,n)},a.prototype._decodeFromVideoElementSetup=function(r){if(!r)throw new Ea("A video element must be provided.");this.reset();var n=this.prepareVideoElement(r);return this.videoElement=n,n},a.prototype.decodeFromImageUrl=function(r){if(!r)throw new Ea("An URL must be provided.");this.reset();var n=this.prepareImageElement();this.imageElement=n;var t=this._decodeOnLoadImage(n);return n.src=r,t},a.prototype.decodeFromVideoUrl=function(r){if(!r)throw new Ea("An URL must be provided.");this.reset();var n=this.prepareVideoElement(),t=this.decodeFromVideoElement(n);return n.src=r,t},a.prototype.decodeFromVideoUrlContinuously=function(r,n){if(!r)throw new Ea("An URL must be provided.");this.reset();var t=this.prepareVideoElement(),l=this.decodeFromVideoElementContinuously(t,n);return t.src=r,l},a.prototype._decodeOnLoadImage=function(r){var n=this;return new Promise(function(t,l){n.imageLoadedListener=function(){return n.decodeOnce(r,!1,!0).then(t,l)},r.addEventListener("load",n.imageLoadedListener)})},a.prototype._decodeOnLoadVideo=function(r){return Bn(this,void 0,void 0,function(){return Fn(this,function(n){switch(n.label){case 0:return[4,this.playVideoOnLoadAsync(r)];case 1:return n.sent(),[4,this.decodeOnce(r)];case 2:return[2,n.sent()]}})})},a.prototype._decodeOnLoadVideoContinuously=function(r,n){return Bn(this,void 0,void 0,function(){return Fn(this,function(t){switch(t.label){case 0:return[4,this.playVideoOnLoadAsync(r)];case 1:return t.sent(),this.decodeContinuously(r,n),[2]}})})},a.prototype.isImageLoaded=function(r){return!(!r.complete||r.naturalWidth===0)},a.prototype.prepareImageElement=function(r){var n;return typeof r>"u"&&(n=document.createElement("img"),n.width=200,n.height=200),typeof r=="string"&&(n=this.getMediaElement(r,"img")),r instanceof HTMLImageElement&&(n=r),n},a.prototype.prepareVideoElement=function(r){var n;return!r&&typeof document<"u"&&(n=document.createElement("video"),n.width=200,n.height=200),typeof r=="string"&&(n=this.getMediaElement(r,"video")),r instanceof HTMLVideoElement&&(n=r),n.setAttribute("autoplay","true"),n.setAttribute("muted","true"),n.setAttribute("playsinline","true"),n},a.prototype.decodeOnce=function(r,n,t){var l=this;n===void 0&&(n=!0),t===void 0&&(t=!0),this._stopAsyncDecode=!1;var s=function(o,u){if(l._stopAsyncDecode){u(new Ze("Video stream has ended before any code could be detected.")),l._stopAsyncDecode=void 0;return}try{var c=l.decode(r);o(c)}catch(h){var d=n&&h instanceof Ze,g=h instanceof vn||h instanceof mt,y=g&&t;if(d||y)return setTimeout(s,l._timeBetweenDecodingAttempts,o,u);u(h)}};return new Promise(function(o,u){return s(o,u)})},a.prototype.decodeContinuously=function(r,n){var t=this;this._stopContinuousDecode=!1;var l=function(){if(t._stopContinuousDecode){t._stopContinuousDecode=void 0;return}try{var s=t.decode(r);n(s,null),setTimeout(l,t.timeBetweenScansMillis)}catch(c){n(null,c);var o=c instanceof vn||c instanceof mt,u=c instanceof Ze;(o||u)&&setTimeout(l,t._timeBetweenDecodingAttempts)}};l()},a.prototype.decode=function(r){var n=this.createBinaryBitmap(r);return this.decodeBitmap(n)},a.prototype.createBinaryBitmap=function(r){this.getCaptureCanvasContext(r);var n=!1;r instanceof HTMLVideoElement?(this.drawFrameOnCanvas(r),n=!0):this.drawImageOnCanvas(r);var t=this.getCaptureCanvas(r),l=new d0(t,n),s=new u0(l);return new Ky(s)},a.prototype.getCaptureCanvasContext=function(r){if(!this.captureCanvasContext){var n=this.getCaptureCanvas(r),t=void 0;try{t=n.getContext("2d",{willReadFrequently:!0})}catch{t=n.getContext("2d")}this.captureCanvasContext=t}return this.captureCanvasContext},a.prototype.getCaptureCanvas=function(r){if(!this.captureCanvas){var n=this.createCaptureCanvas(r);this.captureCanvas=n}return this.captureCanvas},a.prototype.drawFrameOnCanvas=function(r,n,t){n===void 0&&(n={sx:0,sy:0,sWidth:r.videoWidth,sHeight:r.videoHeight,dx:0,dy:0,dWidth:r.videoWidth,dHeight:r.videoHeight}),t===void 0&&(t=this.captureCanvasContext),t.drawImage(r,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},a.prototype.drawImageOnCanvas=function(r,n,t){n===void 0&&(n={sx:0,sy:0,sWidth:r.naturalWidth,sHeight:r.naturalHeight,dx:0,dy:0,dWidth:r.naturalWidth,dHeight:r.naturalHeight}),t===void 0&&(t=this.captureCanvasContext),t.drawImage(r,n.sx,n.sy,n.sWidth,n.sHeight,n.dx,n.dy,n.dWidth,n.dHeight)},a.prototype.decodeBitmap=function(r){return this.reader.decode(r,this._hints)},a.prototype.createCaptureCanvas=function(r){if(typeof document>"u")return this._destroyCaptureCanvas(),null;var n=document.createElement("canvas"),t,l;return typeof r<"u"&&(r instanceof HTMLVideoElement?(t=r.videoWidth,l=r.videoHeight):r instanceof HTMLImageElement&&(t=r.naturalWidth||r.width,l=r.naturalHeight||r.height)),n.style.width=t+"px",n.style.height=l+"px",n.width=t,n.height=l,n},a.prototype.stopStreams=function(){this.stream&&(this.stream.getVideoTracks().forEach(function(r){return r.stop()}),this.stream=void 0),this._stopAsyncDecode===!1&&this.stopAsyncDecode(),this._stopContinuousDecode===!1&&this.stopContinuousDecode()},a.prototype.reset=function(){this.stopStreams(),this._destroyVideoElement(),this._destroyImageElement(),this._destroyCaptureCanvas()},a.prototype._destroyVideoElement=function(){this.videoElement&&(typeof this.videoEndedListener<"u"&&this.videoElement.removeEventListener("ended",this.videoEndedListener),typeof this.videoPlayingEventListener<"u"&&this.videoElement.removeEventListener("playing",this.videoPlayingEventListener),typeof this.videoCanPlayListener<"u"&&this.videoElement.removeEventListener("loadedmetadata",this.videoCanPlayListener),this.cleanVideoSource(this.videoElement),this.videoElement=void 0)},a.prototype._destroyImageElement=function(){this.imageElement&&(this.imageLoadedListener!==void 0&&this.imageElement.removeEventListener("load",this.imageLoadedListener),this.imageElement.src=void 0,this.imageElement.removeAttribute("src"),this.imageElement=void 0)},a.prototype._destroyCaptureCanvas=function(){this.captureCanvasContext=void 0,this.captureCanvas=void 0},a.prototype.addVideoSource=function(r,n){try{r.srcObject=n}catch{r.src=URL.createObjectURL(n)}},a.prototype.cleanVideoSource=function(r){try{r.srcObject=null}catch{r.src=""}this.videoElement.removeAttribute("src")},a}(),Nn=function(){function a(r,n,t,l,s,o){t===void 0&&(t=n==null?0:8*n.length),o===void 0&&(o=Tr.currentTimeMillis()),this.text=r,this.rawBytes=n,this.numBits=t,this.resultPoints=l,this.format=s,this.timestamp=o,this.text=r,this.rawBytes=n,t==null?this.numBits=n==null?0:8*n.length:this.numBits=t,this.resultPoints=l,this.format=s,this.resultMetadata=null,o==null?this.timestamp=Tr.currentTimeMillis():this.timestamp=o}return a.prototype.getText=function(){return this.text},a.prototype.getRawBytes=function(){return this.rawBytes},a.prototype.getNumBits=function(){return this.numBits},a.prototype.getResultPoints=function(){return this.resultPoints},a.prototype.getBarcodeFormat=function(){return this.format},a.prototype.getResultMetadata=function(){return this.resultMetadata},a.prototype.putMetadata=function(r,n){this.resultMetadata===null&&(this.resultMetadata=new Map),this.resultMetadata.set(r,n)},a.prototype.putAllMetadata=function(r){r!==null&&(this.resultMetadata===null?this.resultMetadata=r:this.resultMetadata=new Map(r))},a.prototype.addResultPoints=function(r){var n=this.resultPoints;if(n===null)this.resultPoints=r;else if(r!==null&&r.length>0){var t=new Array(n.length+r.length);Tr.arraycopy(n,0,t,0,n.length),Tr.arraycopy(r,0,t,n.length,r.length),this.resultPoints=t}},a.prototype.getTimestamp=function(){return this.timestamp},a.prototype.toString=function(){return this.text},a}(),Xf;(function(a){a[a.AZTEC=0]="AZTEC",a[a.CODABAR=1]="CODABAR",a[a.CODE_39=2]="CODE_39",a[a.CODE_93=3]="CODE_93",a[a.CODE_128=4]="CODE_128",a[a.DATA_MATRIX=5]="DATA_MATRIX",a[a.EAN_8=6]="EAN_8",a[a.EAN_13=7]="EAN_13",a[a.ITF=8]="ITF",a[a.MAXICODE=9]="MAXICODE",a[a.PDF_417=10]="PDF_417",a[a.QR_CODE=11]="QR_CODE",a[a.RSS_14=12]="RSS_14",a[a.RSS_EXPANDED=13]="RSS_EXPANDED",a[a.UPC_A=14]="UPC_A",a[a.UPC_E=15]="UPC_E",a[a.UPC_EAN_EXTENSION=16]="UPC_EAN_EXTENSION"})(Xf||(Xf={}));const Rt=Xf;var Wf;(function(a){a[a.OTHER=0]="OTHER",a[a.ORIENTATION=1]="ORIENTATION",a[a.BYTE_SEGMENTS=2]="BYTE_SEGMENTS",a[a.ERROR_CORRECTION_LEVEL=3]="ERROR_CORRECTION_LEVEL",a[a.ISSUE_NUMBER=4]="ISSUE_NUMBER",a[a.SUGGESTED_PRICE=5]="SUGGESTED_PRICE",a[a.POSSIBLE_COUNTRY=6]="POSSIBLE_COUNTRY",a[a.UPC_EAN_EXTENSION=7]="UPC_EAN_EXTENSION",a[a.PDF417_EXTRA_METADATA=8]="PDF417_EXTRA_METADATA",a[a.STRUCTURED_APPEND_SEQUENCE=9]="STRUCTURED_APPEND_SEQUENCE",a[a.STRUCTURED_APPEND_PARITY=10]="STRUCTURED_APPEND_PARITY"})(Wf||(Wf={}));const Cn=Wf;var Iu=function(){function a(r,n,t,l,s,o){s===void 0&&(s=-1),o===void 0&&(o=-1),this.rawBytes=r,this.text=n,this.byteSegments=t,this.ecLevel=l,this.structuredAppendSequenceNumber=s,this.structuredAppendParity=o,this.numBits=r==null?0:8*r.length}return a.prototype.getRawBytes=function(){return this.rawBytes},a.prototype.getNumBits=function(){return this.numBits},a.prototype.setNumBits=function(r){this.numBits=r},a.prototype.getText=function(){return this.text},a.prototype.getByteSegments=function(){return this.byteSegments},a.prototype.getECLevel=function(){return this.ecLevel},a.prototype.getErrorsCorrected=function(){return this.errorsCorrected},a.prototype.setErrorsCorrected=function(r){this.errorsCorrected=r},a.prototype.getErasures=function(){return this.erasures},a.prototype.setErasures=function(r){this.erasures=r},a.prototype.getOther=function(){return this.other},a.prototype.setOther=function(r){this.other=r},a.prototype.hasStructuredAppend=function(){return this.structuredAppendParity>=0&&this.structuredAppendSequenceNumber>=0},a.prototype.getStructuredAppendParity=function(){return this.structuredAppendParity},a.prototype.getStructuredAppendSequenceNumber=function(){return this.structuredAppendSequenceNumber},a}(),tl=function(){function a(){}return a.prototype.exp=function(r){return this.expTable[r]},a.prototype.log=function(r){if(r===0)throw new Nt;return this.logTable[r]},a.addOrSubtract=function(r,n){return r^n},a}(),Li=function(){function a(r,n){if(n.length===0)throw new Nt;this.field=r;var t=n.length;if(t>1&&n[0]===0){for(var l=1;l<t&&n[l]===0;)l++;l===t?this.coefficients=Int32Array.from([0]):(this.coefficients=new Int32Array(t-l),Tr.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return a.prototype.getCoefficients=function(){return this.coefficients},a.prototype.getDegree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return this.coefficients[0]===0},a.prototype.getCoefficient=function(r){return this.coefficients[this.coefficients.length-1-r]},a.prototype.evaluateAt=function(r){if(r===0)return this.getCoefficient(0);var n=this.coefficients,t;if(r===1){t=0;for(var l=0,s=n.length;l!==s;l++){var o=n[l];t=tl.addOrSubtract(t,o)}return t}t=n[0];for(var u=n.length,c=this.field,l=1;l<u;l++)t=tl.addOrSubtract(c.multiply(r,t),n[l]);return t},a.prototype.addOrSubtract=function(r){if(!this.field.equals(r.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(this.isZero())return r;if(r.isZero())return this;var n=this.coefficients,t=r.coefficients;if(n.length>t.length){var l=n;n=t,t=l}var s=new Int32Array(t.length),o=t.length-n.length;Tr.arraycopy(t,0,s,0,o);for(var u=o;u<t.length;u++)s[u]=tl.addOrSubtract(n[u-o],t[u]);return new a(this.field,s)},a.prototype.multiply=function(r){if(!this.field.equals(r.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(this.isZero()||r.isZero())return this.field.getZero();for(var n=this.coefficients,t=n.length,l=r.coefficients,s=l.length,o=new Int32Array(t+s-1),u=this.field,c=0;c<t;c++)for(var d=n[c],g=0;g<s;g++)o[c+g]=tl.addOrSubtract(o[c+g],u.multiply(d,l[g]));return new a(u,o)},a.prototype.multiplyScalar=function(r){if(r===0)return this.field.getZero();if(r===1)return this;for(var n=this.coefficients.length,t=this.field,l=new Int32Array(n),s=this.coefficients,o=0;o<n;o++)l[o]=t.multiply(s[o],r);return new a(t,l)},a.prototype.multiplyByMonomial=function(r,n){if(r<0)throw new Nt;if(n===0)return this.field.getZero();for(var t=this.coefficients,l=t.length,s=new Int32Array(l+r),o=this.field,u=0;u<l;u++)s[u]=o.multiply(t[u],n);return new a(o,s)},a.prototype.divide=function(r){if(!this.field.equals(r.field))throw new Nt("GenericGFPolys do not have same GenericGF field");if(r.isZero())throw new Nt("Divide by 0");for(var n=this.field,t=n.getZero(),l=this,s=r.getCoefficient(r.getDegree()),o=n.inverse(s);l.getDegree()>=r.getDegree()&&!l.isZero();){var u=l.getDegree()-r.getDegree(),c=n.multiply(l.getCoefficient(l.getDegree()),o),d=r.multiplyByMonomial(u,c),g=n.buildMonomial(u,c);t=t.addOrSubtract(g),l=l.addOrSubtract(d)}return[t,l]},a.prototype.toString=function(){for(var r="",n=this.getDegree();n>=0;n--){var t=this.getCoefficient(n);if(t!==0){if(t<0?(r+=" - ",t=-t):r.length>0&&(r+=" + "),n===0||t!==1){var l=this.field.log(t);l===0?r+="1":l===1?r+="a":(r+="a^",r+=l)}n!==0&&(n===1?r+="x":(r+="x^",r+=n))}}return r},a}(),m0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Qm=function(a){m0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="ArithmeticException",r}(Yn),y0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),qn=function(a){y0(r,a);function r(n,t,l){var s=a.call(this)||this;s.primitive=n,s.size=t,s.generatorBase=l;for(var o=new Int32Array(t),u=1,c=0;c<t;c++)o[c]=u,u*=2,u>=t&&(u^=n,u&=t-1);s.expTable=o;for(var d=new Int32Array(t),c=0;c<t-1;c++)d[o[c]]=c;return s.logTable=d,s.zero=new Li(s,Int32Array.from([0])),s.one=new Li(s,Int32Array.from([1])),s}return r.prototype.getZero=function(){return this.zero},r.prototype.getOne=function(){return this.one},r.prototype.buildMonomial=function(n,t){if(n<0)throw new Nt;if(t===0)return this.zero;var l=new Int32Array(n+1);return l[0]=t,new Li(this,l)},r.prototype.inverse=function(n){if(n===0)throw new Qm;return this.expTable[this.size-this.logTable[n]-1]},r.prototype.multiply=function(n,t){return n===0||t===0?0:this.expTable[(this.logTable[n]+this.logTable[t])%(this.size-1)]},r.prototype.getSize=function(){return this.size},r.prototype.getGeneratorBase=function(){return this.generatorBase},r.prototype.toString=function(){return"GF(0x"+Xt.toHexString(this.primitive)+","+this.size+")"},r.prototype.equals=function(n){return n===this},r.AZTEC_DATA_12=new r(4201,4096,1),r.AZTEC_DATA_10=new r(1033,1024,1),r.AZTEC_DATA_6=new r(67,64,1),r.AZTEC_PARAM=new r(19,16,1),r.QR_CODE_FIELD_256=new r(285,256,0),r.DATA_MATRIX_FIELD_256=new r(301,256,1),r.AZTEC_DATA_8=r.DATA_MATRIX_FIELD_256,r.MAXICODE_FIELD_64=r.AZTEC_DATA_6,r}(tl),g0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),wu=function(a){g0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="ReedSolomonException",r}(Yn),v0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),il=function(a){v0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="IllegalStateException",r}(Yn),Nu=function(){function a(r){this.field=r}return a.prototype.decode=function(r,n){for(var t=this.field,l=new Li(t,r),s=new Int32Array(n),o=!0,u=0;u<n;u++){var c=l.evaluateAt(t.exp(u+t.getGeneratorBase()));s[s.length-1-u]=c,c!==0&&(o=!1)}if(!o)for(var d=new Li(t,s),g=this.runEuclideanAlgorithm(t.buildMonomial(n,1),d,n),y=g[0],h=g[1],p=this.findErrorLocations(y),m=this.findErrorMagnitudes(h,p),u=0;u<p.length;u++){var v=r.length-1-t.log(p[u]);if(v<0)throw new wu("Bad error location");r[v]=qn.addOrSubtract(r[v],m[u])}},a.prototype.runEuclideanAlgorithm=function(r,n,t){if(r.getDegree()<n.getDegree()){var l=r;r=n,n=l}for(var s=this.field,o=r,u=n,c=s.getZero(),d=s.getOne();u.getDegree()>=(t/2|0);){var g=o,y=c;if(o=u,c=d,o.isZero())throw new wu("r_{i-1} was zero");u=g;for(var h=s.getZero(),p=o.getCoefficient(o.getDegree()),m=s.inverse(p);u.getDegree()>=o.getDegree()&&!u.isZero();){var v=u.getDegree()-o.getDegree(),_=s.multiply(u.getCoefficient(u.getDegree()),m);h=h.addOrSubtract(s.buildMonomial(v,_)),u=u.addOrSubtract(o.multiplyByMonomial(v,_))}if(d=h.multiply(c).addOrSubtract(y),u.getDegree()>=o.getDegree())throw new il("Division algorithm failed to reduce polynomial?")}var x=d.getCoefficient(0);if(x===0)throw new wu("sigmaTilde(0) was zero");var b=s.inverse(x),E=d.multiplyScalar(b),S=u.multiplyScalar(b);return[E,S]},a.prototype.findErrorLocations=function(r){var n=r.getDegree();if(n===1)return Int32Array.from([r.getCoefficient(1)]);for(var t=new Int32Array(n),l=0,s=this.field,o=1;o<s.getSize()&&l<n;o++)r.evaluateAt(o)===0&&(t[l]=s.inverse(o),l++);if(l!==n)throw new wu("Error locator degree does not match number of roots");return t},a.prototype.findErrorMagnitudes=function(r,n){for(var t=n.length,l=new Int32Array(t),s=this.field,o=0;o<t;o++){for(var u=s.inverse(n[o]),c=1,d=0;d<t;d++)if(o!==d){var g=s.multiply(n[d],u),y=g&1?g&-2:g|1;c=s.multiply(c,y)}l[o]=s.multiply(r.evaluateAt(u),s.inverse(c)),s.getGeneratorBase()!==0&&(l[o]=s.multiply(l[o],u))}return l},a}(),An;(function(a){a[a.UPPER=0]="UPPER",a[a.LOWER=1]="LOWER",a[a.MIXED=2]="MIXED",a[a.DIGIT=3]="DIGIT",a[a.PUNCT=4]="PUNCT",a[a.BINARY=5]="BINARY"})(An||(An={}));var gm=function(){function a(){}return a.prototype.decode=function(r){this.ddata=r;var n=r.getBits(),t=this.extractBits(n),l=this.correctBits(t),s=a.convertBoolArrayToByteArray(l),o=a.getEncodedData(l),u=new Iu(s,o,null,null);return u.setNumBits(l.length),u},a.highLevelDecode=function(r){return this.getEncodedData(r)},a.getEncodedData=function(r){for(var n=r.length,t=An.UPPER,l=An.UPPER,s="",o=0;o<n;)if(l===An.BINARY){if(n-o<5)break;var u=a.readCode(r,o,5);if(o+=5,u===0){if(n-o<11)break;u=a.readCode(r,o,11)+31,o+=11}for(var c=0;c<u;c++){if(n-o<8){o=n;break}var d=a.readCode(r,o,8);s+=Jt.castAsNonUtf8Char(d),o+=8}l=t}else{var g=l===An.DIGIT?4:5;if(n-o<g)break;var d=a.readCode(r,o,g);o+=g;var y=a.getCharacter(l,d);y.startsWith("CTRL_")?(t=l,l=a.getTable(y.charAt(5)),y.charAt(6)==="L"&&(t=l)):(s+=y,l=t)}return s},a.getTable=function(r){switch(r){case"L":return An.LOWER;case"P":return An.PUNCT;case"M":return An.MIXED;case"D":return An.DIGIT;case"B":return An.BINARY;case"U":default:return An.UPPER}},a.getCharacter=function(r,n){switch(r){case An.UPPER:return a.UPPER_TABLE[n];case An.LOWER:return a.LOWER_TABLE[n];case An.MIXED:return a.MIXED_TABLE[n];case An.PUNCT:return a.PUNCT_TABLE[n];case An.DIGIT:return a.DIGIT_TABLE[n];default:throw new il("Bad table")}},a.prototype.correctBits=function(r){var n,t;this.ddata.getNbLayers()<=2?(t=6,n=qn.AZTEC_DATA_6):this.ddata.getNbLayers()<=8?(t=8,n=qn.AZTEC_DATA_8):this.ddata.getNbLayers()<=22?(t=10,n=qn.AZTEC_DATA_10):(t=12,n=qn.AZTEC_DATA_12);var l=this.ddata.getNbDatablocks(),s=r.length/t;if(s<l)throw new mt;for(var o=r.length%t,u=new Int32Array(s),c=0;c<s;c++,o+=t)u[c]=a.readCode(r,o,t);try{var d=new Nu(n);d.decode(u,s-l)}catch(_){throw new mt(_)}for(var g=(1<<t)-1,y=0,c=0;c<l;c++){var h=u[c];if(h===0||h===g)throw new mt;(h===1||h===g-1)&&y++}for(var p=new Array(l*t-y),m=0,c=0;c<l;c++){var h=u[c];if(h===1||h===g-1)p.fill(h>1,m,m+t-1),m+=t-1;else for(var v=t-1;v>=0;--v)p[m++]=(h&1<<v)!==0}return p},a.prototype.extractBits=function(r){var n=this.ddata.isCompact(),t=this.ddata.getNbLayers(),l=(n?11:14)+t*4,s=new Int32Array(l),o=new Array(this.totalBitsInLayer(t,n));if(n)for(var u=0;u<s.length;u++)s[u]=u;else for(var c=l+1+2*Xt.truncDivision(Xt.truncDivision(l,2)-1,15),d=l/2,g=Xt.truncDivision(c,2),u=0;u<d;u++){var y=u+Xt.truncDivision(u,15);s[d-u-1]=g-y-1,s[d+u]=g+y+1}for(var u=0,h=0;u<t;u++){for(var p=(t-u)*4+(n?9:12),m=u*2,v=l-1-m,_=0;_<p;_++)for(var x=_*2,b=0;b<2;b++)o[h+x+b]=r.get(s[m+b],s[m+_]),o[h+2*p+x+b]=r.get(s[m+_],s[v-b]),o[h+4*p+x+b]=r.get(s[v-b],s[v-_]),o[h+6*p+x+b]=r.get(s[v-_],s[m+b]);h+=p*8}return o},a.readCode=function(r,n,t){for(var l=0,s=n;s<n+t;s++)l<<=1,r[s]&&(l|=1);return l},a.readByte=function(r,n){var t=r.length-n;return t>=8?a.readCode(r,n,8):a.readCode(r,n,t)<<8-t},a.convertBoolArrayToByteArray=function(r){for(var n=new Uint8Array((r.length+7)/8),t=0;t<n.length;t++)n[t]=a.readByte(r,8*t);return n},a.prototype.totalBitsInLayer=function(r,n){return((n?88:112)+16*r)*r},a.UPPER_TABLE=["CTRL_PS"," ","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","CTRL_LL","CTRL_ML","CTRL_DL","CTRL_BS"],a.LOWER_TABLE=["CTRL_PS"," ","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","CTRL_US","CTRL_ML","CTRL_DL","CTRL_BS"],a.MIXED_TABLE=["CTRL_PS"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~","","CTRL_LL","CTRL_UL","CTRL_PL","CTRL_BS"],a.PUNCT_TABLE=["","\r",`\r
`,". ",", ",": ","!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}","CTRL_UL"],a.DIGIT_TABLE=["CTRL_PS"," ","0","1","2","3","4","5","6","7","8","9",",",".","CTRL_UL","CTRL_US"],a}(),rr=function(){function a(){}return a.round=function(r){return isNaN(r)?0:r<=Number.MIN_SAFE_INTEGER?Number.MIN_SAFE_INTEGER:r>=Number.MAX_SAFE_INTEGER?Number.MAX_SAFE_INTEGER:r+(r<0?-.5:.5)|0},a.distance=function(r,n,t,l){var s=r-t,o=n-l;return Math.sqrt(s*s+o*o)},a.sum=function(r){for(var n=0,t=0,l=r.length;t!==l;t++){var s=r[t];n+=s}return n},a}(),qf=function(){function a(){}return a.floatToIntBits=function(r){return r},a.MAX_VALUE=Number.MAX_SAFE_INTEGER,a}(),Et=function(){function a(r,n){this.x=r,this.y=n}return a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a.prototype.equals=function(r){if(r instanceof a){var n=r;return this.x===n.x&&this.y===n.y}return!1},a.prototype.hashCode=function(){return 31*qf.floatToIntBits(this.x)+qf.floatToIntBits(this.y)},a.prototype.toString=function(){return"("+this.x+","+this.y+")"},a.orderBestPatterns=function(r){var n=this.distance(r[0],r[1]),t=this.distance(r[1],r[2]),l=this.distance(r[0],r[2]),s,o,u;if(t>=n&&t>=l?(o=r[0],s=r[1],u=r[2]):l>=t&&l>=n?(o=r[1],s=r[0],u=r[2]):(o=r[2],s=r[0],u=r[1]),this.crossProductZ(s,o,u)<0){var c=s;s=u,u=c}r[0]=s,r[1]=o,r[2]=u},a.distance=function(r,n){return rr.distance(r.x,r.y,n.x,n.y)},a.crossProductZ=function(r,n,t){var l=n.x,s=n.y;return(t.x-l)*(r.y-s)-(t.y-s)*(r.x-l)},a}(),ld=function(){function a(r,n){this.bits=r,this.points=n}return a.prototype.getBits=function(){return this.bits},a.prototype.getPoints=function(){return this.points},a}(),b0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),x0=function(a){b0(r,a);function r(n,t,l,s,o){var u=a.call(this,n,t)||this;return u.compact=l,u.nbDatablocks=s,u.nbLayers=o,u}return r.prototype.getNbLayers=function(){return this.nbLayers},r.prototype.getNbDatablocks=function(){return this.nbDatablocks},r.prototype.isCompact=function(){return this.compact},r}(ld),Yf=function(){function a(r,n,t,l){this.image=r,this.height=r.getHeight(),this.width=r.getWidth(),n==null&&(n=a.INIT_SIZE),t==null&&(t=r.getWidth()/2|0),l==null&&(l=r.getHeight()/2|0);var s=n/2|0;if(this.leftInit=t-s,this.rightInit=t+s,this.upInit=l-s,this.downInit=l+s,this.upInit<0||this.leftInit<0||this.downInit>=this.height||this.rightInit>=this.width)throw new Ze}return a.prototype.detect=function(){for(var r=this.leftInit,n=this.rightInit,t=this.upInit,l=this.downInit,s=!1,o=!0,u=!1,c=!1,d=!1,g=!1,y=!1,h=this.width,p=this.height;o;){o=!1;for(var m=!0;(m||!c)&&n<h;)m=this.containsBlackPoint(t,l,n,!1),m?(n++,o=!0,c=!0):c||n++;if(n>=h){s=!0;break}for(var v=!0;(v||!d)&&l<p;)v=this.containsBlackPoint(r,n,l,!0),v?(l++,o=!0,d=!0):d||l++;if(l>=p){s=!0;break}for(var _=!0;(_||!g)&&r>=0;)_=this.containsBlackPoint(t,l,r,!1),_?(r--,o=!0,g=!0):g||r--;if(r<0){s=!0;break}for(var x=!0;(x||!y)&&t>=0;)x=this.containsBlackPoint(r,n,t,!0),x?(t--,o=!0,y=!0):y||t--;if(t<0){s=!0;break}o&&(u=!0)}if(!s&&u){for(var b=n-r,E=null,S=1;E===null&&S<b;S++)E=this.getBlackPointOnSegment(r,l-S,r+S,l);if(E==null)throw new Ze;for(var C=null,S=1;C===null&&S<b;S++)C=this.getBlackPointOnSegment(r,t+S,r+S,t);if(C==null)throw new Ze;for(var D=null,S=1;D===null&&S<b;S++)D=this.getBlackPointOnSegment(n,t+S,n-S,t);if(D==null)throw new Ze;for(var M=null,S=1;M===null&&S<b;S++)M=this.getBlackPointOnSegment(n,l-S,n-S,l);if(M==null)throw new Ze;return this.centerEdges(M,E,D,C)}else throw new Ze},a.prototype.getBlackPointOnSegment=function(r,n,t,l){for(var s=rr.round(rr.distance(r,n,t,l)),o=(t-r)/s,u=(l-n)/s,c=this.image,d=0;d<s;d++){var g=rr.round(r+d*o),y=rr.round(n+d*u);if(c.get(g,y))return new Et(g,y)}return null},a.prototype.centerEdges=function(r,n,t,l){var s=r.getX(),o=r.getY(),u=n.getX(),c=n.getY(),d=t.getX(),g=t.getY(),y=l.getX(),h=l.getY(),p=a.CORR;return s<this.width/2?[new Et(y-p,h+p),new Et(u+p,c+p),new Et(d-p,g-p),new Et(s+p,o-p)]:[new Et(y+p,h+p),new Et(u+p,c-p),new Et(d-p,g+p),new Et(s-p,o-p)]},a.prototype.containsBlackPoint=function(r,n,t,l){var s=this.image;if(l){for(var o=r;o<=n;o++)if(s.get(o,t))return!0}else for(var u=r;u<=n;u++)if(s.get(t,u))return!0;return!1},a.INIT_SIZE=10,a.CORR=1,a}(),vm=function(){function a(){}return a.checkAndNudgePoints=function(r,n){for(var t=r.getWidth(),l=r.getHeight(),s=!0,o=0;o<n.length&&s;o+=2){var u=Math.floor(n[o]),c=Math.floor(n[o+1]);if(u<-1||u>t||c<-1||c>l)throw new Ze;s=!1,u===-1?(n[o]=0,s=!0):u===t&&(n[o]=t-1,s=!0),c===-1?(n[o+1]=0,s=!0):c===l&&(n[o+1]=l-1,s=!0)}s=!0;for(var o=n.length-2;o>=0&&s;o-=2){var u=Math.floor(n[o]),c=Math.floor(n[o+1]);if(u<-1||u>t||c<-1||c>l)throw new Ze;s=!1,u===-1?(n[o]=0,s=!0):u===t&&(n[o]=t-1,s=!0),c===-1?(n[o+1]=0,s=!0):c===l&&(n[o+1]=l-1,s=!0)}},a}(),Jm=function(){function a(r,n,t,l,s,o,u,c,d){this.a11=r,this.a21=n,this.a31=t,this.a12=l,this.a22=s,this.a32=o,this.a13=u,this.a23=c,this.a33=d}return a.quadrilateralToQuadrilateral=function(r,n,t,l,s,o,u,c,d,g,y,h,p,m,v,_){var x=a.quadrilateralToSquare(r,n,t,l,s,o,u,c),b=a.squareToQuadrilateral(d,g,y,h,p,m,v,_);return b.times(x)},a.prototype.transformPoints=function(r){for(var n=r.length,t=this.a11,l=this.a12,s=this.a13,o=this.a21,u=this.a22,c=this.a23,d=this.a31,g=this.a32,y=this.a33,h=0;h<n;h+=2){var p=r[h],m=r[h+1],v=s*p+c*m+y;r[h]=(t*p+o*m+d)/v,r[h+1]=(l*p+u*m+g)/v}},a.prototype.transformPointsWithValues=function(r,n){for(var t=this.a11,l=this.a12,s=this.a13,o=this.a21,u=this.a22,c=this.a23,d=this.a31,g=this.a32,y=this.a33,h=r.length,p=0;p<h;p++){var m=r[p],v=n[p],_=s*m+c*v+y;r[p]=(t*m+o*v+d)/_,n[p]=(l*m+u*v+g)/_}},a.squareToQuadrilateral=function(r,n,t,l,s,o,u,c){var d=r-t+s-u,g=n-l+o-c;if(d===0&&g===0)return new a(t-r,s-t,r,l-n,o-l,n,0,0,1);var y=t-s,h=u-s,p=l-o,m=c-o,v=y*m-h*p,_=(d*m-h*g)/v,x=(y*g-d*p)/v;return new a(t-r+_*t,u-r+x*u,r,l-n+_*l,c-n+x*c,n,_,x,1)},a.quadrilateralToSquare=function(r,n,t,l,s,o,u,c){return a.squareToQuadrilateral(r,n,t,l,s,o,u,c).buildAdjoint()},a.prototype.buildAdjoint=function(){return new a(this.a22*this.a33-this.a23*this.a32,this.a23*this.a31-this.a21*this.a33,this.a21*this.a32-this.a22*this.a31,this.a13*this.a32-this.a12*this.a33,this.a11*this.a33-this.a13*this.a31,this.a12*this.a31-this.a11*this.a32,this.a12*this.a23-this.a13*this.a22,this.a13*this.a21-this.a11*this.a23,this.a11*this.a22-this.a12*this.a21)},a.prototype.times=function(r){return new a(this.a11*r.a11+this.a21*r.a12+this.a31*r.a13,this.a11*r.a21+this.a21*r.a22+this.a31*r.a23,this.a11*r.a31+this.a21*r.a32+this.a31*r.a33,this.a12*r.a11+this.a22*r.a12+this.a32*r.a13,this.a12*r.a21+this.a22*r.a22+this.a32*r.a23,this.a12*r.a31+this.a22*r.a32+this.a32*r.a33,this.a13*r.a11+this.a23*r.a12+this.a33*r.a13,this.a13*r.a21+this.a23*r.a22+this.a33*r.a23,this.a13*r.a31+this.a23*r.a32+this.a33*r.a33)},a}(),_0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),w0=function(a){_0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.sampleGrid=function(n,t,l,s,o,u,c,d,g,y,h,p,m,v,_,x,b,E,S){var C=Jm.quadrilateralToQuadrilateral(s,o,u,c,d,g,y,h,p,m,v,_,x,b,E,S);return this.sampleGridWithTransform(n,t,l,C)},r.prototype.sampleGridWithTransform=function(n,t,l,s){if(t<=0||l<=0)throw new Ze;for(var o=new Pa(t,l),u=new Float32Array(2*t),c=0;c<l;c++){for(var d=u.length,g=c+.5,y=0;y<d;y+=2)u[y]=y/2+.5,u[y+1]=g;s.transformPoints(u),vm.checkAndNudgePoints(n,u);try{for(var y=0;y<d;y+=2)n.get(Math.floor(u[y]),Math.floor(u[y+1]))&&o.set(y/2,c)}catch{throw new Ze}}return o},r}(vm),ud=function(){function a(){}return a.setGridSampler=function(r){a.gridSampler=r},a.getInstance=function(){return a.gridSampler},a.gridSampler=new w0,a}(),Wn=function(){function a(r,n){this.x=r,this.y=n}return a.prototype.toResultPoint=function(){return new Et(this.getX(),this.getY())},a.prototype.getX=function(){return this.x},a.prototype.getY=function(){return this.y},a}(),S0=function(){function a(r){this.EXPECTED_CORNER_BITS=new Int32Array([3808,476,2107,1799]),this.image=r}return a.prototype.detect=function(){return this.detectMirror(!1)},a.prototype.detectMirror=function(r){var n=this.getMatrixCenter(),t=this.getBullsEyeCorners(n);if(r){var l=t[0];t[0]=t[2],t[2]=l}this.extractParameters(t);var s=this.sampleGrid(this.image,t[this.shift%4],t[(this.shift+1)%4],t[(this.shift+2)%4],t[(this.shift+3)%4]),o=this.getMatrixCornerPoints(t);return new x0(s,o,this.compact,this.nbDataBlocks,this.nbLayers)},a.prototype.extractParameters=function(r){if(!this.isValidPoint(r[0])||!this.isValidPoint(r[1])||!this.isValidPoint(r[2])||!this.isValidPoint(r[3]))throw new Ze;var n=2*this.nbCenterLayers,t=new Int32Array([this.sampleLine(r[0],r[1],n),this.sampleLine(r[1],r[2],n),this.sampleLine(r[2],r[3],n),this.sampleLine(r[3],r[0],n)]);this.shift=this.getRotation(t,n);for(var l=0,s=0;s<4;s++){var o=t[(this.shift+s)%4];this.compact?(l<<=7,l+=o>>1&127):(l<<=10,l+=(o>>2&992)+(o>>1&31))}var u=this.getCorrectedParameterData(l,this.compact);this.compact?(this.nbLayers=(u>>6)+1,this.nbDataBlocks=(u&63)+1):(this.nbLayers=(u>>11)+1,this.nbDataBlocks=(u&2047)+1)},a.prototype.getRotation=function(r,n){var t=0;r.forEach(function(s,o,u){var c=(s>>n-2<<1)+(s&1);t=(t<<3)+c}),t=((t&1)<<11)+(t>>1);for(var l=0;l<4;l++)if(Xt.bitCount(t^this.EXPECTED_CORNER_BITS[l])<=2)return l;throw new Ze},a.prototype.getCorrectedParameterData=function(r,n){var t,l;n?(t=7,l=2):(t=10,l=4);for(var s=t-l,o=new Int32Array(t),u=t-1;u>=0;--u)o[u]=r&15,r>>=4;try{var c=new Nu(qn.AZTEC_PARAM);c.decode(o,s)}catch{throw new Ze}for(var d=0,u=0;u<l;u++)d=(d<<4)+o[u];return d},a.prototype.getBullsEyeCorners=function(r){var n=r,t=r,l=r,s=r,o=!0;for(this.nbCenterLayers=1;this.nbCenterLayers<9;this.nbCenterLayers++){var u=this.getFirstDifferent(n,o,1,-1),c=this.getFirstDifferent(t,o,1,1),d=this.getFirstDifferent(l,o,-1,1),g=this.getFirstDifferent(s,o,-1,-1);if(this.nbCenterLayers>2){var y=this.distancePoint(g,u)*this.nbCenterLayers/(this.distancePoint(s,n)*(this.nbCenterLayers+2));if(y<.75||y>1.25||!this.isWhiteOrBlackRectangle(u,c,d,g))break}n=u,t=c,l=d,s=g,o=!o}if(this.nbCenterLayers!==5&&this.nbCenterLayers!==7)throw new Ze;this.compact=this.nbCenterLayers===5;var h=new Et(n.getX()+.5,n.getY()-.5),p=new Et(t.getX()+.5,t.getY()+.5),m=new Et(l.getX()-.5,l.getY()+.5),v=new Et(s.getX()-.5,s.getY()-.5);return this.expandSquare([h,p,m,v],2*this.nbCenterLayers-3,2*this.nbCenterLayers)},a.prototype.getMatrixCenter=function(){var r,n,t,l;try{var s=new Yf(this.image).detect();r=s[0],n=s[1],t=s[2],l=s[3]}catch{var o=this.image.getWidth()/2,u=this.image.getHeight()/2;r=this.getFirstDifferent(new Wn(o+7,u-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Wn(o+7,u+7),!1,1,1).toResultPoint(),t=this.getFirstDifferent(new Wn(o-7,u+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Wn(o-7,u-7),!1,-1,-1).toResultPoint()}var c=rr.round((r.getX()+l.getX()+n.getX()+t.getX())/4),d=rr.round((r.getY()+l.getY()+n.getY()+t.getY())/4);try{var s=new Yf(this.image,15,c,d).detect();r=s[0],n=s[1],t=s[2],l=s[3]}catch{r=this.getFirstDifferent(new Wn(c+7,d-7),!1,1,-1).toResultPoint(),n=this.getFirstDifferent(new Wn(c+7,d+7),!1,1,1).toResultPoint(),t=this.getFirstDifferent(new Wn(c-7,d+7),!1,-1,1).toResultPoint(),l=this.getFirstDifferent(new Wn(c-7,d-7),!1,-1,-1).toResultPoint()}return c=rr.round((r.getX()+l.getX()+n.getX()+t.getX())/4),d=rr.round((r.getY()+l.getY()+n.getY()+t.getY())/4),new Wn(c,d)},a.prototype.getMatrixCornerPoints=function(r){return this.expandSquare(r,2*this.nbCenterLayers,this.getDimension())},a.prototype.sampleGrid=function(r,n,t,l,s){var o=ud.getInstance(),u=this.getDimension(),c=u/2-this.nbCenterLayers,d=u/2+this.nbCenterLayers;return o.sampleGrid(r,u,u,c,c,d,c,d,d,c,d,n.getX(),n.getY(),t.getX(),t.getY(),l.getX(),l.getY(),s.getX(),s.getY())},a.prototype.sampleLine=function(r,n,t){for(var l=0,s=this.distanceResultPoint(r,n),o=s/t,u=r.getX(),c=r.getY(),d=o*(n.getX()-r.getX())/s,g=o*(n.getY()-r.getY())/s,y=0;y<t;y++)this.image.get(rr.round(u+y*d),rr.round(c+y*g))&&(l|=1<<t-y-1);return l},a.prototype.isWhiteOrBlackRectangle=function(r,n,t,l){var s=3;r=new Wn(r.getX()-s,r.getY()+s),n=new Wn(n.getX()-s,n.getY()-s),t=new Wn(t.getX()+s,t.getY()-s),l=new Wn(l.getX()+s,l.getY()+s);var o=this.getColor(l,r);if(o===0)return!1;var u=this.getColor(r,n);return u!==o||(u=this.getColor(n,t),u!==o)?!1:(u=this.getColor(t,l),u===o)},a.prototype.getColor=function(r,n){for(var t=this.distancePoint(r,n),l=(n.getX()-r.getX())/t,s=(n.getY()-r.getY())/t,o=0,u=r.getX(),c=r.getY(),d=this.image.get(r.getX(),r.getY()),g=Math.ceil(t),y=0;y<g;y++)u+=l,c+=s,this.image.get(rr.round(u),rr.round(c))!==d&&o++;var h=o/t;return h>.1&&h<.9?0:h<=.1===d?1:-1},a.prototype.getFirstDifferent=function(r,n,t,l){for(var s=r.getX()+t,o=r.getY()+l;this.isValid(s,o)&&this.image.get(s,o)===n;)s+=t,o+=l;for(s-=t,o-=l;this.isValid(s,o)&&this.image.get(s,o)===n;)s+=t;for(s-=t;this.isValid(s,o)&&this.image.get(s,o)===n;)o+=l;return o-=l,new Wn(s,o)},a.prototype.expandSquare=function(r,n,t){var l=t/(2*n),s=r[0].getX()-r[2].getX(),o=r[0].getY()-r[2].getY(),u=(r[0].getX()+r[2].getX())/2,c=(r[0].getY()+r[2].getY())/2,d=new Et(u+l*s,c+l*o),g=new Et(u-l*s,c-l*o);s=r[1].getX()-r[3].getX(),o=r[1].getY()-r[3].getY(),u=(r[1].getX()+r[3].getX())/2,c=(r[1].getY()+r[3].getY())/2;var y=new Et(u+l*s,c+l*o),h=new Et(u-l*s,c-l*o),p=[d,y,g,h];return p},a.prototype.isValid=function(r,n){return r>=0&&r<this.image.getWidth()&&n>0&&n<this.image.getHeight()},a.prototype.isValidPoint=function(r){var n=rr.round(r.getX()),t=rr.round(r.getY());return this.isValid(n,t)},a.prototype.distancePoint=function(r,n){return rr.distance(r.getX(),r.getY(),n.getX(),n.getY())},a.prototype.distanceResultPoint=function(r,n){return rr.distance(r.getX(),r.getY(),n.getX(),n.getY())},a.prototype.getDimension=function(){return this.compact?4*this.nbLayers+11:this.nbLayers<=4?4*this.nbLayers+15:4*this.nbLayers+2*(Xt.truncDivision(this.nbLayers-4,8)+1)+15},a}(),Zf=function(){function a(){}return a.prototype.decode=function(r,n){n===void 0&&(n=null);var t=null,l=new S0(r.getBlackMatrix()),s=null,o=null;try{var u=l.detectMirror(!1);s=u.getPoints(),this.reportFoundResultPoints(n,s),o=new gm().decode(u)}catch(y){t=y}if(o==null)try{var u=l.detectMirror(!0);s=u.getPoints(),this.reportFoundResultPoints(n,s),o=new gm().decode(u)}catch(y){throw t??y}var c=new Nn(o.getText(),o.getRawBytes(),o.getNumBits(),s,Rt.AZTEC,Tr.currentTimeMillis()),d=o.getByteSegments();d!=null&&c.putMetadata(Cn.BYTE_SEGMENTS,d);var g=o.getECLevel();return g!=null&&c.putMetadata(Cn.ERROR_CORRECTION_LEVEL,g),c},a.prototype.reportFoundResultPoints=function(r,n){if(r!=null){var t=r.get(Ir.NEED_RESULT_POINT_CALLBACK);t!=null&&n.forEach(function(l,s,o){t.foundPossibleResultPoint(l)})}},a.prototype.reset=function(){},a}(),E0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){E0(r,a);function r(n){return n===void 0&&(n=500),a.call(this,new Zf,n)||this}return r})(ts);var fn=function(){function a(){}return a.prototype.decode=function(r,n){try{return this.doDecode(r,n)}catch{var t=n&&n.get(Ir.TRY_HARDER)===!0;if(t&&r.isRotateSupported()){var l=r.rotateCounterClockwise(),s=this.doDecode(l,n),o=s.getResultMetadata(),u=270;o!==null&&o.get(Cn.ORIENTATION)===!0&&(u=u+o.get(Cn.ORIENTATION)%360),s.putMetadata(Cn.ORIENTATION,u);var c=s.getResultPoints();if(c!==null)for(var d=l.getHeight(),g=0;g<c.length;g++)c[g]=new Et(d-c[g].getY()-1,c[g].getX());return s}else throw new Ze}},a.prototype.reset=function(){},a.prototype.doDecode=function(r,n){var t=r.getWidth(),l=r.getHeight(),s=new bn(t),o=n&&n.get(Ir.TRY_HARDER)===!0,u=Math.max(1,l>>(o?8:5)),c;o?c=l:c=15;for(var d=Math.trunc(l/2),g=0;g<c;g++){var y=Math.trunc((g+1)/2),h=(g&1)===0,p=d+u*(h?y:-y);if(p<0||p>=l)break;try{s=r.getBlackRow(p,s)}catch{continue}for(var m=function(b){if(b===1&&(s.reverse(),n&&n.get(Ir.NEED_RESULT_POINT_CALLBACK)===!0)){var E=new Map;n.forEach(function(D,M){return E.set(M,D)}),E.delete(Ir.NEED_RESULT_POINT_CALLBACK),n=E}try{var S=v.decodeRow(p,s,n);if(b===1){S.putMetadata(Cn.ORIENTATION,180);var C=S.getResultPoints();C!==null&&(C[0]=new Et(t-C[0].getX()-1,C[0].getY()),C[1]=new Et(t-C[1].getX()-1,C[1].getY()))}return{value:S}}catch{}},v=this,_=0;_<2;_++){var x=m(_);if(typeof x=="object")return x.value}}throw new Ze},a.recordPattern=function(r,n,t){for(var l=t.length,s=0;s<l;s++)t[s]=0;var o=r.getSize();if(n>=o)throw new Ze;for(var u=!r.get(n),c=0,d=n;d<o;){if(r.get(d)!==u)t[c]++;else{if(++c===l)break;t[c]=1,u=!u}d++}if(!(c===l||c===l-1&&d===o))throw new Ze},a.recordPatternInReverse=function(r,n,t){for(var l=t.length,s=r.get(n);n>0&&l>=0;)r.get(--n)!==s&&(l--,s=!s);if(l>=0)throw new Ze;a.recordPattern(r,n+1,t)},a.patternMatchVariance=function(r,n,t){for(var l=r.length,s=0,o=0,u=0;u<l;u++)s+=r[u],o+=n[u];if(s<o)return Number.POSITIVE_INFINITY;var c=s/o;t*=c;for(var d=0,g=0;g<l;g++){var y=r[g],h=n[g]*c,p=y>h?y-h:h-y;if(p>t)return Number.POSITIVE_INFINITY;d+=p}return d/s},a}(),A0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),bm=function(a){A0(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.findStartPattern=function(n){for(var t=n.getSize(),l=n.getNextSet(0),s=0,o=Int32Array.from([0,0,0,0,0,0]),u=l,c=!1,d=6,g=l;g<t;g++)if(n.get(g)!==c)o[s]++;else{if(s===d-1){for(var y=r.MAX_AVG_VARIANCE,h=-1,p=r.CODE_START_A;p<=r.CODE_START_C;p++){var m=fn.patternMatchVariance(o,r.CODE_PATTERNS[p],r.MAX_INDIVIDUAL_VARIANCE);m<y&&(y=m,h=p)}if(h>=0&&n.isRange(Math.max(0,u-(g-u)/2),u,!1))return Int32Array.from([u,g,h]);u+=o[0]+o[1],o=o.slice(2,o.length),o[s-1]=0,o[s]=0,s--}else s++;o[s]=1,c=!c}throw new Ze},r.decodeCode=function(n,t,l){fn.recordPattern(n,l,t);for(var s=r.MAX_AVG_VARIANCE,o=-1,u=0;u<r.CODE_PATTERNS.length;u++){var c=r.CODE_PATTERNS[u],d=this.patternMatchVariance(t,c,r.MAX_INDIVIDUAL_VARIANCE);d<s&&(s=d,o=u)}if(o>=0)return o;throw new Ze},r.prototype.decodeRow=function(n,t,l){var s=l&&l.get(Ir.ASSUME_GS1)===!0,o=r.findStartPattern(t),u=o[2],c=0,d=new Uint8Array(20);d[c++]=u;var g;switch(u){case r.CODE_START_A:g=r.CODE_CODE_A;break;case r.CODE_START_B:g=r.CODE_CODE_B;break;case r.CODE_START_C:g=r.CODE_CODE_C;break;default:throw new mt}for(var y=!1,h=!1,p="",m=o[0],v=o[1],_=Int32Array.from([0,0,0,0,0,0]),x=0,b=0,E=u,S=0,C=!0,D=!1,M=!1;!y;){var R=h;switch(h=!1,x=b,b=r.decodeCode(t,_,v),d[c++]=b,b!==r.CODE_STOP&&(C=!0),b!==r.CODE_STOP&&(S++,E+=S*b),m=v,v+=_.reduce(function(J,Z){return J+Z},0),b){case r.CODE_START_A:case r.CODE_START_B:case r.CODE_START_C:throw new mt}switch(g){case r.CODE_CODE_A:if(b<64)M===D?p+=String.fromCharCode(32+b):p+=String.fromCharCode(32+b+128),M=!1;else if(b<96)M===D?p+=String.fromCharCode(b-64):p+=String.fromCharCode(b+64),M=!1;else switch(b!==r.CODE_STOP&&(C=!1),b){case r.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case r.CODE_FNC_2:case r.CODE_FNC_3:break;case r.CODE_FNC_4_A:!D&&M?(D=!0,M=!1):D&&M?(D=!1,M=!1):M=!0;break;case r.CODE_SHIFT:h=!0,g=r.CODE_CODE_B;break;case r.CODE_CODE_B:g=r.CODE_CODE_B;break;case r.CODE_CODE_C:g=r.CODE_CODE_C;break;case r.CODE_STOP:y=!0;break}break;case r.CODE_CODE_B:if(b<96)M===D?p+=String.fromCharCode(32+b):p+=String.fromCharCode(32+b+128),M=!1;else switch(b!==r.CODE_STOP&&(C=!1),b){case r.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case r.CODE_FNC_2:case r.CODE_FNC_3:break;case r.CODE_FNC_4_B:!D&&M?(D=!0,M=!1):D&&M?(D=!1,M=!1):M=!0;break;case r.CODE_SHIFT:h=!0,g=r.CODE_CODE_A;break;case r.CODE_CODE_A:g=r.CODE_CODE_A;break;case r.CODE_CODE_C:g=r.CODE_CODE_C;break;case r.CODE_STOP:y=!0;break}break;case r.CODE_CODE_C:if(b<100)b<10&&(p+="0"),p+=b;else switch(b!==r.CODE_STOP&&(C=!1),b){case r.CODE_FNC_1:s&&(p.length===0?p+="]C1":p+="");break;case r.CODE_CODE_A:g=r.CODE_CODE_A;break;case r.CODE_CODE_B:g=r.CODE_CODE_B;break;case r.CODE_STOP:y=!0;break}break}R&&(g=g===r.CODE_CODE_A?r.CODE_CODE_B:r.CODE_CODE_A)}var L=v-m;if(v=t.getNextUnset(v),!t.isRange(v,Math.min(t.getSize(),v+(v-m)/2),!1))throw new Ze;if(E-=S*x,E%103!==x)throw new vn;var F=p.length;if(F===0)throw new Ze;F>0&&C&&(g===r.CODE_CODE_C?p=p.substring(0,F-2):p=p.substring(0,F-1));for(var I=(o[1]+o[0])/2,G=m+L/2,P=d.length,X=new Uint8Array(P),V=0;V<P;V++)X[V]=d[V];var H=[new Et(I,n),new Et(G,n)];return new Nn(p,X,0,H,Rt.CODE_128,new Date().getTime())},r.CODE_PATTERNS=[Int32Array.from([2,1,2,2,2,2]),Int32Array.from([2,2,2,1,2,2]),Int32Array.from([2,2,2,2,2,1]),Int32Array.from([1,2,1,2,2,3]),Int32Array.from([1,2,1,3,2,2]),Int32Array.from([1,3,1,2,2,2]),Int32Array.from([1,2,2,2,1,3]),Int32Array.from([1,2,2,3,1,2]),Int32Array.from([1,3,2,2,1,2]),Int32Array.from([2,2,1,2,1,3]),Int32Array.from([2,2,1,3,1,2]),Int32Array.from([2,3,1,2,1,2]),Int32Array.from([1,1,2,2,3,2]),Int32Array.from([1,2,2,1,3,2]),Int32Array.from([1,2,2,2,3,1]),Int32Array.from([1,1,3,2,2,2]),Int32Array.from([1,2,3,1,2,2]),Int32Array.from([1,2,3,2,2,1]),Int32Array.from([2,2,3,2,1,1]),Int32Array.from([2,2,1,1,3,2]),Int32Array.from([2,2,1,2,3,1]),Int32Array.from([2,1,3,2,1,2]),Int32Array.from([2,2,3,1,1,2]),Int32Array.from([3,1,2,1,3,1]),Int32Array.from([3,1,1,2,2,2]),Int32Array.from([3,2,1,1,2,2]),Int32Array.from([3,2,1,2,2,1]),Int32Array.from([3,1,2,2,1,2]),Int32Array.from([3,2,2,1,1,2]),Int32Array.from([3,2,2,2,1,1]),Int32Array.from([2,1,2,1,2,3]),Int32Array.from([2,1,2,3,2,1]),Int32Array.from([2,3,2,1,2,1]),Int32Array.from([1,1,1,3,2,3]),Int32Array.from([1,3,1,1,2,3]),Int32Array.from([1,3,1,3,2,1]),Int32Array.from([1,1,2,3,1,3]),Int32Array.from([1,3,2,1,1,3]),Int32Array.from([1,3,2,3,1,1]),Int32Array.from([2,1,1,3,1,3]),Int32Array.from([2,3,1,1,1,3]),Int32Array.from([2,3,1,3,1,1]),Int32Array.from([1,1,2,1,3,3]),Int32Array.from([1,1,2,3,3,1]),Int32Array.from([1,3,2,1,3,1]),Int32Array.from([1,1,3,1,2,3]),Int32Array.from([1,1,3,3,2,1]),Int32Array.from([1,3,3,1,2,1]),Int32Array.from([3,1,3,1,2,1]),Int32Array.from([2,1,1,3,3,1]),Int32Array.from([2,3,1,1,3,1]),Int32Array.from([2,1,3,1,1,3]),Int32Array.from([2,1,3,3,1,1]),Int32Array.from([2,1,3,1,3,1]),Int32Array.from([3,1,1,1,2,3]),Int32Array.from([3,1,1,3,2,1]),Int32Array.from([3,3,1,1,2,1]),Int32Array.from([3,1,2,1,1,3]),Int32Array.from([3,1,2,3,1,1]),Int32Array.from([3,3,2,1,1,1]),Int32Array.from([3,1,4,1,1,1]),Int32Array.from([2,2,1,4,1,1]),Int32Array.from([4,3,1,1,1,1]),Int32Array.from([1,1,1,2,2,4]),Int32Array.from([1,1,1,4,2,2]),Int32Array.from([1,2,1,1,2,4]),Int32Array.from([1,2,1,4,2,1]),Int32Array.from([1,4,1,1,2,2]),Int32Array.from([1,4,1,2,2,1]),Int32Array.from([1,1,2,2,1,4]),Int32Array.from([1,1,2,4,1,2]),Int32Array.from([1,2,2,1,1,4]),Int32Array.from([1,2,2,4,1,1]),Int32Array.from([1,4,2,1,1,2]),Int32Array.from([1,4,2,2,1,1]),Int32Array.from([2,4,1,2,1,1]),Int32Array.from([2,2,1,1,1,4]),Int32Array.from([4,1,3,1,1,1]),Int32Array.from([2,4,1,1,1,2]),Int32Array.from([1,3,4,1,1,1]),Int32Array.from([1,1,1,2,4,2]),Int32Array.from([1,2,1,1,4,2]),Int32Array.from([1,2,1,2,4,1]),Int32Array.from([1,1,4,2,1,2]),Int32Array.from([1,2,4,1,1,2]),Int32Array.from([1,2,4,2,1,1]),Int32Array.from([4,1,1,2,1,2]),Int32Array.from([4,2,1,1,1,2]),Int32Array.from([4,2,1,2,1,1]),Int32Array.from([2,1,2,1,4,1]),Int32Array.from([2,1,4,1,2,1]),Int32Array.from([4,1,2,1,2,1]),Int32Array.from([1,1,1,1,4,3]),Int32Array.from([1,1,1,3,4,1]),Int32Array.from([1,3,1,1,4,1]),Int32Array.from([1,1,4,1,1,3]),Int32Array.from([1,1,4,3,1,1]),Int32Array.from([4,1,1,1,1,3]),Int32Array.from([4,1,1,3,1,1]),Int32Array.from([1,1,3,1,4,1]),Int32Array.from([1,1,4,1,3,1]),Int32Array.from([3,1,1,1,4,1]),Int32Array.from([4,1,1,1,3,1]),Int32Array.from([2,1,1,4,1,2]),Int32Array.from([2,1,1,2,1,4]),Int32Array.from([2,1,1,2,3,2]),Int32Array.from([2,3,3,1,1,1,2])],r.MAX_AVG_VARIANCE=.25,r.MAX_INDIVIDUAL_VARIANCE=.7,r.CODE_SHIFT=98,r.CODE_CODE_C=99,r.CODE_CODE_B=100,r.CODE_CODE_A=101,r.CODE_FNC_1=102,r.CODE_FNC_2=97,r.CODE_FNC_3=96,r.CODE_FNC_4_A=101,r.CODE_FNC_4_B=100,r.CODE_START_A=103,r.CODE_START_B=104,r.CODE_START_C=105,r.CODE_STOP=106,r}(fn),j0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Lf=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},xm=function(a){j0(r,a);function r(n,t){n===void 0&&(n=!1),t===void 0&&(t=!1);var l=a.call(this)||this;return l.usingCheckDigit=n,l.extendedMode=t,l.decodeRowResult="",l.counters=new Int32Array(9),l}return r.prototype.decodeRow=function(n,t,l){var s,o,u,c,d=this.counters;d.fill(0),this.decodeRowResult="";var g=r.findAsteriskPattern(t,d),y=t.getNextSet(g[1]),h=t.getSize(),p,m;do{r.recordPattern(t,y,d);var v=r.toNarrowWidePattern(d);if(v<0)throw new Ze;p=r.patternToChar(v),this.decodeRowResult+=p,m=y;try{for(var _=(s=void 0,Lf(d)),x=_.next();!x.done;x=_.next()){var b=x.value;y+=b}}catch(P){s={error:P}}finally{try{x&&!x.done&&(o=_.return)&&o.call(_)}finally{if(s)throw s.error}}y=t.getNextSet(y)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var S=Lf(d),C=S.next();!C.done;C=S.next()){var b=C.value;E+=b}}catch(P){u={error:P}}finally{try{C&&!C.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}var D=y-m-E;if(y!==h&&D*2<E)throw new Ze;if(this.usingCheckDigit){for(var M=this.decodeRowResult.length-1,R=0,L=0;L<M;L++)R+=r.ALPHABET_STRING.indexOf(this.decodeRowResult.charAt(L));if(this.decodeRowResult.charAt(M)!==r.ALPHABET_STRING.charAt(R%43))throw new vn;this.decodeRowResult=this.decodeRowResult.substring(0,M)}if(this.decodeRowResult.length===0)throw new Ze;var F;this.extendedMode?F=r.decodeExtended(this.decodeRowResult):F=this.decodeRowResult;var I=(g[1]+g[0])/2,G=m+E/2;return new Nn(F,null,0,[new Et(I,n),new Et(G,n)],Rt.CODE_39,new Date().getTime())},r.findAsteriskPattern=function(n,t){for(var l=n.getSize(),s=n.getNextSet(0),o=0,u=s,c=!1,d=t.length,g=s;g<l;g++)if(n.get(g)!==c)t[o]++;else{if(o===d-1){if(this.toNarrowWidePattern(t)===r.ASTERISK_ENCODING&&n.isRange(Math.max(0,u-Math.floor((g-u)/2)),u,!1))return[u,g];u+=t[0]+t[1],t.copyWithin(0,2,2+o-1),t[o-1]=0,t[o]=0,o--}else o++;t[o]=1,c=!c}throw new Ze},r.toNarrowWidePattern=function(n){var t,l,s=n.length,o=0,u;do{var c=2147483647;try{for(var d=(t=void 0,Lf(n)),g=d.next();!g.done;g=d.next()){var y=g.value;y<c&&y>o&&(c=y)}}catch(v){t={error:v}}finally{try{g&&!g.done&&(l=d.return)&&l.call(d)}finally{if(t)throw t.error}}o=c,u=0;for(var h=0,p=0,m=0;m<s;m++){var y=n[m];y>o&&(p|=1<<s-1-m,u++,h+=y)}if(u===3){for(var m=0;m<s&&u>0;m++){var y=n[m];if(y>o&&(u--,y*2>=h))return-1}return p}}while(u>3);return-1},r.patternToChar=function(n){for(var t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===n)return r.ALPHABET_STRING.charAt(t);if(n===r.ASTERISK_ENCODING)return"*";throw new Ze},r.decodeExtended=function(n){for(var t=n.length,l="",s=0;s<t;s++){var o=n.charAt(s);if(o==="+"||o==="$"||o==="%"||o==="/"){var u=n.charAt(s+1),c="\0";switch(o){case"+":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new mt;break;case"$":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new mt;break;case"%":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u==="X"||u==="Y"||u==="Z")c="";else throw new mt;break;case"/":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new mt;break}l+=c,s++}else l+=o}return l},r.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%",r.CHARACTER_ENCODINGS=[52,289,97,352,49,304,112,37,292,100,265,73,328,25,280,88,13,268,76,28,259,67,322,19,274,82,7,262,70,22,385,193,448,145,400,208,133,388,196,168,162,138,42],r.ASTERISK_ENCODING=148,r}(fn),C0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),kf=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},_m=function(a){C0(r,a);function r(){var n=a.call(this)||this;return n.decodeRowResult="",n.counters=new Int32Array(6),n}return r.prototype.decodeRow=function(n,t,l){var s,o,u,c,d=this.findAsteriskPattern(t),g=t.getNextSet(d[1]),y=t.getSize(),h=this.counters;h.fill(0),this.decodeRowResult="";var p,m;do{r.recordPattern(t,g,h);var v=this.toPattern(h);if(v<0)throw new Ze;p=this.patternToChar(v),this.decodeRowResult+=p,m=g;try{for(var _=(s=void 0,kf(h)),x=_.next();!x.done;x=_.next()){var b=x.value;g+=b}}catch(L){s={error:L}}finally{try{x&&!x.done&&(o=_.return)&&o.call(_)}finally{if(s)throw s.error}}g=t.getNextSet(g)}while(p!=="*");this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-1);var E=0;try{for(var S=kf(h),C=S.next();!C.done;C=S.next()){var b=C.value;E+=b}}catch(L){u={error:L}}finally{try{C&&!C.done&&(c=S.return)&&c.call(S)}finally{if(u)throw u.error}}if(g===y||!t.get(g))throw new Ze;if(this.decodeRowResult.length<2)throw new Ze;this.checkChecksums(this.decodeRowResult),this.decodeRowResult=this.decodeRowResult.substring(0,this.decodeRowResult.length-2);var D=this.decodeExtended(this.decodeRowResult),M=(d[1]+d[0])/2,R=m+E/2;return new Nn(D,null,0,[new Et(M,n),new Et(R,n)],Rt.CODE_93,new Date().getTime())},r.prototype.findAsteriskPattern=function(n){var t=n.getSize(),l=n.getNextSet(0);this.counters.fill(0);for(var s=this.counters,o=l,u=!1,c=s.length,d=0,g=l;g<t;g++)if(n.get(g)!==u)s[d]++;else{if(d===c-1){if(this.toPattern(s)===r.ASTERISK_ENCODING)return new Int32Array([o,g]);o+=s[0]+s[1],s.copyWithin(0,2,2+d-1),s[d-1]=0,s[d]=0,d--}else d++;s[d]=1,u=!u}throw new Ze},r.prototype.toPattern=function(n){var t,l,s=0;try{for(var o=kf(n),u=o.next();!u.done;u=o.next()){var c=u.value;s+=c}}catch(m){t={error:m}}finally{try{u&&!u.done&&(l=o.return)&&l.call(o)}finally{if(t)throw t.error}}for(var d=0,g=n.length,y=0;y<g;y++){var h=Math.round(n[y]*9/s);if(h<1||h>4)return-1;if(y&1)d<<=h;else for(var p=0;p<h;p++)d=d<<1|1}return d},r.prototype.patternToChar=function(n){for(var t=0;t<r.CHARACTER_ENCODINGS.length;t++)if(r.CHARACTER_ENCODINGS[t]===n)return r.ALPHABET_STRING.charAt(t);throw new Ze},r.prototype.decodeExtended=function(n){for(var t=n.length,l="",s=0;s<t;s++){var o=n.charAt(s);if(o>="a"&&o<="d"){if(s>=t-1)throw new mt;var u=n.charAt(s+1),c="\0";switch(o){case"d":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)+32);else throw new mt;break;case"a":if(u>="A"&&u<="Z")c=String.fromCharCode(u.charCodeAt(0)-64);else throw new mt;break;case"b":if(u>="A"&&u<="E")c=String.fromCharCode(u.charCodeAt(0)-38);else if(u>="F"&&u<="J")c=String.fromCharCode(u.charCodeAt(0)-11);else if(u>="K"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)+16);else if(u>="P"&&u<="T")c=String.fromCharCode(u.charCodeAt(0)+43);else if(u==="U")c="\0";else if(u==="V")c="@";else if(u==="W")c="`";else if(u>="X"&&u<="Z")c="";else throw new mt;break;case"c":if(u>="A"&&u<="O")c=String.fromCharCode(u.charCodeAt(0)-32);else if(u==="Z")c=":";else throw new mt;break}l+=c,s++}else l+=o}return l},r.prototype.checkChecksums=function(n){var t=n.length;this.checkOneChecksum(n,t-2,20),this.checkOneChecksum(n,t-1,15)},r.prototype.checkOneChecksum=function(n,t,l){for(var s=1,o=0,u=t-1;u>=0;u--)o+=s*r.ALPHABET_STRING.indexOf(n.charAt(u)),++s>l&&(s=1);if(n.charAt(t)!==r.ALPHABET_STRING[o%47])throw new vn},r.ALPHABET_STRING="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ-. $/+%abcd*",r.CHARACTER_ENCODINGS=[276,328,324,322,296,292,290,336,274,266,424,420,418,404,402,394,360,356,354,308,282,344,332,326,300,278,436,434,428,422,406,410,364,358,310,314,302,468,466,458,366,374,430,294,474,470,306,350],r.ASTERISK_ENCODING=r.CHARACTER_ENCODINGS[47],r}(fn),T0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),O0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},wm=function(a){T0(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.narrowLineWidth=-1,n}return r.prototype.decodeRow=function(n,t,l){var s,o,u=this.decodeStart(t),c=this.decodeEnd(t),d=new Vt;r.decodeMiddle(t,u[1],c[0],d);var g=d.toString(),y=null;l!=null&&(y=l.get(Ir.ALLOWED_LENGTHS)),y==null&&(y=r.DEFAULT_ALLOWED_LENGTHS);var h=g.length,p=!1,m=0;try{for(var v=O0(y),_=v.next();!_.done;_=v.next()){var x=_.value;if(h===x){p=!0;break}x>m&&(m=x)}}catch(S){s={error:S}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}if(!p&&h>m&&(p=!0),!p)throw new mt;var b=[new Et(u[1],n),new Et(c[0],n)],E=new Nn(g,null,0,b,Rt.ITF,new Date().getTime());return E},r.decodeMiddle=function(n,t,l,s){var o=new Int32Array(10),u=new Int32Array(5),c=new Int32Array(5);for(o.fill(0),u.fill(0),c.fill(0);t<l;){fn.recordPattern(n,t,o);for(var d=0;d<5;d++){var g=2*d;u[d]=o[g],c[d]=o[g+1]}var y=r.decodeDigit(u);s.append(y.toString()),y=this.decodeDigit(c),s.append(y.toString()),o.forEach(function(h){t+=h})}},r.prototype.decodeStart=function(n){var t=r.skipWhiteSpace(n),l=r.findGuardPattern(n,t,r.START_PATTERN);return this.narrowLineWidth=(l[1]-l[0])/4,this.validateQuietZone(n,l[0]),l},r.prototype.validateQuietZone=function(n,t){var l=this.narrowLineWidth*10;l=l<t?l:t;for(var s=t-1;l>0&&s>=0&&!n.get(s);s--)l--;if(l!==0)throw new Ze},r.skipWhiteSpace=function(n){var t=n.getSize(),l=n.getNextSet(0);if(l===t)throw new Ze;return l},r.prototype.decodeEnd=function(n){n.reverse();try{var t=r.skipWhiteSpace(n),l=void 0;try{l=r.findGuardPattern(n,t,r.END_PATTERN_REVERSED[0])}catch(o){o instanceof Ze&&(l=r.findGuardPattern(n,t,r.END_PATTERN_REVERSED[1]))}this.validateQuietZone(n,l[0]);var s=l[0];return l[0]=n.getSize()-l[1],l[1]=n.getSize()-s,l}finally{n.reverse()}},r.findGuardPattern=function(n,t,l){var s=l.length,o=new Int32Array(s),u=n.getSize(),c=!1,d=0,g=t;o.fill(0);for(var y=t;y<u;y++)if(n.get(y)!==c)o[d]++;else{if(d===s-1){if(fn.patternMatchVariance(o,l,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return[g,y];g+=o[0]+o[1],Tr.arraycopy(o,2,o,0,d-1),o[d-1]=0,o[d]=0,d--}else d++;o[d]=1,c=!c}throw new Ze},r.decodeDigit=function(n){for(var t=r.MAX_AVG_VARIANCE,l=-1,s=r.PATTERNS.length,o=0;o<s;o++){var u=r.PATTERNS[o],c=fn.patternMatchVariance(n,u,r.MAX_INDIVIDUAL_VARIANCE);c<t?(t=c,l=o):c===t&&(l=-1)}if(l>=0)return l%10;throw new Ze},r.PATTERNS=[Int32Array.from([1,1,2,2,1]),Int32Array.from([2,1,1,1,2]),Int32Array.from([1,2,1,1,2]),Int32Array.from([2,2,1,1,1]),Int32Array.from([1,1,2,1,2]),Int32Array.from([2,1,2,1,1]),Int32Array.from([1,2,2,1,1]),Int32Array.from([1,1,1,2,2]),Int32Array.from([2,1,1,2,1]),Int32Array.from([1,2,1,2,1]),Int32Array.from([1,1,3,3,1]),Int32Array.from([3,1,1,1,3]),Int32Array.from([1,3,1,1,3]),Int32Array.from([3,3,1,1,1]),Int32Array.from([1,1,3,1,3]),Int32Array.from([3,1,3,1,1]),Int32Array.from([1,3,3,1,1]),Int32Array.from([1,1,1,3,3]),Int32Array.from([3,1,1,3,1]),Int32Array.from([1,3,1,3,1])],r.MAX_AVG_VARIANCE=.38,r.MAX_INDIVIDUAL_VARIANCE=.5,r.DEFAULT_ALLOWED_LENGTHS=[6,8,10,12,14],r.START_PATTERN=Int32Array.from([1,1,1,1]),r.END_PATTERN_REVERSED=[Int32Array.from([1,1,2]),Int32Array.from([1,1,3])],r}(fn),M0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),es=function(a){M0(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.decodeRowStringBuffer="",n}return r.findStartGuardPattern=function(n){for(var t=!1,l,s=0,o=Int32Array.from([0,0,0]);!t;){o=Int32Array.from([0,0,0]),l=r.findGuardPattern(n,s,!1,this.START_END_PATTERN,o);var u=l[0];s=l[1];var c=u-(s-u);c>=0&&(t=n.isRange(c,u,!1))}return l},r.checkChecksum=function(n){return r.checkStandardUPCEANChecksum(n)},r.checkStandardUPCEANChecksum=function(n){var t=n.length;if(t===0)return!1;var l=parseInt(n.charAt(t-1),10);return r.getStandardUPCEANChecksum(n.substring(0,t-1))===l},r.getStandardUPCEANChecksum=function(n){for(var t=n.length,l=0,s=t-1;s>=0;s-=2){var o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new mt;l+=o}l*=3;for(var s=t-2;s>=0;s-=2){var o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new mt;l+=o}return(1e3-l)%10},r.decodeEnd=function(n,t){return r.findGuardPattern(n,t,!1,r.START_END_PATTERN,new Int32Array(r.START_END_PATTERN.length).fill(0))},r.findGuardPatternWithoutCounters=function(n,t,l,s){return this.findGuardPattern(n,t,l,s,new Int32Array(s.length))},r.findGuardPattern=function(n,t,l,s,o){var u=n.getSize();t=l?n.getNextUnset(t):n.getNextSet(t);for(var c=0,d=t,g=s.length,y=l,h=t;h<u;h++)if(n.get(h)!==y)o[c]++;else{if(c===g-1){if(fn.patternMatchVariance(o,s,r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return Int32Array.from([d,h]);d+=o[0]+o[1];for(var p=o.slice(2,o.length),m=0;m<c-1;m++)o[m]=p[m];o[c-1]=0,o[c]=0,c--}else c++;o[c]=1,y=!y}throw new Ze},r.decodeDigit=function(n,t,l,s){this.recordPattern(n,l,t);for(var o=this.MAX_AVG_VARIANCE,u=-1,c=s.length,d=0;d<c;d++){var g=s[d],y=fn.patternMatchVariance(t,g,r.MAX_INDIVIDUAL_VARIANCE);y<o&&(o=y,u=d)}if(u>=0)return u;throw new Ze},r.MAX_AVG_VARIANCE=.48,r.MAX_INDIVIDUAL_VARIANCE=.7,r.START_END_PATTERN=Int32Array.from([1,1,1]),r.MIDDLE_PATTERN=Int32Array.from([1,1,1,1,1]),r.END_PATTERN=Int32Array.from([1,1,1,1,1,1]),r.L_PATTERNS=[Int32Array.from([3,2,1,1]),Int32Array.from([2,2,2,1]),Int32Array.from([2,1,2,2]),Int32Array.from([1,4,1,1]),Int32Array.from([1,1,3,2]),Int32Array.from([1,2,3,1]),Int32Array.from([1,1,1,4]),Int32Array.from([1,3,1,2]),Int32Array.from([1,2,1,3]),Int32Array.from([3,1,1,2])],r}(fn),D0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},R0=function(){function a(){this.CHECK_DIGIT_ENCODINGS=[24,20,18,17,12,6,3,10,9,5],this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return a.prototype.decodeRow=function(r,n,t){var l=this.decodeRowStringBuffer,s=this.decodeMiddle(n,t,l),o=l.toString(),u=a.parseExtensionString(o),c=[new Et((t[0]+t[1])/2,r),new Et(s,r)],d=new Nn(o,null,0,c,Rt.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d},a.prototype.decodeMiddle=function(r,n,t){var l,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=r.getSize(),c=n[1],d=0,g=0;g<5&&c<u;g++){var y=es.decodeDigit(r,o,c,es.L_AND_G_PATTERNS);t+=String.fromCharCode(48+y%10);try{for(var h=(l=void 0,D0(o)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(_){l={error:_}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}y>=10&&(d|=1<<4-g),g!==4&&(c=r.getNextSet(c),c=r.getNextUnset(c))}if(t.length!==5)throw new Ze;var v=this.determineCheckDigit(d);if(a.extensionChecksum(t.toString())!==v)throw new Ze;return c},a.extensionChecksum=function(r){for(var n=r.length,t=0,l=n-2;l>=0;l-=2)t+=r.charAt(l).charCodeAt(0)-48;t*=3;for(var l=n-1;l>=0;l-=2)t+=r.charAt(l).charCodeAt(0)-48;return t*=3,t%10},a.prototype.determineCheckDigit=function(r){for(var n=0;n<10;n++)if(r===this.CHECK_DIGIT_ENCODINGS[n])return n;throw new Ze},a.parseExtensionString=function(r){if(r.length!==5)return null;var n=a.parseExtension5String(r);return n==null?null:new Map([[Cn.SUGGESTED_PRICE,n]])},a.parseExtension5String=function(r){var n;switch(r.charAt(0)){case"0":n="";break;case"5":n="$";break;case"9":switch(r){case"90000":return null;case"99991":return"0.00";case"99990":return"Used"}n="";break;default:n="";break}var t=parseInt(r.substring(1)),l=(t/100).toString(),s=t%100,o=s<10?"0"+s:s.toString();return n+l+"."+o},a}(),I0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},N0=function(){function a(){this.decodeMiddleCounters=Int32Array.from([0,0,0,0]),this.decodeRowStringBuffer=""}return a.prototype.decodeRow=function(r,n,t){var l=this.decodeRowStringBuffer,s=this.decodeMiddle(n,t,l),o=l.toString(),u=a.parseExtensionString(o),c=[new Et((t[0]+t[1])/2,r),new Et(s,r)],d=new Nn(o,null,0,c,Rt.UPC_EAN_EXTENSION,new Date().getTime());return u!=null&&d.putAllMetadata(u),d},a.prototype.decodeMiddle=function(r,n,t){var l,s,o=this.decodeMiddleCounters;o[0]=0,o[1]=0,o[2]=0,o[3]=0;for(var u=r.getSize(),c=n[1],d=0,g=0;g<2&&c<u;g++){var y=es.decodeDigit(r,o,c,es.L_AND_G_PATTERNS);t+=String.fromCharCode(48+y%10);try{for(var h=(l=void 0,I0(o)),p=h.next();!p.done;p=h.next()){var m=p.value;c+=m}}catch(v){l={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}y>=10&&(d|=1<<1-g),g!==1&&(c=r.getNextSet(c),c=r.getNextUnset(c))}if(t.length!==2)throw new Ze;if(parseInt(t.toString())%4!==d)throw new Ze;return c},a.parseExtensionString=function(r){return r.length!==2?null:new Map([[Cn.ISSUE_NUMBER,parseInt(r)]])},a}(),L0=function(){function a(){}return a.decodeRow=function(r,n,t){var l=es.findGuardPattern(n,t,!1,this.EXTENSION_START_PATTERN,new Int32Array(this.EXTENSION_START_PATTERN.length).fill(0));try{var s=new R0;return s.decodeRow(r,n,l)}catch{var o=new N0;return o.decodeRow(r,n,l)}},a.EXTENSION_START_PATTERN=Int32Array.from([1,1,2]),a}(),k0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),ln=function(a){k0(r,a);function r(){var n=a.call(this)||this;n.decodeRowStringBuffer="",r.L_AND_G_PATTERNS=r.L_PATTERNS.map(function(u){return Int32Array.from(u)});for(var t=10;t<20;t++){for(var l=r.L_PATTERNS[t-10],s=new Int32Array(l.length),o=0;o<l.length;o++)s[o]=l[l.length-o-1];r.L_AND_G_PATTERNS[t]=s}return n}return r.prototype.decodeRow=function(n,t,l){var s=r.findStartGuardPattern(t),o=l==null?null:l.get(Ir.NEED_RESULT_POINT_CALLBACK);if(o!=null){var u=new Et((s[0]+s[1])/2,n);o.foundPossibleResultPoint(u)}var c=this.decodeMiddle(t,s,this.decodeRowStringBuffer),d=c.rowOffset,g=c.resultString;if(o!=null){var y=new Et(d,n);o.foundPossibleResultPoint(y)}var h=r.decodeEnd(t,d);if(o!=null){var p=new Et((h[0]+h[1])/2,n);o.foundPossibleResultPoint(p)}var m=h[1],v=m+(m-h[0]);if(v>=t.getSize()||!t.isRange(m,v,!1))throw new Ze;var _=g.toString();if(_.length<8)throw new mt;if(!r.checkChecksum(_))throw new vn;var x=(s[1]+s[0])/2,b=(h[1]+h[0])/2,E=this.getBarcodeFormat(),S=[new Et(x,n),new Et(b,n)],C=new Nn(_,null,0,S,E,new Date().getTime()),D=0;try{var M=L0.decodeRow(n,t,h[1]);C.putMetadata(Cn.UPC_EAN_EXTENSION,M.getText()),C.putAllMetadata(M.getResultMetadata()),C.addResultPoints(M.getResultPoints()),D=M.getText().length}catch{}var R=l==null?null:l.get(Ir.ALLOWED_EAN_EXTENSIONS);if(R!=null){var L=!1;for(var F in R)if(D.toString()===F){L=!0;break}if(!L)throw new Ze}return E===Rt.EAN_13||Rt.UPC_A,C},r.checkChecksum=function(n){return r.checkStandardUPCEANChecksum(n)},r.checkStandardUPCEANChecksum=function(n){var t=n.length;if(t===0)return!1;var l=parseInt(n.charAt(t-1),10);return r.getStandardUPCEANChecksum(n.substring(0,t-1))===l},r.getStandardUPCEANChecksum=function(n){for(var t=n.length,l=0,s=t-1;s>=0;s-=2){var o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new mt;l+=o}l*=3;for(var s=t-2;s>=0;s-=2){var o=n.charAt(s).charCodeAt(0)-48;if(o<0||o>9)throw new mt;l+=o}return(1e3-l)%10},r.decodeEnd=function(n,t){return r.findGuardPattern(n,t,!1,r.START_END_PATTERN,new Int32Array(r.START_END_PATTERN.length).fill(0))},r}(es),P0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Sm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Kf=function(a){P0(r,a);function r(){var n=a.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return r.prototype.decodeMiddle=function(n,t,l){var s,o,u,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var g=n.getSize(),y=t[1],h=0,p=0;p<6&&y<g;p++){var m=ln.decodeDigit(n,d,y,ln.L_AND_G_PATTERNS);l+=String.fromCharCode(48+m%10);try{for(var v=(s=void 0,Sm(d)),_=v.next();!_.done;_=v.next()){var x=_.value;y+=x}}catch(C){s={error:C}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}m>=10&&(h|=1<<5-p)}l=r.determineFirstDigit(l,h);var b=ln.findGuardPattern(n,y,!0,ln.MIDDLE_PATTERN,new Int32Array(ln.MIDDLE_PATTERN.length).fill(0));y=b[1];for(var p=0;p<6&&y<g;p++){var m=ln.decodeDigit(n,d,y,ln.L_PATTERNS);l+=String.fromCharCode(48+m);try{for(var E=(u=void 0,Sm(d)),S=E.next();!S.done;S=E.next()){var x=S.value;y+=x}}catch(M){u={error:M}}finally{try{S&&!S.done&&(c=E.return)&&c.call(E)}finally{if(u)throw u.error}}}return{rowOffset:y,resultString:l}},r.prototype.getBarcodeFormat=function(){return Rt.EAN_13},r.determineFirstDigit=function(n,t){for(var l=0;l<10;l++)if(t===this.FIRST_DIGIT_ENCODINGS[l])return n=String.fromCharCode(48+l)+n,n;throw new Ze},r.FIRST_DIGIT_ENCODINGS=[0,11,13,14,19,25,28,21,22,26],r}(ln),B0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Em=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Am=function(a){B0(r,a);function r(){var n=a.call(this)||this;return n.decodeMiddleCounters=Int32Array.from([0,0,0,0]),n}return r.prototype.decodeMiddle=function(n,t,l){var s,o,u,c,d=this.decodeMiddleCounters;d[0]=0,d[1]=0,d[2]=0,d[3]=0;for(var g=n.getSize(),y=t[1],h=0;h<4&&y<g;h++){var p=ln.decodeDigit(n,d,y,ln.L_PATTERNS);l+=String.fromCharCode(48+p);try{for(var m=(s=void 0,Em(d)),v=m.next();!v.done;v=m.next()){var _=v.value;y+=_}}catch(S){s={error:S}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}}var x=ln.findGuardPattern(n,y,!0,ln.MIDDLE_PATTERN,new Int32Array(ln.MIDDLE_PATTERN.length).fill(0));y=x[1];for(var h=0;h<4&&y<g;h++){var p=ln.decodeDigit(n,d,y,ln.L_PATTERNS);l+=String.fromCharCode(48+p);try{for(var b=(u=void 0,Em(d)),E=b.next();!E.done;E=b.next()){var _=E.value;y+=_}}catch(D){u={error:D}}finally{try{E&&!E.done&&(c=b.return)&&c.call(b)}finally{if(u)throw u.error}}}return{rowOffset:y,resultString:l}},r.prototype.getBarcodeFormat=function(){return Rt.EAN_8},r}(ln),F0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),jm=function(a){F0(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.ean13Reader=new Kf,n}return r.prototype.getBarcodeFormat=function(){return Rt.UPC_A},r.prototype.decode=function(n,t){return this.maybeReturnResult(this.ean13Reader.decode(n))},r.prototype.decodeRow=function(n,t,l){return this.maybeReturnResult(this.ean13Reader.decodeRow(n,t,l))},r.prototype.decodeMiddle=function(n,t,l){return this.ean13Reader.decodeMiddle(n,t,l)},r.prototype.maybeReturnResult=function(n){var t=n.getText();if(t.charAt(0)==="0"){var l=new Nn(t.substring(1),null,null,n.getResultPoints(),Rt.UPC_A);return n.getResultMetadata()!=null&&l.putAllMetadata(n.getResultMetadata()),l}else throw new Ze},r.prototype.reset=function(){this.ean13Reader.reset()},r}(ln),U0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),G0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Cm=function(a){U0(r,a);function r(){var n=a.call(this)||this;return n.decodeMiddleCounters=new Int32Array(4),n}return r.prototype.decodeMiddle=function(n,t,l){var s,o,u=this.decodeMiddleCounters.map(function(_){return _});u[0]=0,u[1]=0,u[2]=0,u[3]=0;for(var c=n.getSize(),d=t[1],g=0,y=0;y<6&&d<c;y++){var h=r.decodeDigit(n,u,d,r.L_AND_G_PATTERNS);l+=String.fromCharCode(48+h%10);try{for(var p=(s=void 0,G0(u)),m=p.next();!m.done;m=p.next()){var v=m.value;d+=v}}catch(_){s={error:_}}finally{try{m&&!m.done&&(o=p.return)&&o.call(p)}finally{if(s)throw s.error}}h>=10&&(g|=1<<5-y)}return r.determineNumSysAndCheckDigit(new Vt(l),g),d},r.prototype.decodeEnd=function(n,t){return r.findGuardPatternWithoutCounters(n,t,!0,r.MIDDLE_END_PATTERN)},r.prototype.checkChecksum=function(n){return ln.checkChecksum(r.convertUPCEtoUPCA(n))},r.determineNumSysAndCheckDigit=function(n,t){for(var l=0;l<=1;l++)for(var s=0;s<10;s++)if(t===this.NUMSYS_AND_CHECK_DIGIT_PATTERNS[l][s]){n.insert(0,"0"+l),n.append("0"+s);return}throw Ze.getNotFoundInstance()},r.prototype.getBarcodeFormat=function(){return Rt.UPC_E},r.convertUPCEtoUPCA=function(n){var t=n.slice(1,7).split("").map(function(o){return o.charCodeAt(0)}),l=new Vt;l.append(n.charAt(0));var s=t[5];switch(s){case 0:case 1:case 2:l.appendChars(t,0,2),l.append(s),l.append("0000"),l.appendChars(t,2,3);break;case 3:l.appendChars(t,0,3),l.append("00000"),l.appendChars(t,3,2);break;case 4:l.appendChars(t,0,4),l.append("00000"),l.append(t[4]);break;default:l.appendChars(t,0,5),l.append("0000"),l.append(s);break}return n.length>=8&&l.append(n.charAt(7)),l.toString()},r.MIDDLE_END_PATTERN=Int32Array.from([1,1,1,1,1,1]),r.NUMSYS_AND_CHECK_DIGIT_PATTERNS=[Int32Array.from([56,52,50,49,44,38,35,42,41,37]),Int32Array.from([7,11,13,14,19,25,28,21,22,1])],r}(ln),z0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Tm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Pf=function(a){z0(r,a);function r(n){var t=a.call(this)||this,l=n==null?null:n.get(Ir.POSSIBLE_FORMATS),s=[];return l!=null&&(l.indexOf(Rt.EAN_13)>-1&&s.push(new Kf),l.indexOf(Rt.UPC_A)>-1&&s.push(new jm),l.indexOf(Rt.EAN_8)>-1&&s.push(new Am),l.indexOf(Rt.UPC_E)>-1&&s.push(new Cm)),s.length===0&&(s.push(new Kf),s.push(new jm),s.push(new Am),s.push(new Cm)),t.readers=s,t}return r.prototype.decodeRow=function(n,t,l){var s,o;try{for(var u=Tm(this.readers),c=u.next();!c.done;c=u.next()){var d=c.value;try{var g=d.decodeRow(n,t,l),y=g.getBarcodeFormat()===Rt.EAN_13&&g.getText().charAt(0)==="0",h=l==null?null:l.get(Ir.POSSIBLE_FORMATS),p=h==null||h.includes(Rt.UPC_A);if(y&&p){var m=g.getRawBytes(),v=new Nn(g.getText().substring(1),m,m?m.length:null,g.getResultPoints(),Rt.UPC_A);return v.putAllMetadata(g.getResultMetadata()),v}return g}catch{}}}catch(_){s={error:_}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(s)throw s.error}}throw new Ze},r.prototype.reset=function(){var n,t;try{for(var l=Tm(this.readers),s=l.next();!s.done;s=l.next()){var o=s.value;o.reset()}}catch(u){n={error:u}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}},r}(fn),V0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),H0=function(a){V0(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.CODA_BAR_CHAR_SET={nnnnnww:"0",nnnnwwn:"1",nnnwnnw:"2",wwnnnnn:"3",nnwnnwn:"4",wnnnnwn:"5",nwnnnnw:"6",nwnnwnn:"7",nwwnnnn:"8",wnnwnnn:"9",nnnwwnn:"-",nnwwnnn:"$",wnnnwnw:":",wnwnnnw:"/",wnwnwnn:".",nnwwwww:"+",nnwwnwn:"A",nwnwnnw:"B",nnnwnww:"C",nnnwwwn:"D"},n}return r.prototype.decodeRow=function(n,t,l){var s=this.getValidRowData(t);if(!s)throw new Ze;var o=this.codaBarDecodeRow(s.row);if(!o)throw new Ze;return new Nn(o,null,0,[new Et(s.left,n),new Et(s.right,n)],Rt.CODABAR,new Date().getTime())},r.prototype.getValidRowData=function(n){var t=n.toArray(),l=t.indexOf(!0);if(l===-1)return null;var s=t.lastIndexOf(!0);if(s<=l)return null;t=t.slice(l,s+1);for(var o=[],u=t[0],c=1,d=1;d<t.length;d++)t[d]===u?c++:(u=t[d],o.push(c),c=1);return o.push(c),o.length<23&&(o.length+1)%8!==0?null:{row:o,left:l,right:s}},r.prototype.codaBarDecodeRow=function(n){for(var t=[],l=Math.ceil(n.reduce(function(c,d){return(c+d)/2},0));n.length>0;){var s=n.splice(0,8).splice(0,7),o=s.map(function(c){return c<l?"n":"w"}).join("");if(this.CODA_BAR_CHAR_SET[o]===void 0)return null;t.push(this.CODA_BAR_CHAR_SET[o])}var u=t.join("");return this.validCodaBarString(u)?u:null},r.prototype.validCodaBarString=function(n){var t=/^[A-D].{1,}[A-D]$/;return t.test(n)},r}(fn),X0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),W0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},po=function(a){X0(r,a);function r(){var n=a.call(this)||this;return n.decodeFinderCounters=new Int32Array(4),n.dataCharacterCounters=new Int32Array(8),n.oddRoundingErrors=new Array(4),n.evenRoundingErrors=new Array(4),n.oddCounts=new Array(n.dataCharacterCounters.length/2),n.evenCounts=new Array(n.dataCharacterCounters.length/2),n}return r.prototype.getDecodeFinderCounters=function(){return this.decodeFinderCounters},r.prototype.getDataCharacterCounters=function(){return this.dataCharacterCounters},r.prototype.getOddRoundingErrors=function(){return this.oddRoundingErrors},r.prototype.getEvenRoundingErrors=function(){return this.evenRoundingErrors},r.prototype.getOddCounts=function(){return this.oddCounts},r.prototype.getEvenCounts=function(){return this.evenCounts},r.prototype.parseFinderValue=function(n,t){for(var l=0;l<t.length;l++)if(fn.patternMatchVariance(n,t[l],r.MAX_INDIVIDUAL_VARIANCE)<r.MAX_AVG_VARIANCE)return l;throw new Ze},r.count=function(n){return rr.sum(new Int32Array(n))},r.increment=function(n,t){for(var l=0,s=t[0],o=1;o<n.length;o++)t[o]>s&&(s=t[o],l=o);n[l]++},r.decrement=function(n,t){for(var l=0,s=t[0],o=1;o<n.length;o++)t[o]<s&&(s=t[o],l=o);n[l]--},r.isFinderPattern=function(n){var t,l,s=n[0]+n[1],o=s+n[2]+n[3],u=s/o;if(u>=r.MIN_FINDER_PATTERN_RATIO&&u<=r.MAX_FINDER_PATTERN_RATIO){var c=Number.MAX_SAFE_INTEGER,d=Number.MIN_SAFE_INTEGER;try{for(var g=W0(n),y=g.next();!y.done;y=g.next()){var h=y.value;h>d&&(d=h),h<c&&(c=h)}}catch(p){t={error:p}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(t)throw t.error}}return d<10*c}return!1},r.MAX_AVG_VARIANCE=.2,r.MAX_INDIVIDUAL_VARIANCE=.45,r.MIN_FINDER_PATTERN_RATIO=9.5/12,r.MAX_FINDER_PATTERN_RATIO=12.5/14,r}(fn),Mu=function(){function a(r,n){this.value=r,this.checksumPortion=n}return a.prototype.getValue=function(){return this.value},a.prototype.getChecksumPortion=function(){return this.checksumPortion},a.prototype.toString=function(){return this.value+"("+this.checksumPortion+")"},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.value===n.value&&this.checksumPortion===n.checksumPortion},a.prototype.hashCode=function(){return this.value^this.checksumPortion},a}(),$m=function(){function a(r,n,t,l,s){this.value=r,this.startEnd=n,this.value=r,this.startEnd=n,this.resultPoints=new Array,this.resultPoints.push(new Et(t,s)),this.resultPoints.push(new Et(l,s))}return a.prototype.getValue=function(){return this.value},a.prototype.getStartEnd=function(){return this.startEnd},a.prototype.getResultPoints=function(){return this.resultPoints},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.value===n.value},a.prototype.hashCode=function(){return this.value},a}(),q0=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Jo=function(){function a(){}return a.getRSSvalue=function(r,n,t){var l,s,o=0;try{for(var u=q0(r),c=u.next();!c.done;c=u.next()){var d=c.value;o+=d}}catch(b){l={error:b}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(l)throw l.error}}for(var g=0,y=0,h=r.length,p=0;p<h-1;p++){var m=void 0;for(m=1,y|=1<<p;m<r[p];m++,y&=~(1<<p)){var v=a.combins(o-m-1,h-p-2);if(t&&y===0&&o-m-(h-p-1)>=h-p-1&&(v-=a.combins(o-m-(h-p),h-p-2)),h-p-1>1){for(var _=0,x=o-m-(h-p-2);x>n;x--)_+=a.combins(o-m-x-1,h-p-3);v-=_*(h-1-p)}else o-m>n&&v--;g+=v}o-=m}return g},a.combins=function(r,n){var t,l;r-n>n?(l=n,t=r-n):(l=r-n,t=n);for(var s=1,o=1,u=r;u>t;u--)s*=u,o<=l&&(s/=o,o++);for(;o<=l;)s/=o,o++;return s},a}(),Y0=function(){function a(){}return a.buildBitArray=function(r){var n=r.length*2-1;r[r.length-1].getRightChar()==null&&(n-=1);for(var t=12*n,l=new bn(t),s=0,o=r[0],u=o.getRightChar().getValue(),c=11;c>=0;--c)u&1<<c&&l.set(s),s++;for(var c=1;c<r.length;++c){for(var d=r[c],g=d.getLeftChar().getValue(),y=11;y>=0;--y)g&1<<y&&l.set(s),s++;if(d.getRightChar()!==null)for(var h=d.getRightChar().getValue(),y=11;y>=0;--y)h&1<<y&&l.set(s),s++}return l},a}(),fo=function(){function a(r,n){n?this.decodedInformation=null:(this.finished=r,this.decodedInformation=n)}return a.prototype.getDecodedInformation=function(){return this.decodedInformation},a.prototype.isFinished=function(){return this.finished},a}(),cd=function(){function a(r){this.newPosition=r}return a.prototype.getNewPosition=function(){return this.newPosition},a}(),Z0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Sa=function(a){Z0(r,a);function r(n,t){var l=a.call(this,n)||this;return l.value=t,l}return r.prototype.getValue=function(){return this.value},r.prototype.isFNC1=function(){return this.value===r.FNC1},r.FNC1="$",r}(cd),K0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),ho=function(a){K0(r,a);function r(n,t,l){var s=a.call(this,n)||this;return l?(s.remaining=!0,s.remainingValue=s.remainingValue):(s.remaining=!1,s.remainingValue=0),s.newString=t,s}return r.prototype.getNewString=function(){return this.newString},r.prototype.isRemaining=function(){return this.remaining},r.prototype.getRemainingValue=function(){return this.remainingValue},r}(cd),Q0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ko=function(a){Q0(r,a);function r(n,t,l){var s=a.call(this,n)||this;if(t<0||t>10||l<0||l>10)throw new mt;return s.firstDigit=t,s.secondDigit=l,s}return r.prototype.getFirstDigit=function(){return this.firstDigit},r.prototype.getSecondDigit=function(){return this.secondDigit},r.prototype.getValue=function(){return this.firstDigit*10+this.secondDigit},r.prototype.isFirstDigitFNC1=function(){return this.firstDigit===r.FNC1},r.prototype.isSecondDigitFNC1=function(){return this.secondDigit===r.FNC1},r.prototype.isAnyFNC1=function(){return this.firstDigit===r.FNC1||this.secondDigit===r.FNC1},r.FNC1=10,r}(cd),Su=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},J0=function(){function a(){}return a.parseFieldsInGeneralPurpose=function(r){var n,t,l,s,o,u,c,d;if(!r)return null;if(r.length<2)throw new Ze;var g=r.substring(0,2);try{for(var y=Su(a.TWO_DIGIT_DATA_LENGTH),h=y.next();!h.done;h=y.next()){var p=h.value;if(p[0]===g)return p[1]===a.VARIABLE_LENGTH?a.processVariableAI(2,p[2],r):a.processFixedAI(2,p[1],r)}}catch(D){n={error:D}}finally{try{h&&!h.done&&(t=y.return)&&t.call(y)}finally{if(n)throw n.error}}if(r.length<3)throw new Ze;var m=r.substring(0,3);try{for(var v=Su(a.THREE_DIGIT_DATA_LENGTH),_=v.next();!_.done;_=v.next()){var p=_.value;if(p[0]===m)return p[1]===a.VARIABLE_LENGTH?a.processVariableAI(3,p[2],r):a.processFixedAI(3,p[1],r)}}catch(D){l={error:D}}finally{try{_&&!_.done&&(s=v.return)&&s.call(v)}finally{if(l)throw l.error}}try{for(var x=Su(a.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH),b=x.next();!b.done;b=x.next()){var p=b.value;if(p[0]===m)return p[1]===a.VARIABLE_LENGTH?a.processVariableAI(4,p[2],r):a.processFixedAI(4,p[1],r)}}catch(D){o={error:D}}finally{try{b&&!b.done&&(u=x.return)&&u.call(x)}finally{if(o)throw o.error}}if(r.length<4)throw new Ze;var E=r.substring(0,4);try{for(var S=Su(a.FOUR_DIGIT_DATA_LENGTH),C=S.next();!C.done;C=S.next()){var p=C.value;if(p[0]===E)return p[1]===a.VARIABLE_LENGTH?a.processVariableAI(4,p[2],r):a.processFixedAI(4,p[1],r)}}catch(D){c={error:D}}finally{try{C&&!C.done&&(d=S.return)&&d.call(S)}finally{if(c)throw c.error}}throw new Ze},a.processFixedAI=function(r,n,t){if(t.length<r)throw new Ze;var l=t.substring(0,r);if(t.length<r+n)throw new Ze;var s=t.substring(r,r+n),o=t.substring(r+n),u="("+l+")"+s,c=a.parseFieldsInGeneralPurpose(o);return c==null?u:u+c},a.processVariableAI=function(r,n,t){var l=t.substring(0,r),s;t.length<r+n?s=t.length:s=r+n;var o=t.substring(r,s),u=t.substring(s),c="("+l+")"+o,d=a.parseFieldsInGeneralPurpose(u);return d==null?c:c+d},a.VARIABLE_LENGTH=[],a.TWO_DIGIT_DATA_LENGTH=[["00",18],["01",14],["02",14],["10",a.VARIABLE_LENGTH,20],["11",6],["12",6],["13",6],["15",6],["17",6],["20",2],["21",a.VARIABLE_LENGTH,20],["22",a.VARIABLE_LENGTH,29],["30",a.VARIABLE_LENGTH,8],["37",a.VARIABLE_LENGTH,8],["90",a.VARIABLE_LENGTH,30],["91",a.VARIABLE_LENGTH,30],["92",a.VARIABLE_LENGTH,30],["93",a.VARIABLE_LENGTH,30],["94",a.VARIABLE_LENGTH,30],["95",a.VARIABLE_LENGTH,30],["96",a.VARIABLE_LENGTH,30],["97",a.VARIABLE_LENGTH,3],["98",a.VARIABLE_LENGTH,30],["99",a.VARIABLE_LENGTH,30]],a.THREE_DIGIT_DATA_LENGTH=[["240",a.VARIABLE_LENGTH,30],["241",a.VARIABLE_LENGTH,30],["242",a.VARIABLE_LENGTH,6],["250",a.VARIABLE_LENGTH,30],["251",a.VARIABLE_LENGTH,30],["253",a.VARIABLE_LENGTH,17],["254",a.VARIABLE_LENGTH,20],["400",a.VARIABLE_LENGTH,30],["401",a.VARIABLE_LENGTH,30],["402",17],["403",a.VARIABLE_LENGTH,30],["410",13],["411",13],["412",13],["413",13],["414",13],["420",a.VARIABLE_LENGTH,20],["421",a.VARIABLE_LENGTH,15],["422",3],["423",a.VARIABLE_LENGTH,15],["424",3],["425",3],["426",3]],a.THREE_DIGIT_PLUS_DIGIT_DATA_LENGTH=[["310",6],["311",6],["312",6],["313",6],["314",6],["315",6],["316",6],["320",6],["321",6],["322",6],["323",6],["324",6],["325",6],["326",6],["327",6],["328",6],["329",6],["330",6],["331",6],["332",6],["333",6],["334",6],["335",6],["336",6],["340",6],["341",6],["342",6],["343",6],["344",6],["345",6],["346",6],["347",6],["348",6],["349",6],["350",6],["351",6],["352",6],["353",6],["354",6],["355",6],["356",6],["357",6],["360",6],["361",6],["362",6],["363",6],["364",6],["365",6],["366",6],["367",6],["368",6],["369",6],["390",a.VARIABLE_LENGTH,15],["391",a.VARIABLE_LENGTH,18],["392",a.VARIABLE_LENGTH,15],["393",a.VARIABLE_LENGTH,18],["703",a.VARIABLE_LENGTH,30]],a.FOUR_DIGIT_DATA_LENGTH=[["7001",13],["7002",a.VARIABLE_LENGTH,30],["7003",10],["8001",14],["8002",a.VARIABLE_LENGTH,20],["8003",a.VARIABLE_LENGTH,30],["8004",a.VARIABLE_LENGTH,30],["8005",6],["8006",18],["8007",a.VARIABLE_LENGTH,30],["8008",a.VARIABLE_LENGTH,12],["8018",18],["8020",a.VARIABLE_LENGTH,25],["8100",6],["8101",10],["8102",2],["8110",a.VARIABLE_LENGTH,70],["8200",a.VARIABLE_LENGTH,70]],a}(),Tu=function(){function a(r){this.buffer=new Vt,this.information=r}return a.prototype.decodeAllCodes=function(r,n){var t=n,l=null;do{var s=this.decodeGeneralPurposeField(t,l),o=J0.parseFieldsInGeneralPurpose(s.getNewString());if(o!=null&&r.append(o),s.isRemaining()?l=""+s.getRemainingValue():l=null,t===s.getNewPosition())break;t=s.getNewPosition()}while(!0);return r.toString()},a.prototype.isStillNumeric=function(r){if(r+7>this.information.getSize())return r+4<=this.information.getSize();for(var n=r;n<r+3;++n)if(this.information.get(n))return!0;return this.information.get(r+3)},a.prototype.decodeNumeric=function(r){if(r+7>this.information.getSize()){var n=this.extractNumericValueFromBitArray(r,4);return n===0?new Ko(this.information.getSize(),Ko.FNC1,Ko.FNC1):new Ko(this.information.getSize(),n-1,Ko.FNC1)}var t=this.extractNumericValueFromBitArray(r,7),l=(t-8)/11,s=(t-8)%11;return new Ko(r+7,l,s)},a.prototype.extractNumericValueFromBitArray=function(r,n){return a.extractNumericValueFromBitArray(this.information,r,n)},a.extractNumericValueFromBitArray=function(r,n,t){for(var l=0,s=0;s<t;++s)r.get(n+s)&&(l|=1<<t-s-1);return l},a.prototype.decodeGeneralPurposeField=function(r,n){this.buffer.setLengthToZero(),n!=null&&this.buffer.append(n),this.current.setPosition(r);var t=this.parseBlocks();return t!=null&&t.isRemaining()?new ho(this.current.getPosition(),this.buffer.toString(),t.getRemainingValue()):new ho(this.current.getPosition(),this.buffer.toString())},a.prototype.parseBlocks=function(){var r,n;do{var t=this.current.getPosition();this.current.isAlpha()?(n=this.parseAlphaBlock(),r=n.isFinished()):this.current.isIsoIec646()?(n=this.parseIsoIec646Block(),r=n.isFinished()):(n=this.parseNumericBlock(),r=n.isFinished());var l=t!==this.current.getPosition();if(!l&&!r)break}while(!r);return n.getDecodedInformation()},a.prototype.parseNumericBlock=function(){for(;this.isStillNumeric(this.current.getPosition());){var r=this.decodeNumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFirstDigitFNC1()){var n=void 0;return r.isSecondDigitFNC1()?n=new ho(this.current.getPosition(),this.buffer.toString()):n=new ho(this.current.getPosition(),this.buffer.toString(),r.getSecondDigit()),new fo(!0,n)}if(this.buffer.append(r.getFirstDigit()),r.isSecondDigitFNC1()){var n=new ho(this.current.getPosition(),this.buffer.toString());return new fo(!0,n)}this.buffer.append(r.getSecondDigit())}return this.isNumericToAlphaNumericLatch(this.current.getPosition())&&(this.current.setAlpha(),this.current.incrementPosition(4)),new fo(!1)},a.prototype.parseIsoIec646Block=function(){for(;this.isStillIsoIec646(this.current.getPosition());){var r=this.decodeIsoIec646(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){var n=new ho(this.current.getPosition(),this.buffer.toString());return new fo(!0,n)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setAlpha()),new fo(!1)},a.prototype.parseAlphaBlock=function(){for(;this.isStillAlpha(this.current.getPosition());){var r=this.decodeAlphanumeric(this.current.getPosition());if(this.current.setPosition(r.getNewPosition()),r.isFNC1()){var n=new ho(this.current.getPosition(),this.buffer.toString());return new fo(!0,n)}this.buffer.append(r.getValue())}return this.isAlphaOr646ToNumericLatch(this.current.getPosition())?(this.current.incrementPosition(3),this.current.setNumeric()):this.isAlphaTo646ToAlphaLatch(this.current.getPosition())&&(this.current.getPosition()+5<this.information.getSize()?this.current.incrementPosition(5):this.current.setPosition(this.information.getSize()),this.current.setIsoIec646()),new fo(!1)},a.prototype.isStillIsoIec646=function(r){if(r+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(r,5);if(n>=5&&n<16)return!0;if(r+7>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(r,7);if(t>=64&&t<116)return!0;if(r+8>this.information.getSize())return!1;var l=this.extractNumericValueFromBitArray(r,8);return l>=232&&l<253},a.prototype.decodeIsoIec646=function(r){var n=this.extractNumericValueFromBitArray(r,5);if(n===15)return new Sa(r+5,Sa.FNC1);if(n>=5&&n<15)return new Sa(r+5,"0"+(n-5));var t=this.extractNumericValueFromBitArray(r,7);if(t>=64&&t<90)return new Sa(r+7,""+(t+1));if(t>=90&&t<116)return new Sa(r+7,""+(t+7));var l=this.extractNumericValueFromBitArray(r,8),s;switch(l){case 232:s="!";break;case 233:s='"';break;case 234:s="%";break;case 235:s="&";break;case 236:s="'";break;case 237:s="(";break;case 238:s=")";break;case 239:s="*";break;case 240:s="+";break;case 241:s=",";break;case 242:s="-";break;case 243:s=".";break;case 244:s="/";break;case 245:s=":";break;case 246:s=";";break;case 247:s="<";break;case 248:s="=";break;case 249:s=">";break;case 250:s="?";break;case 251:s="_";break;case 252:s=" ";break;default:throw new mt}return new Sa(r+8,s)},a.prototype.isStillAlpha=function(r){if(r+5>this.information.getSize())return!1;var n=this.extractNumericValueFromBitArray(r,5);if(n>=5&&n<16)return!0;if(r+6>this.information.getSize())return!1;var t=this.extractNumericValueFromBitArray(r,6);return t>=16&&t<63},a.prototype.decodeAlphanumeric=function(r){var n=this.extractNumericValueFromBitArray(r,5);if(n===15)return new Sa(r+5,Sa.FNC1);if(n>=5&&n<15)return new Sa(r+5,"0"+(n-5));var t=this.extractNumericValueFromBitArray(r,6);if(t>=32&&t<58)return new Sa(r+6,""+(t+33));var l;switch(t){case 58:l="*";break;case 59:l=",";break;case 60:l="-";break;case 61:l=".";break;case 62:l="/";break;default:throw new il("Decoding invalid alphanumeric value: "+t)}return new Sa(r+6,l)},a.prototype.isAlphaTo646ToAlphaLatch=function(r){if(r+1>this.information.getSize())return!1;for(var n=0;n<5&&n+r<this.information.getSize();++n)if(n===2){if(!this.information.get(r+2))return!1}else if(this.information.get(r+n))return!1;return!0},a.prototype.isAlphaOr646ToNumericLatch=function(r){if(r+3>this.information.getSize())return!1;for(var n=r;n<r+3;++n)if(this.information.get(n))return!1;return!0},a.prototype.isNumericToAlphaNumericLatch=function(r){if(r+1>this.information.getSize())return!1;for(var n=0;n<4&&n+r<this.information.getSize();++n)if(this.information.get(r+n))return!1;return!0},a}(),e1=function(){function a(r){this.information=r,this.generalDecoder=new Tu(r)}return a.prototype.getInformation=function(){return this.information},a.prototype.getGeneralDecoder=function(){return this.generalDecoder},a}(),$0=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Aa=function(a){$0(r,a);function r(n){return a.call(this,n)||this}return r.prototype.encodeCompressedGtin=function(n,t){n.append("(01)");var l=n.length();n.append("9"),this.encodeCompressedGtinWithoutAI(n,t,l)},r.prototype.encodeCompressedGtinWithoutAI=function(n,t,l){for(var s=0;s<4;++s){var o=this.getGeneralDecoder().extractNumericValueFromBitArray(t+10*s,10);o/100===0&&n.append("0"),o/10===0&&n.append("0"),n.append(o)}r.appendCheckDigit(n,l)},r.appendCheckDigit=function(n,t){for(var l=0,s=0;s<13;s++){var o=n.charAt(s+t).charCodeAt(0)-48;l+=s&1?o:3*o}l=10-l%10,l===10&&(l=0),n.append(l)},r.GTIN_SIZE=40,r}(e1),eg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),tg=function(a){eg(r,a);function r(n){return a.call(this,n)||this}return r.prototype.parseInformation=function(){var n=new Vt;n.append("(01)");var t=n.length(),l=this.getGeneralDecoder().extractNumericValueFromBitArray(r.HEADER_SIZE,4);return n.append(l),this.encodeCompressedGtinWithoutAI(n,r.HEADER_SIZE+4,t),this.getGeneralDecoder().decodeAllCodes(n,r.HEADER_SIZE+44)},r.HEADER_SIZE=4,r}(Aa),rg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),ng=function(a){rg(r,a);function r(n){return a.call(this,n)||this}return r.prototype.parseInformation=function(){var n=new Vt;return this.getGeneralDecoder().decodeAllCodes(n,r.HEADER_SIZE)},r.HEADER_SIZE=5,r}(e1),ag=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ou=function(a){ag(r,a);function r(n){return a.call(this,n)||this}return r.prototype.encodeCompressedWeight=function(n,t,l){var s=this.getGeneralDecoder().extractNumericValueFromBitArray(t,l);this.addWeightCode(n,s);for(var o=this.checkWeight(s),u=1e5,c=0;c<5;++c)o/u===0&&n.append("0"),u/=10;n.append(o)},r}(Aa),ig=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),t1=function(a){ig(r,a);function r(n){return a.call(this,n)||this}return r.prototype.parseInformation=function(){if(this.getInformation().getSize()!==r.HEADER_SIZE+Ou.GTIN_SIZE+r.WEIGHT_SIZE)throw new Ze;var n=new Vt;return this.encodeCompressedGtin(n,r.HEADER_SIZE),this.encodeCompressedWeight(n,r.HEADER_SIZE+Ou.GTIN_SIZE,r.WEIGHT_SIZE),n.toString()},r.HEADER_SIZE=5,r.WEIGHT_SIZE=15,r}(Ou),og=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),sg=function(a){og(r,a);function r(n){return a.call(this,n)||this}return r.prototype.addWeightCode=function(n,t){n.append("(3103)")},r.prototype.checkWeight=function(n){return n},r}(t1),lg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),ug=function(a){lg(r,a);function r(n){return a.call(this,n)||this}return r.prototype.addWeightCode=function(n,t){t<1e4?n.append("(3202)"):n.append("(3203)")},r.prototype.checkWeight=function(n){return n<1e4?n:n-1e4},r}(t1),cg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),fg=function(a){cg(r,a);function r(n){return a.call(this,n)||this}return r.prototype.parseInformation=function(){if(this.getInformation().getSize()<r.HEADER_SIZE+Aa.GTIN_SIZE)throw new Ze;var n=new Vt;this.encodeCompressedGtin(n,r.HEADER_SIZE);var t=this.getGeneralDecoder().extractNumericValueFromBitArray(r.HEADER_SIZE+Aa.GTIN_SIZE,r.LAST_DIGIT_SIZE);n.append("(392"),n.append(t),n.append(")");var l=this.getGeneralDecoder().decodeGeneralPurposeField(r.HEADER_SIZE+Aa.GTIN_SIZE+r.LAST_DIGIT_SIZE,null);return n.append(l.getNewString()),n.toString()},r.HEADER_SIZE=8,r.LAST_DIGIT_SIZE=2,r}(Aa),dg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),hg=function(a){dg(r,a);function r(n){return a.call(this,n)||this}return r.prototype.parseInformation=function(){if(this.getInformation().getSize()<r.HEADER_SIZE+Aa.GTIN_SIZE)throw new Ze;var n=new Vt;this.encodeCompressedGtin(n,r.HEADER_SIZE);var t=this.getGeneralDecoder().extractNumericValueFromBitArray(r.HEADER_SIZE+Aa.GTIN_SIZE,r.LAST_DIGIT_SIZE);n.append("(393"),n.append(t),n.append(")");var l=this.getGeneralDecoder().extractNumericValueFromBitArray(r.HEADER_SIZE+Aa.GTIN_SIZE+r.LAST_DIGIT_SIZE,r.FIRST_THREE_DIGITS_SIZE);l/100===0&&n.append("0"),l/10===0&&n.append("0"),n.append(l);var s=this.getGeneralDecoder().decodeGeneralPurposeField(r.HEADER_SIZE+Aa.GTIN_SIZE+r.LAST_DIGIT_SIZE+r.FIRST_THREE_DIGITS_SIZE,null);return n.append(s.getNewString()),n.toString()},r.HEADER_SIZE=8,r.LAST_DIGIT_SIZE=2,r.FIRST_THREE_DIGITS_SIZE=10,r}(Aa),pg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ri=function(a){pg(r,a);function r(n,t,l){var s=a.call(this,n)||this;return s.dateCode=l,s.firstAIdigits=t,s}return r.prototype.parseInformation=function(){if(this.getInformation().getSize()!==r.HEADER_SIZE+r.GTIN_SIZE+r.WEIGHT_SIZE+r.DATE_SIZE)throw new Ze;var n=new Vt;return this.encodeCompressedGtin(n,r.HEADER_SIZE),this.encodeCompressedWeight(n,r.HEADER_SIZE+r.GTIN_SIZE,r.WEIGHT_SIZE),this.encodeCompressedDate(n,r.HEADER_SIZE+r.GTIN_SIZE+r.WEIGHT_SIZE),n.toString()},r.prototype.encodeCompressedDate=function(n,t){var l=this.getGeneralDecoder().extractNumericValueFromBitArray(t,r.DATE_SIZE);if(l!==38400){n.append("("),n.append(this.dateCode),n.append(")");var s=l%32;l/=32;var o=l%12+1;l/=12;var u=l;u/10===0&&n.append("0"),n.append(u),o/10===0&&n.append("0"),n.append(o),s/10===0&&n.append("0"),n.append(s)}},r.prototype.addWeightCode=function(n,t){n.append("("),n.append(this.firstAIdigits),n.append(t/1e5),n.append(")")},r.prototype.checkWeight=function(n){return n%1e5},r.HEADER_SIZE=8,r.WEIGHT_SIZE=20,r.DATE_SIZE=16,r}(Ou);function mg(a){try{if(a.get(1))return new tg(a);if(!a.get(2))return new ng(a);var r=Tu.extractNumericValueFromBitArray(a,1,4);switch(r){case 4:return new sg(a);case 5:return new ug(a)}var n=Tu.extractNumericValueFromBitArray(a,1,5);switch(n){case 12:return new fg(a);case 13:return new hg(a)}var t=Tu.extractNumericValueFromBitArray(a,1,7);switch(t){case 56:return new Ri(a,"310","11");case 57:return new Ri(a,"320","11");case 58:return new Ri(a,"310","13");case 59:return new Ri(a,"320","13");case 60:return new Ri(a,"310","15");case 61:return new Ri(a,"320","15");case 62:return new Ri(a,"310","17");case 63:return new Ri(a,"320","17")}}catch(l){throw console.log(l),new il("unknown decoder: "+a)}}var Om=function(){function a(r,n,t,l){this.leftchar=r,this.rightchar=n,this.finderpattern=t,this.maybeLast=l}return a.prototype.mayBeLast=function(){return this.maybeLast},a.prototype.getLeftChar=function(){return this.leftchar},a.prototype.getRightChar=function(){return this.rightchar},a.prototype.getFinderPattern=function(){return this.finderpattern},a.prototype.mustBeLast=function(){return this.rightchar==null},a.prototype.toString=function(){return"[ "+this.leftchar+", "+this.rightchar+" : "+(this.finderpattern==null?"null":this.finderpattern.getValue())+" ]"},a.equals=function(r,n){return r instanceof a?a.equalsOrNull(r.leftchar,n.leftchar)&&a.equalsOrNull(r.rightchar,n.rightchar)&&a.equalsOrNull(r.finderpattern,n.finderpattern):!1},a.equalsOrNull=function(r,n){return r===null?n===null:a.equals(r,n)},a.prototype.hashCode=function(){var r=this.leftchar.getValue()^this.rightchar.getValue()^this.finderpattern.getValue();return r},a}(),yg=function(){function a(r,n,t){this.pairs=r,this.rowNumber=n,this.wasReversed=t}return a.prototype.getPairs=function(){return this.pairs},a.prototype.getRowNumber=function(){return this.rowNumber},a.prototype.isReversed=function(){return this.wasReversed},a.prototype.isEquivalent=function(r){return this.checkEqualitity(this,r)},a.prototype.toString=function(){return"{ "+this.pairs+" }"},a.prototype.equals=function(r,n){return r instanceof a?this.checkEqualitity(r,n)&&r.wasReversed===n.wasReversed:!1},a.prototype.checkEqualitity=function(r,n){if(!(!r||!n)){var t;return r.forEach(function(l,s){n.forEach(function(o){l.getLeftChar().getValue()===o.getLeftChar().getValue()&&l.getRightChar().getValue()===o.getRightChar().getValue()&&l.getFinderPatter().getValue()===o.getFinderPatter().getValue()&&(t=!0)})}),t}},a}(),gg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ii=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},vg=function(a){gg(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.pairs=new Array(r.MAX_PAIRS),n.rows=new Array,n.startEnd=[2],n}return r.prototype.decodeRow=function(n,t,l){this.pairs.length=0,this.startFromEven=!1;try{return r.constructResult(this.decodeRow2pairs(n,t))}catch{}return this.pairs.length=0,this.startFromEven=!0,r.constructResult(this.decodeRow2pairs(n,t))},r.prototype.reset=function(){this.pairs.length=0,this.rows.length=0},r.prototype.decodeRow2pairs=function(n,t){for(var l=!1;!l;)try{this.pairs.push(this.retrieveNextPair(t,this.pairs,n))}catch(u){if(u instanceof Ze){if(!this.pairs.length)throw new Ze;l=!0}}if(this.checkChecksum())return this.pairs;var s;if(this.rows.length?s=!0:s=!1,this.storeRow(n,!1),s){var o=this.checkRowsBoolean(!1);if(o!=null||(o=this.checkRowsBoolean(!0),o!=null))return o}throw new Ze},r.prototype.checkRowsBoolean=function(n){if(this.rows.length>25)return this.rows.length=0,null;this.pairs.length=0,n&&(this.rows=this.rows.reverse());var t=null;try{t=this.checkRows(new Array,0)}catch(l){console.log(l)}return n&&(this.rows=this.rows.reverse()),t},r.prototype.checkRows=function(n,t){for(var l,s,o=t;o<this.rows.length;o++){var u=this.rows[o];this.pairs.length=0;try{for(var c=(l=void 0,Ii(n)),d=c.next();!d.done;d=c.next()){var g=d.value;this.pairs.push(g.getPairs())}}catch(h){l={error:h}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(l)throw l.error}}if(this.pairs.push(u.getPairs()),!!r.isValidSequence(this.pairs)){if(this.checkChecksum())return this.pairs;var y=new Array(n);y.push(u);try{return this.checkRows(y,o+1)}catch(h){console.log(h)}}}throw new Ze},r.isValidSequence=function(n){var t,l;try{for(var s=Ii(r.FINDER_PATTERN_SEQUENCES),o=s.next();!o.done;o=s.next()){var u=o.value;if(!(n.length>u.length)){for(var c=!0,d=0;d<n.length;d++)if(n[d].getFinderPattern().getValue()!==u[d]){c=!1;break}if(c)return!0}}}catch(g){t={error:g}}finally{try{o&&!o.done&&(l=s.return)&&l.call(s)}finally{if(t)throw t.error}}return!1},r.prototype.storeRow=function(n,t){for(var l=0,s=!1,o=!1;l<this.rows.length;){var u=this.rows[l];if(u.getRowNumber()>n){o=u.isEquivalent(this.pairs);break}s=u.isEquivalent(this.pairs),l++}o||s||r.isPartialRow(this.pairs,this.rows)||(this.rows.push(l,new yg(this.pairs,n,t)),this.removePartialRows(this.pairs,this.rows))},r.prototype.removePartialRows=function(n,t){var l,s,o,u,c,d;try{for(var g=Ii(t),y=g.next();!y.done;y=g.next()){var h=y.value;if(h.getPairs().length!==n.length){var p=!0;try{for(var m=(o=void 0,Ii(h.getPairs())),v=m.next();!v.done;v=m.next()){var _=v.value,x=!1;try{for(var b=(c=void 0,Ii(n)),E=b.next();!E.done;E=b.next()){var S=E.value;if(Om.equals(_,S)){x=!0;break}}}catch(C){c={error:C}}finally{try{E&&!E.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}x||(p=!1)}}catch(C){o={error:C}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}}}}catch(C){l={error:C}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(l)throw l.error}}},r.isPartialRow=function(n,t){var l,s,o,u,c,d;try{for(var g=Ii(t),y=g.next();!y.done;y=g.next()){var h=y.value,p=!0;try{for(var m=(o=void 0,Ii(n)),v=m.next();!v.done;v=m.next()){var _=v.value,x=!1;try{for(var b=(c=void 0,Ii(h.getPairs())),E=b.next();!E.done;E=b.next()){var S=E.value;if(_.equals(S)){x=!0;break}}}catch(C){c={error:C}}finally{try{E&&!E.done&&(d=b.return)&&d.call(b)}finally{if(c)throw c.error}}if(!x){p=!1;break}}}catch(C){o={error:C}}finally{try{v&&!v.done&&(u=m.return)&&u.call(m)}finally{if(o)throw o.error}}if(p)return!0}}catch(C){l={error:C}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(l)throw l.error}}return!1},r.prototype.getRows=function(){return this.rows},r.constructResult=function(n){var t=Y0.buildBitArray(n),l=mg(t),s=l.parseInformation(),o=n[0].getFinderPattern().getResultPoints(),u=n[n.length-1].getFinderPattern().getResultPoints(),c=[o[0],o[1],u[0],u[1]];return new Nn(s,null,null,c,Rt.RSS_EXPANDED,null)},r.prototype.checkChecksum=function(){var n=this.pairs.get(0),t=n.getLeftChar(),l=n.getRightChar();if(l===null)return!1;for(var s=l.getChecksumPortion(),o=2,u=1;u<this.pairs.size();++u){var c=this.pairs.get(u);s+=c.getLeftChar().getChecksumPortion(),o++;var d=c.getRightChar();d!=null&&(s+=d.getChecksumPortion(),o++)}s%=211;var g=211*(o-4)+s;return g===t.getValue()},r.getNextSecondBar=function(n,t){var l;return n.get(t)?(l=n.getNextUnset(t),l=n.getNextSet(l)):(l=n.getNextSet(t),l=n.getNextUnset(l)),l},r.prototype.retrieveNextPair=function(n,t,l){var s=t.length%2===0;this.startFromEven&&(s=!s);var o,u=!0,c=-1;do this.findNextPair(n,t,c),o=this.parseFoundFinderPattern(n,l,s),o===null?c=r.getNextSecondBar(n,this.startEnd[0]):u=!1;while(u);var d=this.decodeDataCharacter(n,o,s,!0);if(!this.isEmptyPair(t)&&t[t.length-1].mustBeLast())throw new Ze;var g;try{g=this.decodeDataCharacter(n,o,s,!1)}catch(y){g=null,console.log(y)}return new Om(d,g,o,!0)},r.prototype.isEmptyPair=function(n){return n.length===0},r.prototype.findNextPair=function(n,t,l){var s=this.getDecodeFinderCounters();s[0]=0,s[1]=0,s[2]=0,s[3]=0;var o=n.getSize(),u;if(l>=0)u=l;else if(this.isEmptyPair(t))u=0;else{var c=t[t.length-1];u=c.getFinderPattern().getStartEnd()[1]}var d=t.length%2!==0;this.startFromEven&&(d=!d);for(var g=!1;u<o&&(g=!n.get(u),!!g);)u++;for(var y=0,h=u,p=u;p<o;p++)if(n.get(p)!==g)s[y]++;else{if(y===3){if(d&&r.reverseCounters(s),r.isFinderPattern(s)){this.startEnd[0]=h,this.startEnd[1]=p;return}d&&r.reverseCounters(s),h+=s[0]+s[1],s[0]=s[2],s[1]=s[3],s[2]=0,s[3]=0,y--}else y++;s[y]=1,g=!g}throw new Ze},r.reverseCounters=function(n){for(var t=n.length,l=0;l<t/2;++l){var s=n[l];n[l]=n[t-l-1],n[t-l-1]=s}},r.prototype.parseFoundFinderPattern=function(n,t,l){var s,o,u;if(l){for(var c=this.startEnd[0]-1;c>=0&&!n.get(c);)c--;c++,s=this.startEnd[0]-c,o=c,u=this.startEnd[1]}else o=this.startEnd[0],u=n.getNextUnset(this.startEnd[1]+1),s=u-this.startEnd[1];var d=this.getDecodeFinderCounters();Tr.arraycopy(d,0,d,1,d.length-1),d[0]=s;var g;try{g=this.parseFinderValue(d,r.FINDER_PATTERNS)}catch{return null}return new $m(g,[o,u],o,u,t)},r.prototype.decodeDataCharacter=function(n,t,l,s){for(var o=this.getDataCharacterCounters(),u=0;u<o.length;u++)o[u]=0;if(s)r.recordPatternInReverse(n,t.getStartEnd()[0],o);else{r.recordPattern(n,t.getStartEnd()[1],o);for(var c=0,d=o.length-1;c<d;c++,d--){var g=o[c];o[c]=o[d],o[d]=g}}var y=17,h=rr.sum(new Int32Array(o))/y,p=(t.getStartEnd()[1]-t.getStartEnd()[0])/15;if(Math.abs(h-p)/p>.3)throw new Ze;for(var m=this.getOddCounts(),v=this.getEvenCounts(),_=this.getOddRoundingErrors(),x=this.getEvenRoundingErrors(),c=0;c<o.length;c++){var b=1*o[c]/h,E=b+.5;if(E<1){if(b<.3)throw new Ze;E=1}else if(E>8){if(b>8.7)throw new Ze;E=8}var S=c/2;c&1?(v[S]=E,x[S]=b-E):(m[S]=E,_[S]=b-E)}this.adjustOddEvenCounts(y);for(var C=4*t.getValue()+(l?0:2)+(s?0:1)-1,D=0,M=0,c=m.length-1;c>=0;c--){if(r.isNotA1left(t,l,s)){var R=r.WEIGHTS[C][2*c];M+=m[c]*R}D+=m[c]}for(var L=0,c=v.length-1;c>=0;c--)if(r.isNotA1left(t,l,s)){var R=r.WEIGHTS[C][2*c+1];L+=v[c]*R}var F=M+L;if(D&1||D>13||D<4)throw new Ze;var I=(13-D)/2,G=r.SYMBOL_WIDEST[I],P=9-G,X=Jo.getRSSvalue(m,G,!0),V=Jo.getRSSvalue(v,P,!1),H=r.EVEN_TOTAL_SUBSET[I],J=r.GSUM[I],Z=X*H+V+J;return new Mu(Z,F)},r.isNotA1left=function(n,t,l){return!(n.getValue()===0&&t&&l)},r.prototype.adjustOddEvenCounts=function(n){var t=rr.sum(new Int32Array(this.getOddCounts())),l=rr.sum(new Int32Array(this.getEvenCounts())),s=!1,o=!1;t>13?o=!0:t<4&&(s=!0);var u=!1,c=!1;l>13?c=!0:l<4&&(u=!0);var d=t+l-n,g=(t&1)===1,y=(l&1)===0;if(d===1)if(g){if(y)throw new Ze;o=!0}else{if(!y)throw new Ze;c=!0}else if(d===-1)if(g){if(y)throw new Ze;s=!0}else{if(!y)throw new Ze;u=!0}else if(d===0){if(g){if(!y)throw new Ze;t<l?(s=!0,c=!0):(o=!0,u=!0)}else if(y)throw new Ze}else throw new Ze;if(s){if(o)throw new Ze;r.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(o&&r.decrement(this.getOddCounts(),this.getOddRoundingErrors()),u){if(c)throw new Ze;r.increment(this.getEvenCounts(),this.getOddRoundingErrors())}c&&r.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},r.SYMBOL_WIDEST=[7,5,4,3,1],r.EVEN_TOTAL_SUBSET=[4,20,52,104,204],r.GSUM=[0,348,1388,2948,3988],r.FINDER_PATTERNS=[Int32Array.from([1,8,4,1]),Int32Array.from([3,6,4,1]),Int32Array.from([3,4,6,1]),Int32Array.from([3,2,8,1]),Int32Array.from([2,6,5,1]),Int32Array.from([2,2,9,1])],r.WEIGHTS=[[1,3,9,27,81,32,96,77],[20,60,180,118,143,7,21,63],[189,145,13,39,117,140,209,205],[193,157,49,147,19,57,171,91],[62,186,136,197,169,85,44,132],[185,133,188,142,4,12,36,108],[113,128,173,97,80,29,87,50],[150,28,84,41,123,158,52,156],[46,138,203,187,139,206,196,166],[76,17,51,153,37,111,122,155],[43,129,176,106,107,110,119,146],[16,48,144,10,30,90,59,177],[109,116,137,200,178,112,125,164],[70,210,208,202,184,130,179,115],[134,191,151,31,93,68,204,190],[148,22,66,198,172,94,71,2],[6,18,54,162,64,192,154,40],[120,149,25,75,14,42,126,167],[79,26,78,23,69,207,199,175],[103,98,83,38,114,131,182,124],[161,61,183,127,170,88,53,159],[55,165,73,8,24,72,5,15],[45,135,194,160,58,174,100,89]],r.FINDER_PAT_A=0,r.FINDER_PAT_B=1,r.FINDER_PAT_C=2,r.FINDER_PAT_D=3,r.FINDER_PAT_E=4,r.FINDER_PAT_F=5,r.FINDER_PATTERN_SEQUENCES=[[r.FINDER_PAT_A,r.FINDER_PAT_A],[r.FINDER_PAT_A,r.FINDER_PAT_B,r.FINDER_PAT_B],[r.FINDER_PAT_A,r.FINDER_PAT_C,r.FINDER_PAT_B,r.FINDER_PAT_D],[r.FINDER_PAT_A,r.FINDER_PAT_E,r.FINDER_PAT_B,r.FINDER_PAT_D,r.FINDER_PAT_C],[r.FINDER_PAT_A,r.FINDER_PAT_E,r.FINDER_PAT_B,r.FINDER_PAT_D,r.FINDER_PAT_D,r.FINDER_PAT_F],[r.FINDER_PAT_A,r.FINDER_PAT_E,r.FINDER_PAT_B,r.FINDER_PAT_D,r.FINDER_PAT_E,r.FINDER_PAT_F,r.FINDER_PAT_F],[r.FINDER_PAT_A,r.FINDER_PAT_A,r.FINDER_PAT_B,r.FINDER_PAT_B,r.FINDER_PAT_C,r.FINDER_PAT_C,r.FINDER_PAT_D,r.FINDER_PAT_D],[r.FINDER_PAT_A,r.FINDER_PAT_A,r.FINDER_PAT_B,r.FINDER_PAT_B,r.FINDER_PAT_C,r.FINDER_PAT_C,r.FINDER_PAT_D,r.FINDER_PAT_E,r.FINDER_PAT_E],[r.FINDER_PAT_A,r.FINDER_PAT_A,r.FINDER_PAT_B,r.FINDER_PAT_B,r.FINDER_PAT_C,r.FINDER_PAT_C,r.FINDER_PAT_D,r.FINDER_PAT_E,r.FINDER_PAT_F,r.FINDER_PAT_F],[r.FINDER_PAT_A,r.FINDER_PAT_A,r.FINDER_PAT_B,r.FINDER_PAT_B,r.FINDER_PAT_C,r.FINDER_PAT_D,r.FINDER_PAT_D,r.FINDER_PAT_E,r.FINDER_PAT_E,r.FINDER_PAT_F,r.FINDER_PAT_F]],r.MAX_PAIRS=11,r}(po),bg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),xg=function(a){bg(r,a);function r(n,t,l){var s=a.call(this,n,t)||this;return s.count=0,s.finderPattern=l,s}return r.prototype.getFinderPattern=function(){return this.finderPattern},r.prototype.getCount=function(){return this.count},r.prototype.incrementCount=function(){this.count++},r}(Mu),_g=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Bf=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Mm=function(a){_g(r,a);function r(){var n=a!==null&&a.apply(this,arguments)||this;return n.possibleLeftPairs=[],n.possibleRightPairs=[],n}return r.prototype.decodeRow=function(n,t,l){var s,o,u,c,d=this.decodePair(t,!1,n,l);r.addOrTally(this.possibleLeftPairs,d),t.reverse();var g=this.decodePair(t,!0,n,l);r.addOrTally(this.possibleRightPairs,g),t.reverse();try{for(var y=Bf(this.possibleLeftPairs),h=y.next();!h.done;h=y.next()){var p=h.value;if(p.getCount()>1)try{for(var m=(u=void 0,Bf(this.possibleRightPairs)),v=m.next();!v.done;v=m.next()){var _=v.value;if(_.getCount()>1&&r.checkChecksum(p,_))return r.constructResult(p,_)}}catch(x){u={error:x}}finally{try{v&&!v.done&&(c=m.return)&&c.call(m)}finally{if(u)throw u.error}}}}catch(x){s={error:x}}finally{try{h&&!h.done&&(o=y.return)&&o.call(y)}finally{if(s)throw s.error}}throw new Ze},r.addOrTally=function(n,t){var l,s;if(t!=null){var o=!1;try{for(var u=Bf(n),c=u.next();!c.done;c=u.next()){var d=c.value;if(d.getValue()===t.getValue()){d.incrementCount(),o=!0;break}}}catch(g){l={error:g}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(l)throw l.error}}o||n.push(t)}},r.prototype.reset=function(){this.possibleLeftPairs.length=0,this.possibleRightPairs.length=0},r.constructResult=function(n,t){for(var l=4537077*n.getValue()+t.getValue(),s=new String(l).toString(),o=new Vt,u=13-s.length;u>0;u--)o.append("0");o.append(s);for(var c=0,u=0;u<13;u++){var d=o.charAt(u).charCodeAt(0)-48;c+=u&1?d:3*d}c=10-c%10,c===10&&(c=0),o.append(c.toString());var g=n.getFinderPattern().getResultPoints(),y=t.getFinderPattern().getResultPoints();return new Nn(o.toString(),null,0,[g[0],g[1],y[0],y[1]],Rt.RSS_14,new Date().getTime())},r.checkChecksum=function(n,t){var l=(n.getChecksumPortion()+16*t.getChecksumPortion())%79,s=9*n.getFinderPattern().getValue()+t.getFinderPattern().getValue();return s>72&&s--,s>8&&s--,l===s},r.prototype.decodePair=function(n,t,l,s){try{var o=this.findFinderPattern(n,t),u=this.parseFoundFinderPattern(n,l,t,o),c=s==null?null:s.get(Ir.NEED_RESULT_POINT_CALLBACK);if(c!=null){var d=(o[0]+o[1])/2;t&&(d=n.getSize()-1-d),c.foundPossibleResultPoint(new Et(d,l))}var g=this.decodeDataCharacter(n,u,!0),y=this.decodeDataCharacter(n,u,!1);return new xg(1597*g.getValue()+y.getValue(),g.getChecksumPortion()+4*y.getChecksumPortion(),u)}catch{return null}},r.prototype.decodeDataCharacter=function(n,t,l){for(var s=this.getDataCharacterCounters(),o=0;o<s.length;o++)s[o]=0;if(l)fn.recordPatternInReverse(n,t.getStartEnd()[0],s);else{fn.recordPattern(n,t.getStartEnd()[1]+1,s);for(var u=0,c=s.length-1;u<c;u++,c--){var d=s[u];s[u]=s[c],s[c]=d}}for(var g=l?16:15,y=rr.sum(new Int32Array(s))/g,h=this.getOddCounts(),p=this.getEvenCounts(),m=this.getOddRoundingErrors(),v=this.getEvenRoundingErrors(),u=0;u<s.length;u++){var _=s[u]/y,x=Math.floor(_+.5);x<1?x=1:x>8&&(x=8);var b=Math.floor(u/2);u&1?(p[b]=x,v[b]=_-x):(h[b]=x,m[b]=_-x)}this.adjustOddEvenCounts(l,g);for(var E=0,S=0,u=h.length-1;u>=0;u--)S*=9,S+=h[u],E+=h[u];for(var C=0,D=0,u=p.length-1;u>=0;u--)C*=9,C+=p[u],D+=p[u];var M=S+3*C;if(l){if(E&1||E>12||E<4)throw new Ze;var R=(12-E)/2,L=r.OUTSIDE_ODD_WIDEST[R],F=9-L,I=Jo.getRSSvalue(h,L,!1),G=Jo.getRSSvalue(p,F,!0),P=r.OUTSIDE_EVEN_TOTAL_SUBSET[R],X=r.OUTSIDE_GSUM[R];return new Mu(I*P+G+X,M)}else{if(D&1||D>10||D<4)throw new Ze;var R=(10-D)/2,L=r.INSIDE_ODD_WIDEST[R],F=9-L,I=Jo.getRSSvalue(h,L,!0),G=Jo.getRSSvalue(p,F,!1),V=r.INSIDE_ODD_TOTAL_SUBSET[R],X=r.INSIDE_GSUM[R];return new Mu(G*V+I+X,M)}},r.prototype.findFinderPattern=function(n,t){var l=this.getDecodeFinderCounters();l[0]=0,l[1]=0,l[2]=0,l[3]=0;for(var s=n.getSize(),o=!1,u=0;u<s&&(o=!n.get(u),t!==o);)u++;for(var c=0,d=u,g=u;g<s;g++)if(n.get(g)!==o)l[c]++;else{if(c===3){if(po.isFinderPattern(l))return[d,g];d+=l[0]+l[1],l[0]=l[2],l[1]=l[3],l[2]=0,l[3]=0,c--}else c++;l[c]=1,o=!o}throw new Ze},r.prototype.parseFoundFinderPattern=function(n,t,l,s){for(var o=n.get(s[0]),u=s[0]-1;u>=0&&o!==n.get(u);)u--;u++;var c=s[0]-u,d=this.getDecodeFinderCounters(),g=new Int32Array(d.length);Tr.arraycopy(d,0,g,1,d.length-1),g[0]=c;var y=this.parseFinderValue(g,r.FINDER_PATTERNS),h=u,p=s[1];return l&&(h=n.getSize()-1-h,p=n.getSize()-1-p),new $m(y,[u,s[1]],h,p,t)},r.prototype.adjustOddEvenCounts=function(n,t){var l=rr.sum(new Int32Array(this.getOddCounts())),s=rr.sum(new Int32Array(this.getEvenCounts())),o=!1,u=!1,c=!1,d=!1;n?(l>12?u=!0:l<4&&(o=!0),s>12?d=!0:s<4&&(c=!0)):(l>11?u=!0:l<5&&(o=!0),s>10?d=!0:s<4&&(c=!0));var g=l+s-t,y=(l&1)===(n?1:0),h=(s&1)===1;if(g===1)if(y){if(h)throw new Ze;u=!0}else{if(!h)throw new Ze;d=!0}else if(g===-1)if(y){if(h)throw new Ze;o=!0}else{if(!h)throw new Ze;c=!0}else if(g===0){if(y){if(!h)throw new Ze;l<s?(o=!0,d=!0):(u=!0,c=!0)}else if(h)throw new Ze}else throw new Ze;if(o){if(u)throw new Ze;po.increment(this.getOddCounts(),this.getOddRoundingErrors())}if(u&&po.decrement(this.getOddCounts(),this.getOddRoundingErrors()),c){if(d)throw new Ze;po.increment(this.getEvenCounts(),this.getOddRoundingErrors())}d&&po.decrement(this.getEvenCounts(),this.getEvenRoundingErrors())},r.OUTSIDE_EVEN_TOTAL_SUBSET=[1,10,34,70,126],r.INSIDE_ODD_TOTAL_SUBSET=[4,20,48,81],r.OUTSIDE_GSUM=[0,161,961,2015,2715],r.INSIDE_GSUM=[0,336,1036,1516],r.OUTSIDE_ODD_WIDEST=[8,6,4,3,1],r.INSIDE_ODD_WIDEST=[2,4,6,8],r.FINDER_PATTERNS=[Int32Array.from([3,8,2,1]),Int32Array.from([3,5,5,1]),Int32Array.from([3,3,7,1]),Int32Array.from([3,1,9,1]),Int32Array.from([2,7,4,1]),Int32Array.from([2,5,6,1]),Int32Array.from([2,3,8,1]),Int32Array.from([1,5,7,1]),Int32Array.from([1,3,9,1])],r}(po),wg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),rl=function(a){wg(r,a);function r(n){var t=a.call(this)||this;t.readers=[];var l=n?n.get(Ir.POSSIBLE_FORMATS):null,s=n&&n.get(Ir.ASSUME_CODE_39_CHECK_DIGIT)!==void 0,o=n&&n.get(Ir.ENABLE_CODE_39_EXTENDED_MODE)!==void 0;return l&&((l.includes(Rt.EAN_13)||l.includes(Rt.UPC_A)||l.includes(Rt.EAN_8)||l.includes(Rt.UPC_E))&&t.readers.push(new Pf(n)),l.includes(Rt.CODE_39)&&t.readers.push(new xm(s,o)),l.includes(Rt.CODE_93)&&t.readers.push(new _m),l.includes(Rt.CODE_128)&&t.readers.push(new bm),l.includes(Rt.ITF)&&t.readers.push(new wm),l.includes(Rt.CODABAR)&&t.readers.push(new H0),l.includes(Rt.RSS_14)&&t.readers.push(new Mm),l.includes(Rt.RSS_EXPANDED)&&(console.warn("RSS Expanded reader IS NOT ready for production yet! use at your own risk."),t.readers.push(new vg))),t.readers.length===0&&(t.readers.push(new Pf(n)),t.readers.push(new xm),t.readers.push(new _m),t.readers.push(new Pf(n)),t.readers.push(new bm),t.readers.push(new wm),t.readers.push(new Mm)),t}return r.prototype.decodeRow=function(n,t,l){for(var s=0;s<this.readers.length;s++)try{return this.readers[s].decodeRow(n,t,l)}catch{}throw new Ze},r.prototype.reset=function(){this.readers.forEach(function(n){return n.reset()})},r}(fn),Sg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){Sg(r,a);function r(n,t){return n===void 0&&(n=500),a.call(this,new rl(t),n,t)||this}return r})(ts);var Dm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},cr=function(){function a(r,n,t){this.ecCodewords=r,this.ecBlocks=[n],t&&this.ecBlocks.push(t)}return a.prototype.getECCodewords=function(){return this.ecCodewords},a.prototype.getECBlocks=function(){return this.ecBlocks},a}(),or=function(){function a(r,n){this.count=r,this.dataCodewords=n}return a.prototype.getCount=function(){return this.count},a.prototype.getDataCodewords=function(){return this.dataCodewords},a}(),Eg=function(){function a(r,n,t,l,s,o){var u,c;this.versionNumber=r,this.symbolSizeRows=n,this.symbolSizeColumns=t,this.dataRegionSizeRows=l,this.dataRegionSizeColumns=s,this.ecBlocks=o;var d=0,g=o.getECCodewords(),y=o.getECBlocks();try{for(var h=Dm(y),p=h.next();!p.done;p=h.next()){var m=p.value;d+=m.getCount()*(m.getDataCodewords()+g)}}catch(v){u={error:v}}finally{try{p&&!p.done&&(c=h.return)&&c.call(h)}finally{if(u)throw u.error}}this.totalCodewords=d}return a.prototype.getVersionNumber=function(){return this.versionNumber},a.prototype.getSymbolSizeRows=function(){return this.symbolSizeRows},a.prototype.getSymbolSizeColumns=function(){return this.symbolSizeColumns},a.prototype.getDataRegionSizeRows=function(){return this.dataRegionSizeRows},a.prototype.getDataRegionSizeColumns=function(){return this.dataRegionSizeColumns},a.prototype.getTotalCodewords=function(){return this.totalCodewords},a.prototype.getECBlocks=function(){return this.ecBlocks},a.getVersionForDimensions=function(r,n){var t,l;if(r&1||n&1)throw new mt;try{for(var s=Dm(a.VERSIONS),o=s.next();!o.done;o=s.next()){var u=o.value;if(u.symbolSizeRows===r&&u.symbolSizeColumns===n)return u}}catch(c){t={error:c}}finally{try{o&&!o.done&&(l=s.return)&&l.call(s)}finally{if(t)throw t.error}}throw new mt},a.prototype.toString=function(){return""+this.versionNumber},a.buildVersions=function(){return[new a(1,10,10,8,8,new cr(5,new or(1,3))),new a(2,12,12,10,10,new cr(7,new or(1,5))),new a(3,14,14,12,12,new cr(10,new or(1,8))),new a(4,16,16,14,14,new cr(12,new or(1,12))),new a(5,18,18,16,16,new cr(14,new or(1,18))),new a(6,20,20,18,18,new cr(18,new or(1,22))),new a(7,22,22,20,20,new cr(20,new or(1,30))),new a(8,24,24,22,22,new cr(24,new or(1,36))),new a(9,26,26,24,24,new cr(28,new or(1,44))),new a(10,32,32,14,14,new cr(36,new or(1,62))),new a(11,36,36,16,16,new cr(42,new or(1,86))),new a(12,40,40,18,18,new cr(48,new or(1,114))),new a(13,44,44,20,20,new cr(56,new or(1,144))),new a(14,48,48,22,22,new cr(68,new or(1,174))),new a(15,52,52,24,24,new cr(42,new or(2,102))),new a(16,64,64,14,14,new cr(56,new or(2,140))),new a(17,72,72,16,16,new cr(36,new or(4,92))),new a(18,80,80,18,18,new cr(48,new or(4,114))),new a(19,88,88,20,20,new cr(56,new or(4,144))),new a(20,96,96,22,22,new cr(68,new or(4,174))),new a(21,104,104,24,24,new cr(56,new or(6,136))),new a(22,120,120,18,18,new cr(68,new or(6,175))),new a(23,132,132,20,20,new cr(62,new or(8,163))),new a(24,144,144,22,22,new cr(62,new or(8,156),new or(2,155))),new a(25,8,18,6,16,new cr(7,new or(1,5))),new a(26,8,32,6,14,new cr(11,new or(1,10))),new a(27,12,26,10,24,new cr(14,new or(1,16))),new a(28,12,36,10,16,new cr(18,new or(1,22))),new a(29,16,36,14,16,new cr(24,new or(1,32))),new a(30,16,48,14,22,new cr(28,new or(1,49)))]},a.VERSIONS=a.buildVersions(),a}(),Ag=function(){function a(r){var n=r.getHeight();if(n<8||n>144||n&1)throw new mt;this.version=a.readVersion(r),this.mappingBitMatrix=this.extractDataRegion(r),this.readMappingMatrix=new Pa(this.mappingBitMatrix.getWidth(),this.mappingBitMatrix.getHeight())}return a.prototype.getVersion=function(){return this.version},a.readVersion=function(r){var n=r.getHeight(),t=r.getWidth();return Eg.getVersionForDimensions(n,t)},a.prototype.readCodewords=function(){var r=new Int8Array(this.version.getTotalCodewords()),n=0,t=4,l=0,s=this.mappingBitMatrix.getHeight(),o=this.mappingBitMatrix.getWidth(),u=!1,c=!1,d=!1,g=!1;do if(t===s&&l===0&&!u)r[n++]=this.readCorner1(s,o)&255,t-=2,l+=2,u=!0;else if(t===s-2&&l===0&&o&3&&!c)r[n++]=this.readCorner2(s,o)&255,t-=2,l+=2,c=!0;else if(t===s+4&&l===2&&!(o&7)&&!d)r[n++]=this.readCorner3(s,o)&255,t-=2,l+=2,d=!0;else if(t===s-2&&l===0&&(o&7)===4&&!g)r[n++]=this.readCorner4(s,o)&255,t-=2,l+=2,g=!0;else{do t<s&&l>=0&&!this.readMappingMatrix.get(l,t)&&(r[n++]=this.readUtah(t,l,s,o)&255),t-=2,l+=2;while(t>=0&&l<o);t+=1,l+=3;do t>=0&&l<o&&!this.readMappingMatrix.get(l,t)&&(r[n++]=this.readUtah(t,l,s,o)&255),t+=2,l-=2;while(t<s&&l>=0);t+=3,l+=1}while(t<s||l<o);if(n!==this.version.getTotalCodewords())throw new mt;return r},a.prototype.readModule=function(r,n,t,l){return r<0&&(r+=t,n+=4-(t+4&7)),n<0&&(n+=l,r+=4-(l+4&7)),this.readMappingMatrix.set(n,r),this.mappingBitMatrix.get(n,r)},a.prototype.readUtah=function(r,n,t,l){var s=0;return this.readModule(r-2,n-2,t,l)&&(s|=1),s<<=1,this.readModule(r-2,n-1,t,l)&&(s|=1),s<<=1,this.readModule(r-1,n-2,t,l)&&(s|=1),s<<=1,this.readModule(r-1,n-1,t,l)&&(s|=1),s<<=1,this.readModule(r-1,n,t,l)&&(s|=1),s<<=1,this.readModule(r,n-2,t,l)&&(s|=1),s<<=1,this.readModule(r,n-1,t,l)&&(s|=1),s<<=1,this.readModule(r,n,t,l)&&(s|=1),s},a.prototype.readCorner1=function(r,n){var t=0;return this.readModule(r-1,0,r,n)&&(t|=1),t<<=1,this.readModule(r-1,1,r,n)&&(t|=1),t<<=1,this.readModule(r-1,2,r,n)&&(t|=1),t<<=1,this.readModule(0,n-2,r,n)&&(t|=1),t<<=1,this.readModule(0,n-1,r,n)&&(t|=1),t<<=1,this.readModule(1,n-1,r,n)&&(t|=1),t<<=1,this.readModule(2,n-1,r,n)&&(t|=1),t<<=1,this.readModule(3,n-1,r,n)&&(t|=1),t},a.prototype.readCorner2=function(r,n){var t=0;return this.readModule(r-3,0,r,n)&&(t|=1),t<<=1,this.readModule(r-2,0,r,n)&&(t|=1),t<<=1,this.readModule(r-1,0,r,n)&&(t|=1),t<<=1,this.readModule(0,n-4,r,n)&&(t|=1),t<<=1,this.readModule(0,n-3,r,n)&&(t|=1),t<<=1,this.readModule(0,n-2,r,n)&&(t|=1),t<<=1,this.readModule(0,n-1,r,n)&&(t|=1),t<<=1,this.readModule(1,n-1,r,n)&&(t|=1),t},a.prototype.readCorner3=function(r,n){var t=0;return this.readModule(r-1,0,r,n)&&(t|=1),t<<=1,this.readModule(r-1,n-1,r,n)&&(t|=1),t<<=1,this.readModule(0,n-3,r,n)&&(t|=1),t<<=1,this.readModule(0,n-2,r,n)&&(t|=1),t<<=1,this.readModule(0,n-1,r,n)&&(t|=1),t<<=1,this.readModule(1,n-3,r,n)&&(t|=1),t<<=1,this.readModule(1,n-2,r,n)&&(t|=1),t<<=1,this.readModule(1,n-1,r,n)&&(t|=1),t},a.prototype.readCorner4=function(r,n){var t=0;return this.readModule(r-3,0,r,n)&&(t|=1),t<<=1,this.readModule(r-2,0,r,n)&&(t|=1),t<<=1,this.readModule(r-1,0,r,n)&&(t|=1),t<<=1,this.readModule(0,n-2,r,n)&&(t|=1),t<<=1,this.readModule(0,n-1,r,n)&&(t|=1),t<<=1,this.readModule(1,n-1,r,n)&&(t|=1),t<<=1,this.readModule(2,n-1,r,n)&&(t|=1),t<<=1,this.readModule(3,n-1,r,n)&&(t|=1),t},a.prototype.extractDataRegion=function(r){var n=this.version.getSymbolSizeRows(),t=this.version.getSymbolSizeColumns();if(r.getHeight()!==n)throw new Nt("Dimension of bitMatrix must match the version size");for(var l=this.version.getDataRegionSizeRows(),s=this.version.getDataRegionSizeColumns(),o=n/l|0,u=t/s|0,c=o*l,d=u*s,g=new Pa(d,c),y=0;y<o;++y)for(var h=y*l,p=0;p<u;++p)for(var m=p*s,v=0;v<l;++v)for(var _=y*(l+2)+1+v,x=h+v,b=0;b<s;++b){var E=p*(s+2)+1+b;if(r.get(E,_)){var S=m+b;g.set(S,x)}}return g},a}(),Rm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},jg=function(){function a(r,n){this.numDataCodewords=r,this.codewords=n}return a.getDataBlocks=function(r,n){var t,l,s,o,u=n.getECBlocks(),c=0,d=u.getECBlocks();try{for(var g=Rm(d),y=g.next();!y.done;y=g.next()){var h=y.value;c+=h.getCount()}}catch(X){t={error:X}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(t)throw t.error}}var p=new Array(c),m=0;try{for(var v=Rm(d),_=v.next();!_.done;_=v.next())for(var h=_.value,x=0;x<h.getCount();x++){var b=h.getDataCodewords(),E=u.getECCodewords()+b;p[m++]=new a(b,new Uint8Array(E))}}catch(X){s={error:X}}finally{try{_&&!_.done&&(o=v.return)&&o.call(v)}finally{if(s)throw s.error}}for(var S=p[0].codewords.length,C=S-u.getECCodewords(),D=C-1,M=0,x=0;x<D;x++)for(var R=0;R<m;R++)p[R].codewords[x]=r[M++];for(var L=n.getVersionNumber()===24,F=L?8:m,R=0;R<F;R++)p[R].codewords[C-1]=r[M++];for(var I=p[0].codewords.length,x=C;x<I;x++)for(var R=0;R<m;R++){var G=L?(R+8)%m:R,P=L&&G>7?x-1:x;p[G].codewords[P]=r[M++]}if(M!==r.length)throw new Nt;return p},a.prototype.getNumDataCodewords=function(){return this.numDataCodewords},a.prototype.getCodewords=function(){return this.codewords},a}(),r1=function(){function a(r){this.bytes=r,this.byteOffset=0,this.bitOffset=0}return a.prototype.getBitOffset=function(){return this.bitOffset},a.prototype.getByteOffset=function(){return this.byteOffset},a.prototype.readBits=function(r){if(r<1||r>32||r>this.available())throw new Nt(""+r);var n=0,t=this.bitOffset,l=this.byteOffset,s=this.bytes;if(t>0){var o=8-t,u=r<o?r:o,c=o-u,d=255>>8-u<<c;n=(s[l]&d)>>c,r-=u,t+=u,t===8&&(t=0,l++)}if(r>0){for(;r>=8;)n=n<<8|s[l]&255,l++,r-=8;if(r>0){var c=8-r,d=255>>c<<c;n=n<<r|(s[l]&d)>>c,t+=r}}return this.bitOffset=t,this.byteOffset=l,n},a.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},a}(),on;(function(a){a[a.PAD_ENCODE=0]="PAD_ENCODE",a[a.ASCII_ENCODE=1]="ASCII_ENCODE",a[a.C40_ENCODE=2]="C40_ENCODE",a[a.TEXT_ENCODE=3]="TEXT_ENCODE",a[a.ANSIX12_ENCODE=4]="ANSIX12_ENCODE",a[a.EDIFACT_ENCODE=5]="EDIFACT_ENCODE",a[a.BASE256_ENCODE=6]="BASE256_ENCODE"})(on||(on={}));var Cg=function(){function a(){}return a.decode=function(r){var n=new r1(r),t=new Vt,l=new Vt,s=new Array,o=on.ASCII_ENCODE;do if(o===on.ASCII_ENCODE)o=this.decodeAsciiSegment(n,t,l);else{switch(o){case on.C40_ENCODE:this.decodeC40Segment(n,t);break;case on.TEXT_ENCODE:this.decodeTextSegment(n,t);break;case on.ANSIX12_ENCODE:this.decodeAnsiX12Segment(n,t);break;case on.EDIFACT_ENCODE:this.decodeEdifactSegment(n,t);break;case on.BASE256_ENCODE:this.decodeBase256Segment(n,t,s);break;default:throw new mt}o=on.ASCII_ENCODE}while(o!==on.PAD_ENCODE&&n.available()>0);return l.length()>0&&t.append(l.toString()),new Iu(r,t.toString(),s.length===0?null:s,null)},a.decodeAsciiSegment=function(r,n,t){var l=!1;do{var s=r.readBits(8);if(s===0)throw new mt;if(s<=128)return l&&(s+=128),n.append(String.fromCharCode(s-1)),on.ASCII_ENCODE;if(s===129)return on.PAD_ENCODE;if(s<=229){var o=s-130;o<10&&n.append("0"),n.append(""+o)}else switch(s){case 230:return on.C40_ENCODE;case 231:return on.BASE256_ENCODE;case 232:n.append("");break;case 233:case 234:break;case 235:l=!0;break;case 236:n.append("[)>05"),t.insert(0,"");break;case 237:n.append("[)>06"),t.insert(0,"");break;case 238:return on.ANSIX12_ENCODE;case 239:return on.TEXT_ENCODE;case 240:return on.EDIFACT_ENCODE;case 241:break;default:if(s!==254||r.available()!==0)throw new mt;break}}while(r.available()>0);return on.ASCII_ENCODE},a.decodeC40Segment=function(r,n){var t=!1,l=[],s=0;do{if(r.available()===8)return;var o=r.readBits(8);if(o===254)return;this.parseTwoBytes(o,r.readBits(8),l);for(var u=0;u<3;u++){var c=l[u];switch(s){case 0:if(c<3)s=c+1;else if(c<this.C40_BASIC_SET_CHARS.length){var d=this.C40_BASIC_SET_CHARS[c];t?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),t=!1):n.append(d)}else throw new mt;break;case 1:t?(n.append(String.fromCharCode(c+128)),t=!1):n.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.C40_SHIFT2_SET_CHARS.length){var d=this.C40_SHIFT2_SET_CHARS[c];t?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),t=!1):n.append(d)}else switch(c){case 27:n.append("");break;case 30:t=!0;break;default:throw new mt}s=0;break;case 3:t?(n.append(String.fromCharCode(c+224)),t=!1):n.append(String.fromCharCode(c+96)),s=0;break;default:throw new mt}}}while(r.available()>0)},a.decodeTextSegment=function(r,n){var t=!1,l=[],s=0;do{if(r.available()===8)return;var o=r.readBits(8);if(o===254)return;this.parseTwoBytes(o,r.readBits(8),l);for(var u=0;u<3;u++){var c=l[u];switch(s){case 0:if(c<3)s=c+1;else if(c<this.TEXT_BASIC_SET_CHARS.length){var d=this.TEXT_BASIC_SET_CHARS[c];t?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),t=!1):n.append(d)}else throw new mt;break;case 1:t?(n.append(String.fromCharCode(c+128)),t=!1):n.append(String.fromCharCode(c)),s=0;break;case 2:if(c<this.TEXT_SHIFT2_SET_CHARS.length){var d=this.TEXT_SHIFT2_SET_CHARS[c];t?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),t=!1):n.append(d)}else switch(c){case 27:n.append("");break;case 30:t=!0;break;default:throw new mt}s=0;break;case 3:if(c<this.TEXT_SHIFT3_SET_CHARS.length){var d=this.TEXT_SHIFT3_SET_CHARS[c];t?(n.append(String.fromCharCode(d.charCodeAt(0)+128)),t=!1):n.append(d),s=0}else throw new mt;break;default:throw new mt}}}while(r.available()>0)},a.decodeAnsiX12Segment=function(r,n){var t=[];do{if(r.available()===8)return;var l=r.readBits(8);if(l===254)return;this.parseTwoBytes(l,r.readBits(8),t);for(var s=0;s<3;s++){var o=t[s];switch(o){case 0:n.append("\r");break;case 1:n.append("*");break;case 2:n.append(">");break;case 3:n.append(" ");break;default:if(o<14)n.append(String.fromCharCode(o+44));else if(o<40)n.append(String.fromCharCode(o+51));else throw new mt;break}}}while(r.available()>0)},a.parseTwoBytes=function(r,n,t){var l=(r<<8)+n-1,s=Math.floor(l/1600);t[0]=s,l-=s*1600,s=Math.floor(l/40),t[1]=s,t[2]=l-s*40},a.decodeEdifactSegment=function(r,n){do{if(r.available()<=16)return;for(var t=0;t<4;t++){var l=r.readBits(6);if(l===31){var s=8-r.getBitOffset();s!==8&&r.readBits(s);return}l&32||(l|=64),n.append(String.fromCharCode(l))}}while(r.available()>0)},a.decodeBase256Segment=function(r,n,t){var l=1+r.getByteOffset(),s=this.unrandomize255State(r.readBits(8),l++),o;if(s===0?o=r.available()/8|0:s<250?o=s:o=250*(s-249)+this.unrandomize255State(r.readBits(8),l++),o<0)throw new mt;for(var u=new Uint8Array(o),c=0;c<o;c++){if(r.available()<8)throw new mt;u[c]=this.unrandomize255State(r.readBits(8),l++)}t.push(u);try{n.append(ga.decode(u,Jt.ISO88591))}catch(d){throw new il("Platform does not support required encoding: "+d.message)}},a.unrandomize255State=function(r,n){var t=149*n%255+1,l=r-t;return l>=0?l:l+256},a.C40_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"],a.C40_SHIFT2_SET_CHARS=["!",'"',"#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","@","[","\\","]","^","_"],a.TEXT_BASIC_SET_CHARS=["*","*","*"," ","0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z"],a.TEXT_SHIFT2_SET_CHARS=a.C40_SHIFT2_SET_CHARS,a.TEXT_SHIFT3_SET_CHARS=["`","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","{","|","}","~",""],a}(),Tg=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Og=function(){function a(){this.rsDecoder=new Nu(qn.DATA_MATRIX_FIELD_256)}return a.prototype.decode=function(r){var n,t,l=new Ag(r),s=l.getVersion(),o=l.readCodewords(),u=jg.getDataBlocks(o,s),c=0;try{for(var d=Tg(u),g=d.next();!g.done;g=d.next()){var y=g.value;c+=y.getNumDataCodewords()}}catch(E){n={error:E}}finally{try{g&&!g.done&&(t=d.return)&&t.call(d)}finally{if(n)throw n.error}}for(var h=new Uint8Array(c),p=u.length,m=0;m<p;m++){var v=u[m],_=v.getCodewords(),x=v.getNumDataCodewords();this.correctErrors(_,x);for(var b=0;b<x;b++)h[b*p+m]=_[b]}return Cg.decode(h)},a.prototype.correctErrors=function(r,n){var t=new Int32Array(r);try{this.rsDecoder.decode(t,r.length-n)}catch{throw new vn}for(var l=0;l<n;l++)r[l]=t[l]},a}(),Mg=function(){function a(r){this.image=r,this.rectangleDetector=new Yf(this.image)}return a.prototype.detect=function(){var r=this.rectangleDetector.detect(),n=this.detectSolid1(r);if(n=this.detectSolid2(n),n[3]=this.correctTopRight(n),!n[3])throw new Ze;n=this.shiftToModuleCenter(n);var t=n[0],l=n[1],s=n[2],o=n[3],u=this.transitionsBetween(t,o)+1,c=this.transitionsBetween(s,o)+1;(u&1)===1&&(u+=1),(c&1)===1&&(c+=1),4*u<7*c&&4*c<7*u&&(u=c=Math.max(u,c));var d=a.sampleGrid(this.image,t,l,s,o,u,c);return new ld(d,[t,l,s,o])},a.shiftPoint=function(r,n,t){var l=(n.getX()-r.getX())/(t+1),s=(n.getY()-r.getY())/(t+1);return new Et(r.getX()+l,r.getY()+s)},a.moveAway=function(r,n,t){var l=r.getX(),s=r.getY();return l<n?l-=1:l+=1,s<t?s-=1:s+=1,new Et(l,s)},a.prototype.detectSolid1=function(r){var n=r[0],t=r[1],l=r[3],s=r[2],o=this.transitionsBetween(n,t),u=this.transitionsBetween(t,l),c=this.transitionsBetween(l,s),d=this.transitionsBetween(s,n),g=o,y=[s,n,t,l];return g>u&&(g=u,y[0]=n,y[1]=t,y[2]=l,y[3]=s),g>c&&(g=c,y[0]=t,y[1]=l,y[2]=s,y[3]=n),g>d&&(y[0]=l,y[1]=s,y[2]=n,y[3]=t),y},a.prototype.detectSolid2=function(r){var n=r[0],t=r[1],l=r[2],s=r[3],o=this.transitionsBetween(n,s),u=a.shiftPoint(t,l,(o+1)*4),c=a.shiftPoint(l,t,(o+1)*4),d=this.transitionsBetween(u,n),g=this.transitionsBetween(c,s);return d<g?(r[0]=n,r[1]=t,r[2]=l,r[3]=s):(r[0]=t,r[1]=l,r[2]=s,r[3]=n),r},a.prototype.correctTopRight=function(r){var n=r[0],t=r[1],l=r[2],s=r[3],o=this.transitionsBetween(n,s),u=this.transitionsBetween(t,s),c=a.shiftPoint(n,t,(u+1)*4),d=a.shiftPoint(l,t,(o+1)*4);o=this.transitionsBetween(c,s),u=this.transitionsBetween(d,s);var g=new Et(s.getX()+(l.getX()-t.getX())/(o+1),s.getY()+(l.getY()-t.getY())/(o+1)),y=new Et(s.getX()+(n.getX()-t.getX())/(u+1),s.getY()+(n.getY()-t.getY())/(u+1));if(!this.isValid(g))return this.isValid(y)?y:null;if(!this.isValid(y))return g;var h=this.transitionsBetween(c,g)+this.transitionsBetween(d,g),p=this.transitionsBetween(c,y)+this.transitionsBetween(d,y);return h>p?g:y},a.prototype.shiftToModuleCenter=function(r){var n=r[0],t=r[1],l=r[2],s=r[3],o=this.transitionsBetween(n,s)+1,u=this.transitionsBetween(l,s)+1,c=a.shiftPoint(n,t,u*4),d=a.shiftPoint(l,t,o*4);o=this.transitionsBetween(c,s)+1,u=this.transitionsBetween(d,s)+1,(o&1)===1&&(o+=1),(u&1)===1&&(u+=1);var g=(n.getX()+t.getX()+l.getX()+s.getX())/4,y=(n.getY()+t.getY()+l.getY()+s.getY())/4;n=a.moveAway(n,g,y),t=a.moveAway(t,g,y),l=a.moveAway(l,g,y),s=a.moveAway(s,g,y);var h,p;return c=a.shiftPoint(n,t,u*4),c=a.shiftPoint(c,s,o*4),h=a.shiftPoint(t,n,u*4),h=a.shiftPoint(h,l,o*4),d=a.shiftPoint(l,s,u*4),d=a.shiftPoint(d,t,o*4),p=a.shiftPoint(s,l,u*4),p=a.shiftPoint(p,n,o*4),[c,h,d,p]},a.prototype.isValid=function(r){return r.getX()>=0&&r.getX()<this.image.getWidth()&&r.getY()>0&&r.getY()<this.image.getHeight()},a.sampleGrid=function(r,n,t,l,s,o,u){var c=ud.getInstance();return c.sampleGrid(r,o,u,.5,.5,o-.5,.5,o-.5,u-.5,.5,u-.5,n.getX(),n.getY(),s.getX(),s.getY(),l.getX(),l.getY(),t.getX(),t.getY())},a.prototype.transitionsBetween=function(r,n){var t=Math.trunc(r.getX()),l=Math.trunc(r.getY()),s=Math.trunc(n.getX()),o=Math.trunc(n.getY()),u=Math.abs(o-l)>Math.abs(s-t);if(u){var c=t;t=l,l=c,c=s,s=o,o=c}for(var d=Math.abs(s-t),g=Math.abs(o-l),y=-d/2,h=l<o?1:-1,p=t<s?1:-1,m=0,v=this.image.get(u?l:t,u?t:l),_=t,x=l;_!==s;_+=p){var b=this.image.get(u?x:_,u?_:x);if(b!==v&&(m++,v=b),y+=g,y>0){if(x===o)break;x+=h,y-=d}}return m},a}(),Qf=function(){function a(){this.decoder=new Og}return a.prototype.decode=function(r,n){n===void 0&&(n=null);var t,l;if(n!=null&&n.has(Ir.PURE_BARCODE)){var s=a.extractPureBits(r.getBlackMatrix());t=this.decoder.decode(s),l=a.NO_POINTS}else{var o=new Mg(r.getBlackMatrix()).detect();t=this.decoder.decode(o.getBits()),l=o.getPoints()}var u=t.getRawBytes(),c=new Nn(t.getText(),u,8*u.length,l,Rt.DATA_MATRIX,Tr.currentTimeMillis()),d=t.getByteSegments();d!=null&&c.putMetadata(Cn.BYTE_SEGMENTS,d);var g=t.getECLevel();return g!=null&&c.putMetadata(Cn.ERROR_CORRECTION_LEVEL,g),c},a.prototype.reset=function(){},a.extractPureBits=function(r){var n=r.getTopLeftOnBit(),t=r.getBottomRightOnBit();if(n==null||t==null)throw new Ze;var l=this.moduleSize(n,r),s=n[1],o=t[1],u=n[0],c=t[0],d=(c-u+1)/l,g=(o-s+1)/l;if(d<=0||g<=0)throw new Ze;var y=l/2;s+=y,u+=y;for(var h=new Pa(d,g),p=0;p<g;p++)for(var m=s+p*l,v=0;v<d;v++)r.get(u+v*l,m)&&h.set(v,p);return h},a.moduleSize=function(r,n){for(var t=n.getWidth(),l=r[0],s=r[1];l<t&&n.get(l,s);)l++;if(l===t)throw new Ze;var o=l-r[0];if(o===0)throw new Ze;return o},a.NO_POINTS=[],a}(),Dg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){Dg(r,a);function r(n){return n===void 0&&(n=500),a.call(this,new Qf,n)||this}return r})(ts);var $o;(function(a){a[a.L=0]="L",a[a.M=1]="M",a[a.Q=2]="Q",a[a.H=3]="H"})($o||($o={}));var Rg=function(){function a(r,n,t){this.value=r,this.stringValue=n,this.bits=t,a.FOR_BITS.set(t,this),a.FOR_VALUE.set(r,this)}return a.prototype.getValue=function(){return this.value},a.prototype.getBits=function(){return this.bits},a.fromString=function(r){switch(r){case"L":return a.L;case"M":return a.M;case"Q":return a.Q;case"H":return a.H;default:throw new Ea(r+"not available")}},a.prototype.toString=function(){return this.stringValue},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.value===n.value},a.forBits=function(r){if(r<0||r>=a.FOR_BITS.size)throw new Nt;return a.FOR_BITS.get(r)},a.FOR_BITS=new Map,a.FOR_VALUE=new Map,a.L=new a($o.L,"L",1),a.M=new a($o.M,"M",0),a.Q=new a($o.Q,"Q",3),a.H=new a($o.H,"H",2),a}(),Ig=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},n1=function(){function a(r){this.errorCorrectionLevel=Rg.forBits(r>>3&3),this.dataMask=r&7}return a.numBitsDiffering=function(r,n){return Xt.bitCount(r^n)},a.decodeFormatInformation=function(r,n){var t=a.doDecodeFormatInformation(r,n);return t!==null?t:a.doDecodeFormatInformation(r^a.FORMAT_INFO_MASK_QR,n^a.FORMAT_INFO_MASK_QR)},a.doDecodeFormatInformation=function(r,n){var t,l,s=Number.MAX_SAFE_INTEGER,o=0;try{for(var u=Ig(a.FORMAT_INFO_DECODE_LOOKUP),c=u.next();!c.done;c=u.next()){var d=c.value,g=d[0];if(g===r||g===n)return new a(d[1]);var y=a.numBitsDiffering(r,g);y<s&&(o=d[1],s=y),r!==n&&(y=a.numBitsDiffering(n,g),y<s&&(o=d[1],s=y))}}catch(h){t={error:h}}finally{try{c&&!c.done&&(l=u.return)&&l.call(u)}finally{if(t)throw t.error}}return s<=3?new a(o):null},a.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},a.prototype.getDataMask=function(){return this.dataMask},a.prototype.hashCode=function(){return this.errorCorrectionLevel.getBits()<<3|this.dataMask},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.errorCorrectionLevel===n.errorCorrectionLevel&&this.dataMask===n.dataMask},a.FORMAT_INFO_MASK_QR=21522,a.FORMAT_INFO_DECODE_LOOKUP=[Int32Array.from([21522,0]),Int32Array.from([20773,1]),Int32Array.from([24188,2]),Int32Array.from([23371,3]),Int32Array.from([17913,4]),Int32Array.from([16590,5]),Int32Array.from([20375,6]),Int32Array.from([19104,7]),Int32Array.from([30660,8]),Int32Array.from([29427,9]),Int32Array.from([32170,10]),Int32Array.from([30877,11]),Int32Array.from([26159,12]),Int32Array.from([25368,13]),Int32Array.from([27713,14]),Int32Array.from([26998,15]),Int32Array.from([5769,16]),Int32Array.from([5054,17]),Int32Array.from([7399,18]),Int32Array.from([6608,19]),Int32Array.from([1890,20]),Int32Array.from([597,21]),Int32Array.from([3340,22]),Int32Array.from([2107,23]),Int32Array.from([13663,24]),Int32Array.from([12392,25]),Int32Array.from([16177,26]),Int32Array.from([14854,27]),Int32Array.from([9396,28]),Int32Array.from([8579,29]),Int32Array.from([11994,30]),Int32Array.from([11245,31])],a}(),Ng=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Xe=function(){function a(r){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];this.ecCodewordsPerBlock=r,this.ecBlocks=n}return a.prototype.getECCodewordsPerBlock=function(){return this.ecCodewordsPerBlock},a.prototype.getNumBlocks=function(){var r,n,t=0,l=this.ecBlocks;try{for(var s=Ng(l),o=s.next();!o.done;o=s.next()){var u=o.value;t+=u.getCount()}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return t},a.prototype.getTotalECCodewords=function(){return this.ecCodewordsPerBlock*this.getNumBlocks()},a.prototype.getECBlocks=function(){return this.ecBlocks},a}(),_e=function(){function a(r,n){this.count=r,this.dataCodewords=n}return a.prototype.getCount=function(){return this.count},a.prototype.getDataCodewords=function(){return this.dataCodewords},a}(),Lg=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},yo=function(){function a(r,n){for(var t,l,s=[],o=2;o<arguments.length;o++)s[o-2]=arguments[o];this.versionNumber=r,this.alignmentPatternCenters=n,this.ecBlocks=s;var u=0,c=s[0].getECCodewordsPerBlock(),d=s[0].getECBlocks();try{for(var g=Lg(d),y=g.next();!y.done;y=g.next()){var h=y.value;u+=h.getCount()*(h.getDataCodewords()+c)}}catch(p){t={error:p}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(t)throw t.error}}this.totalCodewords=u}return a.prototype.getVersionNumber=function(){return this.versionNumber},a.prototype.getAlignmentPatternCenters=function(){return this.alignmentPatternCenters},a.prototype.getTotalCodewords=function(){return this.totalCodewords},a.prototype.getDimensionForVersion=function(){return 17+4*this.versionNumber},a.prototype.getECBlocksForLevel=function(r){return this.ecBlocks[r.getValue()]},a.getProvisionalVersionForDimension=function(r){if(r%4!==1)throw new mt;try{return this.getVersionForNumber((r-17)/4)}catch{throw new mt}},a.getVersionForNumber=function(r){if(r<1||r>40)throw new Nt;return a.VERSIONS[r-1]},a.decodeVersionInformation=function(r){for(var n=Number.MAX_SAFE_INTEGER,t=0,l=0;l<a.VERSION_DECODE_INFO.length;l++){var s=a.VERSION_DECODE_INFO[l];if(s===r)return a.getVersionForNumber(l+7);var o=n1.numBitsDiffering(r,s);o<n&&(t=l+7,n=o)}return n<=3?a.getVersionForNumber(t):null},a.prototype.buildFunctionPattern=function(){var r=this.getDimensionForVersion(),n=new Pa(r);n.setRegion(0,0,9,9),n.setRegion(r-8,0,8,9),n.setRegion(0,r-8,9,8);for(var t=this.alignmentPatternCenters.length,l=0;l<t;l++)for(var s=this.alignmentPatternCenters[l]-2,o=0;o<t;o++)l===0&&(o===0||o===t-1)||l===t-1&&o===0||n.setRegion(this.alignmentPatternCenters[o]-2,s,5,5);return n.setRegion(6,9,1,r-17),n.setRegion(9,6,r-17,1),this.versionNumber>6&&(n.setRegion(r-11,0,3,6),n.setRegion(0,r-11,6,3)),n},a.prototype.toString=function(){return""+this.versionNumber},a.VERSION_DECODE_INFO=Int32Array.from([31892,34236,39577,42195,48118,51042,55367,58893,63784,68472,70749,76311,79154,84390,87683,92361,96236,102084,102881,110507,110734,117786,119615,126325,127568,133589,136944,141498,145311,150283,152622,158308,161089,167017]),a.VERSIONS=[new a(1,new Int32Array(0),new Xe(7,new _e(1,19)),new Xe(10,new _e(1,16)),new Xe(13,new _e(1,13)),new Xe(17,new _e(1,9))),new a(2,Int32Array.from([6,18]),new Xe(10,new _e(1,34)),new Xe(16,new _e(1,28)),new Xe(22,new _e(1,22)),new Xe(28,new _e(1,16))),new a(3,Int32Array.from([6,22]),new Xe(15,new _e(1,55)),new Xe(26,new _e(1,44)),new Xe(18,new _e(2,17)),new Xe(22,new _e(2,13))),new a(4,Int32Array.from([6,26]),new Xe(20,new _e(1,80)),new Xe(18,new _e(2,32)),new Xe(26,new _e(2,24)),new Xe(16,new _e(4,9))),new a(5,Int32Array.from([6,30]),new Xe(26,new _e(1,108)),new Xe(24,new _e(2,43)),new Xe(18,new _e(2,15),new _e(2,16)),new Xe(22,new _e(2,11),new _e(2,12))),new a(6,Int32Array.from([6,34]),new Xe(18,new _e(2,68)),new Xe(16,new _e(4,27)),new Xe(24,new _e(4,19)),new Xe(28,new _e(4,15))),new a(7,Int32Array.from([6,22,38]),new Xe(20,new _e(2,78)),new Xe(18,new _e(4,31)),new Xe(18,new _e(2,14),new _e(4,15)),new Xe(26,new _e(4,13),new _e(1,14))),new a(8,Int32Array.from([6,24,42]),new Xe(24,new _e(2,97)),new Xe(22,new _e(2,38),new _e(2,39)),new Xe(22,new _e(4,18),new _e(2,19)),new Xe(26,new _e(4,14),new _e(2,15))),new a(9,Int32Array.from([6,26,46]),new Xe(30,new _e(2,116)),new Xe(22,new _e(3,36),new _e(2,37)),new Xe(20,new _e(4,16),new _e(4,17)),new Xe(24,new _e(4,12),new _e(4,13))),new a(10,Int32Array.from([6,28,50]),new Xe(18,new _e(2,68),new _e(2,69)),new Xe(26,new _e(4,43),new _e(1,44)),new Xe(24,new _e(6,19),new _e(2,20)),new Xe(28,new _e(6,15),new _e(2,16))),new a(11,Int32Array.from([6,30,54]),new Xe(20,new _e(4,81)),new Xe(30,new _e(1,50),new _e(4,51)),new Xe(28,new _e(4,22),new _e(4,23)),new Xe(24,new _e(3,12),new _e(8,13))),new a(12,Int32Array.from([6,32,58]),new Xe(24,new _e(2,92),new _e(2,93)),new Xe(22,new _e(6,36),new _e(2,37)),new Xe(26,new _e(4,20),new _e(6,21)),new Xe(28,new _e(7,14),new _e(4,15))),new a(13,Int32Array.from([6,34,62]),new Xe(26,new _e(4,107)),new Xe(22,new _e(8,37),new _e(1,38)),new Xe(24,new _e(8,20),new _e(4,21)),new Xe(22,new _e(12,11),new _e(4,12))),new a(14,Int32Array.from([6,26,46,66]),new Xe(30,new _e(3,115),new _e(1,116)),new Xe(24,new _e(4,40),new _e(5,41)),new Xe(20,new _e(11,16),new _e(5,17)),new Xe(24,new _e(11,12),new _e(5,13))),new a(15,Int32Array.from([6,26,48,70]),new Xe(22,new _e(5,87),new _e(1,88)),new Xe(24,new _e(5,41),new _e(5,42)),new Xe(30,new _e(5,24),new _e(7,25)),new Xe(24,new _e(11,12),new _e(7,13))),new a(16,Int32Array.from([6,26,50,74]),new Xe(24,new _e(5,98),new _e(1,99)),new Xe(28,new _e(7,45),new _e(3,46)),new Xe(24,new _e(15,19),new _e(2,20)),new Xe(30,new _e(3,15),new _e(13,16))),new a(17,Int32Array.from([6,30,54,78]),new Xe(28,new _e(1,107),new _e(5,108)),new Xe(28,new _e(10,46),new _e(1,47)),new Xe(28,new _e(1,22),new _e(15,23)),new Xe(28,new _e(2,14),new _e(17,15))),new a(18,Int32Array.from([6,30,56,82]),new Xe(30,new _e(5,120),new _e(1,121)),new Xe(26,new _e(9,43),new _e(4,44)),new Xe(28,new _e(17,22),new _e(1,23)),new Xe(28,new _e(2,14),new _e(19,15))),new a(19,Int32Array.from([6,30,58,86]),new Xe(28,new _e(3,113),new _e(4,114)),new Xe(26,new _e(3,44),new _e(11,45)),new Xe(26,new _e(17,21),new _e(4,22)),new Xe(26,new _e(9,13),new _e(16,14))),new a(20,Int32Array.from([6,34,62,90]),new Xe(28,new _e(3,107),new _e(5,108)),new Xe(26,new _e(3,41),new _e(13,42)),new Xe(30,new _e(15,24),new _e(5,25)),new Xe(28,new _e(15,15),new _e(10,16))),new a(21,Int32Array.from([6,28,50,72,94]),new Xe(28,new _e(4,116),new _e(4,117)),new Xe(26,new _e(17,42)),new Xe(28,new _e(17,22),new _e(6,23)),new Xe(30,new _e(19,16),new _e(6,17))),new a(22,Int32Array.from([6,26,50,74,98]),new Xe(28,new _e(2,111),new _e(7,112)),new Xe(28,new _e(17,46)),new Xe(30,new _e(7,24),new _e(16,25)),new Xe(24,new _e(34,13))),new a(23,Int32Array.from([6,30,54,78,102]),new Xe(30,new _e(4,121),new _e(5,122)),new Xe(28,new _e(4,47),new _e(14,48)),new Xe(30,new _e(11,24),new _e(14,25)),new Xe(30,new _e(16,15),new _e(14,16))),new a(24,Int32Array.from([6,28,54,80,106]),new Xe(30,new _e(6,117),new _e(4,118)),new Xe(28,new _e(6,45),new _e(14,46)),new Xe(30,new _e(11,24),new _e(16,25)),new Xe(30,new _e(30,16),new _e(2,17))),new a(25,Int32Array.from([6,32,58,84,110]),new Xe(26,new _e(8,106),new _e(4,107)),new Xe(28,new _e(8,47),new _e(13,48)),new Xe(30,new _e(7,24),new _e(22,25)),new Xe(30,new _e(22,15),new _e(13,16))),new a(26,Int32Array.from([6,30,58,86,114]),new Xe(28,new _e(10,114),new _e(2,115)),new Xe(28,new _e(19,46),new _e(4,47)),new Xe(28,new _e(28,22),new _e(6,23)),new Xe(30,new _e(33,16),new _e(4,17))),new a(27,Int32Array.from([6,34,62,90,118]),new Xe(30,new _e(8,122),new _e(4,123)),new Xe(28,new _e(22,45),new _e(3,46)),new Xe(30,new _e(8,23),new _e(26,24)),new Xe(30,new _e(12,15),new _e(28,16))),new a(28,Int32Array.from([6,26,50,74,98,122]),new Xe(30,new _e(3,117),new _e(10,118)),new Xe(28,new _e(3,45),new _e(23,46)),new Xe(30,new _e(4,24),new _e(31,25)),new Xe(30,new _e(11,15),new _e(31,16))),new a(29,Int32Array.from([6,30,54,78,102,126]),new Xe(30,new _e(7,116),new _e(7,117)),new Xe(28,new _e(21,45),new _e(7,46)),new Xe(30,new _e(1,23),new _e(37,24)),new Xe(30,new _e(19,15),new _e(26,16))),new a(30,Int32Array.from([6,26,52,78,104,130]),new Xe(30,new _e(5,115),new _e(10,116)),new Xe(28,new _e(19,47),new _e(10,48)),new Xe(30,new _e(15,24),new _e(25,25)),new Xe(30,new _e(23,15),new _e(25,16))),new a(31,Int32Array.from([6,30,56,82,108,134]),new Xe(30,new _e(13,115),new _e(3,116)),new Xe(28,new _e(2,46),new _e(29,47)),new Xe(30,new _e(42,24),new _e(1,25)),new Xe(30,new _e(23,15),new _e(28,16))),new a(32,Int32Array.from([6,34,60,86,112,138]),new Xe(30,new _e(17,115)),new Xe(28,new _e(10,46),new _e(23,47)),new Xe(30,new _e(10,24),new _e(35,25)),new Xe(30,new _e(19,15),new _e(35,16))),new a(33,Int32Array.from([6,30,58,86,114,142]),new Xe(30,new _e(17,115),new _e(1,116)),new Xe(28,new _e(14,46),new _e(21,47)),new Xe(30,new _e(29,24),new _e(19,25)),new Xe(30,new _e(11,15),new _e(46,16))),new a(34,Int32Array.from([6,34,62,90,118,146]),new Xe(30,new _e(13,115),new _e(6,116)),new Xe(28,new _e(14,46),new _e(23,47)),new Xe(30,new _e(44,24),new _e(7,25)),new Xe(30,new _e(59,16),new _e(1,17))),new a(35,Int32Array.from([6,30,54,78,102,126,150]),new Xe(30,new _e(12,121),new _e(7,122)),new Xe(28,new _e(12,47),new _e(26,48)),new Xe(30,new _e(39,24),new _e(14,25)),new Xe(30,new _e(22,15),new _e(41,16))),new a(36,Int32Array.from([6,24,50,76,102,128,154]),new Xe(30,new _e(6,121),new _e(14,122)),new Xe(28,new _e(6,47),new _e(34,48)),new Xe(30,new _e(46,24),new _e(10,25)),new Xe(30,new _e(2,15),new _e(64,16))),new a(37,Int32Array.from([6,28,54,80,106,132,158]),new Xe(30,new _e(17,122),new _e(4,123)),new Xe(28,new _e(29,46),new _e(14,47)),new Xe(30,new _e(49,24),new _e(10,25)),new Xe(30,new _e(24,15),new _e(46,16))),new a(38,Int32Array.from([6,32,58,84,110,136,162]),new Xe(30,new _e(4,122),new _e(18,123)),new Xe(28,new _e(13,46),new _e(32,47)),new Xe(30,new _e(48,24),new _e(14,25)),new Xe(30,new _e(42,15),new _e(32,16))),new a(39,Int32Array.from([6,26,54,82,110,138,166]),new Xe(30,new _e(20,117),new _e(4,118)),new Xe(28,new _e(40,47),new _e(7,48)),new Xe(30,new _e(43,24),new _e(22,25)),new Xe(30,new _e(10,15),new _e(67,16))),new a(40,Int32Array.from([6,30,58,86,114,142,170]),new Xe(30,new _e(19,118),new _e(6,119)),new Xe(28,new _e(18,47),new _e(31,48)),new Xe(30,new _e(34,24),new _e(34,25)),new Xe(30,new _e(20,15),new _e(61,16)))],a}(),yn;(function(a){a[a.DATA_MASK_000=0]="DATA_MASK_000",a[a.DATA_MASK_001=1]="DATA_MASK_001",a[a.DATA_MASK_010=2]="DATA_MASK_010",a[a.DATA_MASK_011=3]="DATA_MASK_011",a[a.DATA_MASK_100=4]="DATA_MASK_100",a[a.DATA_MASK_101=5]="DATA_MASK_101",a[a.DATA_MASK_110=6]="DATA_MASK_110",a[a.DATA_MASK_111=7]="DATA_MASK_111"})(yn||(yn={}));var Im=function(){function a(r,n){this.value=r,this.isMasked=n}return a.prototype.unmaskBitMatrix=function(r,n){for(var t=0;t<n;t++)for(var l=0;l<n;l++)this.isMasked(t,l)&&r.flip(l,t)},a.values=new Map([[yn.DATA_MASK_000,new a(yn.DATA_MASK_000,function(r,n){return(r+n&1)===0})],[yn.DATA_MASK_001,new a(yn.DATA_MASK_001,function(r,n){return(r&1)===0})],[yn.DATA_MASK_010,new a(yn.DATA_MASK_010,function(r,n){return n%3===0})],[yn.DATA_MASK_011,new a(yn.DATA_MASK_011,function(r,n){return(r+n)%3===0})],[yn.DATA_MASK_100,new a(yn.DATA_MASK_100,function(r,n){return(Math.floor(r/2)+Math.floor(n/3)&1)===0})],[yn.DATA_MASK_101,new a(yn.DATA_MASK_101,function(r,n){return r*n%6===0})],[yn.DATA_MASK_110,new a(yn.DATA_MASK_110,function(r,n){return r*n%6<3})],[yn.DATA_MASK_111,new a(yn.DATA_MASK_111,function(r,n){return(r+n+r*n%3&1)===0})]]),a}(),kg=function(){function a(r){var n=r.getHeight();if(n<21||(n&3)!==1)throw new mt;this.bitMatrix=r}return a.prototype.readFormatInformation=function(){if(this.parsedFormatInfo!==null&&this.parsedFormatInfo!==void 0)return this.parsedFormatInfo;for(var r=0,n=0;n<6;n++)r=this.copyBit(n,8,r);r=this.copyBit(7,8,r),r=this.copyBit(8,8,r),r=this.copyBit(8,7,r);for(var t=5;t>=0;t--)r=this.copyBit(8,t,r);for(var l=this.bitMatrix.getHeight(),s=0,o=l-7,t=l-1;t>=o;t--)s=this.copyBit(8,t,s);for(var n=l-8;n<l;n++)s=this.copyBit(n,8,s);if(this.parsedFormatInfo=n1.decodeFormatInformation(r,s),this.parsedFormatInfo!==null)return this.parsedFormatInfo;throw new mt},a.prototype.readVersion=function(){if(this.parsedVersion!==null&&this.parsedVersion!==void 0)return this.parsedVersion;var r=this.bitMatrix.getHeight(),n=Math.floor((r-17)/4);if(n<=6)return yo.getVersionForNumber(n);for(var t=0,l=r-11,s=5;s>=0;s--)for(var o=r-9;o>=l;o--)t=this.copyBit(o,s,t);var u=yo.decodeVersionInformation(t);if(u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;t=0;for(var o=5;o>=0;o--)for(var s=r-9;s>=l;s--)t=this.copyBit(o,s,t);if(u=yo.decodeVersionInformation(t),u!==null&&u.getDimensionForVersion()===r)return this.parsedVersion=u,u;throw new mt},a.prototype.copyBit=function(r,n,t){var l=this.isMirror?this.bitMatrix.get(n,r):this.bitMatrix.get(r,n);return l?t<<1|1:t<<1},a.prototype.readCodewords=function(){var r=this.readFormatInformation(),n=this.readVersion(),t=Im.values.get(r.getDataMask()),l=this.bitMatrix.getHeight();t.unmaskBitMatrix(this.bitMatrix,l);for(var s=n.buildFunctionPattern(),o=!0,u=new Uint8Array(n.getTotalCodewords()),c=0,d=0,g=0,y=l-1;y>0;y-=2){y===6&&y--;for(var h=0;h<l;h++)for(var p=o?l-1-h:h,m=0;m<2;m++)s.get(y-m,p)||(g++,d<<=1,this.bitMatrix.get(y-m,p)&&(d|=1),g===8&&(u[c++]=d,g=0,d=0));o=!o}if(c!==n.getTotalCodewords())throw new mt;return u},a.prototype.remask=function(){if(this.parsedFormatInfo!==null){var r=Im.values.get(this.parsedFormatInfo.getDataMask()),n=this.bitMatrix.getHeight();r.unmaskBitMatrix(this.bitMatrix,n)}},a.prototype.setMirror=function(r){this.parsedVersion=null,this.parsedFormatInfo=null,this.isMirror=r},a.prototype.mirror=function(){for(var r=this.bitMatrix,n=0,t=r.getWidth();n<t;n++)for(var l=n+1,s=r.getHeight();l<s;l++)r.get(n,l)!==r.get(l,n)&&(r.flip(l,n),r.flip(n,l))},a}(),Nm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Pg=function(){function a(r,n){this.numDataCodewords=r,this.codewords=n}return a.getDataBlocks=function(r,n,t){var l,s,o,u;if(r.length!==n.getTotalCodewords())throw new Nt;var c=n.getECBlocksForLevel(t),d=0,g=c.getECBlocks();try{for(var y=Nm(g),h=y.next();!h.done;h=y.next()){var p=h.value;d+=p.getCount()}}catch(P){l={error:P}}finally{try{h&&!h.done&&(s=y.return)&&s.call(y)}finally{if(l)throw l.error}}var m=new Array(d),v=0;try{for(var _=Nm(g),x=_.next();!x.done;x=_.next())for(var p=x.value,b=0;b<p.getCount();b++){var E=p.getDataCodewords(),S=c.getECCodewordsPerBlock()+E;m[v++]=new a(E,new Uint8Array(S))}}catch(P){o={error:P}}finally{try{x&&!x.done&&(u=_.return)&&u.call(_)}finally{if(o)throw o.error}}for(var C=m[0].codewords.length,D=m.length-1;D>=0;){var M=m[D].codewords.length;if(M===C)break;D--}D++;for(var R=C-c.getECCodewordsPerBlock(),L=0,b=0;b<R;b++)for(var F=0;F<v;F++)m[F].codewords[b]=r[L++];for(var F=D;F<v;F++)m[F].codewords[R]=r[L++];for(var I=m[0].codewords.length,b=R;b<I;b++)for(var F=0;F<v;F++){var G=F<D?b:b+1;m[F].codewords[G]=r[L++]}return m},a.prototype.getNumDataCodewords=function(){return this.numDataCodewords},a.prototype.getCodewords=function(){return this.codewords},a}(),ma;(function(a){a[a.TERMINATOR=0]="TERMINATOR",a[a.NUMERIC=1]="NUMERIC",a[a.ALPHANUMERIC=2]="ALPHANUMERIC",a[a.STRUCTURED_APPEND=3]="STRUCTURED_APPEND",a[a.BYTE=4]="BYTE",a[a.ECI=5]="ECI",a[a.KANJI=6]="KANJI",a[a.FNC1_FIRST_POSITION=7]="FNC1_FIRST_POSITION",a[a.FNC1_SECOND_POSITION=8]="FNC1_SECOND_POSITION",a[a.HANZI=9]="HANZI"})(ma||(ma={}));var Mr=function(){function a(r,n,t,l){this.value=r,this.stringValue=n,this.characterCountBitsForVersions=t,this.bits=l,a.FOR_BITS.set(l,this),a.FOR_VALUE.set(r,this)}return a.forBits=function(r){var n=a.FOR_BITS.get(r);if(n===void 0)throw new Nt;return n},a.prototype.getCharacterCountBits=function(r){var n=r.getVersionNumber(),t;return n<=9?t=0:n<=26?t=1:t=2,this.characterCountBitsForVersions[t]},a.prototype.getValue=function(){return this.value},a.prototype.getBits=function(){return this.bits},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;return this.value===n.value},a.prototype.toString=function(){return this.stringValue},a.FOR_BITS=new Map,a.FOR_VALUE=new Map,a.TERMINATOR=new a(ma.TERMINATOR,"TERMINATOR",Int32Array.from([0,0,0]),0),a.NUMERIC=new a(ma.NUMERIC,"NUMERIC",Int32Array.from([10,12,14]),1),a.ALPHANUMERIC=new a(ma.ALPHANUMERIC,"ALPHANUMERIC",Int32Array.from([9,11,13]),2),a.STRUCTURED_APPEND=new a(ma.STRUCTURED_APPEND,"STRUCTURED_APPEND",Int32Array.from([0,0,0]),3),a.BYTE=new a(ma.BYTE,"BYTE",Int32Array.from([8,16,16]),4),a.ECI=new a(ma.ECI,"ECI",Int32Array.from([0,0,0]),7),a.KANJI=new a(ma.KANJI,"KANJI",Int32Array.from([8,10,12]),8),a.FNC1_FIRST_POSITION=new a(ma.FNC1_FIRST_POSITION,"FNC1_FIRST_POSITION",Int32Array.from([0,0,0]),5),a.FNC1_SECOND_POSITION=new a(ma.FNC1_SECOND_POSITION,"FNC1_SECOND_POSITION",Int32Array.from([0,0,0]),9),a.HANZI=new a(ma.HANZI,"HANZI",Int32Array.from([8,10,12]),13),a}(),Bg=function(){function a(){}return a.decode=function(r,n,t,l){var s=new r1(r),o=new Vt,u=new Array,c=-1,d=-1;try{var g=null,y=!1,h=void 0;do{if(s.available()<4)h=Mr.TERMINATOR;else{var p=s.readBits(4);h=Mr.forBits(p)}switch(h){case Mr.TERMINATOR:break;case Mr.FNC1_FIRST_POSITION:case Mr.FNC1_SECOND_POSITION:y=!0;break;case Mr.STRUCTURED_APPEND:if(s.available()<16)throw new mt;c=s.readBits(8),d=s.readBits(8);break;case Mr.ECI:var m=a.parseECIValue(s);if(g=un.getCharacterSetECIByValue(m),g===null)throw new mt;break;case Mr.HANZI:var v=s.readBits(4),_=s.readBits(h.getCharacterCountBits(n));v===a.GB2312_SUBSET&&a.decodeHanziSegment(s,o,_);break;default:var x=s.readBits(h.getCharacterCountBits(n));switch(h){case Mr.NUMERIC:a.decodeNumericSegment(s,o,x);break;case Mr.ALPHANUMERIC:a.decodeAlphanumericSegment(s,o,x,y);break;case Mr.BYTE:a.decodeByteSegment(s,o,x,g,u,l);break;case Mr.KANJI:a.decodeKanjiSegment(s,o,x);break;default:throw new mt}break}}while(h!==Mr.TERMINATOR)}catch{throw new mt}return new Iu(r,o.toString(),u.length===0?null:u,t===null?null:t.toString(),c,d)},a.decodeHanziSegment=function(r,n,t){if(t*13>r.available())throw new mt;for(var l=new Uint8Array(2*t),s=0;t>0;){var o=r.readBits(13),u=o/96<<8&4294967295|o%96;u<959?u+=41377:u+=42657,l[s]=u>>8&255,l[s+1]=u&255,s+=2,t--}try{n.append(ga.decode(l,Jt.GB2312))}catch(c){throw new mt(c)}},a.decodeKanjiSegment=function(r,n,t){if(t*13>r.available())throw new mt;for(var l=new Uint8Array(2*t),s=0;t>0;){var o=r.readBits(13),u=o/192<<8&4294967295|o%192;u<7936?u+=33088:u+=49472,l[s]=u>>8,l[s+1]=u,s+=2,t--}try{n.append(ga.decode(l,Jt.SHIFT_JIS))}catch(c){throw new mt(c)}},a.decodeByteSegment=function(r,n,t,l,s,o){if(8*t>r.available())throw new mt;for(var u=new Uint8Array(t),c=0;c<t;c++)u[c]=r.readBits(8);var d;l===null?d=Jt.guessEncoding(u,o):d=l.getName();try{n.append(ga.decode(u,d))}catch(g){throw new mt(g)}s.push(u)},a.toAlphaNumericChar=function(r){if(r>=a.ALPHANUMERIC_CHARS.length)throw new mt;return a.ALPHANUMERIC_CHARS[r]},a.decodeAlphanumericSegment=function(r,n,t,l){for(var s=n.length();t>1;){if(r.available()<11)throw new mt;var o=r.readBits(11);n.append(a.toAlphaNumericChar(Math.floor(o/45))),n.append(a.toAlphaNumericChar(o%45)),t-=2}if(t===1){if(r.available()<6)throw new mt;n.append(a.toAlphaNumericChar(r.readBits(6)))}if(l)for(var u=s;u<n.length();u++)n.charAt(u)==="%"&&(u<n.length()-1&&n.charAt(u+1)==="%"?n.deleteCharAt(u+1):n.setCharAt(u,""))},a.decodeNumericSegment=function(r,n,t){for(;t>=3;){if(r.available()<10)throw new mt;var l=r.readBits(10);if(l>=1e3)throw new mt;n.append(a.toAlphaNumericChar(Math.floor(l/100))),n.append(a.toAlphaNumericChar(Math.floor(l/10)%10)),n.append(a.toAlphaNumericChar(l%10)),t-=3}if(t===2){if(r.available()<7)throw new mt;var s=r.readBits(7);if(s>=100)throw new mt;n.append(a.toAlphaNumericChar(Math.floor(s/10))),n.append(a.toAlphaNumericChar(s%10))}else if(t===1){if(r.available()<4)throw new mt;var o=r.readBits(4);if(o>=10)throw new mt;n.append(a.toAlphaNumericChar(o))}},a.parseECIValue=function(r){var n=r.readBits(8);if(!(n&128))return n&127;if((n&192)===128){var t=r.readBits(8);return(n&63)<<8&4294967295|t}if((n&224)===192){var l=r.readBits(16);return(n&31)<<16&4294967295|l}throw new mt},a.ALPHANUMERIC_CHARS="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:",a.GB2312_SUBSET=1,a}(),a1=function(){function a(r){this.mirrored=r}return a.prototype.isMirrored=function(){return this.mirrored},a.prototype.applyMirroredCorrection=function(r){if(!(!this.mirrored||r===null||r.length<3)){var n=r[0];r[0]=r[2],r[2]=n}},a}(),Lm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Fg=function(){function a(){this.rsDecoder=new Nu(qn.QR_CODE_FIELD_256)}return a.prototype.decodeBooleanArray=function(r,n){return this.decodeBitMatrix(Pa.parseFromBooleanArray(r),n)},a.prototype.decodeBitMatrix=function(r,n){var t=new kg(r),l=null;try{return this.decodeBitMatrixParser(t,n)}catch(o){l=o}try{t.remask(),t.setMirror(!0),t.readVersion(),t.readFormatInformation(),t.mirror();var s=this.decodeBitMatrixParser(t,n);return s.setOther(new a1(!0)),s}catch(o){throw l!==null?l:o}},a.prototype.decodeBitMatrixParser=function(r,n){var t,l,s,o,u=r.readVersion(),c=r.readFormatInformation().getErrorCorrectionLevel(),d=r.readCodewords(),g=Pg.getDataBlocks(d,u,c),y=0;try{for(var h=Lm(g),p=h.next();!p.done;p=h.next()){var m=p.value;y+=m.getNumDataCodewords()}}catch(D){t={error:D}}finally{try{p&&!p.done&&(l=h.return)&&l.call(h)}finally{if(t)throw t.error}}var v=new Uint8Array(y),_=0;try{for(var x=Lm(g),b=x.next();!b.done;b=x.next()){var m=b.value,E=m.getCodewords(),S=m.getNumDataCodewords();this.correctErrors(E,S);for(var C=0;C<S;C++)v[_++]=E[C]}}catch(D){s={error:D}}finally{try{b&&!b.done&&(o=x.return)&&o.call(x)}finally{if(s)throw s.error}}return Bg.decode(v,u,c,n)},a.prototype.correctErrors=function(r,n){var t=new Int32Array(r);try{this.rsDecoder.decode(t,r.length-n)}catch{throw new vn}for(var l=0;l<n;l++)r[l]=t[l]},a}(),Ug=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Gg=function(a){Ug(r,a);function r(n,t,l){var s=a.call(this,n,t)||this;return s.estimatedModuleSize=l,s}return r.prototype.aboutEquals=function(n,t,l){if(Math.abs(t-this.getY())<=n&&Math.abs(l-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},r.prototype.combineEstimate=function(n,t,l){var s=(this.getX()+t)/2,o=(this.getY()+n)/2,u=(this.estimatedModuleSize+l)/2;return new r(s,o,u)},r}(Et),zg=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Vg=function(){function a(r,n,t,l,s,o,u){this.image=r,this.startX=n,this.startY=t,this.width=l,this.height=s,this.moduleSize=o,this.resultPointCallback=u,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(3)}return a.prototype.find=function(){for(var r=this.startX,n=this.height,t=this.width,l=r+t,s=this.startY+n/2,o=new Int32Array(3),u=this.image,c=0;c<n;c++){var d=s+(c&1?-Math.floor((c+1)/2):Math.floor((c+1)/2));o[0]=0,o[1]=0,o[2]=0;for(var g=r;g<l&&!u.get(g,d);)g++;for(var y=0;g<l;){if(u.get(g,d))if(y===1)o[1]++;else if(y===2){if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,d,g);if(h!==null)return h}o[0]=o[2],o[1]=1,o[2]=0,y=1}else o[++y]++;else y===1&&y++,o[y]++;g++}if(this.foundPatternCross(o)){var h=this.handlePossibleCenter(o,d,l);if(h!==null)return h}}if(this.possibleCenters.length!==0)return this.possibleCenters[0];throw new Ze},a.centerFromEnd=function(r,n){return n-r[2]-r[1]/2},a.prototype.foundPatternCross=function(r){for(var n=this.moduleSize,t=n/2,l=0;l<3;l++)if(Math.abs(n-r[l])>=t)return!1;return!0},a.prototype.crossCheckVertical=function(r,n,t,l){var s=this.image,o=s.getHeight(),u=this.crossCheckStateCount;u[0]=0,u[1]=0,u[2]=0;for(var c=r;c>=0&&s.get(n,c)&&u[1]<=t;)u[1]++,c--;if(c<0||u[1]>t)return NaN;for(;c>=0&&!s.get(n,c)&&u[0]<=t;)u[0]++,c--;if(u[0]>t)return NaN;for(c=r+1;c<o&&s.get(n,c)&&u[1]<=t;)u[1]++,c++;if(c===o||u[1]>t)return NaN;for(;c<o&&!s.get(n,c)&&u[2]<=t;)u[2]++,c++;if(u[2]>t)return NaN;var d=u[0]+u[1]+u[2];return 5*Math.abs(d-l)>=2*l?NaN:this.foundPatternCross(u)?a.centerFromEnd(u,c):NaN},a.prototype.handlePossibleCenter=function(r,n,t){var l,s,o=r[0]+r[1]+r[2],u=a.centerFromEnd(r,t),c=this.crossCheckVertical(n,u,2*r[1],o);if(!isNaN(c)){var d=(r[0]+r[1]+r[2])/3;try{for(var g=zg(this.possibleCenters),y=g.next();!y.done;y=g.next()){var h=y.value;if(h.aboutEquals(d,c,u))return h.combineEstimate(c,u,d)}}catch(m){l={error:m}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(l)throw l.error}}var p=new Gg(u,c,d);this.possibleCenters.push(p),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(p)}return null},a}(),Hg=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Xg=function(a){Hg(r,a);function r(n,t,l,s){var o=a.call(this,n,t)||this;return o.estimatedModuleSize=l,o.count=s,s===void 0&&(o.count=1),o}return r.prototype.getEstimatedModuleSize=function(){return this.estimatedModuleSize},r.prototype.getCount=function(){return this.count},r.prototype.aboutEquals=function(n,t,l){if(Math.abs(t-this.getY())<=n&&Math.abs(l-this.getX())<=n){var s=Math.abs(n-this.estimatedModuleSize);return s<=1||s<=this.estimatedModuleSize}return!1},r.prototype.combineEstimate=function(n,t,l){var s=this.count+1,o=(this.count*this.getX()+t)/s,u=(this.count*this.getY()+n)/s,c=(this.count*this.estimatedModuleSize+l)/s;return new r(o,u,c,s)},r}(Et),Wg=function(){function a(r){this.bottomLeft=r[0],this.topLeft=r[1],this.topRight=r[2]}return a.prototype.getBottomLeft=function(){return this.bottomLeft},a.prototype.getTopLeft=function(){return this.topLeft},a.prototype.getTopRight=function(){return this.topRight},a}(),Js=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},qg=function(){function a(r,n){this.image=r,this.resultPointCallback=n,this.possibleCenters=[],this.crossCheckStateCount=new Int32Array(5),this.resultPointCallback=n}return a.prototype.getImage=function(){return this.image},a.prototype.getPossibleCenters=function(){return this.possibleCenters},a.prototype.find=function(r){var n=r!=null&&r.get(Ir.TRY_HARDER)!==void 0,t=r!=null&&r.get(Ir.PURE_BARCODE)!==void 0,l=this.image,s=l.getHeight(),o=l.getWidth(),u=Math.floor(3*s/(4*a.MAX_MODULES));(u<a.MIN_SKIP||n)&&(u=a.MIN_SKIP);for(var c=!1,d=new Int32Array(5),g=u-1;g<s&&!c;g+=u){d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0;for(var y=0,h=0;h<o;h++)if(l.get(h,g))(y&1)===1&&y++,d[y]++;else if(y&1)d[y]++;else if(y===4)if(a.foundPatternCross(d)){var p=this.handlePossibleCenter(d,g,h,t);if(p===!0)if(u=2,this.hasSkipped===!0)c=this.haveMultiplyConfirmedCenters();else{var m=this.findRowSkip();m>d[2]&&(g+=m-d[2]-u,h=o-1)}else{d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,y=3;continue}y=0,d[0]=0,d[1]=0,d[2]=0,d[3]=0,d[4]=0}else d[0]=d[2],d[1]=d[3],d[2]=d[4],d[3]=1,d[4]=0,y=3;else d[++y]++;if(a.foundPatternCross(d)){var p=this.handlePossibleCenter(d,g,o,t);p===!0&&(u=d[0],this.hasSkipped&&(c=this.haveMultiplyConfirmedCenters()))}}var v=this.selectBestPatterns();return Et.orderBestPatterns(v),new Wg(v)},a.centerFromEnd=function(r,n){return n-r[4]-r[3]-r[2]/2},a.foundPatternCross=function(r){for(var n=0,t=0;t<5;t++){var l=r[t];if(l===0)return!1;n+=l}if(n<7)return!1;var s=n/7,o=s/2;return Math.abs(s-r[0])<o&&Math.abs(s-r[1])<o&&Math.abs(3*s-r[2])<3*o&&Math.abs(s-r[3])<o&&Math.abs(s-r[4])<o},a.prototype.getCrossCheckStateCount=function(){var r=this.crossCheckStateCount;return r[0]=0,r[1]=0,r[2]=0,r[3]=0,r[4]=0,r},a.prototype.crossCheckDiagonal=function(r,n,t,l){for(var s=this.getCrossCheckStateCount(),o=0,u=this.image;r>=o&&n>=o&&u.get(n-o,r-o);)s[2]++,o++;if(r<o||n<o)return!1;for(;r>=o&&n>=o&&!u.get(n-o,r-o)&&s[1]<=t;)s[1]++,o++;if(r<o||n<o||s[1]>t)return!1;for(;r>=o&&n>=o&&u.get(n-o,r-o)&&s[0]<=t;)s[0]++,o++;if(s[0]>t)return!1;var c=u.getHeight(),d=u.getWidth();for(o=1;r+o<c&&n+o<d&&u.get(n+o,r+o);)s[2]++,o++;if(r+o>=c||n+o>=d)return!1;for(;r+o<c&&n+o<d&&!u.get(n+o,r+o)&&s[3]<t;)s[3]++,o++;if(r+o>=c||n+o>=d||s[3]>=t)return!1;for(;r+o<c&&n+o<d&&u.get(n+o,r+o)&&s[4]<t;)s[4]++,o++;if(s[4]>=t)return!1;var g=s[0]+s[1]+s[2]+s[3]+s[4];return Math.abs(g-l)<2*l&&a.foundPatternCross(s)},a.prototype.crossCheckVertical=function(r,n,t,l){for(var s=this.image,o=s.getHeight(),u=this.getCrossCheckStateCount(),c=r;c>=0&&s.get(n,c);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(n,c)&&u[1]<=t;)u[1]++,c--;if(c<0||u[1]>t)return NaN;for(;c>=0&&s.get(n,c)&&u[0]<=t;)u[0]++,c--;if(u[0]>t)return NaN;for(c=r+1;c<o&&s.get(n,c);)u[2]++,c++;if(c===o)return NaN;for(;c<o&&!s.get(n,c)&&u[3]<t;)u[3]++,c++;if(c===o||u[3]>=t)return NaN;for(;c<o&&s.get(n,c)&&u[4]<t;)u[4]++,c++;if(u[4]>=t)return NaN;var d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-l)>=2*l?NaN:a.foundPatternCross(u)?a.centerFromEnd(u,c):NaN},a.prototype.crossCheckHorizontal=function(r,n,t,l){for(var s=this.image,o=s.getWidth(),u=this.getCrossCheckStateCount(),c=r;c>=0&&s.get(c,n);)u[2]++,c--;if(c<0)return NaN;for(;c>=0&&!s.get(c,n)&&u[1]<=t;)u[1]++,c--;if(c<0||u[1]>t)return NaN;for(;c>=0&&s.get(c,n)&&u[0]<=t;)u[0]++,c--;if(u[0]>t)return NaN;for(c=r+1;c<o&&s.get(c,n);)u[2]++,c++;if(c===o)return NaN;for(;c<o&&!s.get(c,n)&&u[3]<t;)u[3]++,c++;if(c===o||u[3]>=t)return NaN;for(;c<o&&s.get(c,n)&&u[4]<t;)u[4]++,c++;if(u[4]>=t)return NaN;var d=u[0]+u[1]+u[2]+u[3]+u[4];return 5*Math.abs(d-l)>=l?NaN:a.foundPatternCross(u)?a.centerFromEnd(u,c):NaN},a.prototype.handlePossibleCenter=function(r,n,t,l){var s=r[0]+r[1]+r[2]+r[3]+r[4],o=a.centerFromEnd(r,t),u=this.crossCheckVertical(n,Math.floor(o),r[2],s);if(!isNaN(u)&&(o=this.crossCheckHorizontal(Math.floor(o),Math.floor(u),r[2],s),!isNaN(o)&&(!l||this.crossCheckDiagonal(Math.floor(u),Math.floor(o),r[2],s)))){for(var c=s/7,d=!1,g=this.possibleCenters,y=0,h=g.length;y<h;y++){var p=g[y];if(p.aboutEquals(c,u,o)){g[y]=p.combineEstimate(u,o,c),d=!0;break}}if(!d){var m=new Xg(o,u,c);g.push(m),this.resultPointCallback!==null&&this.resultPointCallback!==void 0&&this.resultPointCallback.foundPossibleResultPoint(m)}return!0}return!1},a.prototype.findRowSkip=function(){var r,n,t=this.possibleCenters.length;if(t<=1)return 0;var l=null;try{for(var s=Js(this.possibleCenters),o=s.next();!o.done;o=s.next()){var u=o.value;if(u.getCount()>=a.CENTER_QUORUM)if(l==null)l=u;else return this.hasSkipped=!0,Math.floor((Math.abs(l.getX()-u.getX())-Math.abs(l.getY()-u.getY()))/2)}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return 0},a.prototype.haveMultiplyConfirmedCenters=function(){var r,n,t,l,s=0,o=0,u=this.possibleCenters.length;try{for(var c=Js(this.possibleCenters),d=c.next();!d.done;d=c.next()){var g=d.value;g.getCount()>=a.CENTER_QUORUM&&(s++,o+=g.getEstimatedModuleSize())}}catch(v){r={error:v}}finally{try{d&&!d.done&&(n=c.return)&&n.call(c)}finally{if(r)throw r.error}}if(s<3)return!1;var y=o/u,h=0;try{for(var p=Js(this.possibleCenters),m=p.next();!m.done;m=p.next()){var g=m.value;h+=Math.abs(g.getEstimatedModuleSize()-y)}}catch(v){t={error:v}}finally{try{m&&!m.done&&(l=p.return)&&l.call(p)}finally{if(t)throw t.error}}return h<=.05*o},a.prototype.selectBestPatterns=function(){var r,n,t,l,s=this.possibleCenters.length;if(s<3)throw new Ze;var o=this.possibleCenters,u;if(s>3){var c=0,d=0;try{for(var g=Js(this.possibleCenters),y=g.next();!y.done;y=g.next()){var h=y.value,p=h.getEstimatedModuleSize();c+=p,d+=p*p}}catch(C){r={error:C}}finally{try{y&&!y.done&&(n=g.return)&&n.call(g)}finally{if(r)throw r.error}}u=c/s;var m=Math.sqrt(d/s-u*u);o.sort(function(C,D){var M=Math.abs(D.getEstimatedModuleSize()-u),R=Math.abs(C.getEstimatedModuleSize()-u);return M<R?-1:M>R?1:0});for(var v=Math.max(.2*u,m),_=0;_<o.length&&o.length>3;_++){var x=o[_];Math.abs(x.getEstimatedModuleSize()-u)>v&&(o.splice(_,1),_--)}}if(o.length>3){var c=0;try{for(var b=Js(o),E=b.next();!E.done;E=b.next()){var S=E.value;c+=S.getEstimatedModuleSize()}}catch(D){t={error:D}}finally{try{E&&!E.done&&(l=b.return)&&l.call(b)}finally{if(t)throw t.error}}u=c/o.length,o.sort(function(D,M){if(M.getCount()===D.getCount()){var R=Math.abs(M.getEstimatedModuleSize()-u),L=Math.abs(D.getEstimatedModuleSize()-u);return R<L?1:R>L?-1:0}else return M.getCount()-D.getCount()}),o.splice(3)}return[o[0],o[1],o[2]]},a.CENTER_QUORUM=2,a.MIN_SKIP=3,a.MAX_MODULES=57,a}(),Yg=function(){function a(r){this.image=r}return a.prototype.getImage=function(){return this.image},a.prototype.getResultPointCallback=function(){return this.resultPointCallback},a.prototype.detect=function(r){this.resultPointCallback=r==null?null:r.get(Ir.NEED_RESULT_POINT_CALLBACK);var n=new qg(this.image,this.resultPointCallback),t=n.find(r);return this.processFinderPatternInfo(t)},a.prototype.processFinderPatternInfo=function(r){var n=r.getTopLeft(),t=r.getTopRight(),l=r.getBottomLeft(),s=this.calculateModuleSize(n,t,l);if(s<1)throw new Ze("No pattern found in proccess finder.");var o=a.computeDimension(n,t,l,s),u=yo.getProvisionalVersionForDimension(o),c=u.getDimensionForVersion()-7,d=null;if(u.getAlignmentPatternCenters().length>0)for(var g=t.getX()-n.getX()+l.getX(),y=t.getY()-n.getY()+l.getY(),h=1-3/c,p=Math.floor(n.getX()+h*(g-n.getX())),m=Math.floor(n.getY()+h*(y-n.getY())),v=4;v<=16;v<<=1)try{d=this.findAlignmentInRegion(s,p,m,v);break}catch(E){if(!(E instanceof Ze))throw E}var _=a.createTransform(n,t,l,d,o),x=a.sampleGrid(this.image,_,o),b;return d===null?b=[l,n,t]:b=[l,n,t,d],new ld(x,b)},a.createTransform=function(r,n,t,l,s){var o=s-3.5,u,c,d,g;return l!==null?(u=l.getX(),c=l.getY(),d=o-3,g=d):(u=n.getX()-r.getX()+t.getX(),c=n.getY()-r.getY()+t.getY(),d=o,g=o),Jm.quadrilateralToQuadrilateral(3.5,3.5,o,3.5,d,g,3.5,o,r.getX(),r.getY(),n.getX(),n.getY(),u,c,t.getX(),t.getY())},a.sampleGrid=function(r,n,t){var l=ud.getInstance();return l.sampleGridWithTransform(r,t,t,n)},a.computeDimension=function(r,n,t,l){var s=rr.round(Et.distance(r,n)/l),o=rr.round(Et.distance(r,t)/l),u=Math.floor((s+o)/2)+7;switch(u&3){case 0:u++;break;case 2:u--;break;case 3:throw new Ze("Dimensions could be not found.")}return u},a.prototype.calculateModuleSize=function(r,n,t){return(this.calculateModuleSizeOneWay(r,n)+this.calculateModuleSizeOneWay(r,t))/2},a.prototype.calculateModuleSizeOneWay=function(r,n){var t=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(r.getX()),Math.floor(r.getY()),Math.floor(n.getX()),Math.floor(n.getY())),l=this.sizeOfBlackWhiteBlackRunBothWays(Math.floor(n.getX()),Math.floor(n.getY()),Math.floor(r.getX()),Math.floor(r.getY()));return isNaN(t)?l/7:isNaN(l)?t/7:(t+l)/14},a.prototype.sizeOfBlackWhiteBlackRunBothWays=function(r,n,t,l){var s=this.sizeOfBlackWhiteBlackRun(r,n,t,l),o=1,u=r-(t-r);u<0?(o=r/(r-u),u=0):u>=this.image.getWidth()&&(o=(this.image.getWidth()-1-r)/(u-r),u=this.image.getWidth()-1);var c=Math.floor(n-(l-n)*o);return o=1,c<0?(o=n/(n-c),c=0):c>=this.image.getHeight()&&(o=(this.image.getHeight()-1-n)/(c-n),c=this.image.getHeight()-1),u=Math.floor(r+(u-r)*o),s+=this.sizeOfBlackWhiteBlackRun(r,n,u,c),s-1},a.prototype.sizeOfBlackWhiteBlackRun=function(r,n,t,l){var s=Math.abs(l-n)>Math.abs(t-r);if(s){var o=r;r=n,n=o,o=t,t=l,l=o}for(var u=Math.abs(t-r),c=Math.abs(l-n),d=-u/2,g=r<t?1:-1,y=n<l?1:-1,h=0,p=t+g,m=r,v=n;m!==p;m+=g){var _=s?v:m,x=s?m:v;if(h===1===this.image.get(_,x)){if(h===2)return rr.distance(m,v,r,n);h++}if(d+=c,d>0){if(v===l)break;v+=y,d-=u}}return h===2?rr.distance(t+g,l,r,n):NaN},a.prototype.findAlignmentInRegion=function(r,n,t,l){var s=Math.floor(l*r),o=Math.max(0,n-s),u=Math.min(this.image.getWidth()-1,n+s);if(u-o<r*3)throw new Ze("Alignment top exceeds estimated module size.");var c=Math.max(0,t-s),d=Math.min(this.image.getHeight()-1,t+s);if(d-c<r*3)throw new Ze("Alignment bottom exceeds estimated module size.");var g=new Vg(this.image,o,c,u-o,d-c,r,this.resultPointCallback);return g.find()},a}(),Jf=function(){function a(){this.decoder=new Fg}return a.prototype.getDecoder=function(){return this.decoder},a.prototype.decode=function(r,n){var t,l;if(n!=null&&n.get(Ir.PURE_BARCODE)!==void 0){var s=a.extractPureBits(r.getBlackMatrix());t=this.decoder.decodeBitMatrix(s,n),l=a.NO_POINTS}else{var o=new Yg(r.getBlackMatrix()).detect(n);t=this.decoder.decodeBitMatrix(o.getBits(),n),l=o.getPoints()}t.getOther()instanceof a1&&t.getOther().applyMirroredCorrection(l);var u=new Nn(t.getText(),t.getRawBytes(),void 0,l,Rt.QR_CODE,void 0),c=t.getByteSegments();c!==null&&u.putMetadata(Cn.BYTE_SEGMENTS,c);var d=t.getECLevel();return d!==null&&u.putMetadata(Cn.ERROR_CORRECTION_LEVEL,d),t.hasStructuredAppend()&&(u.putMetadata(Cn.STRUCTURED_APPEND_SEQUENCE,t.getStructuredAppendSequenceNumber()),u.putMetadata(Cn.STRUCTURED_APPEND_PARITY,t.getStructuredAppendParity())),u},a.prototype.reset=function(){},a.extractPureBits=function(r){var n=r.getTopLeftOnBit(),t=r.getBottomRightOnBit();if(n===null||t===null)throw new Ze;var l=this.moduleSize(n,r),s=n[1],o=t[1],u=n[0],c=t[0];if(u>=c||s>=o)throw new Ze;if(o-s!==c-u&&(c=u+(o-s),c>=r.getWidth()))throw new Ze;var d=Math.round((c-u+1)/l),g=Math.round((o-s+1)/l);if(d<=0||g<=0)throw new Ze;if(g!==d)throw new Ze;var y=Math.floor(l/2);s+=y,u+=y;var h=u+Math.floor((d-1)*l)-c;if(h>0){if(h>y)throw new Ze;u-=h}var p=s+Math.floor((g-1)*l)-o;if(p>0){if(p>y)throw new Ze;s-=p}for(var m=new Pa(d,g),v=0;v<g;v++)for(var _=s+Math.floor(v*l),x=0;x<d;x++)r.get(u+Math.floor(x*l),_)&&m.set(x,v);return m},a.moduleSize=function(r,n){for(var t=n.getHeight(),l=n.getWidth(),s=r[0],o=r[1],u=!0,c=0;s<l&&o<t;){if(u!==n.get(s,o)){if(++c===5)break;u=!u}s++,o++}if(s===l||o===t)throw new Ze;return(s-r[0])/7},a.NO_POINTS=new Array,a}(),Zg=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},$t=function(){function a(){}return a.prototype.PDF417Common=function(){},a.getBitCountSum=function(r){return rr.sum(r)},a.toIntArray=function(r){var n,t;if(r==null||!r.length)return a.EMPTY_INT_ARRAY;var l=new Int32Array(r.length),s=0;try{for(var o=Zg(r),u=o.next();!u.done;u=o.next()){var c=u.value;l[s++]=c}}catch(d){n={error:d}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return l},a.getCodeword=function(r){var n=cn.binarySearch(a.SYMBOL_TABLE,r&262143);return n<0?-1:(a.CODEWORD_TABLE[n]-1)%a.NUMBER_OF_CODEWORDS},a.NUMBER_OF_CODEWORDS=929,a.MAX_CODEWORDS_IN_BARCODE=a.NUMBER_OF_CODEWORDS-1,a.MIN_ROWS_IN_BARCODE=3,a.MAX_ROWS_IN_BARCODE=90,a.MODULES_IN_CODEWORD=17,a.MODULES_IN_STOP_PATTERN=18,a.BARS_IN_MODULE=8,a.EMPTY_INT_ARRAY=new Int32Array([]),a.SYMBOL_TABLE=Int32Array.from([66142,66170,66206,66236,66290,66292,66350,66382,66396,66454,66470,66476,66594,66600,66614,66626,66628,66632,66640,66654,66662,66668,66682,66690,66718,66720,66748,66758,66776,66798,66802,66804,66820,66824,66832,66846,66848,66876,66880,66936,66950,66956,66968,66992,67006,67022,67036,67042,67044,67048,67062,67118,67150,67164,67214,67228,67256,67294,67322,67350,67366,67372,67398,67404,67416,67438,67474,67476,67490,67492,67496,67510,67618,67624,67650,67656,67664,67678,67686,67692,67706,67714,67716,67728,67742,67744,67772,67782,67788,67800,67822,67826,67828,67842,67848,67870,67872,67900,67904,67960,67974,67992,68016,68030,68046,68060,68066,68068,68072,68086,68104,68112,68126,68128,68156,68160,68216,68336,68358,68364,68376,68400,68414,68448,68476,68494,68508,68536,68546,68548,68552,68560,68574,68582,68588,68654,68686,68700,68706,68708,68712,68726,68750,68764,68792,68802,68804,68808,68816,68830,68838,68844,68858,68878,68892,68920,68976,68990,68994,68996,69e3,69008,69022,69024,69052,69062,69068,69080,69102,69106,69108,69142,69158,69164,69190,69208,69230,69254,69260,69272,69296,69310,69326,69340,69386,69394,69396,69410,69416,69430,69442,69444,69448,69456,69470,69478,69484,69554,69556,69666,69672,69698,69704,69712,69726,69754,69762,69764,69776,69790,69792,69820,69830,69836,69848,69870,69874,69876,69890,69918,69920,69948,69952,70008,70022,70040,70064,70078,70094,70108,70114,70116,70120,70134,70152,70174,70176,70264,70384,70412,70448,70462,70496,70524,70542,70556,70584,70594,70600,70608,70622,70630,70636,70664,70672,70686,70688,70716,70720,70776,70896,71136,71180,71192,71216,71230,71264,71292,71360,71416,71452,71480,71536,71550,71554,71556,71560,71568,71582,71584,71612,71622,71628,71640,71662,71726,71732,71758,71772,71778,71780,71784,71798,71822,71836,71864,71874,71880,71888,71902,71910,71916,71930,71950,71964,71992,72048,72062,72066,72068,72080,72094,72096,72124,72134,72140,72152,72174,72178,72180,72206,72220,72248,72304,72318,72416,72444,72456,72464,72478,72480,72508,72512,72568,72588,72600,72624,72638,72654,72668,72674,72676,72680,72694,72726,72742,72748,72774,72780,72792,72814,72838,72856,72880,72894,72910,72924,72930,72932,72936,72950,72966,72972,72984,73008,73022,73056,73084,73102,73116,73144,73156,73160,73168,73182,73190,73196,73210,73226,73234,73236,73250,73252,73256,73270,73282,73284,73296,73310,73318,73324,73346,73348,73352,73360,73374,73376,73404,73414,73420,73432,73454,73498,73518,73522,73524,73550,73564,73570,73572,73576,73590,73800,73822,73858,73860,73872,73886,73888,73916,73944,73970,73972,73992,74014,74016,74044,74048,74104,74118,74136,74160,74174,74210,74212,74216,74230,74244,74256,74270,74272,74360,74480,74502,74508,74544,74558,74592,74620,74638,74652,74680,74690,74696,74704,74726,74732,74782,74784,74812,74992,75232,75288,75326,75360,75388,75456,75512,75576,75632,75646,75650,75652,75664,75678,75680,75708,75718,75724,75736,75758,75808,75836,75840,75896,76016,76256,76736,76824,76848,76862,76896,76924,76992,77048,77296,77340,77368,77424,77438,77536,77564,77572,77576,77584,77600,77628,77632,77688,77702,77708,77720,77744,77758,77774,77788,77870,77902,77916,77922,77928,77966,77980,78008,78018,78024,78032,78046,78060,78074,78094,78136,78192,78206,78210,78212,78224,78238,78240,78268,78278,78284,78296,78322,78324,78350,78364,78448,78462,78560,78588,78600,78622,78624,78652,78656,78712,78726,78744,78768,78782,78798,78812,78818,78820,78824,78838,78862,78876,78904,78960,78974,79072,79100,79296,79352,79368,79376,79390,79392,79420,79424,79480,79600,79628,79640,79664,79678,79712,79740,79772,79800,79810,79812,79816,79824,79838,79846,79852,79894,79910,79916,79942,79948,79960,79982,79988,80006,80024,80048,80062,80078,80092,80098,80100,80104,80134,80140,80176,80190,80224,80252,80270,80284,80312,80328,80336,80350,80358,80364,80378,80390,80396,80408,80432,80446,80480,80508,80576,80632,80654,80668,80696,80752,80766,80776,80784,80798,80800,80828,80844,80856,80878,80882,80884,80914,80916,80930,80932,80936,80950,80962,80968,80976,80990,80998,81004,81026,81028,81040,81054,81056,81084,81094,81100,81112,81134,81154,81156,81160,81168,81182,81184,81212,81216,81272,81286,81292,81304,81328,81342,81358,81372,81380,81384,81398,81434,81454,81458,81460,81486,81500,81506,81508,81512,81526,81550,81564,81592,81602,81604,81608,81616,81630,81638,81644,81702,81708,81722,81734,81740,81752,81774,81778,81780,82050,82078,82080,82108,82180,82184,82192,82206,82208,82236,82240,82296,82316,82328,82352,82366,82402,82404,82408,82440,82448,82462,82464,82492,82496,82552,82672,82694,82700,82712,82736,82750,82784,82812,82830,82882,82884,82888,82896,82918,82924,82952,82960,82974,82976,83004,83008,83064,83184,83424,83468,83480,83504,83518,83552,83580,83648,83704,83740,83768,83824,83838,83842,83844,83848,83856,83872,83900,83910,83916,83928,83950,83984,84e3,84028,84032,84088,84208,84448,84928,85040,85054,85088,85116,85184,85240,85488,85560,85616,85630,85728,85756,85764,85768,85776,85790,85792,85820,85824,85880,85894,85900,85912,85936,85966,85980,86048,86080,86136,86256,86496,86976,88160,88188,88256,88312,88560,89056,89200,89214,89312,89340,89536,89592,89608,89616,89632,89664,89720,89840,89868,89880,89904,89952,89980,89998,90012,90040,90190,90204,90254,90268,90296,90306,90308,90312,90334,90382,90396,90424,90480,90494,90500,90504,90512,90526,90528,90556,90566,90572,90584,90610,90612,90638,90652,90680,90736,90750,90848,90876,90884,90888,90896,90910,90912,90940,90944,91e3,91014,91020,91032,91056,91070,91086,91100,91106,91108,91112,91126,91150,91164,91192,91248,91262,91360,91388,91584,91640,91664,91678,91680,91708,91712,91768,91888,91928,91952,91966,92e3,92028,92046,92060,92088,92098,92100,92104,92112,92126,92134,92140,92188,92216,92272,92384,92412,92608,92664,93168,93200,93214,93216,93244,93248,93304,93424,93664,93720,93744,93758,93792,93820,93888,93944,93980,94008,94064,94078,94084,94088,94096,94110,94112,94140,94150,94156,94168,94246,94252,94278,94284,94296,94318,94342,94348,94360,94384,94398,94414,94428,94440,94470,94476,94488,94512,94526,94560,94588,94606,94620,94648,94658,94660,94664,94672,94686,94694,94700,94714,94726,94732,94744,94768,94782,94816,94844,94912,94968,94990,95004,95032,95088,95102,95112,95120,95134,95136,95164,95180,95192,95214,95218,95220,95244,95256,95280,95294,95328,95356,95424,95480,95728,95758,95772,95800,95856,95870,95968,95996,96008,96016,96030,96032,96060,96064,96120,96152,96176,96190,96220,96226,96228,96232,96290,96292,96296,96310,96322,96324,96328,96336,96350,96358,96364,96386,96388,96392,96400,96414,96416,96444,96454,96460,96472,96494,96498,96500,96514,96516,96520,96528,96542,96544,96572,96576,96632,96646,96652,96664,96688,96702,96718,96732,96738,96740,96744,96758,96772,96776,96784,96798,96800,96828,96832,96888,97008,97030,97036,97048,97072,97086,97120,97148,97166,97180,97208,97220,97224,97232,97246,97254,97260,97326,97330,97332,97358,97372,97378,97380,97384,97398,97422,97436,97464,97474,97476,97480,97488,97502,97510,97516,97550,97564,97592,97648,97666,97668,97672,97680,97694,97696,97724,97734,97740,97752,97774,97830,97836,97850,97862,97868,97880,97902,97906,97908,97926,97932,97944,97968,97998,98012,98018,98020,98024,98038,98618,98674,98676,98838,98854,98874,98892,98904,98926,98930,98932,98968,99006,99042,99044,99048,99062,99166,99194,99246,99286,99350,99366,99372,99386,99398,99416,99438,99442,99444,99462,99504,99518,99534,99548,99554,99556,99560,99574,99590,99596,99608,99632,99646,99680,99708,99726,99740,99768,99778,99780,99784,99792,99806,99814,99820,99834,99858,99860,99874,99880,99894,99906,99920,99934,99962,99970,99972,99976,99984,99998,1e5,100028,100038,100044,100056,100078,100082,100084,100142,100174,100188,100246,100262,100268,100306,100308,100390,100396,100410,100422,100428,100440,100462,100466,100468,100486,100504,100528,100542,100558,100572,100578,100580,100584,100598,100620,100656,100670,100704,100732,100750,100792,100802,100808,100816,100830,100838,100844,100858,100888,100912,100926,100960,100988,101056,101112,101148,101176,101232,101246,101250,101252,101256,101264,101278,101280,101308,101318,101324,101336,101358,101362,101364,101410,101412,101416,101430,101442,101448,101456,101470,101478,101498,101506,101508,101520,101534,101536,101564,101580,101618,101620,101636,101640,101648,101662,101664,101692,101696,101752,101766,101784,101838,101858,101860,101864,101934,101938,101940,101966,101980,101986,101988,101992,102030,102044,102072,102082,102084,102088,102096,102138,102166,102182,102188,102214,102220,102232,102254,102282,102290,102292,102306,102308,102312,102326,102444,102458,102470,102476,102488,102514,102516,102534,102552,102576,102590,102606,102620,102626,102632,102646,102662,102668,102704,102718,102752,102780,102798,102812,102840,102850,102856,102864,102878,102886,102892,102906,102936,102974,103008,103036,103104,103160,103224,103280,103294,103298,103300,103312,103326,103328,103356,103366,103372,103384,103406,103410,103412,103472,103486,103520,103548,103616,103672,103920,103992,104048,104062,104160,104188,104194,104196,104200,104208,104224,104252,104256,104312,104326,104332,104344,104368,104382,104398,104412,104418,104420,104424,104482,104484,104514,104520,104528,104542,104550,104570,104578,104580,104592,104606,104608,104636,104652,104690,104692,104706,104712,104734,104736,104764,104768,104824,104838,104856,104910,104930,104932,104936,104968,104976,104990,104992,105020,105024,105080,105200,105240,105278,105312,105372,105410,105412,105416,105424,105446,105518,105524,105550,105564,105570,105572,105576,105614,105628,105656,105666,105672,105680,105702,105722,105742,105756,105784,105840,105854,105858,105860,105864,105872,105888,105932,105970,105972,106006,106022,106028,106054,106060,106072,106100,106118,106124,106136,106160,106174,106190,106210,106212,106216,106250,106258,106260,106274,106276,106280,106306,106308,106312,106320,106334,106348,106394,106414,106418,106420,106566,106572,106610,106612,106630,106636,106648,106672,106686,106722,106724,106728,106742,106758,106764,106776,106800,106814,106848,106876,106894,106908,106936,106946,106948,106952,106960,106974,106982,106988,107032,107056,107070,107104,107132,107200,107256,107292,107320,107376,107390,107394,107396,107400,107408,107422,107424,107452,107462,107468,107480,107502,107506,107508,107544,107568,107582,107616,107644,107712,107768,108016,108060,108088,108144,108158,108256,108284,108290,108292,108296,108304,108318,108320,108348,108352,108408,108422,108428,108440,108464,108478,108494,108508,108514,108516,108520,108592,108640,108668,108736,108792,109040,109536,109680,109694,109792,109820,110016,110072,110084,110088,110096,110112,110140,110144,110200,110320,110342,110348,110360,110384,110398,110432,110460,110478,110492,110520,110532,110536,110544,110558,110658,110686,110714,110722,110724,110728,110736,110750,110752,110780,110796,110834,110836,110850,110852,110856,110864,110878,110880,110908,110912,110968,110982,111e3,111054,111074,111076,111080,111108,111112,111120,111134,111136,111164,111168,111224,111344,111372,111422,111456,111516,111554,111556,111560,111568,111590,111632,111646,111648,111676,111680,111736,111856,112096,112152,112224,112252,112320,112440,112514,112516,112520,112528,112542,112544,112588,112686,112718,112732,112782,112796,112824,112834,112836,112840,112848,112870,112890,112910,112924,112952,113008,113022,113026,113028,113032,113040,113054,113056,113100,113138,113140,113166,113180,113208,113264,113278,113376,113404,113416,113424,113440,113468,113472,113560,113614,113634,113636,113640,113686,113702,113708,113734,113740,113752,113778,113780,113798,113804,113816,113840,113854,113870,113890,113892,113896,113926,113932,113944,113968,113982,114016,114044,114076,114114,114116,114120,114128,114150,114170,114194,114196,114210,114212,114216,114242,114244,114248,114256,114270,114278,114306,114308,114312,114320,114334,114336,114364,114380,114420,114458,114478,114482,114484,114510,114524,114530,114532,114536,114842,114866,114868,114970,114994,114996,115042,115044,115048,115062,115130,115226,115250,115252,115278,115292,115298,115300,115304,115318,115342,115394,115396,115400,115408,115422,115430,115436,115450,115478,115494,115514,115526,115532,115570,115572,115738,115758,115762,115764,115790,115804,115810,115812,115816,115830,115854,115868,115896,115906,115912,115920,115934,115942,115948,115962,115996,116024,116080,116094,116098,116100,116104,116112,116126,116128,116156,116166,116172,116184,116206,116210,116212,116246,116262,116268,116282,116294,116300,116312,116334,116338,116340,116358,116364,116376,116400,116414,116430,116444,116450,116452,116456,116498,116500,116514,116520,116534,116546,116548,116552,116560,116574,116582,116588,116602,116654,116694,116714,116762,116782,116786,116788,116814,116828,116834,116836,116840,116854,116878,116892,116920,116930,116936,116944,116958,116966,116972,116986,117006,117048,117104,117118,117122,117124,117136,117150,117152,117180,117190,117196,117208,117230,117234,117236,117304,117360,117374,117472,117500,117506,117508,117512,117520,117536,117564,117568,117624,117638,117644,117656,117680,117694,117710,117724,117730,117732,117736,117750,117782,117798,117804,117818,117830,117848,117874,117876,117894,117936,117950,117966,117986,117988,117992,118022,118028,118040,118064,118078,118112,118140,118172,118210,118212,118216,118224,118238,118246,118266,118306,118312,118338,118352,118366,118374,118394,118402,118404,118408,118416,118430,118432,118460,118476,118514,118516,118574,118578,118580,118606,118620,118626,118628,118632,118678,118694,118700,118730,118738,118740,118830,118834,118836,118862,118876,118882,118884,118888,118902,118926,118940,118968,118978,118980,118984,118992,119006,119014,119020,119034,119068,119096,119152,119166,119170,119172,119176,119184,119198,119200,119228,119238,119244,119256,119278,119282,119284,119324,119352,119408,119422,119520,119548,119554,119556,119560,119568,119582,119584,119612,119616,119672,119686,119692,119704,119728,119742,119758,119772,119778,119780,119784,119798,119920,119934,120032,120060,120256,120312,120324,120328,120336,120352,120384,120440,120560,120582,120588,120600,120624,120638,120672,120700,120718,120732,120760,120770,120772,120776,120784,120798,120806,120812,120870,120876,120890,120902,120908,120920,120946,120948,120966,120972,120984,121008,121022,121038,121058,121060,121064,121078,121100,121112,121136,121150,121184,121212,121244,121282,121284,121288,121296,121318,121338,121356,121368,121392,121406,121440,121468,121536,121592,121656,121730,121732,121736,121744,121758,121760,121804,121842,121844,121890,121922,121924,121928,121936,121950,121958,121978,121986,121988,121992,122e3,122014,122016,122044,122060,122098,122100,122116,122120,122128,122142,122144,122172,122176,122232,122246,122264,122318,122338,122340,122344,122414,122418,122420,122446,122460,122466,122468,122472,122510,122524,122552,122562,122564,122568,122576,122598,122618,122646,122662,122668,122694,122700,122712,122738,122740,122762,122770,122772,122786,122788,122792,123018,123026,123028,123042,123044,123048,123062,123098,123146,123154,123156,123170,123172,123176,123190,123202,123204,123208,123216,123238,123244,123258,123290,123314,123316,123402,123410,123412,123426,123428,123432,123446,123458,123464,123472,123486,123494,123500,123514,123522,123524,123528,123536,123552,123580,123590,123596,123608,123630,123634,123636,123674,123698,123700,123740,123746,123748,123752,123834,123914,123922,123924,123938,123944,123958,123970,123976,123984,123998,124006,124012,124026,124034,124036,124048,124062,124064,124092,124102,124108,124120,124142,124146,124148,124162,124164,124168,124176,124190,124192,124220,124224,124280,124294,124300,124312,124336,124350,124366,124380,124386,124388,124392,124406,124442,124462,124466,124468,124494,124508,124514,124520,124558,124572,124600,124610,124612,124616,124624,124646,124666,124694,124710,124716,124730,124742,124748,124760,124786,124788,124818,124820,124834,124836,124840,124854,124946,124948,124962,124964,124968,124982,124994,124996,125e3,125008,125022,125030,125036,125050,125058,125060,125064,125072,125086,125088,125116,125126,125132,125144,125166,125170,125172,125186,125188,125192,125200,125216,125244,125248,125304,125318,125324,125336,125360,125374,125390,125404,125410,125412,125416,125430,125444,125448,125456,125472,125504,125560,125680,125702,125708,125720,125744,125758,125792,125820,125838,125852,125880,125890,125892,125896,125904,125918,125926,125932,125978,125998,126002,126004,126030,126044,126050,126052,126056,126094,126108,126136,126146,126148,126152,126160,126182,126202,126222,126236,126264,126320,126334,126338,126340,126344,126352,126366,126368,126412,126450,126452,126486,126502,126508,126522,126534,126540,126552,126574,126578,126580,126598,126604,126616,126640,126654,126670,126684,126690,126692,126696,126738,126754,126756,126760,126774,126786,126788,126792,126800,126814,126822,126828,126842,126894,126898,126900,126934,127126,127142,127148,127162,127178,127186,127188,127254,127270,127276,127290,127302,127308,127320,127342,127346,127348,127370,127378,127380,127394,127396,127400,127450,127510,127526,127532,127546,127558,127576,127598,127602,127604,127622,127628,127640,127664,127678,127694,127708,127714,127716,127720,127734,127754,127762,127764,127778,127784,127810,127812,127816,127824,127838,127846,127866,127898,127918,127922,127924,128022,128038,128044,128058,128070,128076,128088,128110,128114,128116,128134,128140,128152,128176,128190,128206,128220,128226,128228,128232,128246,128262,128268,128280,128304,128318,128352,128380,128398,128412,128440,128450,128452,128456,128464,128478,128486,128492,128506,128522,128530,128532,128546,128548,128552,128566,128578,128580,128584,128592,128606,128614,128634,128642,128644,128648,128656,128670,128672,128700,128716,128754,128756,128794,128814,128818,128820,128846,128860,128866,128868,128872,128886,128918,128934,128940,128954,128978,128980,129178,129198,129202,129204,129238,129258,129306,129326,129330,129332,129358,129372,129378,129380,129384,129398,129430,129446,129452,129466,129482,129490,129492,129562,129582,129586,129588,129614,129628,129634,129636,129640,129654,129678,129692,129720,129730,129732,129736,129744,129758,129766,129772,129814,129830,129836,129850,129862,129868,129880,129902,129906,129908,129930,129938,129940,129954,129956,129960,129974,130010]),a.CODEWORD_TABLE=Int32Array.from([2627,1819,2622,2621,1813,1812,2729,2724,2723,2779,2774,2773,902,896,908,868,865,861,859,2511,873,871,1780,835,2493,825,2491,842,837,844,1764,1762,811,810,809,2483,807,2482,806,2480,815,814,813,812,2484,817,816,1745,1744,1742,1746,2655,2637,2635,2626,2625,2623,2628,1820,2752,2739,2737,2728,2727,2725,2730,2785,2783,2778,2777,2775,2780,787,781,747,739,736,2413,754,752,1719,692,689,681,2371,678,2369,700,697,694,703,1688,1686,642,638,2343,631,2341,627,2338,651,646,643,2345,654,652,1652,1650,1647,1654,601,599,2322,596,2321,594,2319,2317,611,610,608,606,2324,603,2323,615,614,612,1617,1616,1614,1612,616,1619,1618,2575,2538,2536,905,901,898,909,2509,2507,2504,870,867,864,860,2512,875,872,1781,2490,2489,2487,2485,1748,836,834,832,830,2494,827,2492,843,841,839,845,1765,1763,2701,2676,2674,2653,2648,2656,2634,2633,2631,2629,1821,2638,2636,2770,2763,2761,2750,2745,2753,2736,2735,2733,2731,1848,2740,2738,2786,2784,591,588,576,569,566,2296,1590,537,534,526,2276,522,2274,545,542,539,548,1572,1570,481,2245,466,2242,462,2239,492,485,482,2249,496,494,1534,1531,1528,1538,413,2196,406,2191,2188,425,419,2202,415,2199,432,430,427,1472,1467,1464,433,1476,1474,368,367,2160,365,2159,362,2157,2155,2152,378,377,375,2166,372,2165,369,2162,383,381,379,2168,1419,1418,1416,1414,385,1411,384,1423,1422,1420,1424,2461,802,2441,2439,790,786,783,794,2409,2406,2403,750,742,738,2414,756,753,1720,2367,2365,2362,2359,1663,693,691,684,2373,680,2370,702,699,696,704,1690,1687,2337,2336,2334,2332,1624,2329,1622,640,637,2344,634,2342,630,2340,650,648,645,2346,655,653,1653,1651,1649,1655,2612,2597,2595,2571,2568,2565,2576,2534,2529,2526,1787,2540,2537,907,904,900,910,2503,2502,2500,2498,1768,2495,1767,2510,2508,2506,869,866,863,2513,876,874,1782,2720,2713,2711,2697,2694,2691,2702,2672,2670,2664,1828,2678,2675,2647,2646,2644,2642,1823,2639,1822,2654,2652,2650,2657,2771,1855,2765,2762,1850,1849,2751,2749,2747,2754,353,2148,344,342,336,2142,332,2140,345,1375,1373,306,2130,299,2128,295,2125,319,314,311,2132,1354,1352,1349,1356,262,257,2101,253,2096,2093,274,273,267,2107,263,2104,280,278,275,1316,1311,1308,1320,1318,2052,202,2050,2044,2040,219,2063,212,2060,208,2055,224,221,2066,1260,1258,1252,231,1248,229,1266,1264,1261,1268,155,1998,153,1996,1994,1991,1988,165,164,2007,162,2006,159,2003,2e3,172,171,169,2012,166,2010,1186,1184,1182,1179,175,1176,173,1192,1191,1189,1187,176,1194,1193,2313,2307,2305,592,589,2294,2292,2289,578,572,568,2297,580,1591,2272,2267,2264,1547,538,536,529,2278,525,2275,547,544,541,1574,1571,2237,2235,2229,1493,2225,1489,478,2247,470,2244,465,2241,493,488,484,2250,498,495,1536,1533,1530,1539,2187,2186,2184,2182,1432,2179,1430,2176,1427,414,412,2197,409,2195,405,2193,2190,426,424,421,2203,418,2201,431,429,1473,1471,1469,1466,434,1477,1475,2478,2472,2470,2459,2457,2454,2462,803,2437,2432,2429,1726,2443,2440,792,789,785,2401,2399,2393,1702,2389,1699,2411,2408,2405,745,741,2415,758,755,1721,2358,2357,2355,2353,1661,2350,1660,2347,1657,2368,2366,2364,2361,1666,690,687,2374,683,2372,701,698,705,1691,1689,2619,2617,2610,2608,2605,2613,2593,2588,2585,1803,2599,2596,2563,2561,2555,1797,2551,1795,2573,2570,2567,2577,2525,2524,2522,2520,1786,2517,1785,2514,1783,2535,2533,2531,2528,1788,2541,2539,906,903,911,2721,1844,2715,2712,1838,1836,2699,2696,2693,2703,1827,1826,1824,2673,2671,2669,2666,1829,2679,2677,1858,1857,2772,1854,1853,1851,1856,2766,2764,143,1987,139,1986,135,133,131,1984,128,1983,125,1981,138,137,136,1985,1133,1132,1130,112,110,1974,107,1973,104,1971,1969,122,121,119,117,1977,114,1976,124,1115,1114,1112,1110,1117,1116,84,83,1953,81,1952,78,1950,1948,1945,94,93,91,1959,88,1958,85,1955,99,97,95,1961,1086,1085,1083,1081,1078,100,1090,1089,1087,1091,49,47,1917,44,1915,1913,1910,1907,59,1926,56,1925,53,1922,1919,66,64,1931,61,1929,1042,1040,1038,71,1035,70,1032,68,1048,1047,1045,1043,1050,1049,12,10,1869,1867,1864,1861,21,1880,19,1877,1874,1871,28,1888,25,1886,22,1883,982,980,977,974,32,30,991,989,987,984,34,995,994,992,2151,2150,2147,2146,2144,356,355,354,2149,2139,2138,2136,2134,1359,343,341,338,2143,335,2141,348,347,346,1376,1374,2124,2123,2121,2119,1326,2116,1324,310,308,305,2131,302,2129,298,2127,320,318,316,313,2133,322,321,1355,1353,1351,1357,2092,2091,2089,2087,1276,2084,1274,2081,1271,259,2102,256,2100,252,2098,2095,272,269,2108,266,2106,281,279,277,1317,1315,1313,1310,282,1321,1319,2039,2037,2035,2032,1203,2029,1200,1197,207,2053,205,2051,201,2049,2046,2043,220,218,2064,215,2062,211,2059,228,226,223,2069,1259,1257,1254,232,1251,230,1267,1265,1263,2316,2315,2312,2311,2309,2314,2304,2303,2301,2299,1593,2308,2306,590,2288,2287,2285,2283,1578,2280,1577,2295,2293,2291,579,577,574,571,2298,582,581,1592,2263,2262,2260,2258,1545,2255,1544,2252,1541,2273,2271,2269,2266,1550,535,532,2279,528,2277,546,543,549,1575,1573,2224,2222,2220,1486,2217,1485,2214,1482,1479,2238,2236,2234,2231,1496,2228,1492,480,477,2248,473,2246,469,2243,490,487,2251,497,1537,1535,1532,2477,2476,2474,2479,2469,2468,2466,2464,1730,2473,2471,2453,2452,2450,2448,1729,2445,1728,2460,2458,2456,2463,805,804,2428,2427,2425,2423,1725,2420,1724,2417,1722,2438,2436,2434,2431,1727,2444,2442,793,791,788,795,2388,2386,2384,1697,2381,1696,2378,1694,1692,2402,2400,2398,2395,1703,2392,1701,2412,2410,2407,751,748,744,2416,759,757,1807,2620,2618,1806,1805,2611,2609,2607,2614,1802,1801,1799,2594,2592,2590,2587,1804,2600,2598,1794,1793,1791,1789,2564,2562,2560,2557,1798,2554,1796,2574,2572,2569,2578,1847,1846,2722,1843,1842,1840,1845,2716,2714,1835,1834,1832,1830,1839,1837,2700,2698,2695,2704,1817,1811,1810,897,862,1777,829,826,838,1760,1758,808,2481,1741,1740,1738,1743,2624,1818,2726,2776,782,740,737,1715,686,679,695,1682,1680,639,628,2339,647,644,1645,1643,1640,1648,602,600,597,595,2320,593,2318,609,607,604,1611,1610,1608,1606,613,1615,1613,2328,926,924,892,886,899,857,850,2505,1778,824,823,821,819,2488,818,2486,833,831,828,840,1761,1759,2649,2632,2630,2746,2734,2732,2782,2781,570,567,1587,531,527,523,540,1566,1564,476,467,463,2240,486,483,1524,1521,1518,1529,411,403,2192,399,2189,423,416,1462,1457,1454,428,1468,1465,2210,366,363,2158,360,2156,357,2153,376,373,370,2163,1410,1409,1407,1405,382,1402,380,1417,1415,1412,1421,2175,2174,777,774,771,784,732,725,722,2404,743,1716,676,674,668,2363,665,2360,685,1684,1681,626,624,622,2335,620,2333,617,2330,641,635,649,1646,1644,1642,2566,928,925,2530,2527,894,891,888,2501,2499,2496,858,856,854,851,1779,2692,2668,2665,2645,2643,2640,2651,2768,2759,2757,2744,2743,2741,2748,352,1382,340,337,333,1371,1369,307,300,296,2126,315,312,1347,1342,1350,261,258,250,2097,246,2094,271,268,264,1306,1301,1298,276,1312,1309,2115,203,2048,195,2045,191,2041,213,209,2056,1246,1244,1238,225,1234,222,1256,1253,1249,1262,2080,2079,154,1997,150,1995,147,1992,1989,163,160,2004,156,2001,1175,1174,1172,1170,1167,170,1164,167,1185,1183,1180,1177,174,1190,1188,2025,2024,2022,587,586,564,559,556,2290,573,1588,520,518,512,2268,508,2265,530,1568,1565,461,457,2233,450,2230,446,2226,479,471,489,1526,1523,1520,397,395,2185,392,2183,389,2180,2177,410,2194,402,422,1463,1461,1459,1456,1470,2455,799,2433,2430,779,776,773,2397,2394,2390,734,728,724,746,1717,2356,2354,2351,2348,1658,677,675,673,670,667,688,1685,1683,2606,2589,2586,2559,2556,2552,927,2523,2521,2518,2515,1784,2532,895,893,890,2718,2709,2707,2689,2687,2684,2663,2662,2660,2658,1825,2667,2769,1852,2760,2758,142,141,1139,1138,134,132,129,126,1982,1129,1128,1126,1131,113,111,108,105,1972,101,1970,120,118,115,1109,1108,1106,1104,123,1113,1111,82,79,1951,75,1949,72,1946,92,89,86,1956,1077,1076,1074,1072,98,1069,96,1084,1082,1079,1088,1968,1967,48,45,1916,42,1914,39,1911,1908,60,57,54,1923,50,1920,1031,1030,1028,1026,67,1023,65,1020,62,1041,1039,1036,1033,69,1046,1044,1944,1943,1941,11,9,1868,7,1865,1862,1859,20,1878,16,1875,13,1872,970,968,966,963,29,960,26,23,983,981,978,975,33,971,31,990,988,985,1906,1904,1902,993,351,2145,1383,331,330,328,326,2137,323,2135,339,1372,1370,294,293,291,289,2122,286,2120,283,2117,309,303,317,1348,1346,1344,245,244,242,2090,239,2088,236,2085,2082,260,2099,249,270,1307,1305,1303,1300,1314,189,2038,186,2036,183,2033,2030,2026,206,198,2047,194,216,1247,1245,1243,1240,227,1237,1255,2310,2302,2300,2286,2284,2281,565,563,561,558,575,1589,2261,2259,2256,2253,1542,521,519,517,514,2270,511,533,1569,1567,2223,2221,2218,2215,1483,2211,1480,459,456,453,2232,449,474,491,1527,1525,1522,2475,2467,2465,2451,2449,2446,801,800,2426,2424,2421,2418,1723,2435,780,778,775,2387,2385,2382,2379,1695,2375,1693,2396,735,733,730,727,749,1718,2616,2615,2604,2603,2601,2584,2583,2581,2579,1800,2591,2550,2549,2547,2545,1792,2542,1790,2558,929,2719,1841,2710,2708,1833,1831,2690,2688,2686,1815,1809,1808,1774,1756,1754,1737,1736,1734,1739,1816,1711,1676,1674,633,629,1638,1636,1633,1641,598,1605,1604,1602,1600,605,1609,1607,2327,887,853,1775,822,820,1757,1755,1584,524,1560,1558,468,464,1514,1511,1508,1519,408,404,400,1452,1447,1444,417,1458,1455,2208,364,361,358,2154,1401,1400,1398,1396,374,1393,371,1408,1406,1403,1413,2173,2172,772,726,723,1712,672,669,666,682,1678,1675,625,623,621,618,2331,636,632,1639,1637,1635,920,918,884,880,889,849,848,847,846,2497,855,852,1776,2641,2742,2787,1380,334,1367,1365,301,297,1340,1338,1335,1343,255,251,247,1296,1291,1288,265,1302,1299,2113,204,196,192,2042,1232,1230,1224,214,1220,210,1242,1239,1235,1250,2077,2075,151,148,1993,144,1990,1163,1162,1160,1158,1155,161,1152,157,1173,1171,1168,1165,168,1181,1178,2021,2020,2018,2023,585,560,557,1585,516,509,1562,1559,458,447,2227,472,1516,1513,1510,398,396,393,390,2181,386,2178,407,1453,1451,1449,1446,420,1460,2209,769,764,720,712,2391,729,1713,664,663,661,659,2352,656,2349,671,1679,1677,2553,922,919,2519,2516,885,883,881,2685,2661,2659,2767,2756,2755,140,1137,1136,130,127,1125,1124,1122,1127,109,106,102,1103,1102,1100,1098,116,1107,1105,1980,80,76,73,1947,1068,1067,1065,1063,90,1060,87,1075,1073,1070,1080,1966,1965,46,43,40,1912,36,1909,1019,1018,1016,1014,58,1011,55,1008,51,1029,1027,1024,1021,63,1037,1034,1940,1939,1937,1942,8,1866,4,1863,1,1860,956,954,952,949,946,17,14,969,967,964,961,27,957,24,979,976,972,1901,1900,1898,1896,986,1905,1903,350,349,1381,329,327,324,1368,1366,292,290,287,284,2118,304,1341,1339,1337,1345,243,240,237,2086,233,2083,254,1297,1295,1293,1290,1304,2114,190,187,184,2034,180,2031,177,2027,199,1233,1231,1229,1226,217,1223,1241,2078,2076,584,555,554,552,550,2282,562,1586,507,506,504,502,2257,499,2254,515,1563,1561,445,443,441,2219,438,2216,435,2212,460,454,475,1517,1515,1512,2447,798,797,2422,2419,770,768,766,2383,2380,2376,721,719,717,714,731,1714,2602,2582,2580,2548,2546,2543,923,921,2717,2706,2705,2683,2682,2680,1771,1752,1750,1733,1732,1731,1735,1814,1707,1670,1668,1631,1629,1626,1634,1599,1598,1596,1594,1603,1601,2326,1772,1753,1751,1581,1554,1552,1504,1501,1498,1509,1442,1437,1434,401,1448,1445,2206,1392,1391,1389,1387,1384,359,1399,1397,1394,1404,2171,2170,1708,1672,1669,619,1632,1630,1628,1773,1378,1363,1361,1333,1328,1336,1286,1281,1278,248,1292,1289,2111,1218,1216,1210,197,1206,193,1228,1225,1221,1236,2073,2071,1151,1150,1148,1146,152,1143,149,1140,145,1161,1159,1156,1153,158,1169,1166,2017,2016,2014,2019,1582,510,1556,1553,452,448,1506,1500,394,391,387,1443,1441,1439,1436,1450,2207,765,716,713,1709,662,660,657,1673,1671,916,914,879,878,877,882,1135,1134,1121,1120,1118,1123,1097,1096,1094,1092,103,1101,1099,1979,1059,1058,1056,1054,77,1051,74,1066,1064,1061,1071,1964,1963,1007,1006,1004,1002,999,41,996,37,1017,1015,1012,1009,52,1025,1022,1936,1935,1933,1938,942,940,938,935,932,5,2,955,953,950,947,18,943,15,965,962,958,1895,1894,1892,1890,973,1899,1897,1379,325,1364,1362,288,285,1334,1332,1330,241,238,234,1287,1285,1283,1280,1294,2112,188,185,181,178,2028,1219,1217,1215,1212,200,1209,1227,2074,2072,583,553,551,1583,505,503,500,513,1557,1555,444,442,439,436,2213,455,451,1507,1505,1502,796,763,762,760,767,711,710,708,706,2377,718,715,1710,2544,917,915,2681,1627,1597,1595,2325,1769,1749,1747,1499,1438,1435,2204,1390,1388,1385,1395,2169,2167,1704,1665,1662,1625,1623,1620,1770,1329,1282,1279,2109,1214,1207,1222,2068,2065,1149,1147,1144,1141,146,1157,1154,2013,2011,2008,2015,1579,1549,1546,1495,1487,1433,1431,1428,1425,388,1440,2205,1705,658,1667,1664,1119,1095,1093,1978,1057,1055,1052,1062,1962,1960,1005,1003,1e3,997,38,1013,1010,1932,1930,1927,1934,941,939,936,933,6,930,3,951,948,944,1889,1887,1884,1881,959,1893,1891,35,1377,1360,1358,1327,1325,1322,1331,1277,1275,1272,1269,235,1284,2110,1205,1204,1201,1198,182,1195,179,1213,2070,2067,1580,501,1551,1548,440,437,1497,1494,1490,1503,761,709,707,1706,913,912,2198,1386,2164,2161,1621,1766,2103,1208,2058,2054,1145,1142,2005,2002,1999,2009,1488,1429,1426,2200,1698,1659,1656,1975,1053,1957,1954,1001,998,1924,1921,1918,1928,937,934,931,1879,1876,1873,1870,945,1885,1882,1323,1273,1270,2105,1202,1199,1196,1211,2061,2057,1576,1543,1540,1484,1481,1478,1491,1700]),a}(),Kg=function(){function a(r,n){this.bits=r,this.points=n}return a.prototype.getBits=function(){return this.bits},a.prototype.getPoints=function(){return this.points},a}(),Qg=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Jg=function(){function a(){}return a.detectMultiple=function(r,n,t){var l=r.getBlackMatrix(),s=a.detect(t,l);return s.length||(l=l.clone(),l.rotate180(),s=a.detect(t,l)),new Kg(l,s)},a.detect=function(r,n){for(var t,l,s=new Array,o=0,u=0,c=!1;o<n.getHeight();){var d=a.findVertices(n,o,u);if(d[0]==null&&d[3]==null){if(!c)break;c=!1,u=0;try{for(var g=(t=void 0,Qg(s)),y=g.next();!y.done;y=g.next()){var h=y.value;h[1]!=null&&(o=Math.trunc(Math.max(o,h[1].getY()))),h[3]!=null&&(o=Math.max(o,Math.trunc(h[3].getY())))}}catch(p){t={error:p}}finally{try{y&&!y.done&&(l=g.return)&&l.call(g)}finally{if(t)throw t.error}}o+=a.ROW_STEP;continue}if(c=!0,s.push(d),!r)break;d[2]!=null?(u=Math.trunc(d[2].getX()),o=Math.trunc(d[2].getY())):(u=Math.trunc(d[4].getX()),o=Math.trunc(d[4].getY()))}return s},a.findVertices=function(r,n,t){var l=r.getHeight(),s=r.getWidth(),o=new Array(8);return a.copyToResult(o,a.findRowsWithPattern(r,l,s,n,t,a.START_PATTERN),a.INDEXES_START_PATTERN),o[4]!=null&&(t=Math.trunc(o[4].getX()),n=Math.trunc(o[4].getY())),a.copyToResult(o,a.findRowsWithPattern(r,l,s,n,t,a.STOP_PATTERN),a.INDEXES_STOP_PATTERN),o},a.copyToResult=function(r,n,t){for(var l=0;l<t.length;l++)r[t[l]]=n[l]},a.findRowsWithPattern=function(r,n,t,l,s,o){for(var u=new Array(4),c=!1,d=new Int32Array(o.length);l<n;l+=a.ROW_STEP){var g=a.findGuardPattern(r,s,l,t,!1,o,d);if(g!=null){for(;l>0;){var y=a.findGuardPattern(r,s,--l,t,!1,o,d);if(y!=null)g=y;else{l++;break}}u[0]=new Et(g[0],l),u[1]=new Et(g[1],l),c=!0;break}}var h=l+1;if(c){for(var p=0,y=Int32Array.from([Math.trunc(u[0].getX()),Math.trunc(u[1].getX())]);h<n;h++){var g=a.findGuardPattern(r,y[0],h,t,!1,o,d);if(g!=null&&Math.abs(y[0]-g[0])<a.MAX_PATTERN_DRIFT&&Math.abs(y[1]-g[1])<a.MAX_PATTERN_DRIFT)y=g,p=0;else{if(p>a.SKIPPED_ROW_COUNT_MAX)break;p++}}h-=p+1,u[2]=new Et(y[0],h),u[3]=new Et(y[1],h)}return h-l<a.BARCODE_MIN_HEIGHT&&cn.fill(u,null),u},a.findGuardPattern=function(r,n,t,l,s,o,u){cn.fillWithin(u,0,u.length,0);for(var c=n,d=0;r.get(c,t)&&c>0&&d++<a.MAX_PIXEL_DRIFT;)c--;for(var g=c,y=0,h=o.length,p=s;g<l;g++){var m=r.get(g,t);if(m!==p)u[y]++;else{if(y===h-1){if(a.patternMatchVariance(u,o,a.MAX_INDIVIDUAL_VARIANCE)<a.MAX_AVG_VARIANCE)return new Int32Array([c,g]);c+=u[0]+u[1],Tr.arraycopy(u,2,u,0,y-1),u[y-1]=0,u[y]=0,y--}else y++;u[y]=1,p=!p}}return y===h-1&&a.patternMatchVariance(u,o,a.MAX_INDIVIDUAL_VARIANCE)<a.MAX_AVG_VARIANCE?new Int32Array([c,g-1]):null},a.patternMatchVariance=function(r,n,t){for(var l=r.length,s=0,o=0,u=0;u<l;u++)s+=r[u],o+=n[u];if(s<o)return 1/0;var c=s/o;t*=c;for(var d=0,g=0;g<l;g++){var y=r[g],h=n[g]*c,p=y>h?y-h:h-y;if(p>t)return 1/0;d+=p}return d/s},a.INDEXES_START_PATTERN=Int32Array.from([0,4,1,5]),a.INDEXES_STOP_PATTERN=Int32Array.from([6,2,7,3]),a.MAX_AVG_VARIANCE=.42,a.MAX_INDIVIDUAL_VARIANCE=.8,a.START_PATTERN=Int32Array.from([8,1,1,1,1,1,1,3]),a.STOP_PATTERN=Int32Array.from([7,1,1,3,1,1,1,2,1]),a.MAX_PIXEL_DRIFT=3,a.MAX_PATTERN_DRIFT=5,a.SKIPPED_ROW_COUNT_MAX=25,a.ROW_STEP=5,a.BARCODE_MIN_HEIGHT=10,a}(),$g=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},mo=function(){function a(r,n){if(n.length===0)throw new Nt;this.field=r;var t=n.length;if(t>1&&n[0]===0){for(var l=1;l<t&&n[l]===0;)l++;l===t?this.coefficients=new Int32Array([0]):(this.coefficients=new Int32Array(t-l),Tr.arraycopy(n,l,this.coefficients,0,this.coefficients.length))}else this.coefficients=n}return a.prototype.getCoefficients=function(){return this.coefficients},a.prototype.getDegree=function(){return this.coefficients.length-1},a.prototype.isZero=function(){return this.coefficients[0]===0},a.prototype.getCoefficient=function(r){return this.coefficients[this.coefficients.length-1-r]},a.prototype.evaluateAt=function(r){var n,t;if(r===0)return this.getCoefficient(0);if(r===1){var l=0;try{for(var s=$g(this.coefficients),o=s.next();!o.done;o=s.next()){var u=o.value;l=this.field.add(l,u)}}catch(y){n={error:y}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return l}for(var c=this.coefficients[0],d=this.coefficients.length,g=1;g<d;g++)c=this.field.add(this.field.multiply(r,c),this.coefficients[g]);return c},a.prototype.add=function(r){if(!this.field.equals(r.field))throw new Nt("ModulusPolys do not have same ModulusGF field");if(this.isZero())return r;if(r.isZero())return this;var n=this.coefficients,t=r.coefficients;if(n.length>t.length){var l=n;n=t,t=l}var s=new Int32Array(t.length),o=t.length-n.length;Tr.arraycopy(t,0,s,0,o);for(var u=o;u<t.length;u++)s[u]=this.field.add(n[u-o],t[u]);return new a(this.field,s)},a.prototype.subtract=function(r){if(!this.field.equals(r.field))throw new Nt("ModulusPolys do not have same ModulusGF field");return r.isZero()?this:this.add(r.negative())},a.prototype.multiply=function(r){return r instanceof a?this.multiplyOther(r):this.multiplyScalar(r)},a.prototype.multiplyOther=function(r){if(!this.field.equals(r.field))throw new Nt("ModulusPolys do not have same ModulusGF field");if(this.isZero()||r.isZero())return new a(this.field,new Int32Array([0]));for(var n=this.coefficients,t=n.length,l=r.coefficients,s=l.length,o=new Int32Array(t+s-1),u=0;u<t;u++)for(var c=n[u],d=0;d<s;d++)o[u+d]=this.field.add(o[u+d],this.field.multiply(c,l[d]));return new a(this.field,o)},a.prototype.negative=function(){for(var r=this.coefficients.length,n=new Int32Array(r),t=0;t<r;t++)n[t]=this.field.subtract(0,this.coefficients[t]);return new a(this.field,n)},a.prototype.multiplyScalar=function(r){if(r===0)return new a(this.field,new Int32Array([0]));if(r===1)return this;for(var n=this.coefficients.length,t=new Int32Array(n),l=0;l<n;l++)t[l]=this.field.multiply(this.coefficients[l],r);return new a(this.field,t)},a.prototype.multiplyByMonomial=function(r,n){if(r<0)throw new Nt;if(n===0)return new a(this.field,new Int32Array([0]));for(var t=this.coefficients.length,l=new Int32Array(t+r),s=0;s<t;s++)l[s]=this.field.multiply(this.coefficients[s],n);return new a(this.field,l)},a.prototype.toString=function(){for(var r=new Vt,n=this.getDegree();n>=0;n--){var t=this.getCoefficient(n);t!==0&&(t<0?(r.append(" - "),t=-t):r.length()>0&&r.append(" + "),(n===0||t!==1)&&r.append(t),n!==0&&(n===1?r.append("x"):(r.append("x^"),r.append(n))))}return r.toString()},a}(),ev=function(){function a(){}return a.prototype.add=function(r,n){return(r+n)%this.modulus},a.prototype.subtract=function(r,n){return(this.modulus+r-n)%this.modulus},a.prototype.exp=function(r){return this.expTable[r]},a.prototype.log=function(r){if(r===0)throw new Nt;return this.logTable[r]},a.prototype.inverse=function(r){if(r===0)throw new Qm;return this.expTable[this.modulus-this.logTable[r]-1]},a.prototype.multiply=function(r,n){return r===0||n===0?0:this.expTable[(this.logTable[r]+this.logTable[n])%(this.modulus-1)]},a.prototype.getSize=function(){return this.modulus},a.prototype.equals=function(r){return r===this},a}(),tv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),rv=function(a){tv(r,a);function r(n,t){var l=a.call(this)||this;l.modulus=n,l.expTable=new Int32Array(n),l.logTable=new Int32Array(n);for(var s=1,o=0;o<n;o++)l.expTable[o]=s,s=s*t%n;for(var o=0;o<n-1;o++)l.logTable[l.expTable[o]]=o;return l.zero=new mo(l,new Int32Array([0])),l.one=new mo(l,new Int32Array([1])),l}return r.prototype.getZero=function(){return this.zero},r.prototype.getOne=function(){return this.one},r.prototype.buildMonomial=function(n,t){if(n<0)throw new Nt;if(t===0)return this.zero;var l=new Int32Array(n+1);return l[0]=t,new mo(this,l)},r.PDF417_GF=new r($t.NUMBER_OF_CODEWORDS,3),r}(ev),nv=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},av=function(){function a(){this.field=rv.PDF417_GF}return a.prototype.decode=function(r,n,t){for(var l,s,o=new mo(this.field,r),u=new Int32Array(n),c=!1,d=n;d>0;d--){var g=o.evaluateAt(this.field.exp(d));u[n-d]=g,g!==0&&(c=!0)}if(!c)return 0;var y=this.field.getOne();if(t!=null)try{for(var h=nv(t),p=h.next();!p.done;p=h.next()){var m=p.value,v=this.field.exp(r.length-1-m),_=new mo(this.field,new Int32Array([this.field.subtract(0,v),1]));y=y.multiply(_)}}catch(R){l={error:R}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}for(var x=new mo(this.field,u),b=this.runEuclideanAlgorithm(this.field.buildMonomial(n,1),x,n),E=b[0],S=b[1],C=this.findErrorLocations(E),D=this.findErrorMagnitudes(S,E,C),d=0;d<C.length;d++){var M=r.length-1-this.field.log(C[d]);if(M<0)throw vn.getChecksumInstance();r[M]=this.field.subtract(r[M],D[d])}return C.length},a.prototype.runEuclideanAlgorithm=function(r,n,t){if(r.getDegree()<n.getDegree()){var l=r;r=n,n=l}for(var s=r,o=n,u=this.field.getZero(),c=this.field.getOne();o.getDegree()>=Math.round(t/2);){var d=s,g=u;if(s=o,u=c,s.isZero())throw vn.getChecksumInstance();o=d;for(var y=this.field.getZero(),h=s.getCoefficient(s.getDegree()),p=this.field.inverse(h);o.getDegree()>=s.getDegree()&&!o.isZero();){var m=o.getDegree()-s.getDegree(),v=this.field.multiply(o.getCoefficient(o.getDegree()),p);y=y.add(this.field.buildMonomial(m,v)),o=o.subtract(s.multiplyByMonomial(m,v))}c=y.multiply(u).subtract(g).negative()}var _=c.getCoefficient(0);if(_===0)throw vn.getChecksumInstance();var x=this.field.inverse(_),b=c.multiply(x),E=o.multiply(x);return[b,E]},a.prototype.findErrorLocations=function(r){for(var n=r.getDegree(),t=new Int32Array(n),l=0,s=1;s<this.field.getSize()&&l<n;s++)r.evaluateAt(s)===0&&(t[l]=this.field.inverse(s),l++);if(l!==n)throw vn.getChecksumInstance();return t},a.prototype.findErrorMagnitudes=function(r,n,t){for(var l=n.getDegree(),s=new Int32Array(l),o=1;o<=l;o++)s[l-o]=this.field.multiply(o,n.getCoefficient(o));for(var u=new mo(this.field,s),c=t.length,d=new Int32Array(c),o=0;o<c;o++){var g=this.field.inverse(t[o]),y=this.field.subtract(0,r.evaluateAt(g)),h=this.field.inverse(u.evaluateAt(g));d[o]=this.field.multiply(y,h)}return d},a}(),$f=function(){function a(r,n,t,l,s){r instanceof a?this.constructor_2(r):this.constructor_1(r,n,t,l,s)}return a.prototype.constructor_1=function(r,n,t,l,s){var o=n==null||t==null,u=l==null||s==null;if(o&&u)throw new Ze;o?(n=new Et(0,l.getY()),t=new Et(0,s.getY())):u&&(l=new Et(r.getWidth()-1,n.getY()),s=new Et(r.getWidth()-1,t.getY())),this.image=r,this.topLeft=n,this.bottomLeft=t,this.topRight=l,this.bottomRight=s,this.minX=Math.trunc(Math.min(n.getX(),t.getX())),this.maxX=Math.trunc(Math.max(l.getX(),s.getX())),this.minY=Math.trunc(Math.min(n.getY(),l.getY())),this.maxY=Math.trunc(Math.max(t.getY(),s.getY()))},a.prototype.constructor_2=function(r){this.image=r.image,this.topLeft=r.getTopLeft(),this.bottomLeft=r.getBottomLeft(),this.topRight=r.getTopRight(),this.bottomRight=r.getBottomRight(),this.minX=r.getMinX(),this.maxX=r.getMaxX(),this.minY=r.getMinY(),this.maxY=r.getMaxY()},a.merge=function(r,n){return r==null?n:n==null?r:new a(r.image,r.topLeft,r.bottomLeft,n.topRight,n.bottomRight)},a.prototype.addMissingRows=function(r,n,t){var l=this.topLeft,s=this.bottomLeft,o=this.topRight,u=this.bottomRight;if(r>0){var c=t?this.topLeft:this.topRight,d=Math.trunc(c.getY()-r);d<0&&(d=0);var g=new Et(c.getX(),d);t?l=g:o=g}if(n>0){var y=t?this.bottomLeft:this.bottomRight,h=Math.trunc(y.getY()+n);h>=this.image.getHeight()&&(h=this.image.getHeight()-1);var p=new Et(y.getX(),h);t?s=p:u=p}return new a(this.image,l,s,o,u)},a.prototype.getMinX=function(){return this.minX},a.prototype.getMaxX=function(){return this.maxX},a.prototype.getMinY=function(){return this.minY},a.prototype.getMaxY=function(){return this.maxY},a.prototype.getTopLeft=function(){return this.topLeft},a.prototype.getTopRight=function(){return this.topRight},a.prototype.getBottomLeft=function(){return this.bottomLeft},a.prototype.getBottomRight=function(){return this.bottomRight},a}(),iv=function(){function a(r,n,t,l){this.columnCount=r,this.errorCorrectionLevel=l,this.rowCountUpperPart=n,this.rowCountLowerPart=t,this.rowCount=n+t}return a.prototype.getColumnCount=function(){return this.columnCount},a.prototype.getErrorCorrectionLevel=function(){return this.errorCorrectionLevel},a.prototype.getRowCount=function(){return this.rowCount},a.prototype.getRowCountUpperPart=function(){return this.rowCountUpperPart},a.prototype.getRowCountLowerPart=function(){return this.rowCountLowerPart},a}(),fd=function(){function a(){this.buffer=""}return a.form=function(r,n){var t=-1;function l(o,u,c,d,g,y){if(o==="%%")return"%";if(n[++t]!==void 0){o=d?parseInt(d.substr(1)):void 0;var h=g?parseInt(g.substr(1)):void 0,p;switch(y){case"s":p=n[t];break;case"c":p=n[t][0];break;case"f":p=parseFloat(n[t]).toFixed(o);break;case"p":p=parseFloat(n[t]).toPrecision(o);break;case"e":p=parseFloat(n[t]).toExponential(o);break;case"x":p=parseInt(n[t]).toString(h||16);break;case"d":p=parseFloat(parseInt(n[t],h||10).toPrecision(o)).toFixed(0);break}p=typeof p=="object"?JSON.stringify(p):(+p).toString(h);for(var m=parseInt(c),v=c&&c[0]+""=="0"?"0":" ";p.length<m;)p=u!==void 0?p+v:v+p;return p}}var s=/%(-)?(0?[0-9]+)?([.][0-9]+)?([#][0-9]+)?([scfpexd%])/g;return r.replace(s,l)},a.prototype.format=function(r){for(var n=[],t=1;t<arguments.length;t++)n[t-1]=arguments[t];this.buffer+=a.form(r,n)},a.prototype.toString=function(){return this.buffer},a}(),ov=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},i1=function(){function a(r){this.boundingBox=new $f(r),this.codewords=new Array(r.getMaxY()-r.getMinY()+1)}return a.prototype.getCodewordNearby=function(r){var n=this.getCodeword(r);if(n!=null)return n;for(var t=1;t<a.MAX_NEARBY_DISTANCE;t++){var l=this.imageRowToCodewordIndex(r)-t;if(l>=0&&(n=this.codewords[l],n!=null)||(l=this.imageRowToCodewordIndex(r)+t,l<this.codewords.length&&(n=this.codewords[l],n!=null)))return n}return null},a.prototype.imageRowToCodewordIndex=function(r){return r-this.boundingBox.getMinY()},a.prototype.setCodeword=function(r,n){this.codewords[this.imageRowToCodewordIndex(r)]=n},a.prototype.getCodeword=function(r){return this.codewords[this.imageRowToCodewordIndex(r)]},a.prototype.getBoundingBox=function(){return this.boundingBox},a.prototype.getCodewords=function(){return this.codewords},a.prototype.toString=function(){var r,n,t=new fd,l=0;try{for(var s=ov(this.codewords),o=s.next();!o.done;o=s.next()){var u=o.value;if(u==null){t.format("%3d:    |   %n",l++);continue}t.format("%3d: %3d|%3d%n",l++,u.getRowNumber(),u.getValue())}}catch(c){r={error:c}}finally{try{o&&!o.done&&(n=s.return)&&n.call(s)}finally{if(r)throw r.error}}return t.toString()},a.MAX_NEARBY_DISTANCE=5,a}(),sv=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},lv=function(a,r){var n=typeof Symbol=="function"&&a[Symbol.iterator];if(!n)return a;var t=n.call(a),l,s=[],o;try{for(;(r===void 0||r-- >0)&&!(l=t.next()).done;)s.push(l.value)}catch(u){o={error:u}}finally{try{l&&!l.done&&(n=t.return)&&n.call(t)}finally{if(o)throw o.error}}return s},nl=function(){function a(){this.values=new Map}return a.prototype.setValue=function(r){r=Math.trunc(r);var n=this.values.get(r);n==null&&(n=0),n++,this.values.set(r,n)},a.prototype.getValue=function(){var r,n,t=-1,l=new Array,s=function(y,h){var p={getKey:function(){return y},getValue:function(){return h}};p.getValue()>t?(t=p.getValue(),l=[],l.push(p.getKey())):p.getValue()===t&&l.push(p.getKey())};try{for(var o=sv(this.values.entries()),u=o.next();!u.done;u=o.next()){var c=lv(u.value,2),d=c[0],g=c[1];s(d,g)}}catch(y){r={error:y}}finally{try{u&&!u.done&&(n=o.return)&&n.call(o)}finally{if(r)throw r.error}}return $t.toIntArray(l)},a.prototype.getConfidence=function(r){return this.values.get(r)},a}(),uv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ff=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},km=function(a){uv(r,a);function r(n,t){var l=a.call(this,n)||this;return l._isLeft=t,l}return r.prototype.setRowNumbers=function(){var n,t;try{for(var l=Ff(this.getCodewords()),s=l.next();!s.done;s=l.next()){var o=s.value;o!=null&&o.setRowNumberAsRowIndicatorColumn()}}catch(u){n={error:u}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}},r.prototype.adjustCompleteIndicatorColumnRowNumbers=function(n){var t=this.getCodewords();this.setRowNumbers(),this.removeIncorrectCodewords(t,n);for(var l=this.getBoundingBox(),s=this._isLeft?l.getTopLeft():l.getTopRight(),o=this._isLeft?l.getBottomLeft():l.getBottomRight(),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.imageRowToCodewordIndex(Math.trunc(o.getY())),d=-1,g=1,y=0,h=u;h<c;h++)if(t[h]!=null){var p=t[h],m=p.getRowNumber()-d;if(m===0)y++;else if(m===1)g=Math.max(g,y),y=1,d=p.getRowNumber();else if(m<0||p.getRowNumber()>=n.getRowCount()||m>h)t[h]=null;else{var v=void 0;g>2?v=(g-2)*m:v=m;for(var _=v>=h,x=1;x<=v&&!_;x++)_=t[h-x]!=null;_?t[h]=null:(d=p.getRowNumber(),y=1)}}},r.prototype.getRowHeights=function(){var n,t,l=this.getBarcodeMetadata();if(l==null)return null;this.adjustIncompleteIndicatorColumnRowNumbers(l);var s=new Int32Array(l.getRowCount());try{for(var o=Ff(this.getCodewords()),u=o.next();!u.done;u=o.next()){var c=u.value;if(c!=null){var d=c.getRowNumber();if(d>=s.length)continue;s[d]++}}}catch(g){n={error:g}}finally{try{u&&!u.done&&(t=o.return)&&t.call(o)}finally{if(n)throw n.error}}return s},r.prototype.adjustIncompleteIndicatorColumnRowNumbers=function(n){for(var t=this.getBoundingBox(),l=this._isLeft?t.getTopLeft():t.getTopRight(),s=this._isLeft?t.getBottomLeft():t.getBottomRight(),o=this.imageRowToCodewordIndex(Math.trunc(l.getY())),u=this.imageRowToCodewordIndex(Math.trunc(s.getY())),c=this.getCodewords(),d=-1,g=o;g<u;g++)if(c[g]!=null){var y=c[g];y.setRowNumberAsRowIndicatorColumn();var h=y.getRowNumber()-d;h===0||(h===1?d=y.getRowNumber():y.getRowNumber()>=n.getRowCount()?c[g]=null:d=y.getRowNumber())}},r.prototype.getBarcodeMetadata=function(){var n,t,l=this.getCodewords(),s=new nl,o=new nl,u=new nl,c=new nl;try{for(var d=Ff(l),g=d.next();!g.done;g=d.next()){var y=g.value;if(y!=null){y.setRowNumberAsRowIndicatorColumn();var h=y.getValue()%30,p=y.getRowNumber();switch(this._isLeft||(p+=2),p%3){case 0:o.setValue(h*3+1);break;case 1:c.setValue(h/3),u.setValue(h%3);break;case 2:s.setValue(h+1);break}}}}catch(v){n={error:v}}finally{try{g&&!g.done&&(t=d.return)&&t.call(d)}finally{if(n)throw n.error}}if(s.getValue().length===0||o.getValue().length===0||u.getValue().length===0||c.getValue().length===0||s.getValue()[0]<1||o.getValue()[0]+u.getValue()[0]<$t.MIN_ROWS_IN_BARCODE||o.getValue()[0]+u.getValue()[0]>$t.MAX_ROWS_IN_BARCODE)return null;var m=new iv(s.getValue()[0],o.getValue()[0],u.getValue()[0],c.getValue()[0]);return this.removeIncorrectCodewords(l,m),m},r.prototype.removeIncorrectCodewords=function(n,t){for(var l=0;l<n.length;l++){var s=n[l];if(n[l]!=null){var o=s.getValue()%30,u=s.getRowNumber();if(u>t.getRowCount()){n[l]=null;continue}switch(this._isLeft||(u+=2),u%3){case 0:o*3+1!==t.getRowCountUpperPart()&&(n[l]=null);break;case 1:(Math.trunc(o/3)!==t.getErrorCorrectionLevel()||o%3!==t.getRowCountLowerPart())&&(n[l]=null);break;case 2:o+1!==t.getColumnCount()&&(n[l]=null);break}}}},r.prototype.isLeft=function(){return this._isLeft},r.prototype.toString=function(){return"IsLeft: "+this._isLeft+`
`+a.prototype.toString.call(this)},r}(i1),cv=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},fv=function(){function a(r,n){this.ADJUST_ROW_NUMBER_SKIP=2,this.barcodeMetadata=r,this.barcodeColumnCount=r.getColumnCount(),this.boundingBox=n,this.detectionResultColumns=new Array(this.barcodeColumnCount+2)}return a.prototype.getDetectionResultColumns=function(){this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[0]),this.adjustIndicatorColumnRowNumbers(this.detectionResultColumns[this.barcodeColumnCount+1]);var r=$t.MAX_CODEWORDS_IN_BARCODE,n;do n=r,r=this.adjustRowNumbersAndGetCount();while(r>0&&r<n);return this.detectionResultColumns},a.prototype.adjustIndicatorColumnRowNumbers=function(r){r!=null&&r.adjustCompleteIndicatorColumnRowNumbers(this.barcodeMetadata)},a.prototype.adjustRowNumbersAndGetCount=function(){var r=this.adjustRowNumbersByRow();if(r===0)return 0;for(var n=1;n<this.barcodeColumnCount+1;n++)for(var t=this.detectionResultColumns[n].getCodewords(),l=0;l<t.length;l++)t[l]!=null&&(t[l].hasValidRowNumber()||this.adjustRowNumbers(n,l,t));return r},a.prototype.adjustRowNumbersByRow=function(){this.adjustRowNumbersFromBothRI();var r=this.adjustRowNumbersFromLRI();return r+this.adjustRowNumbersFromRRI()},a.prototype.adjustRowNumbersFromBothRI=function(){if(!(this.detectionResultColumns[0]==null||this.detectionResultColumns[this.barcodeColumnCount+1]==null)){for(var r=this.detectionResultColumns[0].getCodewords(),n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),t=0;t<r.length;t++)if(r[t]!=null&&n[t]!=null&&r[t].getRowNumber()===n[t].getRowNumber())for(var l=1;l<=this.barcodeColumnCount;l++){var s=this.detectionResultColumns[l].getCodewords()[t];s!=null&&(s.setRowNumber(r[t].getRowNumber()),s.hasValidRowNumber()||(this.detectionResultColumns[l].getCodewords()[t]=null))}}},a.prototype.adjustRowNumbersFromRRI=function(){if(this.detectionResultColumns[this.barcodeColumnCount+1]==null)return 0;for(var r=0,n=this.detectionResultColumns[this.barcodeColumnCount+1].getCodewords(),t=0;t<n.length;t++)if(n[t]!=null)for(var l=n[t].getRowNumber(),s=0,o=this.barcodeColumnCount+1;o>0&&s<this.ADJUST_ROW_NUMBER_SKIP;o--){var u=this.detectionResultColumns[o].getCodewords()[t];u!=null&&(s=a.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||r++)}return r},a.prototype.adjustRowNumbersFromLRI=function(){if(this.detectionResultColumns[0]==null)return 0;for(var r=0,n=this.detectionResultColumns[0].getCodewords(),t=0;t<n.length;t++)if(n[t]!=null)for(var l=n[t].getRowNumber(),s=0,o=1;o<this.barcodeColumnCount+1&&s<this.ADJUST_ROW_NUMBER_SKIP;o++){var u=this.detectionResultColumns[o].getCodewords()[t];u!=null&&(s=a.adjustRowNumberIfValid(l,s,u),u.hasValidRowNumber()||r++)}return r},a.adjustRowNumberIfValid=function(r,n,t){return t==null||t.hasValidRowNumber()||(t.isValidRowNumber(r)?(t.setRowNumber(r),n=0):++n),n},a.prototype.adjustRowNumbers=function(r,n,t){var l,s;if(this.detectionResultColumns[r-1]!=null){var o=t[n],u=this.detectionResultColumns[r-1].getCodewords(),c=u;this.detectionResultColumns[r+1]!=null&&(c=this.detectionResultColumns[r+1].getCodewords());var d=new Array(14);d[2]=u[n],d[3]=c[n],n>0&&(d[0]=t[n-1],d[4]=u[n-1],d[5]=c[n-1]),n>1&&(d[8]=t[n-2],d[10]=u[n-2],d[11]=c[n-2]),n<t.length-1&&(d[1]=t[n+1],d[6]=u[n+1],d[7]=c[n+1]),n<t.length-2&&(d[9]=t[n+2],d[12]=u[n+2],d[13]=c[n+2]);try{for(var g=cv(d),y=g.next();!y.done;y=g.next()){var h=y.value;if(a.adjustRowNumber(o,h))return}}catch(p){l={error:p}}finally{try{y&&!y.done&&(s=g.return)&&s.call(g)}finally{if(l)throw l.error}}}},a.adjustRowNumber=function(r,n){return n==null?!1:n.hasValidRowNumber()&&n.getBucket()===r.getBucket()?(r.setRowNumber(n.getRowNumber()),!0):!1},a.prototype.getBarcodeColumnCount=function(){return this.barcodeColumnCount},a.prototype.getBarcodeRowCount=function(){return this.barcodeMetadata.getRowCount()},a.prototype.getBarcodeECLevel=function(){return this.barcodeMetadata.getErrorCorrectionLevel()},a.prototype.setBoundingBox=function(r){this.boundingBox=r},a.prototype.getBoundingBox=function(){return this.boundingBox},a.prototype.setDetectionResultColumn=function(r,n){this.detectionResultColumns[r]=n},a.prototype.getDetectionResultColumn=function(r){return this.detectionResultColumns[r]},a.prototype.toString=function(){var r=this.detectionResultColumns[0];r==null&&(r=this.detectionResultColumns[this.barcodeColumnCount+1]);for(var n=new fd,t=0;t<r.getCodewords().length;t++){n.format("CW %3d:",t);for(var l=0;l<this.barcodeColumnCount+2;l++){if(this.detectionResultColumns[l]==null){n.format("    |   ");continue}var s=this.detectionResultColumns[l].getCodewords()[t];if(s==null){n.format("    |   ");continue}n.format(" %3d|%3d",s.getRowNumber(),s.getValue())}n.format("%n")}return n.toString()},a}(),dv=function(){function a(r,n,t,l){this.rowNumber=a.BARCODE_ROW_UNKNOWN,this.startX=Math.trunc(r),this.endX=Math.trunc(n),this.bucket=Math.trunc(t),this.value=Math.trunc(l)}return a.prototype.hasValidRowNumber=function(){return this.isValidRowNumber(this.rowNumber)},a.prototype.isValidRowNumber=function(r){return r!==a.BARCODE_ROW_UNKNOWN&&this.bucket===r%3*3},a.prototype.setRowNumberAsRowIndicatorColumn=function(){this.rowNumber=Math.trunc(Math.trunc(this.value/30)*3+Math.trunc(this.bucket/3))},a.prototype.getWidth=function(){return this.endX-this.startX},a.prototype.getStartX=function(){return this.startX},a.prototype.getEndX=function(){return this.endX},a.prototype.getBucket=function(){return this.bucket},a.prototype.getValue=function(){return this.value},a.prototype.getRowNumber=function(){return this.rowNumber},a.prototype.setRowNumber=function(r){this.rowNumber=r},a.prototype.toString=function(){return this.rowNumber+"|"+this.value},a.BARCODE_ROW_UNKNOWN=-1,a}(),hv=function(){function a(){}return a.initialize=function(){for(var r=0;r<$t.SYMBOL_TABLE.length;r++)for(var n=$t.SYMBOL_TABLE[r],t=n&1,l=0;l<$t.BARS_IN_MODULE;l++){for(var s=0;(n&1)===t;)s+=1,n>>=1;t=n&1,a.RATIOS_TABLE[r]||(a.RATIOS_TABLE[r]=new Array($t.BARS_IN_MODULE)),a.RATIOS_TABLE[r][$t.BARS_IN_MODULE-l-1]=Math.fround(s/$t.MODULES_IN_CODEWORD)}this.bSymbolTableReady=!0},a.getDecodedValue=function(r){var n=a.getDecodedCodewordValue(a.sampleBitCounts(r));return n!==-1?n:a.getClosestDecodedValue(r)},a.sampleBitCounts=function(r){for(var n=rr.sum(r),t=new Int32Array($t.BARS_IN_MODULE),l=0,s=0,o=0;o<$t.MODULES_IN_CODEWORD;o++){var u=n/(2*$t.MODULES_IN_CODEWORD)+o*n/$t.MODULES_IN_CODEWORD;s+r[l]<=u&&(s+=r[l],l++),t[l]++}return t},a.getDecodedCodewordValue=function(r){var n=a.getBitValue(r);return $t.getCodeword(n)===-1?-1:n},a.getBitValue=function(r){for(var n=0,t=0;t<r.length;t++)for(var l=0;l<r[t];l++)n=n<<1|(t%2===0?1:0);return Math.trunc(n)},a.getClosestDecodedValue=function(r){var n=rr.sum(r),t=new Array($t.BARS_IN_MODULE);if(n>1)for(var l=0;l<t.length;l++)t[l]=Math.fround(r[l]/n);var s=qf.MAX_VALUE,o=-1;this.bSymbolTableReady||a.initialize();for(var u=0;u<a.RATIOS_TABLE.length;u++){for(var c=0,d=a.RATIOS_TABLE[u],g=0;g<$t.BARS_IN_MODULE;g++){var y=Math.fround(d[g]-t[g]);if(c+=Math.fround(y*y),c>=s)break}c<s&&(s=c,o=$t.SYMBOL_TABLE[u])}return o},a.bSymbolTableReady=!1,a.RATIOS_TABLE=new Array($t.SYMBOL_TABLE.length).map(function(r){return new Array($t.BARS_IN_MODULE)}),a}(),pv=function(){function a(){this.segmentCount=-1,this.fileSize=-1,this.timestamp=-1,this.checksum=-1}return a.prototype.getSegmentIndex=function(){return this.segmentIndex},a.prototype.setSegmentIndex=function(r){this.segmentIndex=r},a.prototype.getFileId=function(){return this.fileId},a.prototype.setFileId=function(r){this.fileId=r},a.prototype.getOptionalData=function(){return this.optionalData},a.prototype.setOptionalData=function(r){this.optionalData=r},a.prototype.isLastSegment=function(){return this.lastSegment},a.prototype.setLastSegment=function(r){this.lastSegment=r},a.prototype.getSegmentCount=function(){return this.segmentCount},a.prototype.setSegmentCount=function(r){this.segmentCount=r},a.prototype.getSender=function(){return this.sender||null},a.prototype.setSender=function(r){this.sender=r},a.prototype.getAddressee=function(){return this.addressee||null},a.prototype.setAddressee=function(r){this.addressee=r},a.prototype.getFileName=function(){return this.fileName},a.prototype.setFileName=function(r){this.fileName=r},a.prototype.getFileSize=function(){return this.fileSize},a.prototype.setFileSize=function(r){this.fileSize=r},a.prototype.getChecksum=function(){return this.checksum},a.prototype.setChecksum=function(r){this.checksum=r},a.prototype.getTimestamp=function(){return this.timestamp},a.prototype.setTimestamp=function(r){this.timestamp=r},a}(),Pm=function(){function a(){}return a.parseLong=function(r,n){return n===void 0&&(n=void 0),parseInt(r,n)},a}(),mv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),yv=function(a){mv(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="NullPointerException",r}(Yn),gv=function(){function a(){}return a.prototype.writeBytes=function(r){this.writeBytesOffset(r,0,r.length)},a.prototype.writeBytesOffset=function(r,n,t){if(r==null)throw new yv;if(n<0||n>r.length||t<0||n+t>r.length||n+t<0)throw new od;if(t===0)return;for(var l=0;l<t;l++)this.write(r[n+l])},a.prototype.flush=function(){},a.prototype.close=function(){},a}(),vv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),bv=function(a){vv(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r}(Yn),xv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),_v=function(a){xv(r,a);function r(n){n===void 0&&(n=32);var t=a.call(this)||this;if(t.count=0,n<0)throw new Nt("Negative initial size: "+n);return t.buf=new Uint8Array(n),t}return r.prototype.ensureCapacity=function(n){n-this.buf.length>0&&this.grow(n)},r.prototype.grow=function(n){var t=this.buf.length,l=t<<1;if(l-n<0&&(l=n),l<0){if(n<0)throw new bv;l=Xt.MAX_VALUE}this.buf=cn.copyOfUint8Array(this.buf,l)},r.prototype.write=function(n){this.ensureCapacity(this.count+1),this.buf[this.count]=n,this.count+=1},r.prototype.writeBytesOffset=function(n,t,l){if(t<0||t>n.length||l<0||t+l-n.length>0)throw new od;this.ensureCapacity(this.count+l),Tr.arraycopy(n,t,this.buf,this.count,l),this.count+=l},r.prototype.writeTo=function(n){n.writeBytesOffset(this.buf,0,this.count)},r.prototype.reset=function(){this.count=0},r.prototype.toByteArray=function(){return cn.copyOfUint8Array(this.buf,this.count)},r.prototype.size=function(){return this.count},r.prototype.toString=function(n){return n?typeof n=="string"?this.toString_string(n):this.toString_number(n):this.toString_void()},r.prototype.toString_void=function(){return new String(this.buf).toString()},r.prototype.toString_string=function(n){return new String(this.buf).toString()},r.prototype.toString_number=function(n){return new String(this.buf).toString()},r.prototype.close=function(){},r}(gv),_r;(function(a){a[a.ALPHA=0]="ALPHA",a[a.LOWER=1]="LOWER",a[a.MIXED=2]="MIXED",a[a.PUNCT=3]="PUNCT",a[a.ALPHA_SHIFT=4]="ALPHA_SHIFT",a[a.PUNCT_SHIFT=5]="PUNCT_SHIFT"})(_r||(_r={}));function o1(){if(typeof window<"u")return window.BigInt||null;if(typeof global<"u")return global.BigInt||null;if(typeof self<"u")return self.BigInt||null;throw new Error("Can't search globals for BigInt!")}var Eu;function Ni(a){if(typeof Eu>"u"&&(Eu=o1()),Eu===null)throw new Error("BigInt is not supported!");return Eu(a)}function wv(){var a=[];a[0]=Ni(1);var r=Ni(900);a[1]=r;for(var n=2;n<16;n++)a[n]=a[n-1]*r;return a}var Sv=function(){function a(){}return a.decode=function(r,n){var t=new Vt(""),l=un.ISO8859_1;t.enableDecoding(l);for(var s=1,o=r[s++],u=new pv;s<r[0];){switch(o){case a.TEXT_COMPACTION_MODE_LATCH:s=a.textCompaction(r,s,t);break;case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:s=a.byteCompaction(o,r,l,s,t);break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:t.append(r[s++]);break;case a.NUMERIC_COMPACTION_MODE_LATCH:s=a.numericCompaction(r,s,t);break;case a.ECI_CHARSET:un.getCharacterSetECIByValue(r[s++]);break;case a.ECI_GENERAL_PURPOSE:s+=2;break;case a.ECI_USER_DEFINED:s++;break;case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:s=a.decodeMacroBlock(r,s,u);break;case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:throw new mt;default:s--,s=a.textCompaction(r,s,t);break}if(s<r.length)o=r[s++];else throw mt.getFormatInstance()}if(t.length()===0)throw mt.getFormatInstance();var c=new Iu(null,t.toString(),null,n);return c.setOther(u),c},a.decodeMacroBlock=function(r,n,t){if(n+a.NUMBER_OF_SEQUENCE_CODEWORDS>r[0])throw mt.getFormatInstance();for(var l=new Int32Array(a.NUMBER_OF_SEQUENCE_CODEWORDS),s=0;s<a.NUMBER_OF_SEQUENCE_CODEWORDS;s++,n++)l[s]=r[n];t.setSegmentIndex(Xt.parseInt(a.decodeBase900toBase10(l,a.NUMBER_OF_SEQUENCE_CODEWORDS)));var o=new Vt;n=a.textCompaction(r,n,o),t.setFileId(o.toString());var u=-1;for(r[n]===a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD&&(u=n+1);n<r[0];)switch(r[n]){case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:switch(n++,r[n]){case a.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME:var c=new Vt;n=a.textCompaction(r,n+1,c),t.setFileName(c.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_SENDER:var d=new Vt;n=a.textCompaction(r,n+1,d),t.setSender(d.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE:var g=new Vt;n=a.textCompaction(r,n+1,g),t.setAddressee(g.toString());break;case a.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT:var y=new Vt;n=a.numericCompaction(r,n+1,y),t.setSegmentCount(Xt.parseInt(y.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP:var h=new Vt;n=a.numericCompaction(r,n+1,h),t.setTimestamp(Pm.parseLong(h.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM:var p=new Vt;n=a.numericCompaction(r,n+1,p),t.setChecksum(Xt.parseInt(p.toString()));break;case a.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE:var m=new Vt;n=a.numericCompaction(r,n+1,m),t.setFileSize(Pm.parseLong(m.toString()));break;default:throw mt.getFormatInstance()}break;case a.MACRO_PDF417_TERMINATOR:n++,t.setLastSegment(!0);break;default:throw mt.getFormatInstance()}if(u!==-1){var v=n-u;t.isLastSegment()&&v--,t.setOptionalData(cn.copyOfRange(r,u,u+v))}return n},a.textCompaction=function(r,n,t){for(var l=new Int32Array((r[0]-n)*2),s=new Int32Array((r[0]-n)*2),o=0,u=!1;n<r[0]&&!u;){var c=r[n++];if(c<a.TEXT_COMPACTION_MODE_LATCH)l[o]=c/30,l[o+1]=c%30,o+=2;else switch(c){case a.TEXT_COMPACTION_MODE_LATCH:l[o++]=a.TEXT_COMPACTION_MODE_LATCH;break;case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:n--,u=!0;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l[o]=a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE,c=r[n++],s[o]=c,o++;break}}return a.decodeTextCompaction(l,s,o,t),n},a.decodeTextCompaction=function(r,n,t,l){for(var s=_r.ALPHA,o=_r.ALPHA,u=0;u<t;){var c=r[u],d="";switch(s){case _r.ALPHA:if(c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case a.LL:s=_r.LOWER;break;case a.ML:s=_r.MIXED;break;case a.PS:o=s,s=_r.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[u]);break;case a.TEXT_COMPACTION_MODE_LATCH:s=_r.ALPHA;break}break;case _r.LOWER:if(c<26)d=String.fromCharCode(97+c);else switch(c){case 26:d=" ";break;case a.AS:o=s,s=_r.ALPHA_SHIFT;break;case a.ML:s=_r.MIXED;break;case a.PS:o=s,s=_r.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[u]);break;case a.TEXT_COMPACTION_MODE_LATCH:s=_r.ALPHA;break}break;case _r.MIXED:if(c<a.PL)d=a.MIXED_CHARS[c];else switch(c){case a.PL:s=_r.PUNCT;break;case 26:d=" ";break;case a.LL:s=_r.LOWER;break;case a.AL:s=_r.ALPHA;break;case a.PS:o=s,s=_r.PUNCT_SHIFT;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[u]);break;case a.TEXT_COMPACTION_MODE_LATCH:s=_r.ALPHA;break}break;case _r.PUNCT:if(c<a.PAL)d=a.PUNCT_CHARS[c];else switch(c){case a.PAL:s=_r.ALPHA;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[u]);break;case a.TEXT_COMPACTION_MODE_LATCH:s=_r.ALPHA;break}break;case _r.ALPHA_SHIFT:if(s=o,c<26)d=String.fromCharCode(65+c);else switch(c){case 26:d=" ";break;case a.TEXT_COMPACTION_MODE_LATCH:s=_r.ALPHA;break}break;case _r.PUNCT_SHIFT:if(s=o,c<a.PAL)d=a.PUNCT_CHARS[c];else switch(c){case a.PAL:s=_r.ALPHA;break;case a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE:l.append(n[u]);break;case a.TEXT_COMPACTION_MODE_LATCH:s=_r.ALPHA;break}break}d!==""&&l.append(d),u++}},a.byteCompaction=function(r,n,t,l,s){var o=new _v,u=0,c=0,d=!1;switch(r){case a.BYTE_COMPACTION_MODE_LATCH:for(var g=new Int32Array(6),y=n[l++];l<n[0]&&!d;)switch(g[u++]=y,c=900*c+y,y=n[l++],y){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:l--,d=!0;break;default:if(u%5===0&&u>0){for(var h=0;h<6;++h)o.write(Number(Ni(c)>>Ni(8*(5-h))));c=0,u=0}break}l===n[0]&&y<a.TEXT_COMPACTION_MODE_LATCH&&(g[u++]=y);for(var p=0;p<u;p++)o.write(g[p]);break;case a.BYTE_COMPACTION_MODE_LATCH_6:for(;l<n[0]&&!d;){var m=n[l++];if(m<a.TEXT_COMPACTION_MODE_LATCH)u++,c=900*c+m;else switch(m){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.NUMERIC_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:l--,d=!0;break}if(u%5===0&&u>0){for(var h=0;h<6;++h)o.write(Number(Ni(c)>>Ni(8*(5-h))));c=0,u=0}}break}return s.append(ga.decode(o.toByteArray(),t)),l},a.numericCompaction=function(r,n,t){for(var l=0,s=!1,o=new Int32Array(a.MAX_NUMERIC_CODEWORDS);n<r[0]&&!s;){var u=r[n++];if(n===r[0]&&(s=!0),u<a.TEXT_COMPACTION_MODE_LATCH)o[l]=u,l++;else switch(u){case a.TEXT_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH:case a.BYTE_COMPACTION_MODE_LATCH_6:case a.BEGIN_MACRO_PDF417_CONTROL_BLOCK:case a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD:case a.MACRO_PDF417_TERMINATOR:n--,s=!0;break}(l%a.MAX_NUMERIC_CODEWORDS===0||u===a.NUMERIC_COMPACTION_MODE_LATCH||s)&&l>0&&(t.append(a.decodeBase900toBase10(o,l)),l=0)}return n},a.decodeBase900toBase10=function(r,n){for(var t=Ni(0),l=0;l<n;l++)t+=a.EXP900[n-l-1]*Ni(r[l]);var s=t.toString();if(s.charAt(0)!=="1")throw new mt;return s.substring(1)},a.TEXT_COMPACTION_MODE_LATCH=900,a.BYTE_COMPACTION_MODE_LATCH=901,a.NUMERIC_COMPACTION_MODE_LATCH=902,a.BYTE_COMPACTION_MODE_LATCH_6=924,a.ECI_USER_DEFINED=925,a.ECI_GENERAL_PURPOSE=926,a.ECI_CHARSET=927,a.BEGIN_MACRO_PDF417_CONTROL_BLOCK=928,a.BEGIN_MACRO_PDF417_OPTIONAL_FIELD=923,a.MACRO_PDF417_TERMINATOR=922,a.MODE_SHIFT_TO_BYTE_COMPACTION_MODE=913,a.MAX_NUMERIC_CODEWORDS=15,a.MACRO_PDF417_OPTIONAL_FIELD_FILE_NAME=0,a.MACRO_PDF417_OPTIONAL_FIELD_SEGMENT_COUNT=1,a.MACRO_PDF417_OPTIONAL_FIELD_TIME_STAMP=2,a.MACRO_PDF417_OPTIONAL_FIELD_SENDER=3,a.MACRO_PDF417_OPTIONAL_FIELD_ADDRESSEE=4,a.MACRO_PDF417_OPTIONAL_FIELD_FILE_SIZE=5,a.MACRO_PDF417_OPTIONAL_FIELD_CHECKSUM=6,a.PL=25,a.LL=27,a.AS=27,a.ML=28,a.AL=28,a.PS=29,a.PAL=29,a.PUNCT_CHARS=`;<>@[\\]_\`~!\r	,:
-.$/"|*()?{}'`,a.MIXED_CHARS="0123456789&\r	,:#-.$/+%*=^",a.EXP900=o1()?wv():[],a.NUMBER_OF_SEQUENCE_CODEWORDS=2,a}(),$s=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Ev=function(){function a(){}return a.decode=function(r,n,t,l,s,o,u){for(var c=new $f(r,n,t,l,s),d=null,g=null,y,h=!0;;h=!1){if(n!=null&&(d=a.getRowIndicatorColumn(r,c,n,!0,o,u)),l!=null&&(g=a.getRowIndicatorColumn(r,c,l,!1,o,u)),y=a.merge(d,g),y==null)throw Ze.getNotFoundInstance();var p=y.getBoundingBox();if(h&&p!=null&&(p.getMinY()<c.getMinY()||p.getMaxY()>c.getMaxY()))c=p;else break}y.setBoundingBox(c);var m=y.getBarcodeColumnCount()+1;y.setDetectionResultColumn(0,d),y.setDetectionResultColumn(m,g);for(var v=d!=null,_=1;_<=m;_++){var x=v?_:m-_;if(y.getDetectionResultColumn(x)===void 0){var b=void 0;x===0||x===m?b=new km(c,x===0):b=new i1(c),y.setDetectionResultColumn(x,b);for(var E=-1,S=E,C=c.getMinY();C<=c.getMaxY();C++){if(E=a.getStartColumn(y,x,C,v),E<0||E>c.getMaxX()){if(S===-1)continue;E=S}var D=a.detectCodeword(r,c.getMinX(),c.getMaxX(),v,E,C,o,u);D!=null&&(b.setCodeword(C,D),S=E,o=Math.min(o,D.getWidth()),u=Math.max(u,D.getWidth()))}}}return a.createDecoderResult(y)},a.merge=function(r,n){if(r==null&&n==null)return null;var t=a.getBarcodeMetadata(r,n);if(t==null)return null;var l=$f.merge(a.adjustBoundingBox(r),a.adjustBoundingBox(n));return new fv(t,l)},a.adjustBoundingBox=function(r){var n,t;if(r==null)return null;var l=r.getRowHeights();if(l==null)return null;var s=a.getMax(l),o=0;try{for(var u=$s(l),c=u.next();!c.done;c=u.next()){var d=c.value;if(o+=s-d,d>0)break}}catch(p){n={error:p}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(n)throw n.error}}for(var g=r.getCodewords(),y=0;o>0&&g[y]==null;y++)o--;for(var h=0,y=l.length-1;y>=0&&(h+=s-l[y],!(l[y]>0));y--);for(var y=g.length-1;h>0&&g[y]==null;y--)h--;return r.getBoundingBox().addMissingRows(o,h,r.isLeft())},a.getMax=function(r){var n,t,l=-1;try{for(var s=$s(r),o=s.next();!o.done;o=s.next()){var u=o.value;l=Math.max(l,u)}}catch(c){n={error:c}}finally{try{o&&!o.done&&(t=s.return)&&t.call(s)}finally{if(n)throw n.error}}return l},a.getBarcodeMetadata=function(r,n){var t;if(r==null||(t=r.getBarcodeMetadata())==null)return n==null?null:n.getBarcodeMetadata();var l;return n==null||(l=n.getBarcodeMetadata())==null?t:t.getColumnCount()!==l.getColumnCount()&&t.getErrorCorrectionLevel()!==l.getErrorCorrectionLevel()&&t.getRowCount()!==l.getRowCount()?null:t},a.getRowIndicatorColumn=function(r,n,t,l,s,o){for(var u=new km(n,l),c=0;c<2;c++)for(var d=c===0?1:-1,g=Math.trunc(Math.trunc(t.getX())),y=Math.trunc(Math.trunc(t.getY()));y<=n.getMaxY()&&y>=n.getMinY();y+=d){var h=a.detectCodeword(r,0,r.getWidth(),l,g,y,s,o);h!=null&&(u.setCodeword(y,h),l?g=h.getStartX():g=h.getEndX())}return u},a.adjustCodewordCount=function(r,n){var t=n[0][1],l=t.getValue(),s=r.getBarcodeColumnCount()*r.getBarcodeRowCount()-a.getNumberOfECCodeWords(r.getBarcodeECLevel());if(l.length===0){if(s<1||s>$t.MAX_CODEWORDS_IN_BARCODE)throw Ze.getNotFoundInstance();t.setValue(s)}else l[0]!==s&&t.setValue(s)},a.createDecoderResult=function(r){var n=a.createBarcodeMatrix(r);a.adjustCodewordCount(r,n);for(var t=new Array,l=new Int32Array(r.getBarcodeRowCount()*r.getBarcodeColumnCount()),s=[],o=new Array,u=0;u<r.getBarcodeRowCount();u++)for(var c=0;c<r.getBarcodeColumnCount();c++){var d=n[u][c+1].getValue(),g=u*r.getBarcodeColumnCount()+c;d.length===0?t.push(g):d.length===1?l[g]=d[0]:(o.push(g),s.push(d))}for(var y=new Array(s.length),h=0;h<y.length;h++)y[h]=s[h];return a.createDecoderResultFromAmbiguousValues(r.getBarcodeECLevel(),l,$t.toIntArray(t),$t.toIntArray(o),y)},a.createDecoderResultFromAmbiguousValues=function(r,n,t,l,s){for(var o=new Int32Array(l.length),u=100;u-- >0;){for(var c=0;c<o.length;c++)n[l[c]]=s[c][o[c]];try{return a.decodeCodewords(n,r,t)}catch(g){var d=g instanceof vn;if(!d)throw g}if(o.length===0)throw vn.getChecksumInstance();for(var c=0;c<o.length;c++)if(o[c]<s[c].length-1){o[c]++;break}else if(o[c]=0,c===o.length-1)throw vn.getChecksumInstance()}throw vn.getChecksumInstance()},a.createBarcodeMatrix=function(r){for(var n,t,l,s,o=Array.from({length:r.getBarcodeRowCount()},function(){return new Array(r.getBarcodeColumnCount()+2)}),u=0;u<o.length;u++)for(var c=0;c<o[u].length;c++)o[u][c]=new nl;var d=0;try{for(var g=$s(r.getDetectionResultColumns()),y=g.next();!y.done;y=g.next()){var h=y.value;if(h!=null)try{for(var p=(l=void 0,$s(h.getCodewords())),m=p.next();!m.done;m=p.next()){var v=m.value;if(v!=null){var _=v.getRowNumber();if(_>=0){if(_>=o.length)continue;o[_][d].setValue(v.getValue())}}}}catch(x){l={error:x}}finally{try{m&&!m.done&&(s=p.return)&&s.call(p)}finally{if(l)throw l.error}}d++}}catch(x){n={error:x}}finally{try{y&&!y.done&&(t=g.return)&&t.call(g)}finally{if(n)throw n.error}}return o},a.isValidBarcodeColumn=function(r,n){return n>=0&&n<=r.getBarcodeColumnCount()+1},a.getStartColumn=function(r,n,t,l){var s,o,u=l?1:-1,c=null;if(a.isValidBarcodeColumn(r,n-u)&&(c=r.getDetectionResultColumn(n-u).getCodeword(t)),c!=null)return l?c.getEndX():c.getStartX();if(c=r.getDetectionResultColumn(n).getCodewordNearby(t),c!=null)return l?c.getStartX():c.getEndX();if(a.isValidBarcodeColumn(r,n-u)&&(c=r.getDetectionResultColumn(n-u).getCodewordNearby(t)),c!=null)return l?c.getEndX():c.getStartX();for(var d=0;a.isValidBarcodeColumn(r,n-u);){n-=u;try{for(var g=(s=void 0,$s(r.getDetectionResultColumn(n).getCodewords())),y=g.next();!y.done;y=g.next()){var h=y.value;if(h!=null)return(l?h.getEndX():h.getStartX())+u*d*(h.getEndX()-h.getStartX())}}catch(p){s={error:p}}finally{try{y&&!y.done&&(o=g.return)&&o.call(g)}finally{if(s)throw s.error}}d++}return l?r.getBoundingBox().getMinX():r.getBoundingBox().getMaxX()},a.detectCodeword=function(r,n,t,l,s,o,u,c){s=a.adjustCodewordStartColumn(r,n,t,l,s,o);var d=a.getModuleBitCount(r,n,t,l,s,o);if(d==null)return null;var g,y=rr.sum(d);if(l)g=s+y;else{for(var h=0;h<d.length/2;h++){var p=d[h];d[h]=d[d.length-1-h],d[d.length-1-h]=p}g=s,s=g-y}if(!a.checkCodewordSkew(y,u,c))return null;var m=hv.getDecodedValue(d),v=$t.getCodeword(m);return v===-1?null:new dv(s,g,a.getCodewordBucketNumber(m),v)},a.getModuleBitCount=function(r,n,t,l,s,o){for(var u=s,c=new Int32Array(8),d=0,g=l?1:-1,y=l;(l?u<t:u>=n)&&d<c.length;)r.get(u,o)===y?(c[d]++,u+=g):(d++,y=!y);return d===c.length||u===(l?t:n)&&d===c.length-1?c:null},a.getNumberOfECCodeWords=function(r){return 2<<r},a.adjustCodewordStartColumn=function(r,n,t,l,s,o){for(var u=s,c=l?-1:1,d=0;d<2;d++){for(;(l?u>=n:u<t)&&l===r.get(u,o);){if(Math.abs(s-u)>a.CODEWORD_SKEW_SIZE)return s;u+=c}c=-c,l=!l}return u},a.checkCodewordSkew=function(r,n,t){return n-a.CODEWORD_SKEW_SIZE<=r&&r<=t+a.CODEWORD_SKEW_SIZE},a.decodeCodewords=function(r,n,t){if(r.length===0)throw mt.getFormatInstance();var l=1<<n+1,s=a.correctErrors(r,t,l);a.verifyCodewordCount(r,l);var o=Sv.decode(r,""+n);return o.setErrorsCorrected(s),o.setErasures(t.length),o},a.correctErrors=function(r,n,t){if(n!=null&&n.length>t/2+a.MAX_ERRORS||t<0||t>a.MAX_EC_CODEWORDS)throw vn.getChecksumInstance();return a.errorCorrection.decode(r,t,n)},a.verifyCodewordCount=function(r,n){if(r.length<4)throw mt.getFormatInstance();var t=r[0];if(t>r.length)throw mt.getFormatInstance();if(t===0)if(n<r.length)r[0]=r.length-n;else throw mt.getFormatInstance()},a.getBitCountForCodeword=function(r){for(var n=new Int32Array(8),t=0,l=n.length-1;!((r&1)!==t&&(t=r&1,l--,l<0));)n[l]++,r>>=1;return n},a.getCodewordBucketNumber=function(r){return r instanceof Int32Array?this.getCodewordBucketNumber_Int32Array(r):this.getCodewordBucketNumber_number(r)},a.getCodewordBucketNumber_number=function(r){return a.getCodewordBucketNumber(a.getBitCountForCodeword(r))},a.getCodewordBucketNumber_Int32Array=function(r){return(r[0]-r[2]+r[4]-r[6]+9)%9},a.toString=function(r){for(var n=new fd,t=0;t<r.length;t++){n.format("Row %2d: ",t);for(var l=0;l<r[t].length;l++){var s=r[t][l];s.getValue().length===0?n.format("        ",null):n.format("%4d(%2d)",s.getValue()[0],s.getConfidence(s.getValue()[0]))}n.format("%n")}return n.toString()},a.CODEWORD_SKEW_SIZE=2,a.MAX_ERRORS=3,a.MAX_EC_CODEWORDS=512,a.errorCorrection=new av,a}(),Av=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},ed=function(){function a(){}return a.prototype.decode=function(r,n){n===void 0&&(n=null);var t=a.decode(r,n,!1);if(t==null||t.length===0||t[0]==null)throw Ze.getNotFoundInstance();return t[0]},a.prototype.decodeMultiple=function(r,n){n===void 0&&(n=null);try{return a.decode(r,n,!0)}catch(t){throw t instanceof mt||t instanceof vn?Ze.getNotFoundInstance():t}},a.decode=function(r,n,t){var l,s,o=new Array,u=Jg.detectMultiple(r,n,t);try{for(var c=Av(u.getPoints()),d=c.next();!d.done;d=c.next()){var g=d.value,y=Ev.decode(u.getBits(),g[4],g[5],g[6],g[7],a.getMinCodewordWidth(g),a.getMaxCodewordWidth(g)),h=new Nn(y.getText(),y.getRawBytes(),void 0,g,Rt.PDF_417);h.putMetadata(Cn.ERROR_CORRECTION_LEVEL,y.getECLevel());var p=y.getOther();p!=null&&h.putMetadata(Cn.PDF417_EXTRA_METADATA,p),o.push(h)}}catch(m){l={error:m}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(l)throw l.error}}return o.map(function(m){return m})},a.getMaxWidth=function(r,n){return r==null||n==null?0:Math.trunc(Math.abs(r.getX()-n.getX()))},a.getMinWidth=function(r,n){return r==null||n==null?Xt.MAX_VALUE:Math.trunc(Math.abs(r.getX()-n.getX()))},a.getMaxCodewordWidth=function(r){return Math.floor(Math.max(Math.max(a.getMaxWidth(r[0],r[4]),a.getMaxWidth(r[6],r[2])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN),Math.max(a.getMaxWidth(r[1],r[5]),a.getMaxWidth(r[7],r[3])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN)))},a.getMinCodewordWidth=function(r){return Math.floor(Math.min(Math.min(a.getMinWidth(r[0],r[4]),a.getMinWidth(r[6],r[2])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN),Math.min(a.getMinWidth(r[1],r[5]),a.getMinWidth(r[7],r[3])*$t.MODULES_IN_CODEWORD/$t.MODULES_IN_STOP_PATTERN)))},a.prototype.reset=function(){},a}(),jv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Bm=function(a){jv(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="ReaderException",r}(Yn),Fm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Cv=function(){function a(){}return a.prototype.decode=function(r,n){return this.setHints(n),this.decodeInternal(r)},a.prototype.decodeWithState=function(r){return(this.readers===null||this.readers===void 0)&&this.setHints(null),this.decodeInternal(r)},a.prototype.setHints=function(r){this.hints=r;var n=r!=null&&r.get(Ir.TRY_HARDER)!==void 0,t=r==null?null:r.get(Ir.POSSIBLE_FORMATS),l=new Array;if(t!=null){var s=t.some(function(o){return o===Rt.UPC_A||o===Rt.UPC_E||o===Rt.EAN_13||o===Rt.EAN_8||o===Rt.CODABAR||o===Rt.CODE_39||o===Rt.CODE_93||o===Rt.CODE_128||o===Rt.ITF||o===Rt.RSS_14||o===Rt.RSS_EXPANDED});s&&!n&&l.push(new rl(r)),t.includes(Rt.QR_CODE)&&l.push(new Jf),t.includes(Rt.DATA_MATRIX)&&l.push(new Qf),t.includes(Rt.AZTEC)&&l.push(new Zf),t.includes(Rt.PDF_417)&&l.push(new ed),s&&n&&l.push(new rl(r))}l.length===0&&(n||l.push(new rl(r)),l.push(new Jf),l.push(new Qf),l.push(new Zf),l.push(new ed),n&&l.push(new rl(r))),this.readers=l},a.prototype.reset=function(){var r,n;if(this.readers!==null)try{for(var t=Fm(this.readers),l=t.next();!l.done;l=t.next()){var s=l.value;s.reset()}}catch(o){r={error:o}}finally{try{l&&!l.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}},a.prototype.decodeInternal=function(r){var n,t;if(this.readers===null)throw new Bm("No readers where selected, nothing can be read.");try{for(var l=Fm(this.readers),s=l.next();!s.done;s=l.next()){var o=s.value;try{return o.decode(r,this.hints)}catch(u){if(u instanceof Bm)continue}}}catch(u){n={error:u}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}throw new Ze("No MultiFormat Readers were able to detect the code.")},a}(),Tv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Ov=function(a){Tv(r,a);function r(n,t){n===void 0&&(n=null),t===void 0&&(t=500);var l=this,s=new Cv;return s.setHints(n),l=a.call(this,s,t)||this,l}return r.prototype.decodeBitmap=function(n){return this.reader.decodeWithState(n)},r}(ts),Mv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){Mv(r,a);function r(n){return n===void 0&&(n=500),a.call(this,new ed,n)||this}return r})(ts);var Dv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){Dv(r,a);function r(n){return n===void 0&&(n=500),a.call(this,new Jf,n)||this}return r})(ts);var td;(function(a){a[a.ERROR_CORRECTION=0]="ERROR_CORRECTION",a[a.CHARACTER_SET=1]="CHARACTER_SET",a[a.DATA_MATRIX_SHAPE=2]="DATA_MATRIX_SHAPE",a[a.DATA_MATRIX_COMPACT=3]="DATA_MATRIX_COMPACT",a[a.MIN_SIZE=4]="MIN_SIZE",a[a.MAX_SIZE=5]="MAX_SIZE",a[a.MARGIN=6]="MARGIN",a[a.PDF417_COMPACT=7]="PDF417_COMPACT",a[a.PDF417_COMPACTION=8]="PDF417_COMPACTION",a[a.PDF417_DIMENSIONS=9]="PDF417_DIMENSIONS",a[a.AZTEC_LAYERS=10]="AZTEC_LAYERS",a[a.QR_VERSION=11]="QR_VERSION",a[a.GS1_FORMAT=12]="GS1_FORMAT",a[a.FORCE_C40=13]="FORCE_C40"})(td||(td={}));const Au=td;var s1=function(){function a(r){this.field=r,this.cachedGenerators=[],this.cachedGenerators.push(new Li(r,Int32Array.from([1])))}return a.prototype.buildGenerator=function(r){var n=this.cachedGenerators;if(r>=n.length)for(var t=n[n.length-1],l=this.field,s=n.length;s<=r;s++){var o=t.multiply(new Li(l,Int32Array.from([1,l.exp(s-1+l.getGeneratorBase())])));n.push(o),t=o}return n[r]},a.prototype.encode=function(r,n){if(n===0)throw new Nt("No error correction bytes");var t=r.length-n;if(t<=0)throw new Nt("No data bytes provided");var l=this.buildGenerator(n),s=new Int32Array(t);Tr.arraycopy(r,0,s,0,t);var o=new Li(this.field,s);o=o.multiplyByMonomial(n,1);for(var u=o.divide(l)[1],c=u.getCoefficients(),d=n-c.length,g=0;g<d;g++)r[t+g]=0;Tr.arraycopy(c,0,r,t+d,c.length)},a}(),al=function(){function a(){}return a.applyMaskPenaltyRule1=function(r){return a.applyMaskPenaltyRule1Internal(r,!0)+a.applyMaskPenaltyRule1Internal(r,!1)},a.applyMaskPenaltyRule2=function(r){for(var n=0,t=r.getArray(),l=r.getWidth(),s=r.getHeight(),o=0;o<s-1;o++)for(var u=t[o],c=0;c<l-1;c++){var d=u[c];d===u[c+1]&&d===t[o+1][c]&&d===t[o+1][c+1]&&n++}return a.N2*n},a.applyMaskPenaltyRule3=function(r){for(var n=0,t=r.getArray(),l=r.getWidth(),s=r.getHeight(),o=0;o<s;o++)for(var u=0;u<l;u++){var c=t[o];u+6<l&&c[u]===1&&c[u+1]===0&&c[u+2]===1&&c[u+3]===1&&c[u+4]===1&&c[u+5]===0&&c[u+6]===1&&(a.isWhiteHorizontal(c,u-4,u)||a.isWhiteHorizontal(c,u+7,u+11))&&n++,o+6<s&&t[o][u]===1&&t[o+1][u]===0&&t[o+2][u]===1&&t[o+3][u]===1&&t[o+4][u]===1&&t[o+5][u]===0&&t[o+6][u]===1&&(a.isWhiteVertical(t,u,o-4,o)||a.isWhiteVertical(t,u,o+7,o+11))&&n++}return n*a.N3},a.isWhiteHorizontal=function(r,n,t){n=Math.max(n,0),t=Math.min(t,r.length);for(var l=n;l<t;l++)if(r[l]===1)return!1;return!0},a.isWhiteVertical=function(r,n,t,l){t=Math.max(t,0),l=Math.min(l,r.length);for(var s=t;s<l;s++)if(r[s][n]===1)return!1;return!0},a.applyMaskPenaltyRule4=function(r){for(var n=0,t=r.getArray(),l=r.getWidth(),s=r.getHeight(),o=0;o<s;o++)for(var u=t[o],c=0;c<l;c++)u[c]===1&&n++;var d=r.getHeight()*r.getWidth(),g=Math.floor(Math.abs(n*2-d)*10/d);return g*a.N4},a.getDataMaskBit=function(r,n,t){var l,s;switch(r){case 0:l=t+n&1;break;case 1:l=t&1;break;case 2:l=n%3;break;case 3:l=(t+n)%3;break;case 4:l=Math.floor(t/2)+Math.floor(n/3)&1;break;case 5:s=t*n,l=(s&1)+s%3;break;case 6:s=t*n,l=(s&1)+s%3&1;break;case 7:s=t*n,l=s%3+(t+n&1)&1;break;default:throw new Nt("Invalid mask pattern: "+r)}return l===0},a.applyMaskPenaltyRule1Internal=function(r,n){for(var t=0,l=n?r.getHeight():r.getWidth(),s=n?r.getWidth():r.getHeight(),o=r.getArray(),u=0;u<l;u++){for(var c=0,d=-1,g=0;g<s;g++){var y=n?o[u][g]:o[g][u];y===d?c++:(c>=5&&(t+=a.N1+(c-5)),c=1,d=y)}c>=5&&(t+=a.N1+(c-5))}return t},a.N1=3,a.N2=3,a.N3=40,a.N4=10,a}(),Rv=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},Iv=function(){function a(r,n){this.width=r,this.height=n;for(var t=new Array(n),l=0;l!==n;l++)t[l]=new Uint8Array(r);this.bytes=t}return a.prototype.getHeight=function(){return this.height},a.prototype.getWidth=function(){return this.width},a.prototype.get=function(r,n){return this.bytes[n][r]},a.prototype.getArray=function(){return this.bytes},a.prototype.setNumber=function(r,n,t){this.bytes[n][r]=t},a.prototype.setBoolean=function(r,n,t){this.bytes[n][r]=t?1:0},a.prototype.clear=function(r){var n,t;try{for(var l=Rv(this.bytes),s=l.next();!s.done;s=l.next()){var o=s.value;cn.fill(o,r)}}catch(u){n={error:u}}finally{try{s&&!s.done&&(t=l.return)&&t.call(l)}finally{if(n)throw n.error}}},a.prototype.equals=function(r){if(!(r instanceof a))return!1;var n=r;if(this.width!==n.width||this.height!==n.height)return!1;for(var t=0,l=this.height;t<l;++t)for(var s=this.bytes[t],o=n.bytes[t],u=0,c=this.width;u<c;++u)if(s[u]!==o[u])return!1;return!0},a.prototype.toString=function(){for(var r=new Vt,n=0,t=this.height;n<t;++n){for(var l=this.bytes[n],s=0,o=this.width;s<o;++s)switch(l[s]){case 0:r.append(" 0");break;case 1:r.append(" 1");break;default:r.append("  ");break}r.append(`
`)}return r.toString()},a}(),rd=function(){function a(){this.maskPattern=-1}return a.prototype.getMode=function(){return this.mode},a.prototype.getECLevel=function(){return this.ecLevel},a.prototype.getVersion=function(){return this.version},a.prototype.getMaskPattern=function(){return this.maskPattern},a.prototype.getMatrix=function(){return this.matrix},a.prototype.toString=function(){var r=new Vt;return r.append(`<<
`),r.append(" mode: "),r.append(this.mode?this.mode.toString():"null"),r.append(`
 ecLevel: `),r.append(this.ecLevel?this.ecLevel.toString():"null"),r.append(`
 version: `),r.append(this.version?this.version.toString():"null"),r.append(`
 maskPattern: `),r.append(this.maskPattern.toString()),this.matrix?(r.append(`
 matrix:
`),r.append(this.matrix.toString())):r.append(`
 matrix: null
`),r.append(`>>
`),r.toString()},a.prototype.setMode=function(r){this.mode=r},a.prototype.setECLevel=function(r){this.ecLevel=r},a.prototype.setVersion=function(r){this.version=r},a.prototype.setMaskPattern=function(r){this.maskPattern=r},a.prototype.setMatrix=function(r){this.matrix=r},a.isValidMaskPattern=function(r){return r>=0&&r<a.NUM_MASK_PATTERNS},a.NUM_MASK_PATTERNS=8,a}(),Nv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Or=function(a){Nv(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.kind="WriterException",r}(Yn),Um=function(){function a(){}return a.clearMatrix=function(r){r.clear(255)},a.buildMatrix=function(r,n,t,l,s){a.clearMatrix(s),a.embedBasicPatterns(t,s),a.embedTypeInfo(n,l,s),a.maybeEmbedVersionInfo(t,s),a.embedDataBits(r,l,s)},a.embedBasicPatterns=function(r,n){a.embedPositionDetectionPatternsAndSeparators(n),a.embedDarkDotAtLeftBottomCorner(n),a.maybeEmbedPositionAdjustmentPatterns(r,n),a.embedTimingPatterns(n)},a.embedTypeInfo=function(r,n,t){var l=new bn;a.makeTypeInfoBits(r,n,l);for(var s=0,o=l.getSize();s<o;++s){var u=l.get(l.getSize()-1-s),c=a.TYPE_INFO_COORDINATES[s],d=c[0],g=c[1];if(t.setBoolean(d,g,u),s<8){var y=t.getWidth()-s-1,h=8;t.setBoolean(y,h,u)}else{var y=8,h=t.getHeight()-7+(s-8);t.setBoolean(y,h,u)}}},a.maybeEmbedVersionInfo=function(r,n){if(!(r.getVersionNumber()<7)){var t=new bn;a.makeVersionInfoBits(r,t);for(var l=6*3-1,s=0;s<6;++s)for(var o=0;o<3;++o){var u=t.get(l);l--,n.setBoolean(s,n.getHeight()-11+o,u),n.setBoolean(n.getHeight()-11+o,s,u)}}},a.embedDataBits=function(r,n,t){for(var l=0,s=-1,o=t.getWidth()-1,u=t.getHeight()-1;o>0;){for(o===6&&(o-=1);u>=0&&u<t.getHeight();){for(var c=0;c<2;++c){var d=o-c;if(a.isEmpty(t.get(d,u))){var g=void 0;l<r.getSize()?(g=r.get(l),++l):g=!1,n!==255&&al.getDataMaskBit(n,d,u)&&(g=!g),t.setBoolean(d,u,g)}}u+=s}s=-s,u+=s,o-=2}if(l!==r.getSize())throw new Or("Not all bits consumed: "+l+"/"+r.getSize())},a.findMSBSet=function(r){return 32-Xt.numberOfLeadingZeros(r)},a.calculateBCHCode=function(r,n){if(n===0)throw new Nt("0 polynomial");var t=a.findMSBSet(n);for(r<<=t-1;a.findMSBSet(r)>=t;)r^=n<<a.findMSBSet(r)-t;return r},a.makeTypeInfoBits=function(r,n,t){if(!rd.isValidMaskPattern(n))throw new Or("Invalid mask pattern");var l=r.getBits()<<3|n;t.appendBits(l,5);var s=a.calculateBCHCode(l,a.TYPE_INFO_POLY);t.appendBits(s,10);var o=new bn;if(o.appendBits(a.TYPE_INFO_MASK_PATTERN,15),t.xor(o),t.getSize()!==15)throw new Or("should not happen but we got: "+t.getSize())},a.makeVersionInfoBits=function(r,n){n.appendBits(r.getVersionNumber(),6);var t=a.calculateBCHCode(r.getVersionNumber(),a.VERSION_INFO_POLY);if(n.appendBits(t,12),n.getSize()!==18)throw new Or("should not happen but we got: "+n.getSize())},a.isEmpty=function(r){return r===255},a.embedTimingPatterns=function(r){for(var n=8;n<r.getWidth()-8;++n){var t=(n+1)%2;a.isEmpty(r.get(n,6))&&r.setNumber(n,6,t),a.isEmpty(r.get(6,n))&&r.setNumber(6,n,t)}},a.embedDarkDotAtLeftBottomCorner=function(r){if(r.get(8,r.getHeight()-8)===0)throw new Or;r.setNumber(8,r.getHeight()-8,1)},a.embedHorizontalSeparationPattern=function(r,n,t){for(var l=0;l<8;++l){if(!a.isEmpty(t.get(r+l,n)))throw new Or;t.setNumber(r+l,n,0)}},a.embedVerticalSeparationPattern=function(r,n,t){for(var l=0;l<7;++l){if(!a.isEmpty(t.get(r,n+l)))throw new Or;t.setNumber(r,n+l,0)}},a.embedPositionAdjustmentPattern=function(r,n,t){for(var l=0;l<5;++l)for(var s=a.POSITION_ADJUSTMENT_PATTERN[l],o=0;o<5;++o)t.setNumber(r+o,n+l,s[o])},a.embedPositionDetectionPattern=function(r,n,t){for(var l=0;l<7;++l)for(var s=a.POSITION_DETECTION_PATTERN[l],o=0;o<7;++o)t.setNumber(r+o,n+l,s[o])},a.embedPositionDetectionPatternsAndSeparators=function(r){var n=a.POSITION_DETECTION_PATTERN[0].length;a.embedPositionDetectionPattern(0,0,r),a.embedPositionDetectionPattern(r.getWidth()-n,0,r),a.embedPositionDetectionPattern(0,r.getWidth()-n,r);var t=8;a.embedHorizontalSeparationPattern(0,t-1,r),a.embedHorizontalSeparationPattern(r.getWidth()-t,t-1,r),a.embedHorizontalSeparationPattern(0,r.getWidth()-t,r);var l=7;a.embedVerticalSeparationPattern(l,0,r),a.embedVerticalSeparationPattern(r.getHeight()-l-1,0,r),a.embedVerticalSeparationPattern(l,r.getHeight()-l,r)},a.maybeEmbedPositionAdjustmentPatterns=function(r,n){if(!(r.getVersionNumber()<2))for(var t=r.getVersionNumber()-1,l=a.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE[t],s=0,o=l.length;s!==o;s++){var u=l[s];if(u>=0)for(var c=0;c!==o;c++){var d=l[c];d>=0&&a.isEmpty(n.get(d,u))&&a.embedPositionAdjustmentPattern(d-2,u-2,n)}}},a.POSITION_DETECTION_PATTERN=Array.from([Int32Array.from([1,1,1,1,1,1,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,1,1,1,0,1]),Int32Array.from([1,0,0,0,0,0,1]),Int32Array.from([1,1,1,1,1,1,1])]),a.POSITION_ADJUSTMENT_PATTERN=Array.from([Int32Array.from([1,1,1,1,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,0,1,0,1]),Int32Array.from([1,0,0,0,1]),Int32Array.from([1,1,1,1,1])]),a.POSITION_ADJUSTMENT_PATTERN_COORDINATE_TABLE=Array.from([Int32Array.from([-1,-1,-1,-1,-1,-1,-1]),Int32Array.from([6,18,-1,-1,-1,-1,-1]),Int32Array.from([6,22,-1,-1,-1,-1,-1]),Int32Array.from([6,26,-1,-1,-1,-1,-1]),Int32Array.from([6,30,-1,-1,-1,-1,-1]),Int32Array.from([6,34,-1,-1,-1,-1,-1]),Int32Array.from([6,22,38,-1,-1,-1,-1]),Int32Array.from([6,24,42,-1,-1,-1,-1]),Int32Array.from([6,26,46,-1,-1,-1,-1]),Int32Array.from([6,28,50,-1,-1,-1,-1]),Int32Array.from([6,30,54,-1,-1,-1,-1]),Int32Array.from([6,32,58,-1,-1,-1,-1]),Int32Array.from([6,34,62,-1,-1,-1,-1]),Int32Array.from([6,26,46,66,-1,-1,-1]),Int32Array.from([6,26,48,70,-1,-1,-1]),Int32Array.from([6,26,50,74,-1,-1,-1]),Int32Array.from([6,30,54,78,-1,-1,-1]),Int32Array.from([6,30,56,82,-1,-1,-1]),Int32Array.from([6,30,58,86,-1,-1,-1]),Int32Array.from([6,34,62,90,-1,-1,-1]),Int32Array.from([6,28,50,72,94,-1,-1]),Int32Array.from([6,26,50,74,98,-1,-1]),Int32Array.from([6,30,54,78,102,-1,-1]),Int32Array.from([6,28,54,80,106,-1,-1]),Int32Array.from([6,32,58,84,110,-1,-1]),Int32Array.from([6,30,58,86,114,-1,-1]),Int32Array.from([6,34,62,90,118,-1,-1]),Int32Array.from([6,26,50,74,98,122,-1]),Int32Array.from([6,30,54,78,102,126,-1]),Int32Array.from([6,26,52,78,104,130,-1]),Int32Array.from([6,30,56,82,108,134,-1]),Int32Array.from([6,34,60,86,112,138,-1]),Int32Array.from([6,30,58,86,114,142,-1]),Int32Array.from([6,34,62,90,118,146,-1]),Int32Array.from([6,30,54,78,102,126,150]),Int32Array.from([6,24,50,76,102,128,154]),Int32Array.from([6,28,54,80,106,132,158]),Int32Array.from([6,32,58,84,110,136,162]),Int32Array.from([6,26,54,82,110,138,166]),Int32Array.from([6,30,58,86,114,142,170])]),a.TYPE_INFO_COORDINATES=Array.from([Int32Array.from([8,0]),Int32Array.from([8,1]),Int32Array.from([8,2]),Int32Array.from([8,3]),Int32Array.from([8,4]),Int32Array.from([8,5]),Int32Array.from([8,7]),Int32Array.from([8,8]),Int32Array.from([7,8]),Int32Array.from([5,8]),Int32Array.from([4,8]),Int32Array.from([3,8]),Int32Array.from([2,8]),Int32Array.from([1,8]),Int32Array.from([0,8])]),a.VERSION_INFO_POLY=7973,a.TYPE_INFO_POLY=1335,a.TYPE_INFO_MASK_PATTERN=21522,a}(),Lv=function(){function a(r,n){this.dataBytes=r,this.errorCorrectionBytes=n}return a.prototype.getDataBytes=function(){return this.dataBytes},a.prototype.getErrorCorrectionBytes=function(){return this.errorCorrectionBytes},a}(),Gm=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function a(){}return a.calculateMaskPenalty=function(r){return al.applyMaskPenaltyRule1(r)+al.applyMaskPenaltyRule2(r)+al.applyMaskPenaltyRule3(r)+al.applyMaskPenaltyRule4(r)},a.encode=function(r,n,t){t===void 0&&(t=null);var l=a.DEFAULT_BYTE_MODE_ENCODING,s=t!==null&&t.get(Au.CHARACTER_SET)!==void 0;s&&(l=t.get(Au.CHARACTER_SET).toString());var o=this.chooseMode(r,l),u=new bn;if(o===Mr.BYTE&&(s||a.DEFAULT_BYTE_MODE_ENCODING!==l)){var c=un.getCharacterSetECIByName(l);c!==void 0&&this.appendECI(c,u)}this.appendModeInfo(o,u);var d=new bn;this.appendBytes(r,o,d,l);var g;if(t!==null&&t.get(Au.QR_VERSION)!==void 0){var y=Number.parseInt(t.get(Au.QR_VERSION).toString(),10);g=yo.getVersionForNumber(y);var h=this.calculateBitsNeeded(o,u,d,g);if(!this.willFit(h,g,n))throw new Or("Data too big for requested version")}else g=this.recommendVersion(n,o,u,d);var p=new bn;p.appendBitArray(u);var m=o===Mr.BYTE?d.getSizeInBytes():r.length;this.appendLengthInfo(m,g,o,p),p.appendBitArray(d);var v=g.getECBlocksForLevel(n),_=g.getTotalCodewords()-v.getTotalECCodewords();this.terminateBits(_,p);var x=this.interleaveWithECBytes(p,g.getTotalCodewords(),_,v.getNumBlocks()),b=new rd;b.setECLevel(n),b.setMode(o),b.setVersion(g);var E=g.getDimensionForVersion(),S=new Iv(E,E),C=this.chooseMaskPattern(x,n,g,S);return b.setMaskPattern(C),Um.buildMatrix(x,n,g,C,S),b.setMatrix(S),b},a.recommendVersion=function(r,n,t,l){var s=this.calculateBitsNeeded(n,t,l,yo.getVersionForNumber(1)),o=this.chooseVersion(s,r),u=this.calculateBitsNeeded(n,t,l,o);return this.chooseVersion(u,r)},a.calculateBitsNeeded=function(r,n,t,l){return n.getSize()+r.getCharacterCountBits(l)+t.getSize()},a.getAlphanumericCode=function(r){return r<a.ALPHANUMERIC_TABLE.length?a.ALPHANUMERIC_TABLE[r]:-1},a.chooseMode=function(r,n){if(n===void 0&&(n=null),un.SJIS.getName()===n&&this.isOnlyDoubleByteKanji(r))return Mr.KANJI;for(var t=!1,l=!1,s=0,o=r.length;s<o;++s){var u=r.charAt(s);if(a.isDigit(u))t=!0;else if(this.getAlphanumericCode(u.charCodeAt(0))!==-1)l=!0;else return Mr.BYTE}return l?Mr.ALPHANUMERIC:t?Mr.NUMERIC:Mr.BYTE},a.isOnlyDoubleByteKanji=function(r){var n;try{n=ga.encode(r,un.SJIS)}catch{return!1}var t=n.length;if(t%2!==0)return!1;for(var l=0;l<t;l+=2){var s=n[l]&255;if((s<129||s>159)&&(s<224||s>235))return!1}return!0},a.chooseMaskPattern=function(r,n,t,l){for(var s=Number.MAX_SAFE_INTEGER,o=-1,u=0;u<rd.NUM_MASK_PATTERNS;u++){Um.buildMatrix(r,n,t,u,l);var c=this.calculateMaskPenalty(l);c<s&&(s=c,o=u)}return o},a.chooseVersion=function(r,n){for(var t=1;t<=40;t++){var l=yo.getVersionForNumber(t);if(a.willFit(r,l,n))return l}throw new Or("Data too big")},a.willFit=function(r,n,t){var l=n.getTotalCodewords(),s=n.getECBlocksForLevel(t),o=s.getTotalECCodewords(),u=l-o,c=(r+7)/8;return u>=c},a.terminateBits=function(r,n){var t=r*8;if(n.getSize()>t)throw new Or("data bits cannot fit in the QR Code"+n.getSize()+" > "+t);for(var l=0;l<4&&n.getSize()<t;++l)n.appendBit(!1);var s=n.getSize()&7;if(s>0)for(var l=s;l<8;l++)n.appendBit(!1);for(var o=r-n.getSizeInBytes(),l=0;l<o;++l)n.appendBits(l&1?17:236,8);if(n.getSize()!==t)throw new Or("Bits size does not equal capacity")},a.getNumDataBytesAndNumECBytesForBlockID=function(r,n,t,l,s,o){if(l>=t)throw new Or("Block ID too large");var u=r%t,c=t-u,d=Math.floor(r/t),g=d+1,y=Math.floor(n/t),h=y+1,p=d-y,m=g-h;if(p!==m)throw new Or("EC bytes mismatch");if(t!==c+u)throw new Or("RS blocks mismatch");if(r!==(y+p)*c+(h+m)*u)throw new Or("Total bytes mismatch");l<c?(s[0]=y,o[0]=p):(s[0]=h,o[0]=m)},a.interleaveWithECBytes=function(r,n,t,l){var s,o,u,c;if(r.getSizeInBytes()!==t)throw new Or("Number of bits and data bytes does not match");for(var d=0,g=0,y=0,h=new Array,p=0;p<l;++p){var m=new Int32Array(1),v=new Int32Array(1);a.getNumDataBytesAndNumECBytesForBlockID(n,t,l,p,m,v);var _=m[0],x=new Uint8Array(_);r.toBytes(8*d,x,0,_);var b=a.generateECBytes(x,v[0]);h.push(new Lv(x,b)),g=Math.max(g,_),y=Math.max(y,b.length),d+=m[0]}if(t!==d)throw new Or("Data bytes does not match offset");for(var E=new bn,p=0;p<g;++p)try{for(var S=(s=void 0,Gm(h)),C=S.next();!C.done;C=S.next()){var D=C.value,x=D.getDataBytes();p<x.length&&E.appendBits(x[p],8)}}catch(F){s={error:F}}finally{try{C&&!C.done&&(o=S.return)&&o.call(S)}finally{if(s)throw s.error}}for(var p=0;p<y;++p)try{for(var M=(u=void 0,Gm(h)),R=M.next();!R.done;R=M.next()){var D=R.value,b=D.getErrorCorrectionBytes();p<b.length&&E.appendBits(b[p],8)}}catch(F){u={error:F}}finally{try{R&&!R.done&&(c=M.return)&&c.call(M)}finally{if(u)throw u.error}}if(n!==E.getSizeInBytes())throw new Or("Interleaving error: "+n+" and "+E.getSizeInBytes()+" differ.");return E},a.generateECBytes=function(r,n){for(var t=r.length,l=new Int32Array(t+n),s=0;s<t;s++)l[s]=r[s]&255;new s1(qn.QR_CODE_FIELD_256).encode(l,n);for(var o=new Uint8Array(n),s=0;s<n;s++)o[s]=l[t+s];return o},a.appendModeInfo=function(r,n){n.appendBits(r.getBits(),4)},a.appendLengthInfo=function(r,n,t,l){var s=t.getCharacterCountBits(n);if(r>=1<<s)throw new Or(r+" is bigger than "+((1<<s)-1));l.appendBits(r,s)},a.appendBytes=function(r,n,t,l){switch(n){case Mr.NUMERIC:a.appendNumericBytes(r,t);break;case Mr.ALPHANUMERIC:a.appendAlphanumericBytes(r,t);break;case Mr.BYTE:a.append8BitBytes(r,t,l);break;case Mr.KANJI:a.appendKanjiBytes(r,t);break;default:throw new Or("Invalid mode: "+n)}},a.getDigit=function(r){return r.charCodeAt(0)-48},a.isDigit=function(r){var n=a.getDigit(r);return n>=0&&n<=9},a.appendNumericBytes=function(r,n){for(var t=r.length,l=0;l<t;){var s=a.getDigit(r.charAt(l));if(l+2<t){var o=a.getDigit(r.charAt(l+1)),u=a.getDigit(r.charAt(l+2));n.appendBits(s*100+o*10+u,10),l+=3}else if(l+1<t){var o=a.getDigit(r.charAt(l+1));n.appendBits(s*10+o,7),l+=2}else n.appendBits(s,4),l++}},a.appendAlphanumericBytes=function(r,n){for(var t=r.length,l=0;l<t;){var s=a.getAlphanumericCode(r.charCodeAt(l));if(s===-1)throw new Or;if(l+1<t){var o=a.getAlphanumericCode(r.charCodeAt(l+1));if(o===-1)throw new Or;n.appendBits(s*45+o,11),l+=2}else n.appendBits(s,6),l++}},a.append8BitBytes=function(r,n,t){var l;try{l=ga.encode(r,t)}catch(c){throw new Or(c)}for(var s=0,o=l.length;s!==o;s++){var u=l[s];n.appendBits(u,8)}},a.appendKanjiBytes=function(r,n){var t;try{t=ga.encode(r,un.SJIS)}catch(y){throw new Or(y)}for(var l=t.length,s=0;s<l;s+=2){var o=t[s]&255,u=t[s+1]&255,c=o<<8&4294967295|u,d=-1;if(c>=33088&&c<=40956?d=c-33088:c>=57408&&c<=60351&&(d=c-49472),d===-1)throw new Or("Invalid byte sequence");var g=(d>>8)*192+(d&255);n.appendBits(g,13)}},a.appendECI=function(r,n){n.appendBits(Mr.ECI.getBits(),4),n.appendBits(r.getValue(),8)},a.ALPHANUMERIC_TABLE=Int32Array.from([-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,-1,36,-1,-1,-1,37,38,-1,-1,-1,-1,39,40,-1,41,42,43,0,1,2,3,4,5,6,7,8,9,44,-1,-1,-1,-1,-1,-1,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,-1,-1,-1,-1,-1]),a.DEFAULT_BYTE_MODE_ENCODING=un.UTF8.getName(),a})();var kv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){kv(r,a);function r(n,t,l,s,o,u,c,d){var g=a.call(this,u,c)||this;if(g.yuvData=n,g.dataWidth=t,g.dataHeight=l,g.left=s,g.top=o,s+u>t||o+c>l)throw new Nt("Crop rectangle does not fit within image data.");return d&&g.reverseHorizontal(u,c),g}return r.prototype.getRow=function(n,t){if(n<0||n>=this.getHeight())throw new Nt("Requested row is outside the image: "+n);var l=this.getWidth();(t==null||t.length<l)&&(t=new Uint8ClampedArray(l));var s=(n+this.top)*this.dataWidth+this.left;return Tr.arraycopy(this.yuvData,s,t,0,l),t},r.prototype.getMatrix=function(){var n=this.getWidth(),t=this.getHeight();if(n===this.dataWidth&&t===this.dataHeight)return this.yuvData;var l=n*t,s=new Uint8ClampedArray(l),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Tr.arraycopy(this.yuvData,o,s,0,l),s;for(var u=0;u<t;u++){var c=u*n;Tr.arraycopy(this.yuvData,o,s,c,n),o+=this.dataWidth}return s},r.prototype.isCropSupported=function(){return!0},r.prototype.crop=function(n,t,l,s){return new r(this.yuvData,this.dataWidth,this.dataHeight,this.left+n,this.top+t,l,s,!1)},r.prototype.renderThumbnail=function(){for(var n=this.getWidth()/r.THUMBNAIL_SCALE_FACTOR,t=this.getHeight()/r.THUMBNAIL_SCALE_FACTOR,l=new Int32Array(n*t),s=this.yuvData,o=this.top*this.dataWidth+this.left,u=0;u<t;u++){for(var c=u*n,d=0;d<n;d++){var g=s[o+d*r.THUMBNAIL_SCALE_FACTOR]&255;l[c+d]=4278190080|g*65793}o+=this.dataWidth*r.THUMBNAIL_SCALE_FACTOR}return l},r.prototype.getThumbnailWidth=function(){return this.getWidth()/r.THUMBNAIL_SCALE_FACTOR},r.prototype.getThumbnailHeight=function(){return this.getHeight()/r.THUMBNAIL_SCALE_FACTOR},r.prototype.reverseHorizontal=function(n,t){for(var l=this.yuvData,s=0,o=this.top*this.dataWidth+this.left;s<t;s++,o+=this.dataWidth)for(var u=o+n/2,c=o,d=o+n-1;c<u;c++,d--){var g=l[c];l[c]=l[d],l[d]=g}},r.prototype.invert=function(){return new sd(this)},r.THUMBNAIL_SCALE_FACTOR=2,r})(Ru);var Pv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();(function(a){Pv(r,a);function r(n,t,l,s,o,u,c){var d=a.call(this,t,l)||this;if(d.dataWidth=s,d.dataHeight=o,d.left=u,d.top=c,n.BYTES_PER_ELEMENT===4){for(var g=t*l,y=new Uint8ClampedArray(g),h=0;h<g;h++){var p=n[h],m=p>>16&255,v=p>>7&510,_=p&255;y[h]=(m+v+_)/4&255}d.luminances=y}else d.luminances=n;if(s===void 0&&(d.dataWidth=t),o===void 0&&(d.dataHeight=l),u===void 0&&(d.left=0),c===void 0&&(d.top=0),d.left+t>d.dataWidth||d.top+l>d.dataHeight)throw new Nt("Crop rectangle does not fit within image data.");return d}return r.prototype.getRow=function(n,t){if(n<0||n>=this.getHeight())throw new Nt("Requested row is outside the image: "+n);var l=this.getWidth();(t==null||t.length<l)&&(t=new Uint8ClampedArray(l));var s=(n+this.top)*this.dataWidth+this.left;return Tr.arraycopy(this.luminances,s,t,0,l),t},r.prototype.getMatrix=function(){var n=this.getWidth(),t=this.getHeight();if(n===this.dataWidth&&t===this.dataHeight)return this.luminances;var l=n*t,s=new Uint8ClampedArray(l),o=this.top*this.dataWidth+this.left;if(n===this.dataWidth)return Tr.arraycopy(this.luminances,o,s,0,l),s;for(var u=0;u<t;u++){var c=u*n;Tr.arraycopy(this.luminances,o,s,c,n),o+=this.dataWidth}return s},r.prototype.isCropSupported=function(){return!0},r.prototype.crop=function(n,t,l,s){return new r(this.luminances,l,s,this.dataWidth,this.dataHeight,this.left+n,this.top+t)},r.prototype.invert=function(){return new sd(this)},r})(Ru);var Bv=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),Fv=function(a){Bv(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.forName=function(n){return this.getCharacterSetECIByName(n)},r}(un),Uv=function(){function a(){}return a.ISO_8859_1=un.ISO8859_1,a}(),nd,Gv=301,zv=function(a,r){for(var n=1,t=0;t<255;t++)r[t]=n,a[n]=t,n*=2,n>=256&&(n^=Gv);return{LOG:a,ALOG:r}};nd=zv([],[]),nd.LOG;nd.ALOG;var zm;(function(a){a[a.FORCE_NONE=0]="FORCE_NONE",a[a.FORCE_SQUARE=1]="FORCE_SQUARE",a[a.FORCE_RECTANGLE=2]="FORCE_RECTANGLE"})(zm||(zm={}));var Vm=129,l1=230,Vv=231,Hv=235,Xv=236,Wv=237,qv=238,Yv=239,Zv=240,Uf=254,Kv=254,Hm="[)>05",Xm="[)>06",Wm="",yr=0,jn=1,Un=2,sn=3,gn=4,In=5,Qv=function(){function a(){}return a.prototype.getEncodingMode=function(){return yr},a.prototype.encode=function(r){var n=ja.determineConsecutiveDigitCount(r.getMessage(),r.pos);if(n>=2)r.writeCodeword(this.encodeASCIIDigits(r.getMessage().charCodeAt(r.pos),r.getMessage().charCodeAt(r.pos+1))),r.pos+=2;else{var t=r.getCurrentChar(),l=ja.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(l!==this.getEncodingMode())switch(l){case In:r.writeCodeword(Vv),r.signalEncoderChange(In);return;case jn:r.writeCodeword(l1),r.signalEncoderChange(jn);return;case sn:r.writeCodeword(qv),r.signalEncoderChange(sn);break;case Un:r.writeCodeword(Yv),r.signalEncoderChange(Un);break;case gn:r.writeCodeword(Zv),r.signalEncoderChange(gn);break;default:throw new Error("Illegal mode: "+l)}else ja.isExtendedASCII(t)?(r.writeCodeword(Hv),r.writeCodeword(t-128+1),r.pos++):(r.writeCodeword(t+1),r.pos++)}},a.prototype.encodeASCIIDigits=function(r,n){if(ja.isDigit(r)&&ja.isDigit(n)){var t=(r-48)*10+(n-48);return t+130}throw new Error("not digits: "+r+n)},a}(),Jv=function(){function a(){}return a.prototype.getEncodingMode=function(){return In},a.prototype.encode=function(r){var n=new Vt;for(n.append(0);r.hasMoreCharacters();){var t=r.getCurrentChar();n.append(t),r.pos++;var l=ja.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(l!==this.getEncodingMode()){r.signalEncoderChange(yr);break}}var s=n.length()-1,o=1,u=r.getCodewordCount()+s+o;r.updateSymbolInfo(u);var c=r.getSymbolInfo().getDataCapacity()-u>0;if(r.hasMoreCharacters()||c)if(s<=249)n.setCharAt(0,Jt.getCharAt(s));else if(s<=1555)n.setCharAt(0,Jt.getCharAt(Math.floor(s/250)+249)),n.insert(1,Jt.getCharAt(s%250));else throw new Error("Message length not in valid ranges: "+s);for(var d=0,t=n.length();d<t;d++)r.writeCodeword(this.randomize255State(n.charAt(d).charCodeAt(0),r.getCodewordCount()+1))},a.prototype.randomize255State=function(r,n){var t=149*n%255+1,l=r+t;return l<=255?l:l-256},a}(),dd=function(){function a(){}return a.prototype.getEncodingMode=function(){return jn},a.prototype.encodeMaximal=function(r){for(var n=new Vt,t=0,l=r.pos,s=0;r.hasMoreCharacters();){var o=r.getCurrentChar();r.pos++,t=this.encodeChar(o,n),n.length()%3===0&&(l=r.pos,s=n.length())}if(s!==n.length()){var u=Math.floor(n.length()/3*2),c=Math.floor(r.getCodewordCount()+u+1);r.updateSymbolInfo(c);var d=r.getSymbolInfo().getDataCapacity()-c,g=Math.floor(n.length()%3);(g===2&&d!==2||g===1&&(t>3||d!==1))&&(r.pos=l)}n.length()>0&&r.writeCodeword(l1),this.handleEOD(r,n)},a.prototype.encode=function(r){for(var n=new Vt;r.hasMoreCharacters();){var t=r.getCurrentChar();r.pos++;var l=this.encodeChar(t,n),s=Math.floor(n.length()/3)*2,o=r.getCodewordCount()+s;r.updateSymbolInfo(o);var u=r.getSymbolInfo().getDataCapacity()-o;if(!r.hasMoreCharacters()){var c=new Vt;for(n.length()%3===2&&u!==2&&(l=this.backtrackOneCharacter(r,n,c,l));n.length()%3===1&&(l>3||u!==1);)l=this.backtrackOneCharacter(r,n,c,l);break}var d=n.length();if(d%3===0){var g=ja.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(g!==this.getEncodingMode()){r.signalEncoderChange(yr);break}}}this.handleEOD(r,n)},a.prototype.backtrackOneCharacter=function(r,n,t,l){var s=n.length(),o=n.toString().substring(0,s-l);n.setLengthToZero(),n.append(o),r.pos--;var u=r.getCurrentChar();return l=this.encodeChar(u,t),r.resetSymbolInfo(),l},a.prototype.writeNextTriplet=function(r,n){r.writeCodewords(this.encodeToCodewords(n.toString()));var t=n.toString().substring(3);n.setLengthToZero(),n.append(t)},a.prototype.handleEOD=function(r,n){var t=Math.floor(n.length()/3*2),l=n.length()%3,s=r.getCodewordCount()+t;r.updateSymbolInfo(s);var o=r.getSymbolInfo().getDataCapacity()-s;if(l===2){for(n.append("\0");n.length()>=3;)this.writeNextTriplet(r,n);r.hasMoreCharacters()&&r.writeCodeword(Uf)}else if(o===1&&l===1){for(;n.length()>=3;)this.writeNextTriplet(r,n);r.hasMoreCharacters()&&r.writeCodeword(Uf),r.pos--}else if(l===0){for(;n.length()>=3;)this.writeNextTriplet(r,n);(o>0||r.hasMoreCharacters())&&r.writeCodeword(Uf)}else throw new Error("Unexpected case. Please report!");r.signalEncoderChange(yr)},a.prototype.encodeChar=function(r,n){if(r===32)return n.append(3),1;if(r>=48&&r<=57)return n.append(r-48+4),1;if(r>=65&&r<=90)return n.append(r-65+14),1;if(r<32)return n.append(0),n.append(r),2;if(r<=47)return n.append(1),n.append(r-33),2;if(r<=64)return n.append(1),n.append(r-58+15),2;if(r<=95)return n.append(1),n.append(r-91+22),2;if(r<=127)return n.append(2),n.append(r-96),2;n.append("1");var t=2;return t+=this.encodeChar(r-128,n),t},a.prototype.encodeToCodewords=function(r){var n=1600*r.charCodeAt(0)+40*r.charCodeAt(1)+r.charCodeAt(2)+1,t=n/256,l=n%256,s=new Vt;return s.append(t),s.append(l),s.toString()},a}(),$v=function(){function a(){}return a.prototype.getEncodingMode=function(){return gn},a.prototype.encode=function(r){for(var n=new Vt;r.hasMoreCharacters();){var t=r.getCurrentChar();this.encodeChar(t,n),r.pos++;var l=n.length();if(l>=4){r.writeCodewords(this.encodeToCodewords(n.toString()));var s=n.toString().substring(4);n.setLengthToZero(),n.append(s);var o=ja.lookAheadTest(r.getMessage(),r.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){r.signalEncoderChange(yr);break}}}n.append(Jt.getCharAt(31)),this.handleEOD(r,n)},a.prototype.handleEOD=function(r,n){try{var t=n.length();if(t===0)return;if(t===1){r.updateSymbolInfo();var l=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount(),s=r.getRemainingCharacters();if(s>l&&(r.updateSymbolInfo(r.getCodewordCount()+1),l=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount()),s<=l&&l<=2)return}if(t>4)throw new Error("Count must not exceed 4");var o=t-1,u=this.encodeToCodewords(n.toString()),c=!r.hasMoreCharacters(),d=c&&o<=2;if(o<=2){r.updateSymbolInfo(r.getCodewordCount()+o);var l=r.getSymbolInfo().getDataCapacity()-r.getCodewordCount();l>=3&&(d=!1,r.updateSymbolInfo(r.getCodewordCount()+u.length))}d?(r.resetSymbolInfo(),r.pos-=o):r.writeCodewords(u)}finally{r.signalEncoderChange(yr)}},a.prototype.encodeChar=function(r,n){r>=32&&r<=63?n.append(r):r>=64&&r<=94?n.append(Jt.getCharAt(r-64)):ja.illegalCharacter(Jt.getCharAt(r))},a.prototype.encodeToCodewords=function(r){var n=r.length;if(n===0)throw new Error("StringBuilder must not be empty");var t=r.charAt(0).charCodeAt(0),l=n>=2?r.charAt(1).charCodeAt(0):0,s=n>=3?r.charAt(2).charCodeAt(0):0,o=n>=4?r.charAt(3).charCodeAt(0):0,u=(t<<18)+(l<<12)+(s<<6)+o,c=u>>16&255,d=u>>8&255,g=u&255,y=new Vt;return y.append(c),n>=2&&y.append(d),n>=3&&y.append(g),y.toString()},a}(),e2=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),t2=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},sr=function(){function a(r,n,t,l,s,o,u,c){u===void 0&&(u=0),c===void 0&&(c=0),this.rectangular=r,this.dataCapacity=n,this.errorCodewords=t,this.matrixWidth=l,this.matrixHeight=s,this.dataRegions=o,this.rsBlockData=u,this.rsBlockError=c}return a.lookup=function(r,n,t,l,s){var o,u;n===void 0&&(n=0),t===void 0&&(t=null),l===void 0&&(l=null),s===void 0&&(s=!0);try{for(var c=t2(n2),d=c.next();!d.done;d=c.next()){var g=d.value;if(!(n===1&&g.rectangular)&&!(n===2&&!g.rectangular)&&!(t!=null&&(g.getSymbolWidth()<t.getWidth()||g.getSymbolHeight()<t.getHeight()))&&!(l!=null&&(g.getSymbolWidth()>l.getWidth()||g.getSymbolHeight()>l.getHeight()))&&r<=g.dataCapacity)return g}}catch(y){o={error:y}}finally{try{d&&!d.done&&(u=c.return)&&u.call(c)}finally{if(o)throw o.error}}if(s)throw new Error("Can't find a symbol arrangement that matches the message. Data codewords: "+r);return null},a.prototype.getHorizontalDataRegions=function(){switch(this.dataRegions){case 1:return 1;case 2:case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},a.prototype.getVerticalDataRegions=function(){switch(this.dataRegions){case 1:case 2:return 1;case 4:return 2;case 16:return 4;case 36:return 6;default:throw new Error("Cannot handle this number of data regions")}},a.prototype.getSymbolDataWidth=function(){return this.getHorizontalDataRegions()*this.matrixWidth},a.prototype.getSymbolDataHeight=function(){return this.getVerticalDataRegions()*this.matrixHeight},a.prototype.getSymbolWidth=function(){return this.getSymbolDataWidth()+this.getHorizontalDataRegions()*2},a.prototype.getSymbolHeight=function(){return this.getSymbolDataHeight()+this.getVerticalDataRegions()*2},a.prototype.getCodewordCount=function(){return this.dataCapacity+this.errorCodewords},a.prototype.getInterleavedBlockCount=function(){return this.rsBlockData?this.dataCapacity/this.rsBlockData:1},a.prototype.getDataCapacity=function(){return this.dataCapacity},a.prototype.getErrorCodewords=function(){return this.errorCodewords},a.prototype.getDataLengthForInterleavedBlock=function(r){return this.rsBlockData},a.prototype.getErrorLengthForInterleavedBlock=function(r){return this.rsBlockError},a}(),r2=function(a){e2(r,a);function r(){return a.call(this,!1,1558,620,22,22,36,-1,62)||this}return r.prototype.getInterleavedBlockCount=function(){return 10},r.prototype.getDataLengthForInterleavedBlock=function(n){return n<=8?156:155},r}(sr),n2=[new sr(!1,3,5,8,8,1),new sr(!1,5,7,10,10,1),new sr(!0,5,7,16,6,1),new sr(!1,8,10,12,12,1),new sr(!0,10,11,14,6,2),new sr(!1,12,12,14,14,1),new sr(!0,16,14,24,10,1),new sr(!1,18,14,16,16,1),new sr(!1,22,18,18,18,1),new sr(!0,22,18,16,10,2),new sr(!1,30,20,20,20,1),new sr(!0,32,24,16,14,2),new sr(!1,36,24,22,22,1),new sr(!1,44,28,24,24,1),new sr(!0,49,28,22,14,2),new sr(!1,62,36,14,14,4),new sr(!1,86,42,16,16,4),new sr(!1,114,48,18,18,4),new sr(!1,144,56,20,20,4),new sr(!1,174,68,22,22,4),new sr(!1,204,84,24,24,4,102,42),new sr(!1,280,112,14,14,16,140,56),new sr(!1,368,144,16,16,16,92,36),new sr(!1,456,192,18,18,16,114,48),new sr(!1,576,224,20,20,16,144,56),new sr(!1,696,272,22,22,16,174,68),new sr(!1,816,336,24,24,16,136,56),new sr(!1,1050,408,18,18,36,175,68),new sr(!1,1304,496,20,20,36,163,62),new r2],a2=function(){function a(r){this.msg=r,this.pos=0,this.skipAtEnd=0;for(var n=r.split("").map(function(u){return u.charCodeAt(0)}),t=new Vt,l=0,s=n.length;l<s;l++){var o=String.fromCharCode(n[l]&255);if(o==="?"&&r.charAt(l)!=="?")throw new Error("Message contains characters outside ISO-8859-1 encoding.");t.append(o)}this.msg=t.toString(),this.shape=0,this.codewords=new Vt,this.newEncoding=-1}return a.prototype.setSymbolShape=function(r){this.shape=r},a.prototype.setSizeConstraints=function(r,n){this.minSize=r,this.maxSize=n},a.prototype.getMessage=function(){return this.msg},a.prototype.setSkipAtEnd=function(r){this.skipAtEnd=r},a.prototype.getCurrentChar=function(){return this.msg.charCodeAt(this.pos)},a.prototype.getCurrent=function(){return this.msg.charCodeAt(this.pos)},a.prototype.getCodewords=function(){return this.codewords},a.prototype.writeCodewords=function(r){this.codewords.append(r)},a.prototype.writeCodeword=function(r){this.codewords.append(r)},a.prototype.getCodewordCount=function(){return this.codewords.length()},a.prototype.getNewEncoding=function(){return this.newEncoding},a.prototype.signalEncoderChange=function(r){this.newEncoding=r},a.prototype.resetEncoderSignal=function(){this.newEncoding=-1},a.prototype.hasMoreCharacters=function(){return this.pos<this.getTotalMessageCharCount()},a.prototype.getTotalMessageCharCount=function(){return this.msg.length-this.skipAtEnd},a.prototype.getRemainingCharacters=function(){return this.getTotalMessageCharCount()-this.pos},a.prototype.getSymbolInfo=function(){return this.symbolInfo},a.prototype.updateSymbolInfo=function(r){r===void 0&&(r=this.getCodewordCount()),(this.symbolInfo==null||r>this.symbolInfo.getDataCapacity())&&(this.symbolInfo=sr.lookup(r,this.shape,this.minSize,this.maxSize,!0))},a.prototype.resetSymbolInfo=function(){this.symbolInfo=null},a}(),i2=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),o2=function(a){i2(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.getEncodingMode=function(){return sn},r.prototype.encode=function(n){for(var t=new Vt;n.hasMoreCharacters();){var l=n.getCurrentChar();n.pos++,this.encodeChar(l,t);var s=t.length();if(s%3===0){this.writeNextTriplet(n,t);var o=ja.lookAheadTest(n.getMessage(),n.pos,this.getEncodingMode());if(o!==this.getEncodingMode()){n.signalEncoderChange(yr);break}}}this.handleEOD(n,t)},r.prototype.encodeChar=function(n,t){switch(n){case 13:t.append(0);break;case 42:t.append(1);break;case 62:t.append(2);break;case 32:t.append(3);break;default:n>=48&&n<=57?t.append(n-48+4):n>=65&&n<=90?t.append(n-65+14):ja.illegalCharacter(Jt.getCharAt(n));break}return 1},r.prototype.handleEOD=function(n,t){n.updateSymbolInfo();var l=n.getSymbolInfo().getDataCapacity()-n.getCodewordCount(),s=t.length();n.pos-=s,(n.getRemainingCharacters()>1||l>1||n.getRemainingCharacters()!==l)&&n.writeCodeword(Kv),n.getNewEncoding()<0&&n.signalEncoderChange(yr)},r}(dd),s2=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),l2=function(a){s2(r,a);function r(){return a!==null&&a.apply(this,arguments)||this}return r.prototype.getEncodingMode=function(){return Un},r.prototype.encodeChar=function(n,t){if(n===32)return t.append(3),1;if(n>=48&&n<=57)return t.append(n-48+4),1;if(n>=97&&n<=122)return t.append(n-97+14),1;if(n<32)return t.append(0),t.append(n),2;if(n<=47)return t.append(1),t.append(n-33),2;if(n<=64)return t.append(1),t.append(n-58+15),2;if(n>=91&&n<=95)return t.append(1),t.append(n-91+22),2;if(n===96)return t.append(2),t.append(0),2;if(n<=90)return t.append(2),t.append(n-65+1),2;if(n<=127)return t.append(2),t.append(n-123+27),2;t.append("1");var l=2;return l+=this.encodeChar(n-128,t),l},r}(dd),ja=function(){function a(){}return a.randomize253State=function(r){var n=149*r%253+1,t=Vm+n;return t<=254?t:t-254},a.encodeHighLevel=function(r,n,t,l,s){n===void 0&&(n=0),t===void 0&&(t=null),l===void 0&&(l=null),s===void 0&&(s=!1);var o=new dd,u=[new Qv,o,new l2,new o2,new $v,new Jv],c=new a2(r);c.setSymbolShape(n),c.setSizeConstraints(t,l),r.startsWith(Hm)&&r.endsWith(Wm)?(c.writeCodeword(Xv),c.setSkipAtEnd(2),c.pos+=Hm.length):r.startsWith(Xm)&&r.endsWith(Wm)&&(c.writeCodeword(Wv),c.setSkipAtEnd(2),c.pos+=Xm.length);var d=yr;for(s&&(o.encodeMaximal(c),d=c.getNewEncoding(),c.resetEncoderSignal());c.hasMoreCharacters();)u[d].encode(c),c.getNewEncoding()>=0&&(d=c.getNewEncoding(),c.resetEncoderSignal());var g=c.getCodewordCount();c.updateSymbolInfo();var y=c.getSymbolInfo().getDataCapacity();g<y&&d!==yr&&d!==In&&d!==gn&&c.writeCodeword("");var h=c.getCodewords();for(h.length()<y&&h.append(Vm);h.length()<y;)h.append(this.randomize253State(h.length()+1));return c.getCodewords().toString()},a.lookAheadTest=function(r,n,t){var l=this.lookAheadTestIntern(r,n,t);if(t===sn&&l===sn){for(var s=Math.min(n+3,r.length),o=n;o<s;o++)if(!this.isNativeX12(r.charCodeAt(o)))return yr}else if(t===gn&&l===gn){for(var s=Math.min(n+4,r.length),o=n;o<s;o++)if(!this.isNativeEDIFACT(r.charCodeAt(o)))return yr}return l},a.lookAheadTestIntern=function(r,n,t){if(n>=r.length)return t;var l;t===yr?l=[0,1,1,1,1,1.25]:(l=[1,2,2,2,2,2.25],l[t]=0);for(var s=0,o=new Uint8Array(6),u=[];;){if(n+s===r.length){cn.fill(o,0),cn.fill(u,0);var c=this.findMinimums(l,u,Xt.MAX_VALUE,o),d=this.getMinimumCount(o);if(u[yr]===c)return yr;if(d===1){if(o[In]>0)return In;if(o[gn]>0)return gn;if(o[Un]>0)return Un;if(o[sn]>0)return sn}return jn}var g=r.charCodeAt(n+s);if(s++,this.isDigit(g)?l[yr]+=.5:this.isExtendedASCII(g)?(l[yr]=Math.ceil(l[yr]),l[yr]+=2):(l[yr]=Math.ceil(l[yr]),l[yr]++),this.isNativeC40(g)?l[jn]+=2/3:this.isExtendedASCII(g)?l[jn]+=8/3:l[jn]+=4/3,this.isNativeText(g)?l[Un]+=2/3:this.isExtendedASCII(g)?l[Un]+=8/3:l[Un]+=4/3,this.isNativeX12(g)?l[sn]+=2/3:this.isExtendedASCII(g)?l[sn]+=13/3:l[sn]+=10/3,this.isNativeEDIFACT(g)?l[gn]+=3/4:this.isExtendedASCII(g)?l[gn]+=17/4:l[gn]+=13/4,this.isSpecialB256(g)?l[In]+=4:l[In]++,s>=4){if(cn.fill(o,0),cn.fill(u,0),this.findMinimums(l,u,Xt.MAX_VALUE,o),u[yr]<this.min(u[In],u[jn],u[Un],u[sn],u[gn]))return yr;if(u[In]<u[yr]||u[In]+1<this.min(u[jn],u[Un],u[sn],u[gn]))return In;if(u[gn]+1<this.min(u[In],u[jn],u[Un],u[sn],u[yr]))return gn;if(u[Un]+1<this.min(u[In],u[jn],u[gn],u[sn],u[yr]))return Un;if(u[sn]+1<this.min(u[In],u[jn],u[gn],u[Un],u[yr]))return sn;if(u[jn]+1<this.min(u[yr],u[In],u[gn],u[Un])){if(u[jn]<u[sn])return jn;if(u[jn]===u[sn]){for(var y=n+s+1;y<r.length;){var h=r.charCodeAt(y);if(this.isX12TermSep(h))return sn;if(!this.isNativeX12(h))break;y++}return jn}}}}},a.min=function(r,n,t,l,s){var o=Math.min(r,Math.min(n,Math.min(t,l)));return s===void 0?o:Math.min(o,s)},a.findMinimums=function(r,n,t,l){for(var s=0;s<6;s++){var o=n[s]=Math.ceil(r[s]);t>o&&(t=o,cn.fill(l,0)),t===o&&(l[s]=l[s]+1)}return t},a.getMinimumCount=function(r){for(var n=0,t=0;t<6;t++)n+=r[t];return n||0},a.isDigit=function(r){return r>=48&&r<=57},a.isExtendedASCII=function(r){return r>=128&&r<=255},a.isNativeC40=function(r){return r===32||r>=48&&r<=57||r>=65&&r<=90},a.isNativeText=function(r){return r===32||r>=48&&r<=57||r>=97&&r<=122},a.isNativeX12=function(r){return this.isX12TermSep(r)||r===32||r>=48&&r<=57||r>=65&&r<=90},a.isX12TermSep=function(r){return r===13||r===42||r===62},a.isNativeEDIFACT=function(r){return r>=32&&r<=94},a.isSpecialB256=function(r){return!1},a.determineConsecutiveDigitCount=function(r,n){n===void 0&&(n=0);for(var t=r.length,l=n;l<t&&this.isDigit(r.charCodeAt(l));)l++;return l-n},a.illegalCharacter=function(r){var n=Xt.toHexString(r.charCodeAt(0));throw n="0000".substring(0,4-n.length)+n,new Error("Illegal character: "+r+" (0x"+n+")")},a}(),Gf=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},qm=function(){function a(r){this.charset=r,this.name=r.name}return a.prototype.canEncode=function(r){try{return ga.encode(r,this.charset)!=null}catch{return!1}},a}(),u2=function(){function a(r,n,t){var l,s,o,u,c,d;this.ENCODERS=["IBM437","ISO-8859-2","ISO-8859-3","ISO-8859-4","ISO-8859-5","ISO-8859-6","ISO-8859-7","ISO-8859-8","ISO-8859-9","ISO-8859-10","ISO-8859-11","ISO-8859-13","ISO-8859-14","ISO-8859-15","ISO-8859-16","windows-1250","windows-1251","windows-1252","windows-1256","Shift_JIS"].map(function(L){return new qm(Fv.forName(L))}),this.encoders=[];var g=[];g.push(new qm(Uv.ISO_8859_1));for(var y=n!=null&&n.name.startsWith("UTF"),h=0;h<r.length;h++){var p=!1;try{for(var m=(l=void 0,Gf(g)),v=m.next();!v.done;v=m.next()){var _=v.value,x=r.charAt(h),b=x.charCodeAt(0);if(b===t||_.canEncode(x)){p=!0;break}}}catch(L){l={error:L}}finally{try{v&&!v.done&&(s=m.return)&&s.call(m)}finally{if(l)throw l.error}}if(!p)try{for(var E=(o=void 0,Gf(this.ENCODERS)),S=E.next();!S.done;S=E.next()){var _=S.value;if(_.canEncode(r.charAt(h))){g.push(_),p=!0;break}}}catch(L){o={error:L}}finally{try{S&&!S.done&&(u=E.return)&&u.call(E)}finally{if(o)throw o.error}}p||(y=!0)}if(g.length===1&&!y)this.encoders=[g[0]];else{this.encoders=[];var C=0;try{for(var D=Gf(g),M=D.next();!M.done;M=D.next()){var _=M.value;this.encoders[C++]=_}}catch(L){c={error:L}}finally{try{M&&!M.done&&(d=D.return)&&d.call(D)}finally{if(c)throw c.error}}}var R=-1;if(n!=null){for(var h=0;h<this.encoders.length;h++)if(this.encoders[h]!=null&&n.name===this.encoders[h].name){R=h;break}}this.priorityEncoderIndex=R}return a.prototype.length=function(){return this.encoders.length},a.prototype.getCharsetName=function(r){if(!(r<this.length()))throw new Error("index must be less than length");return this.encoders[r].name},a.prototype.getCharset=function(r){if(!(r<this.length()))throw new Error("index must be less than length");return this.encoders[r].charset},a.prototype.getECIValue=function(r){return this.encoders[r].charset.getValueIdentifier()},a.prototype.getPriorityEncoderIndex=function(){return this.priorityEncoderIndex},a.prototype.canEncode=function(r,n){if(!(n<this.length()))throw new Error("index must be less than length");return!0},a.prototype.encode=function(r,n){if(!(n<this.length()))throw new Error("index must be less than length");return ga.encode(Jt.getCharAt(r),this.encoders[n].name)},a}(),c2=3,f2=function(){function a(r,n,t){this.fnc1=t;var l=new u2(r,n,t);if(l.length()===1)for(var s=0;s<this.bytes.length;s++){var o=r.charAt(s).charCodeAt(0);this.bytes[s]=o===t?1e3:o}else this.bytes=this.encodeMinimally(r,l,t)}return a.prototype.getFNC1Character=function(){return this.fnc1},a.prototype.length=function(){return this.bytes.length},a.prototype.haveNCharacters=function(r,n){if(r+n-1>=this.bytes.length)return!1;for(var t=0;t<n;t++)if(this.isECI(r+t))return!1;return!0},a.prototype.charAt=function(r){if(r<0||r>=this.length())throw new Error(""+r);if(this.isECI(r))throw new Error("value at "+r+" is not a character but an ECI");return this.isFNC1(r)?this.fnc1:this.bytes[r]},a.prototype.subSequence=function(r,n){if(r<0||r>n||n>this.length())throw new Error(""+r);for(var t=new Vt,l=r;l<n;l++){if(this.isECI(l))throw new Error("value at "+l+" is not a character but an ECI");t.append(this.charAt(l))}return t.toString()},a.prototype.isECI=function(r){if(r<0||r>=this.length())throw new Error(""+r);return this.bytes[r]>255&&this.bytes[r]<=999},a.prototype.isFNC1=function(r){if(r<0||r>=this.length())throw new Error(""+r);return this.bytes[r]===1e3},a.prototype.getECIValue=function(r){if(r<0||r>=this.length())throw new Error(""+r);if(!this.isECI(r))throw new Error("value at "+r+" is not an ECI but a character");return this.bytes[r]-256},a.prototype.addEdge=function(r,n,t){(r[n][t.encoderIndex]==null||r[n][t.encoderIndex].cachedTotalSize>t.cachedTotalSize)&&(r[n][t.encoderIndex]=t)},a.prototype.addEdges=function(r,n,t,l,s,o){var u=r.charAt(l).charCodeAt(0),c=0,d=n.length();n.getPriorityEncoderIndex()>=0&&(u===o||n.canEncode(u,n.getPriorityEncoderIndex()))&&(c=n.getPriorityEncoderIndex(),d=c+1);for(var g=c;g<d;g++)(u===o||n.canEncode(u,g))&&this.addEdge(t,l+1,new Ym(u,n,g,s,o))},a.prototype.encodeMinimally=function(r,n,t){var l=r.length,s=new Ym[l+1][n.length()];this.addEdges(r,n,s,0,null,t);for(var o=1;o<=l;o++){for(var u=0;u<n.length();u++)s[o][u]!=null&&o<l&&this.addEdges(r,n,s,o,s[o][u],t);for(var u=0;u<n.length();u++)s[o-1][u]=null}for(var c=-1,d=Xt.MAX_VALUE,u=0;u<n.length();u++)if(s[l][u]!=null){var g=s[l][u];g.cachedTotalSize<d&&(d=g.cachedTotalSize,c=u)}if(c<0)throw new Error('Failed to encode "'+r+'"');for(var y=[],h=s[l][c];h!=null;){if(h.isFNC1())y.unshift(1e3);else for(var p=n.encode(h.c,h.encoderIndex),o=p.length-1;o>=0;o--)y.unshift(p[o]&255);var m=h.previous===null?0:h.previous.encoderIndex;m!==h.encoderIndex&&y.unshift(256+n.getECIValue(h.encoderIndex)),h=h.previous}for(var v=[],o=0;o<v.length;o++)v[o]=y[o];return v},a}(),Ym=function(){function a(r,n,t,l,s){this.c=r,this.encoderSet=n,this.encoderIndex=t,this.previous=l,this.fnc1=s,this.c=r===s?1e3:r;var o=this.isFNC1()?1:n.encode(r,t).length,u=l===null?0:l.encoderIndex;u!==t&&(o+=c2),l!=null&&(o+=l.cachedTotalSize),this.cachedTotalSize=o}return a.prototype.isFNC1=function(){return this.c===1e3},a}(),d2=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}();var Zm;(function(a){a[a.ASCII=0]="ASCII",a[a.C40=1]="C40",a[a.TEXT=2]="TEXT",a[a.X12=3]="X12",a[a.EDF=4]="EDF",a[a.B256=5]="B256"})(Zm||(Zm={}));(function(a){d2(r,a);function r(n,t,l,s,o){var u=a.call(this,n,t,l)||this;return u.shape=s,u.macroId=o,u}return r.prototype.getMacroId=function(){return this.macroId},r.prototype.getShapeHint=function(){return this.shape},r})(f2);var h2=function(){function a(){}return a.prototype.isCompact=function(){return this.compact},a.prototype.setCompact=function(r){this.compact=r},a.prototype.getSize=function(){return this.size},a.prototype.setSize=function(r){this.size=r},a.prototype.getLayers=function(){return this.layers},a.prototype.setLayers=function(r){this.layers=r},a.prototype.getCodeWords=function(){return this.codeWords},a.prototype.setCodeWords=function(r){this.codeWords=r},a.prototype.getMatrix=function(){return this.matrix},a.prototype.setMatrix=function(r){this.matrix=r},a}(),Km=function(){function a(){}return a.singletonList=function(r){return[r]},a.min=function(r,n){return r.sort(n)[0]},a}(),p2=function(){function a(r){this.previous=r}return a.prototype.getPrevious=function(){return this.previous},a}(),m2=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),hd=function(a){m2(r,a);function r(n,t,l){var s=a.call(this,n)||this;return s.value=t,s.bitCount=l,s}return r.prototype.appendTo=function(n,t){n.appendBits(this.value,this.bitCount)},r.prototype.add=function(n,t){return new r(this,n,t)},r.prototype.addBinaryShift=function(n,t){return console.warn("addBinaryShift on SimpleToken, this simply returns a copy of this token"),new r(this,n,t)},r.prototype.toString=function(){var n=this.value&(1<<this.bitCount)-1;return n|=1<<this.bitCount,"<"+Xt.toBinaryString(n|1<<this.bitCount).substring(1)+">"},r}(p2),y2=function(){var a=function(r,n){return a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,l){t.__proto__=l}||function(t,l){for(var s in l)l.hasOwnProperty(s)&&(t[s]=l[s])},a(r,n)};return function(r,n){a(r,n);function t(){this.constructor=r}r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)}}(),g2=function(a){y2(r,a);function r(n,t,l){var s=a.call(this,n,0,0)||this;return s.binaryShiftStart=t,s.binaryShiftByteCount=l,s}return r.prototype.appendTo=function(n,t){for(var l=0;l<this.binaryShiftByteCount;l++)(l===0||l===31&&this.binaryShiftByteCount<=62)&&(n.appendBits(31,5),this.binaryShiftByteCount>62?n.appendBits(this.binaryShiftByteCount-31,16):l===0?n.appendBits(Math.min(this.binaryShiftByteCount,31),5):n.appendBits(this.binaryShiftByteCount-31,5)),n.appendBits(t[this.binaryShiftStart+l],8)},r.prototype.addBinaryShift=function(n,t){return new r(this,n,t)},r.prototype.toString=function(){return"<"+this.binaryShiftStart+"::"+(this.binaryShiftStart+this.binaryShiftByteCount-1)+">"},r}(hd);function v2(a,r,n){return new g2(a,r,n)}function el(a,r,n){return new hd(a,r,n)}var b2=["UPPER","LOWER","DIGIT","MIXED","PUNCT"],ki=0,Du=1,ya=2,u1=3,ka=4,x2=new hd(null,0,0),zf=[Int32Array.from([0,(5<<16)+28,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(9<<16)+480+14,0,(5<<16)+30,(5<<16)+29,656318]),Int32Array.from([(4<<16)+14,(9<<16)+448+28,0,(9<<16)+448+29,932798]),Int32Array.from([(5<<16)+29,(5<<16)+28,656318,0,(5<<16)+30]),Int32Array.from([(5<<16)+31,656380,656382,656381,0])],_2=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};function w2(a){var r,n;try{for(var t=_2(a),l=t.next();!l.done;l=t.next()){var s=l.value;cn.fill(s,-1)}}catch(o){r={error:o}}finally{try{l&&!l.done&&(n=t.return)&&n.call(t)}finally{if(r)throw r.error}}return a[ki][ka]=0,a[Du][ka]=0,a[Du][ki]=28,a[u1][ka]=0,a[ya][ka]=0,a[ya][ki]=15,a}var c1=w2(cn.createInt32Array(6,6)),S2=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},E2=function(){function a(r,n,t,l){this.token=r,this.mode=n,this.binaryShiftByteCount=t,this.bitCount=l}return a.prototype.getMode=function(){return this.mode},a.prototype.getToken=function(){return this.token},a.prototype.getBinaryShiftByteCount=function(){return this.binaryShiftByteCount},a.prototype.getBitCount=function(){return this.bitCount},a.prototype.latchAndAppend=function(r,n){var t=this.bitCount,l=this.token;if(r!==this.mode){var s=zf[this.mode][r];l=el(l,s&65535,s>>16),t+=s>>16}var o=r===ya?4:5;return l=el(l,n,o),new a(l,r,0,t+o)},a.prototype.shiftAndAppend=function(r,n){var t=this.token,l=this.mode===ya?4:5;return t=el(t,c1[this.mode][r],l),t=el(t,n,5),new a(t,this.mode,0,this.bitCount+l+5)},a.prototype.addBinaryShiftChar=function(r){var n=this.token,t=this.mode,l=this.bitCount;if(this.mode===ka||this.mode===ya){var s=zf[t][ki];n=el(n,s&65535,s>>16),l+=s>>16,t=ki}var o=this.binaryShiftByteCount===0||this.binaryShiftByteCount===31?18:this.binaryShiftByteCount===62?9:8,u=new a(n,t,this.binaryShiftByteCount+1,l+o);return u.binaryShiftByteCount===2078&&(u=u.endBinaryShift(r+1)),u},a.prototype.endBinaryShift=function(r){if(this.binaryShiftByteCount===0)return this;var n=this.token;return n=v2(n,r-this.binaryShiftByteCount,this.binaryShiftByteCount),new a(n,this.mode,0,this.bitCount)},a.prototype.isBetterThanOrEqualTo=function(r){var n=this.bitCount+(zf[this.mode][r.mode]>>16);return this.binaryShiftByteCount<r.binaryShiftByteCount?n+=a.calculateBinaryShiftCost(r)-a.calculateBinaryShiftCost(this):this.binaryShiftByteCount>r.binaryShiftByteCount&&r.binaryShiftByteCount>0&&(n+=10),n<=r.bitCount},a.prototype.toBitArray=function(r){for(var n,t,l=[],s=this.endBinaryShift(r.length).token;s!==null;s=s.getPrevious())l.unshift(s);var o=new bn;try{for(var u=S2(l),c=u.next();!c.done;c=u.next()){var d=c.value;d.appendTo(o,r)}}catch(g){n={error:g}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(n)throw n.error}}return o},a.prototype.toString=function(){return Jt.format("%s bits=%d bytes=%d",b2[this.mode],this.bitCount,this.binaryShiftByteCount)},a.calculateBinaryShiftCost=function(r){return r.binaryShiftByteCount>62?21:r.binaryShiftByteCount>31?20:r.binaryShiftByteCount>0?10:0},a.INITIAL_STATE=new a(x2,ki,0,0),a}();function A2(a){var r=Jt.getCharCode(" "),n=Jt.getCharCode("."),t=Jt.getCharCode(",");a[ki][r]=1;for(var l=Jt.getCharCode("Z"),s=Jt.getCharCode("A"),o=s;o<=l;o++)a[ki][o]=o-s+2;a[Du][r]=1;for(var u=Jt.getCharCode("z"),c=Jt.getCharCode("a"),o=c;o<=u;o++)a[Du][o]=o-c+2;a[ya][r]=1;for(var d=Jt.getCharCode("9"),g=Jt.getCharCode("0"),o=g;o<=d;o++)a[ya][o]=o-g+2;a[ya][t]=12,a[ya][n]=13;for(var y=["\0"," ","","","","","","","\x07","\b","	",`
`,"\v","\f","\r","\x1B","","","","","@","\\","^","_","`","|","~",""],h=0;h<y.length;h++)a[u1][Jt.getCharCode(y[h])]=h;for(var p=["\0","\r","\0","\0","\0","\0","!","'","#","$","%","&","'","(",")","*","+",",","-",".","/",":",";","<","=",">","?","[","]","{","}"],h=0;h<p.length;h++)Jt.getCharCode(p[h])>0&&(a[ka][Jt.getCharCode(p[h])]=h);return a}var Vf=A2(cn.createInt32Array(5,256)),ju=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")},j2=function(){function a(r){this.text=r}return a.prototype.encode=function(){for(var r=Jt.getCharCode(" "),n=Jt.getCharCode(`
`),t=Km.singletonList(E2.INITIAL_STATE),l=0;l<this.text.length;l++){var s=void 0,o=l+1<this.text.length?this.text[l+1]:0;switch(this.text[l]){case Jt.getCharCode("\r"):s=o===n?2:0;break;case Jt.getCharCode("."):s=o===r?3:0;break;case Jt.getCharCode(","):s=o===r?4:0;break;case Jt.getCharCode(":"):s=o===r?5:0;break;default:s=0}s>0?(t=a.updateStateListForPair(t,l,s),l++):t=this.updateStateListForChar(t,l)}var u=Km.min(t,function(c,d){return c.getBitCount()-d.getBitCount()});return u.toBitArray(this.text)},a.prototype.updateStateListForChar=function(r,n){var t,l,s=[];try{for(var o=ju(r),u=o.next();!u.done;u=o.next()){var c=u.value;this.updateStateForChar(c,n,s)}}catch(d){t={error:d}}finally{try{u&&!u.done&&(l=o.return)&&l.call(o)}finally{if(t)throw t.error}}return a.simplifyStates(s)},a.prototype.updateStateForChar=function(r,n,t){for(var l=this.text[n]&255,s=Vf[r.getMode()][l]>0,o=null,u=0;u<=ka;u++){var c=Vf[u][l];if(c>0){if(o==null&&(o=r.endBinaryShift(n)),!s||u===r.getMode()||u===ya){var d=o.latchAndAppend(u,c);t.push(d)}if(!s&&c1[r.getMode()][u]>=0){var g=o.shiftAndAppend(u,c);t.push(g)}}}if(r.getBinaryShiftByteCount()>0||Vf[r.getMode()][l]===0){var y=r.addBinaryShiftChar(n);t.push(y)}},a.updateStateListForPair=function(r,n,t){var l,s,o=[];try{for(var u=ju(r),c=u.next();!c.done;c=u.next()){var d=c.value;this.updateStateForPair(d,n,t,o)}}catch(g){l={error:g}}finally{try{c&&!c.done&&(s=u.return)&&s.call(u)}finally{if(l)throw l.error}}return this.simplifyStates(o)},a.updateStateForPair=function(r,n,t,l){var s=r.endBinaryShift(n);if(l.push(s.latchAndAppend(ka,t)),r.getMode()!==ka&&l.push(s.shiftAndAppend(ka,t)),t===3||t===4){var o=s.latchAndAppend(ya,16-t).latchAndAppend(ya,1);l.push(o)}if(r.getBinaryShiftByteCount()>0){var u=r.addBinaryShiftChar(n).addBinaryShiftChar(n+1);l.push(u)}},a.simplifyStates=function(r){var n,t,l,s,o=[];try{for(var u=ju(r),c=u.next();!c.done;c=u.next()){var d=c.value,g=!0,y=function(_){if(_.isBetterThanOrEqualTo(d))return g=!1,"break";d.isBetterThanOrEqualTo(_)&&(o=o.filter(function(x){return x!==_}))};try{for(var h=(l=void 0,ju(o)),p=h.next();!p.done;p=h.next()){var m=p.value,v=y(m);if(v==="break")break}}catch(_){l={error:_}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}g&&o.push(d)}}catch(_){n={error:_}}finally{try{c&&!c.done&&(t=u.return)&&t.call(u)}finally{if(n)throw n.error}}return o},a}(),C2=function(a){var r=typeof Symbol=="function"&&Symbol.iterator,n=r&&a[r],t=0;if(n)return n.call(a);if(a&&typeof a.length=="number")return{next:function(){return a&&t>=a.length&&(a=void 0),{value:a&&a[t++],done:!a}}};throw new TypeError(r?"Object is not iterable.":"Symbol.iterator is not defined.")};(function(){function a(){}return a.encodeBytes=function(r){return a.encode(r,a.DEFAULT_EC_PERCENT,a.DEFAULT_AZTEC_LAYERS)},a.encode=function(r,n,t){var l=new j2(r).encode(),s=Xt.truncDivision(l.getSize()*n,100)+11,o=l.getSize()+s,u,c,d,g,y;if(t!==a.DEFAULT_AZTEC_LAYERS){if(u=t<0,c=Math.abs(t),c>(u?a.MAX_NB_BITS_COMPACT:a.MAX_NB_BITS))throw new Nt(Jt.format("Illegal value %s for layers",t));d=a.totalBitsInLayer(c,u),g=a.WORD_SIZE[c];var h=d-d%g;if(y=a.stuffBits(l,g),y.getSize()+s>h)throw new Nt("Data to large for user specified layer");if(u&&y.getSize()>g*64)throw new Nt("Data to large for user specified layer")}else{g=0,y=null;for(var p=0;;p++){if(p>a.MAX_NB_BITS)throw new Nt("Data too large for an Aztec code");if(u=p<=3,c=u?p+1:p,d=a.totalBitsInLayer(c,u),!(o>d)){(y==null||g!==a.WORD_SIZE[c])&&(g=a.WORD_SIZE[c],y=a.stuffBits(l,g));var h=d-d%g;if(!(u&&y.getSize()>g*64)&&y.getSize()+s<=h)break}}}var m=a.generateCheckWords(y,d,g),v=y.getSize()/g,_=a.generateModeMessage(u,c,v),x=(u?11:14)+c*4,b=new Int32Array(x),E;if(u){E=x;for(var p=0;p<b.length;p++)b[p]=p}else{E=x+1+2*Xt.truncDivision(Xt.truncDivision(x,2)-1,15);for(var S=Xt.truncDivision(x,2),C=Xt.truncDivision(E,2),p=0;p<S;p++){var D=p+Xt.truncDivision(p,15);b[S-p-1]=C-D-1,b[S+p]=C+D+1}}for(var M=new Pa(E),p=0,R=0;p<c;p++){for(var L=(c-p)*4+(u?9:12),F=0;F<L;F++)for(var I=F*2,G=0;G<2;G++)m.get(R+I+G)&&M.set(b[p*2+G],b[p*2+F]),m.get(R+L*2+I+G)&&M.set(b[p*2+F],b[x-1-p*2-G]),m.get(R+L*4+I+G)&&M.set(b[x-1-p*2-G],b[x-1-p*2-F]),m.get(R+L*6+I+G)&&M.set(b[x-1-p*2-F],b[p*2+G]);R+=L*8}if(a.drawModeMessage(M,u,E,_),u)a.drawBullsEye(M,Xt.truncDivision(E,2),5);else{a.drawBullsEye(M,Xt.truncDivision(E,2),7);for(var p=0,F=0;p<Xt.truncDivision(x,2)-1;p+=15,F+=16)for(var G=Xt.truncDivision(E,2)&1;G<E;G+=2)M.set(Xt.truncDivision(E,2)-F,G),M.set(Xt.truncDivision(E,2)+F,G),M.set(G,Xt.truncDivision(E,2)-F),M.set(G,Xt.truncDivision(E,2)+F)}var P=new h2;return P.setCompact(u),P.setSize(E),P.setLayers(c),P.setCodeWords(v),P.setMatrix(M),P},a.drawBullsEye=function(r,n,t){for(var l=0;l<t;l+=2)for(var s=n-l;s<=n+l;s++)r.set(s,n-l),r.set(s,n+l),r.set(n-l,s),r.set(n+l,s);r.set(n-t,n-t),r.set(n-t+1,n-t),r.set(n-t,n-t+1),r.set(n+t,n-t),r.set(n+t,n-t+1),r.set(n+t,n+t-1)},a.generateModeMessage=function(r,n,t){var l=new bn;return r?(l.appendBits(n-1,2),l.appendBits(t-1,6),l=a.generateCheckWords(l,28,4)):(l.appendBits(n-1,5),l.appendBits(t-1,11),l=a.generateCheckWords(l,40,4)),l},a.drawModeMessage=function(r,n,t,l){var s=Xt.truncDivision(t,2);if(n)for(var o=0;o<7;o++){var u=s-3+o;l.get(o)&&r.set(u,s-5),l.get(o+7)&&r.set(s+5,u),l.get(20-o)&&r.set(u,s+5),l.get(27-o)&&r.set(s-5,u)}else for(var o=0;o<10;o++){var u=s-5+o+Xt.truncDivision(o,5);l.get(o)&&r.set(u,s-7),l.get(o+10)&&r.set(s+7,u),l.get(29-o)&&r.set(u,s+7),l.get(39-o)&&r.set(s-7,u)}},a.generateCheckWords=function(r,n,t){var l,s,o=r.getSize()/t,u=new s1(a.getGF(t)),c=Xt.truncDivision(n,t),d=a.bitsToWords(r,t,c);u.encode(d,c-o);var g=n%t,y=new bn;y.appendBits(0,g);try{for(var h=C2(Array.from(d)),p=h.next();!p.done;p=h.next()){var m=p.value;y.appendBits(m,t)}}catch(v){l={error:v}}finally{try{p&&!p.done&&(s=h.return)&&s.call(h)}finally{if(l)throw l.error}}return y},a.bitsToWords=function(r,n,t){var l=new Int32Array(t),s,o;for(s=0,o=r.getSize()/n;s<o;s++){for(var u=0,c=0;c<n;c++)u|=r.get(s*n+c)?1<<n-c-1:0;l[s]=u}return l},a.getGF=function(r){switch(r){case 4:return qn.AZTEC_PARAM;case 6:return qn.AZTEC_DATA_6;case 8:return qn.AZTEC_DATA_8;case 10:return qn.AZTEC_DATA_10;case 12:return qn.AZTEC_DATA_12;default:throw new Nt("Unsupported word size "+r)}},a.stuffBits=function(r,n){for(var t=new bn,l=r.getSize(),s=(1<<n)-2,o=0;o<l;o+=n){for(var u=0,c=0;c<n;c++)(o+c>=l||r.get(o+c))&&(u|=1<<n-1-c);(u&s)===s?(t.appendBits(u&s,n),o--):u&s?t.appendBits(u,n):(t.appendBits(u|1,n),o--)}return t},a.totalBitsInLayer=function(r,n){return((n?88:112)+16*r)*r},a.DEFAULT_EC_PERCENT=33,a.DEFAULT_AZTEC_LAYERS=0,a.MAX_NB_BITS=32,a.MAX_NB_BITS_COMPACT=4,a.WORD_SIZE=Int32Array.from([4,6,6,8,8,8,8,8,8,10,10,10,10,10,10,10,10,10,10,10,10,10,10,12,12,12,12,12,12,12,12,12,12]),a})();function T2(){const[a,r]=Qo.useState(""),[n,t]=Qo.useState(1),l=Qo.useRef(null),s=Qo.useRef(new Ov);Qo.useEffect(()=>{let c=new zy(d=>{let g;d.setup=()=>{d.createCanvas(640,480).parent(l.current),g=d.createCapture(d.VIDEO),g.hide(),s.current.decodeFromVideoDevice(null,"video",(h,p)=>{if(h){const m=h.getText();console.log("QR Code detected:",m),r(m)}p&&p.name!=="NotFoundException"&&console.error("QR Code scanning error:",p)})},d.draw=()=>{d.push(),d.scale(n),d.image(g,0,0,d.width/n,d.height/n),d.pop(),d.push(),d.noFill(),d.stroke(255),d.strokeWeight(2),d.rect(d.width/2-100,d.height/2-100,200,200),d.pop()}});return()=>{s.current.reset(),c.remove()}},[n]);const o=()=>{t(c=>Math.min(c+.2,3))},u=()=>{t(c=>Math.max(c-.2,1))};return ra.jsxs("div",{className:"App",children:[ra.jsx("h1",{children:"QR Code Scanner"}),ra.jsxs("div",{className:"controls",children:[ra.jsx("button",{onClick:u,children:"Zoom Out (-)"}),ra.jsxs("span",{className:"zoom-level",children:["Zoom: ",n.toFixed(1),"x"]}),ra.jsx("button",{onClick:o,children:"Zoom In (+)"})]}),ra.jsx("div",{ref:l,id:"video-container",children:ra.jsx("video",{id:"video"})}),ra.jsx("div",{id:"result",children:a?ra.jsxs("p",{children:["Scanned QR Code: ",a]}):ra.jsx("p",{children:" QR Code..."})})]})}Fy.createRoot(document.getElementById("root")).render(ra.jsx(Dy.StrictMode,{children:ra.jsx(T2,{})}));
